{"config":{"lang":["zh","en"],"separator":"[\\s\\u200b\\-,:!=\\[\\]()\"`/]+|\\.(?!\\d)|&[lg]t;|(?!\\b)(?=[A-Z][a-z])","pipeline":["stemmer"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"Text Only<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"java/","title":"Java \u5b78\u7fd2\u8def\u5f91","text":"<p>\u6b61\u8fce\u4f86\u5230 Java \u7a0b\u5f0f\u8a9e\u8a00\u7684\u5b78\u7fd2\u4e4b\u65c5\uff01\u672c\u5b78\u7fd2\u8def\u5f91\u5c07\u5e36\u60a8\u5f9e\u57fa\u790e\u6982\u5ff5\u5230\u9032\u968e\u61c9\u7528\uff0c\u5faa\u5e8f\u6f38\u9032\u5730\u638c\u63e1 Java \u958b\u767c\u6280\u80fd\u3002</p>"},{"location":"java/#_1","title":"\ud83c\udfaf \u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u9019\u500b\u5b78\u7fd2\u8def\u5f91\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a</p> <ul> <li>\u638c\u63e1 Java \u8a9e\u8a00\u7684\u6838\u5fc3\u6982\u5ff5\u548c\u8a9e\u6cd5</li> <li>\u904b\u7528\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a2d\u8a08\u539f\u5247</li> <li>\u8655\u7406\u8cc7\u6599\u7d50\u69cb\u8207\u6f14\u7b97\u6cd5\u554f\u984c</li> <li>\u958b\u767c\u5be6\u969b\u61c9\u7528\u7a0b\u5f0f</li> <li>\u7406\u89e3 Java \u751f\u614b\u7cfb\u7d71\u548c\u6700\u4f73\u5be6\u8e10</li> </ul>"},{"location":"java/#_2","title":"\ud83d\udcda \u8ab2\u7a0b\u7d50\u69cb","text":""},{"location":"java/#_3","title":"\ud83d\ude80 \u57fa\u790e\u7bc7","text":"<p>\u5efa\u7acb Java \u7a0b\u5f0f\u8a2d\u8a08\u7684\u57fa\u790e\u77e5\u8b58\uff0c\u5b78\u7fd2\u8a9e\u8a00\u6838\u5fc3\u7279\u6027\u3002</p> <p>01. Java \u6280\u8853\u6982\u8ad6 - Java \u6b77\u53f2\u8207\u7279\u8272 - JDK\u3001JRE\u3001JVM \u5dee\u7570 - \u958b\u767c\u74b0\u5883\u8a2d\u5b9a - \u7b2c\u4e00\u500b Java \u7a0b\u5f0f</p> <p>02. \u57fa\u672c\u8cc7\u6599\u578b\u614b\u8207\u6d41\u7a0b\u63a7\u5236 - 8 \u7a2e\u57fa\u672c\u8cc7\u6599\u578b\u614b - \u904b\u7b97\u5b50\u8207\u8868\u9054\u5f0f - if-else\u3001switch\u3001\u8ff4\u5708</p> <p>03. \u6587\u5b57\u3001\u65e5\u671f\u8207\u6578\u5b57\u7269\u4ef6 - String \u985e\u5225\u64cd\u4f5c - \u65b0\u65e5\u671f\u6642\u9593 API - \u6578\u5b57\u5305\u88dd\u985e\u5225\u8207 BigDecimal</p> <p>08. \u9663\u5217\u8207\u8ff4\u5708 - \u4e00\u7dad\u8207\u591a\u7dad\u9663\u5217 - for-each \u8ff4\u5708 - \u5e38\u898b\u9663\u5217\u64cd\u4f5c</p>"},{"location":"java/#_4","title":"\ud83c\udfd7\ufe0f \u7269\u4ef6\u5c0e\u5411\u7bc7","text":"<p>\u6df1\u5165\u5b78\u7fd2\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a2d\u8a08\u6982\u5ff5\uff0c\u638c\u63e1 Java \u7684\u6838\u5fc3\u7279\u6027\u3002</p> <p>04. \u985e\u5225\u8207\u7269\u4ef6 - \u7269\u4ef6\u5c0e\u5411\u56db\u5927\u7279\u6027 - \u985e\u5225\u5b9a\u7fa9\u8207\u7269\u4ef6\u5efa\u7acb - \u5efa\u69cb\u5b50\u3001this\u3001\u5b58\u53d6\u4fee\u98fe\u5b50</p> <p>05. \u8a2d\u8a08\u985e\u5225\u8207\u5217\u8209 - \u985e\u5225\u8a2d\u8a08\u539f\u5247 - \u65b9\u6cd5\u591a\u8f09 - \u5217\u8209(enum)\u9032\u968e\u61c9\u7528</p> <p>06. \u7e7c\u627f\u8207\u8a18\u9304 - \u7e7c\u627f\u8207\u65b9\u6cd5\u8986\u5beb - super \u95dc\u9375\u5b57 - final \u95dc\u9375\u5b57 - Records (Java 14+)</p> <p>07. \u4ecb\u9762\u8207\u6cdb\u578b - \u4ecb\u9762\u5b9a\u7fa9\u8207\u5be6\u4f5c - \u9810\u8a2d\u65b9\u6cd5\u8207\u975c\u614b\u65b9\u6cd5 - \u6cdb\u578b\u57fa\u790e\u8207\u9032\u968e</p>"},{"location":"java/#_5","title":"\u26a1 \u9032\u968e\u4e3b\u984c\u7bc7","text":"<p>\u63a2\u7d22 Java \u7684\u9ad8\u7d1a\u7279\u6027\uff0c\u63d0\u5347\u7a0b\u5f0f\u8a2d\u8a08\u6280\u5de7\u3002</p> <p>09. \u96c6\u5408\u6846\u67b6 - List\u3001Set\u3001Map \u4ecb\u9762 - ArrayList\u3001HashMap \u7b49\u5be6\u4f5c - \u96c6\u5408\u9078\u64c7\u8207\u6548\u80fd\u8003\u91cf</p> <p>10. \u5de2\u72c0\u985e\u5225\u8207 Lambda - \u5167\u90e8\u985e\u5225\u8207\u533f\u540d\u985e\u5225 - Lambda \u8868\u9054\u5f0f - \u51fd\u6578\u5f0f\u4ecb\u9762</p> <p>11. Stream API - Stream \u6982\u5ff5\u8207\u7279\u6027 - \u4e2d\u9593\u64cd\u4f5c\u8207\u7d42\u7aef\u64cd\u4f5c - Collectors \u8207 Optional</p> <p>12. \u4f8b\u5916\u63a7\u5236\u8207\u9664\u932f - \u4f8b\u5916\u8655\u7406\u6a5f\u5236 - \u81ea\u5b9a\u7fa9\u4f8b\u5916 - \u9664\u932f\u6280\u5de7</p> <p>13. \u6a19\u8a18\u8a3b\u89e3 - Annotation \u6982\u5ff5 - \u5167\u5efa\u8a3b\u89e3\u8207\u81ea\u5b9a\u7fa9\u8a3b\u89e3 - \u8a3b\u89e3\u8655\u7406</p> <p>15. \u5b89\u5168\u6027 - Java \u5b89\u5168\u6027\u6982\u8ff0 - \u52a0\u5bc6\u89e3\u5bc6 - \u5b89\u5168\u6f0f\u6d1e\u9632\u7bc4</p> <p>16. \u9032\u968e\u6cdb\u578b - \u842c\u7528\u5b57\u5143\u8207\u908a\u754c - \u578b\u5225\u64e6\u9664 - \u6cdb\u578b\u6700\u4f73\u5be6\u8e10</p>"},{"location":"java/#_6","title":"\ud83d\uddc4\ufe0f \u8cc7\u6599\u5eab\u7bc7","text":"<p>\u5b78\u7fd2 Java \u8cc7\u6599\u5eab\u7a0b\u5f0f\u8a2d\u8a08\u3002</p> <p>14. \u8cc7\u6599\u5eab\u61c9\u7528\u958b\u767c - JDBC \u67b6\u69cb - \u8cc7\u6599\u5eab\u9023\u7dda\u8207\u64cd\u4f5c - JPA \u7c21\u4ecb</p>"},{"location":"java/#_7","title":"\ud83c\udfa8 \u8a2d\u8a08\u6a21\u5f0f\u7bc7","text":"<p>\u638c\u63e1\u5e38\u7528\u8a2d\u8a08\u6a21\u5f0f\u8207\u9032\u968e I/O \u64cd\u4f5c\u3002</p> <p>17. \u8a2d\u8a08\u6a21\u5f0f\u8207\u9032\u968e IO - \u5e38\u7528\u8a2d\u8a08\u6a21\u5f0f - \u6b63\u898f\u8868\u9054\u5f0f - NIO.2 \u8207 WatchService</p>"},{"location":"java/#_8","title":"\ud83d\udee4\ufe0f \u5efa\u8b70\u5b78\u7fd2\u9806\u5e8f","text":""},{"location":"java/#4-6","title":"\u521d\u5b78\u8005\u8def\u5f91 (4-6 \u9031)","text":"<ol> <li>\u7b2c 1 \u9031: 01-03 \u7ae0 (Java \u57fa\u790e\u3001\u8cc7\u6599\u578b\u614b\u3001\u5b57\u4e32\u8655\u7406)</li> <li>\u7b2c 2 \u9031: 04-05 \u7ae0 (\u985e\u5225\u7269\u4ef6\u3001\u8a2d\u8a08\u539f\u5247)</li> <li>\u7b2c 3 \u9031: 06-07 \u7ae0 (\u7e7c\u627f\u3001\u4ecb\u9762\u3001\u6cdb\u578b)</li> <li>\u7b2c 4 \u9031: 08-09 \u7ae0 (\u9663\u5217\u3001\u96c6\u5408\u6846\u67b6)</li> </ol>"},{"location":"java/#6-8","title":"\u9032\u968e\u5b78\u7fd2\u8def\u5f91 (6-8 \u9031)","text":"<ol> <li>\u7b2c 5 \u9031: 10-11 \u7ae0 (Lambda\u3001Stream API)</li> <li>\u7b2c 6 \u9031: 12-13 \u7ae0 (\u4f8b\u5916\u8655\u7406\u3001\u8a3b\u89e3)</li> <li>\u7b2c 7 \u9031: 14-15 \u7ae0 (\u8cc7\u6599\u5eab\u3001\u5b89\u5168\u6027)</li> <li>\u7b2c 8 \u9031: 16-17 \u7ae0 (\u9032\u968e\u6cdb\u578b\u3001\u8a2d\u8a08\u6a21\u5f0f)</li> </ol>"},{"location":"java/#_9","title":"\ud83d\udcdd \u5b78\u7fd2\u5efa\u8b70","text":""},{"location":"java/#_10","title":"\ud83d\udca1 \u5b78\u7fd2\u6280\u5de7","text":"<ul> <li>\u52d5\u624b\u5be6\u4f5c: \u6bcf\u500b\u6982\u5ff5\u90fd\u8981\u89aa\u81ea\u5beb\u7a0b\u5f0f\u9a57\u8b49</li> <li>\u5faa\u5e8f\u6f38\u9032: \u78ba\u4fdd\u7406\u89e3\u524d\u4e00\u7ae0\u518d\u9032\u5165\u4e0b\u4e00\u7ae0</li> <li>\u5be6\u969b\u5c08\u6848: \u7d50\u5408\u5b78\u7fd2\u5167\u5bb9\u5efa\u7acb\u5c0f\u5c08\u6848</li> <li>\u8907\u7fd2\u978f\u56fa: \u5b9a\u671f\u56de\u9867\u5df2\u5b78\u7fd2\u7684\u5167\u5bb9</li> </ul>"},{"location":"java/#_11","title":"\ud83d\udd27 \u958b\u767c\u74b0\u5883","text":"<p>\u5efa\u8b70\u4f7f\u7528\u4ee5\u4e0b\u958b\u767c\u74b0\u5883\uff1a - JDK: Oracle JDK 17+ \u6216 OpenJDK 17+ - IDE: IntelliJ IDEA\u3001Eclipse \u6216 VS Code - \u5efa\u69cb\u5de5\u5177: Maven \u6216 Gradle - \u7248\u672c\u63a7\u5236: Git</p>"},{"location":"java/#_12","title":"\ud83d\udcd6 \u88dc\u5145\u8cc7\u6e90","text":"<ul> <li>Oracle \u5b98\u65b9 Java \u6559\u5b78\u6587\u4ef6</li> <li>Java API \u6587\u4ef6</li> <li>Stack Overflow \u7a0b\u5f0f\u554f\u7b54</li> <li>GitHub \u958b\u6e90\u5c08\u6848</li> </ul>"},{"location":"java/#_13","title":"\ud83d\udea8 \u5e38\u898b\u9677\u9631\u63d0\u9192","text":"<ol> <li>\u7a7a\u6307\u6a19\u4f8b\u5916: \u8a18\u5f97\u6aa2\u67e5 null \u503c</li> <li>\u8a18\u61b6\u9ad4\u6d29\u6f0f: \u6ce8\u610f\u7269\u4ef6\u751f\u547d\u9031\u671f</li> <li>\u57f7\u884c\u7dd2\u5b89\u5168: \u591a\u57f7\u884c\u7dd2\u74b0\u5883\u7684\u6ce8\u610f\u4e8b\u9805</li> <li>\u6548\u80fd\u8003\u91cf: \u9078\u64c7\u9069\u5408\u7684\u8cc7\u6599\u7d50\u69cb\u548c\u6f14\u7b97\u6cd5</li> </ol>"},{"location":"java/#_14","title":"\ud83c\udf96\ufe0f \u5b78\u7fd2\u91cc\u7a0b\u7891","text":"<p>\u5b8c\u6210\u6bcf\u500b\u968e\u6bb5\u5f8c\uff0c\u60a8\u53ef\u4ee5\u5617\u8a66\u4ee5\u4e0b\u6311\u6230\uff1a</p>"},{"location":"java/#_15","title":"\u57fa\u790e\u968e\u6bb5\u5b8c\u6210","text":"<ul> <li> \u5efa\u7acb\u4e00\u500b\u7c21\u55ae\u7684\u5b78\u751f\u7ba1\u7406\u7cfb\u7d71</li> <li> \u5be6\u4f5c\u57fa\u672c\u7684\u8a08\u7b97\u6a5f\u7a0b\u5f0f</li> <li> \u8a2d\u8a08\u7269\u4ef6\u5c0e\u5411\u7684\u5716\u5f62\u7cfb\u7d71</li> </ul>"},{"location":"java/#_16","title":"\u9032\u968e\u968e\u6bb5\u5b8c\u6210","text":"<ul> <li> \u958b\u767c\u4e00\u500b\u5b8c\u6574\u7684 Web \u61c9\u7528\u7a0b\u5f0f</li> <li> \u5be6\u4f5c\u8a2d\u8a08\u6a21\u5f0f\u89e3\u6c7a\u5be6\u969b\u554f\u984c</li> <li> \u5efa\u7acb\u9ad8\u6548\u80fd\u7684\u8cc7\u6599\u8655\u7406\u7a0b\u5f0f</li> </ul> <p>\ud83c\udf89 \u958b\u59cb\u60a8\u7684 Java \u5b78\u7fd2\u4e4b\u65c5\u5427\uff01\u9078\u64c7\u9069\u5408\u60a8\u7576\u524d\u7a0b\u5ea6\u7684\u7ae0\u7bc0\u958b\u59cb\u5b78\u7fd2\u3002</p>"},{"location":"java/advanced/09-collections/","title":"\u96c6\u5408(Collections)","text":""},{"location":"java/advanced/09-collections/#collection","title":"Collection \u6846\u67b6\u4ecb\u7d39","text":"<p>Java Collection Framework \u662f\u4e00\u5957\u8a2d\u8a08\u826f\u597d\u7684\u67b6\u69cb\uff0c\u7528\u65bc\u5132\u5b58\u548c\u64cd\u4f5c\u7269\u4ef6\u96c6\u5408\u3002\u5b83\u63d0\u4f9b\u4e86\u7d71\u4e00\u7684\u4ecb\u9762\u548c\u591a\u7a2e\u5be6\u4f5c\uff0c\u8b93\u958b\u767c\u8005\u80fd\u5920\u6709\u6548\u7387\u5730\u8655\u7406\u4e0d\u540c\u985e\u578b\u7684\u8cc7\u6599\u7d50\u69cb\u3002</p>"},{"location":"java/advanced/09-collections/#collection_1","title":"Collection \u6846\u67b6\u67b6\u69cb","text":"Text Only<pre><code>Collection (\u4ecb\u9762)\n\u251c\u2500\u2500 List (\u4ecb\u9762) - \u6709\u5e8f\u96c6\u5408\uff0c\u5141\u8a31\u91cd\u8907\n\u2502   \u251c\u2500\u2500 ArrayList - \u52d5\u614b\u9663\u5217\u5be6\u4f5c\n\u2502   \u251c\u2500\u2500 LinkedList - \u96d9\u5411\u93c8\u7d50\u4e32\u5217\u5be6\u4f5c\n\u2502   \u251c\u2500\u2500 Vector - \u540c\u6b65\u5316\u7684\u52d5\u614b\u9663\u5217\n\u2502   \u2514\u2500\u2500 Stack - \u5806\u758a\u5be6\u4f5c\n\u251c\u2500\u2500 Set (\u4ecb\u9762) - \u7121\u5e8f\u96c6\u5408\uff0c\u4e0d\u5141\u8a31\u91cd\u8907\n\u2502   \u251c\u2500\u2500 HashSet - \u96dc\u6e4a\u8868\u5be6\u4f5c\n\u2502   \u251c\u2500\u2500 LinkedHashSet - \u4fdd\u6301\u63d2\u5165\u9806\u5e8f\u7684 HashSet\n\u2502   \u2514\u2500\u2500 TreeSet - \u6392\u5e8f\u6a39\u5be6\u4f5c\n\u2514\u2500\u2500 Queue (\u4ecb\u9762) - \u4f47\u5217\u4ecb\u9762\n    \u251c\u2500\u2500 PriorityQueue - \u512a\u5148\u4f47\u5217\n    \u251c\u2500\u2500 ArrayDeque - \u96d9\u7aef\u4f47\u5217\n    \u2514\u2500\u2500 LinkedList - \u4e5f\u5be6\u4f5c\u4e86 Queue \u4ecb\u9762\n\nMap (\u4ecb\u9762) - \u9375\u503c\u5c0d\u96c6\u5408\n\u251c\u2500\u2500 HashMap - \u96dc\u6e4a\u8868\u5be6\u4f5c\n\u251c\u2500\u2500 LinkedHashMap - \u4fdd\u6301\u63d2\u5165\u9806\u5e8f\u7684 HashMap\n\u251c\u2500\u2500 TreeMap - \u6392\u5e8f\u6a39\u5be6\u4f5c\n\u2514\u2500\u2500 Hashtable - \u540c\u6b65\u5316\u7684\u96dc\u6e4a\u8868\n</code></pre>"},{"location":"java/advanced/09-collections/#collection_2","title":"Collection \u57fa\u672c\u4ecb\u9762","text":"Java<pre><code>import java.util.*;\n\npublic class CollectionBasics {\n    public static void main(String[] args) {\n        System.out.println(\"=== Collection \u57fa\u672c\u64cd\u4f5c ===\");\n\n        // Collection \u662f\u6240\u6709\u96c6\u5408\u7684\u6839\u4ecb\u9762\n        Collection&lt;String&gt; collection = new ArrayList&lt;&gt;();\n\n        // \u57fa\u672c\u64cd\u4f5c\n        collection.add(\"Apple\");\n        collection.add(\"Banana\");\n        collection.add(\"Cherry\");\n\n        System.out.println(\"\u96c6\u5408\u5927\u5c0f: \" + collection.size());\n        System.out.println(\"\u662f\u5426\u70ba\u7a7a: \" + collection.isEmpty());\n        System.out.println(\"\u5305\u542b Apple: \" + collection.contains(\"Apple\"));\n\n        // \u904d\u6b77\u96c6\u5408\u7684\u65b9\u6cd5\n        System.out.println(\"\\n=== \u904d\u6b77\u65b9\u6cd5 ===\");\n\n        // 1. for-each \u8ff4\u5708\n        System.out.println(\"for-each \u904d\u6b77:\");\n        for (String item : collection) {\n            System.out.println(\"- \" + item);\n        }\n\n        // 2. Iterator\n        System.out.println(\"\\nIterator \u904d\u6b77:\");\n        Iterator&lt;String&gt; iterator = collection.iterator();\n        while (iterator.hasNext()) {\n            System.out.println(\"- \" + iterator.next());\n        }\n\n        // 3. Stream (Java 8+)\n        System.out.println(\"\\nStream \u904d\u6b77:\");\n        collection.stream()\n                 .forEach(item -&gt; System.out.println(\"- \" + item));\n\n        // \u6279\u91cf\u64cd\u4f5c\n        Collection&lt;String&gt; moreItems = Arrays.asList(\"Date\", \"Elderberry\");\n        collection.addAll(moreItems);\n        System.out.println(\"\\n\u6dfb\u52a0\u66f4\u591a\u9805\u76ee: \" + collection);\n\n        collection.removeAll(Arrays.asList(\"Apple\", \"Date\"));\n        System.out.println(\"\u79fb\u9664\u90e8\u5206\u9805\u76ee: \" + collection);\n\n        // \u8f49\u63db\u70ba\u9663\u5217\n        String[] array = collection.toArray(new String[0]);\n        System.out.println(\"\u8f49\u70ba\u9663\u5217: \" + Arrays.toString(array));\n\n        // \u6e05\u7a7a\u96c6\u5408\n        collection.clear();\n        System.out.println(\"\u6e05\u7a7a\u5f8c\u5927\u5c0f: \" + collection.size());\n    }\n}\n</code></pre>"},{"location":"java/advanced/09-collections/#list","title":"List \u4ecb\u9762\u8207\u5be6\u4f5c","text":"<p>List \u662f\u6709\u5e8f\u96c6\u5408\uff0c\u5141\u8a31\u91cd\u8907\u5143\u7d20\uff0c\u4e26\u63d0\u4f9b\u57fa\u65bc\u7d22\u5f15\u7684\u5b58\u53d6\u3002</p>"},{"location":"java/advanced/09-collections/#arraylist","title":"ArrayList \u5be6\u4f5c","text":"Java<pre><code>import java.util.*;\n\npublic class ArrayListExample {\n    public static void main(String[] args) {\n        System.out.println(\"=== ArrayList \u57fa\u672c\u4f7f\u7528 ===\");\n\n        // \u5efa\u7acb ArrayList\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;();\n\n        // \u6dfb\u52a0\u5143\u7d20\n        numbers.add(10);\n        numbers.add(20);\n        numbers.add(30);\n        numbers.add(1, 15); // \u5728\u7d22\u5f15 1 \u63d2\u5165 15\n\n        System.out.println(\"\u521d\u59cb\u5217\u8868: \" + numbers);\n\n        // \u5b58\u53d6\u5143\u7d20\n        System.out.println(\"\u7b2c\u4e00\u500b\u5143\u7d20: \" + numbers.get(0));\n        System.out.println(\"\u6700\u5f8c\u4e00\u500b\u5143\u7d20: \" + numbers.get(numbers.size() - 1));\n\n        // \u4fee\u6539\u5143\u7d20\n        numbers.set(2, 25);\n        System.out.println(\"\u4fee\u6539\u7d22\u5f15 2: \" + numbers);\n\n        // \u641c\u5c0b\u5143\u7d20\n        int index = numbers.indexOf(20);\n        System.out.println(\"20 \u7684\u7d22\u5f15: \" + index);\n\n        // \u79fb\u9664\u5143\u7d20\n        numbers.remove(Integer.valueOf(15)); // \u79fb\u9664\u503c\u70ba 15 \u7684\u5143\u7d20\n        numbers.remove(0); // \u79fb\u9664\u7d22\u5f15 0 \u7684\u5143\u7d20\n        System.out.println(\"\u79fb\u9664\u5f8c: \" + numbers);\n\n        // \u5b50\u5217\u8868\u64cd\u4f5c\n        List&lt;Integer&gt; subList = numbers.subList(0, 2);\n        System.out.println(\"\u5b50\u5217\u8868: \" + subList);\n\n        // \u6392\u5e8f\n        numbers.addAll(Arrays.asList(5, 35, 25));\n        System.out.println(\"\u6dfb\u52a0\u5143\u7d20\u5f8c: \" + numbers);\n        Collections.sort(numbers);\n        System.out.println(\"\u6392\u5e8f\u5f8c: \" + numbers);\n\n        // \u53cd\u8f49\n        Collections.reverse(numbers);\n        System.out.println(\"\u53cd\u8f49\u5f8c: \" + numbers);\n\n        // \u4f7f\u7528 Comparator \u6392\u5e8f\n        numbers.sort(Comparator.reverseOrder());\n        System.out.println(\"\u964d\u5e8f\u6392\u5e8f: \" + numbers);\n\n        // \u6548\u80fd\u6e2c\u8a66\n        performanceTest();\n    }\n\n    // ArrayList \u6548\u80fd\u6e2c\u8a66\n    public static void performanceTest() {\n        System.out.println(\"\\n=== ArrayList \u6548\u80fd\u6e2c\u8a66 ===\");\n\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n        // \u6dfb\u52a0\u6548\u80fd\u6e2c\u8a66\n        long startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 100000; i++) {\n            list.add(i);\n        }\n        long endTime = System.currentTimeMillis();\n        System.out.println(\"\u6dfb\u52a0 100,000 \u500b\u5143\u7d20\u6642\u9593: \" + (endTime - startTime) + \" ms\");\n\n        // \u96a8\u6a5f\u5b58\u53d6\u6548\u80fd\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10000; i++) {\n            int randomIndex = (int) (Math.random() * list.size());\n            list.get(randomIndex);\n        }\n        endTime = System.currentTimeMillis();\n        System.out.println(\"\u96a8\u6a5f\u5b58\u53d6 10,000 \u6b21\u6642\u9593: \" + (endTime - startTime) + \" ms\");\n    }\n}\n</code></pre>"},{"location":"java/advanced/09-collections/#linkedlist","title":"LinkedList \u5be6\u4f5c","text":"Java<pre><code>import java.util.*;\n\npublic class LinkedListExample {\n    public static void main(String[] args) {\n        System.out.println(\"=== LinkedList \u57fa\u672c\u4f7f\u7528 ===\");\n\n        // LinkedList \u5be6\u4f5c\u4e86 List \u548c Deque \u4ecb\u9762\n        LinkedList&lt;String&gt; linkedList = new LinkedList&lt;&gt;();\n\n        // \u57fa\u672c\u5217\u8868\u64cd\u4f5c\n        linkedList.add(\"First\");\n        linkedList.add(\"Second\");\n        linkedList.add(\"Third\");\n        System.out.println(\"\u521d\u59cb\u5217\u8868: \" + linkedList);\n\n        // LinkedList \u7279\u6709\u7684\u982d\u5c3e\u64cd\u4f5c\n        linkedList.addFirst(\"New First\");\n        linkedList.addLast(\"New Last\");\n        System.out.println(\"\u982d\u5c3e\u6dfb\u52a0\u5f8c: \" + linkedList);\n\n        // \u7372\u53d6\u982d\u5c3e\u5143\u7d20\n        System.out.println(\"\u7b2c\u4e00\u500b\u5143\u7d20: \" + linkedList.getFirst());\n        System.out.println(\"\u6700\u5f8c\u4e00\u500b\u5143\u7d20: \" + linkedList.getLast());\n\n        // \u79fb\u9664\u982d\u5c3e\u5143\u7d20\n        String first = linkedList.removeFirst();\n        String last = linkedList.removeLast();\n        System.out.println(\"\u79fb\u9664\u7684\u7b2c\u4e00\u500b: \" + first);\n        System.out.println(\"\u79fb\u9664\u7684\u6700\u5f8c\u4e00\u500b: \" + last);\n        System.out.println(\"\u79fb\u9664\u5f8c: \" + linkedList);\n\n        // \u4f5c\u70ba\u4f47\u5217\u4f7f\u7528 (Queue \u4ecb\u9762)\n        System.out.println(\"\\n=== \u4f5c\u70ba\u4f47\u5217\u4f7f\u7528 ===\");\n        Queue&lt;Integer&gt; queue = new LinkedList&lt;&gt;();\n\n        // \u5165\u4f47\u5217\n        queue.offer(1);\n        queue.offer(2);\n        queue.offer(3);\n        System.out.println(\"\u4f47\u5217: \" + queue);\n\n        // \u51fa\u4f47\u5217\n        while (!queue.isEmpty()) {\n            System.out.println(\"\u51fa\u4f47\u5217: \" + queue.poll());\n        }\n\n        // \u4f5c\u70ba\u5806\u758a\u4f7f\u7528\n        System.out.println(\"\\n=== \u4f5c\u70ba\u5806\u758a\u4f7f\u7528 ===\");\n        Deque&lt;String&gt; stack = new LinkedList&lt;&gt;();\n\n        // \u5165\u5806\u758a\n        stack.push(\"A\");\n        stack.push(\"B\");\n        stack.push(\"C\");\n        System.out.println(\"\u5806\u758a: \" + stack);\n\n        // \u51fa\u5806\u758a\n        while (!stack.isEmpty()) {\n            System.out.println(\"\u51fa\u5806\u758a: \" + stack.pop());\n        }\n\n        // ArrayList vs LinkedList \u6548\u80fd\u6bd4\u8f03\n        performanceComparison();\n    }\n\n    public static void performanceComparison() {\n        System.out.println(\"\\n=== ArrayList vs LinkedList \u6548\u80fd\u6bd4\u8f03 ===\");\n\n        int size = 50000;\n\n        // ArrayList \u6e2c\u8a66\n        List&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n        long startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; size; i++) {\n            arrayList.add(0, i); // \u5728\u958b\u982d\u63d2\u5165\n        }\n        long arrayListTime = System.currentTimeMillis() - startTime;\n\n        // LinkedList \u6e2c\u8a66\n        List&lt;Integer&gt; linkedList = new LinkedList&lt;&gt;();\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; size; i++) {\n            linkedList.add(0, i); // \u5728\u958b\u982d\u63d2\u5165\n        }\n        long linkedListTime = System.currentTimeMillis() - startTime;\n\n        System.out.printf(\"\u5728\u958b\u982d\u63d2\u5165 %d \u500b\u5143\u7d20:%n\", size);\n        System.out.printf(\"ArrayList: %d ms%n\", arrayListTime);\n        System.out.printf(\"LinkedList: %d ms%n\", linkedListTime);\n\n        // \u96a8\u6a5f\u5b58\u53d6\u6e2c\u8a66\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10000; i++) {\n            int randomIndex = (int) (Math.random() * arrayList.size());\n            arrayList.get(randomIndex);\n        }\n        long arrayListRandomAccess = System.currentTimeMillis() - startTime;\n\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10000; i++) {\n            int randomIndex = (int) (Math.random() * linkedList.size());\n            linkedList.get(randomIndex);\n        }\n        long linkedListRandomAccess = System.currentTimeMillis() - startTime;\n\n        System.out.println(\"\\n\u96a8\u6a5f\u5b58\u53d6 10,000 \u6b21:\");\n        System.out.printf(\"ArrayList: %d ms%n\", arrayListRandomAccess);\n        System.out.printf(\"LinkedList: %d ms%n\", linkedListRandomAccess);\n    }\n}\n</code></pre>"},{"location":"java/advanced/09-collections/#list_1","title":"List \u5be6\u969b\u61c9\u7528\u7bc4\u4f8b","text":"Java<pre><code>import java.util.*;\nimport java.util.function.Predicate;\n\npublic class ListApplications {\n\n    // \u5b78\u751f\u985e\u5225\n    static class Student {\n        private String name;\n        private int age;\n        private double gpa;\n\n        public Student(String name, int age, double gpa) {\n            this.name = name;\n            this.age = age;\n            this.gpa = gpa;\n        }\n\n        // Getters\n        public String getName() { return name; }\n        public int getAge() { return age; }\n        public double getGpa() { return gpa; }\n\n        @Override\n        public String toString() {\n            return String.format(\"Student{name='%s', age=%d, gpa=%.2f}\", name, age, gpa);\n        }\n    }\n\n    // \u5b78\u751f\u7ba1\u7406\u7cfb\u7d71\n    public static void studentManagementSystem() {\n        System.out.println(\"=== \u5b78\u751f\u7ba1\u7406\u7cfb\u7d71 ===\");\n\n        List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n        students.add(new Student(\"\u5f35\u5c0f\u660e\", 20, 3.8));\n        students.add(new Student(\"\u674e\u5c0f\u83ef\", 19, 3.6));\n        students.add(new Student(\"\u738b\u5c0f\u7f8e\", 21, 3.9));\n        students.add(new Student(\"\u9673\u5c0f\u5f37\", 20, 3.4));\n        students.add(new Student(\"\u6797\u5c0f\u9e97\", 22, 3.7));\n\n        System.out.println(\"\u6240\u6709\u5b78\u751f:\");\n        printStudents(students);\n\n        // \u6309 GPA \u6392\u5e8f\n        students.sort((s1, s2) -&gt; Double.compare(s2.getGpa(), s1.getGpa()));\n        System.out.println(\"\\n\u6309 GPA \u964d\u5e8f\u6392\u5e8f:\");\n        printStudents(students);\n\n        // \u7be9\u9078 GPA &gt; 3.7 \u7684\u5b78\u751f\n        List&lt;Student&gt; topStudents = filterStudents(students, s -&gt; s.getGpa() &gt; 3.7);\n        System.out.println(\"\\nGPA &gt; 3.7 \u7684\u5b78\u751f:\");\n        printStudents(topStudents);\n\n        // \u8a08\u7b97\u5e73\u5747 GPA\n        double averageGpa = students.stream()\n                                   .mapToDouble(Student::getGpa)\n                                   .average()\n                                   .orElse(0.0);\n        System.out.printf(\"\\n\u5e73\u5747 GPA: %.2f%n\", averageGpa);\n    }\n\n    private static void printStudents(List&lt;Student&gt; students) {\n        for (int i = 0; i &lt; students.size(); i++) {\n            System.out.printf(\"%d. %s%n\", i + 1, students.get(i));\n        }\n    }\n\n    private static List&lt;Student&gt; filterStudents(List&lt;Student&gt; students, Predicate&lt;Student&gt; predicate) {\n        List&lt;Student&gt; filtered = new ArrayList&lt;&gt;();\n        for (Student student : students) {\n            if (predicate.test(student)) {\n                filtered.add(student);\n            }\n        }\n        return filtered;\n    }\n\n    // \u8cfc\u7269\u8eca\u7cfb\u7d71\n    public static void shoppingCartSystem() {\n        System.out.println(\"\\n=== \u8cfc\u7269\u8eca\u7cfb\u7d71 ===\");\n\n        // \u5546\u54c1\u985e\u5225\n        class Product {\n            private String name;\n            private double price;\n\n            public Product(String name, double price) {\n                this.name = name;\n                this.price = price;\n            }\n\n            public String getName() { return name; }\n            public double getPrice() { return price; }\n\n            @Override\n            public String toString() {\n                return String.format(\"%s ($%.2f)\", name, price);\n            }\n        }\n\n        // \u8cfc\u7269\u8eca\u9805\u76ee\n        class CartItem {\n            private Product product;\n            private int quantity;\n\n            public CartItem(Product product, int quantity) {\n                this.product = product;\n                this.quantity = quantity;\n            }\n\n            public Product getProduct() { return product; }\n            public int getQuantity() { return quantity; }\n            public void setQuantity(int quantity) { this.quantity = quantity; }\n\n            public double getTotalPrice() {\n                return product.getPrice() * quantity;\n            }\n\n            @Override\n            public String toString() {\n                return String.format(\"%s x %d = $%.2f\", \n                                   product.getName(), quantity, getTotalPrice());\n            }\n        }\n\n        // \u8cfc\u7269\u8eca\n        List&lt;CartItem&gt; cart = new ArrayList&lt;&gt;();\n\n        // \u6dfb\u52a0\u5546\u54c1\n        cart.add(new CartItem(new Product(\"\u7b46\u8a18\u672c\u96fb\u8166\", 25000), 1));\n        cart.add(new CartItem(new Product(\"\u6ed1\u9f20\", 500), 2));\n        cart.add(new CartItem(new Product(\"\u9375\u76e4\", 1200), 1));\n        cart.add(new CartItem(new Product(\"\u87a2\u5e55\", 8000), 1));\n\n        System.out.println(\"\u8cfc\u7269\u8eca\u5167\u5bb9:\");\n        cart.forEach(System.out::println);\n\n        // \u8a08\u7b97\u7e3d\u91d1\u984d\n        double totalAmount = cart.stream()\n                                .mapToDouble(CartItem::getTotalPrice)\n                                .sum();\n\n        System.out.printf(\"\u7e3d\u91d1\u984d: $%.2f%n\", totalAmount);\n\n        // \u79fb\u9664\u50f9\u683c\u6700\u4f4e\u7684\u5546\u54c1\n        CartItem cheapestItem = cart.stream()\n                                   .min(Comparator.comparing(item -&gt; item.getProduct().getPrice()))\n                                   .orElse(null);\n\n        if (cheapestItem != null) {\n            cart.remove(cheapestItem);\n            System.out.println(\"\u79fb\u9664\u6700\u4fbf\u5b9c\u5546\u54c1: \" + cheapestItem.getProduct().getName());\n            System.out.println(\"\u66f4\u65b0\u5f8c\u8cfc\u7269\u8eca:\");\n            cart.forEach(System.out::println);\n        }\n    }\n\n    public static void main(String[] args) {\n        studentManagementSystem();\n        shoppingCartSystem();\n\n        // List \u7684\u5176\u4ed6\u5be6\u7528\u6280\u5de7\n        System.out.println(\"\\n=== List \u5be6\u7528\u6280\u5de7 ===\");\n\n        // \u5efa\u7acb\u4e0d\u53ef\u8b8a\u5217\u8868\n        List&lt;String&gt; immutableList = Collections.unmodifiableList(\n            Arrays.asList(\"A\", \"B\", \"C\"));\n        System.out.println(\"\u4e0d\u53ef\u8b8a\u5217\u8868: \" + immutableList);\n\n        // \u5efa\u7acb\u91cd\u8907\u5143\u7d20\u7684\u5217\u8868\n        List&lt;String&gt; repeatedList = Collections.nCopies(5, \"Hello\");\n        System.out.println(\"\u91cd\u8907\u5217\u8868: \" + repeatedList);\n\n        // \u5217\u8868\u7684\u4e8c\u5143\u641c\u5c0b (\u9700\u8981\u6392\u5e8f)\n        List&lt;Integer&gt; sortedNumbers = Arrays.asList(1, 3, 5, 7, 9, 11, 13);\n        int index = Collections.binarySearch(sortedNumbers, 7);\n        System.out.println(\"7 \u7684\u7d22\u5f15\u4f4d\u7f6e: \" + index);\n\n        // \u96a8\u6a5f\u6253\u4e82\u5217\u8868\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(Arrays.asList(1, 2, 3, 4, 5));\n        Collections.shuffle(numbers);\n        System.out.println(\"\u6253\u4e82\u5f8c\u7684\u5217\u8868: \" + numbers);\n    }\n}\n</code></pre> <p>List \u9078\u64c7\u5efa\u8b70</p> <ul> <li>ArrayList: \u9700\u8981\u983b\u7e41\u96a8\u6a5f\u5b58\u53d6\u3001\u8f03\u5c11\u63d2\u5165\u522a\u9664\u64cd\u4f5c</li> <li>LinkedList: \u983b\u7e41\u5728\u982d\u5c3e\u63d2\u5165\u522a\u9664\u3001\u5be6\u4f5c\u4f47\u5217\u6216\u5806\u758a</li> <li>Vector: \u9700\u8981\u57f7\u884c\u7dd2\u5b89\u5168\uff08\u4f46\u5efa\u8b70\u4f7f\u7528 Collections.synchronizedList\uff09</li> </ul>"},{"location":"java/advanced/09-collections/#set","title":"Set \u4ecb\u9762\u8207\u5be6\u4f5c","text":"<p>Set \u662f\u4e0d\u5141\u8a31\u91cd\u8907\u5143\u7d20\u7684\u96c6\u5408\uff0c\u4e3b\u8981\u7528\u65bc\u78ba\u4fdd\u5143\u7d20\u7684\u552f\u4e00\u6027\u3002</p>"},{"location":"java/advanced/09-collections/#hashset","title":"HashSet \u5be6\u4f5c","text":"Java<pre><code>import java.util.*;\n\npublic class HashSetExample {\n    public static void main(String[] args) {\n        System.out.println(\"=== HashSet \u57fa\u672c\u4f7f\u7528 ===\");\n\n        Set&lt;String&gt; fruits = new HashSet&lt;&gt;();\n\n        // \u6dfb\u52a0\u5143\u7d20\n        fruits.add(\"Apple\");\n        fruits.add(\"Banana\");\n        fruits.add(\"Cherry\");\n        fruits.add(\"Apple\"); // \u91cd\u8907\u5143\u7d20\u4e0d\u6703\u88ab\u6dfb\u52a0\n\n        System.out.println(\"\u6c34\u679c\u96c6\u5408: \" + fruits);\n        System.out.println(\"\u96c6\u5408\u5927\u5c0f: \" + fruits.size());\n\n        // \u6aa2\u67e5\u5143\u7d20\u662f\u5426\u5b58\u5728\n        System.out.println(\"\u5305\u542b Apple: \" + fruits.contains(\"Apple\"));\n        System.out.println(\"\u5305\u542b Orange: \" + fruits.contains(\"Orange\"));\n\n        // \u904d\u6b77\u96c6\u5408\n        System.out.println(\"\\n\u904d\u6b77\u96c6\u5408:\");\n        for (String fruit : fruits) {\n            System.out.println(\"- \" + fruit);\n        }\n\n        // \u96c6\u5408\u904b\u7b97\n        Set&lt;String&gt; moreFruits = new HashSet&lt;&gt;(Arrays.asList(\"Cherry\", \"Date\", \"Elderberry\"));\n\n        // \u806f\u96c6 (Union)\n        Set&lt;String&gt; union = new HashSet&lt;&gt;(fruits);\n        union.addAll(moreFruits);\n        System.out.println(\"\u806f\u96c6: \" + union);\n\n        // \u4ea4\u96c6 (Intersection)\n        Set&lt;String&gt; intersection = new HashSet&lt;&gt;(fruits);\n        intersection.retainAll(moreFruits);\n        System.out.println(\"\u4ea4\u96c6: \" + intersection);\n\n        // \u5dee\u96c6 (Difference)\n        Set&lt;String&gt; difference = new HashSet&lt;&gt;(fruits);\n        difference.removeAll(moreFruits);\n        System.out.println(\"\u5dee\u96c6: \" + difference);\n\n        // \u79fb\u9664\u5143\u7d20\n        fruits.remove(\"Banana\");\n        System.out.println(\"\u79fb\u9664 Banana \u5f8c: \" + fruits);\n\n        // \u6548\u80fd\u6e2c\u8a66\n        performanceTest();\n    }\n\n    public static void performanceTest() {\n        System.out.println(\"\\n=== HashSet \u6548\u80fd\u6e2c\u8a66 ===\");\n\n        Set&lt;Integer&gt; hashSet = new HashSet&lt;&gt;();\n        List&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n\n        int size = 100000;\n\n        // \u6dfb\u52a0\u5143\u7d20\u6548\u80fd\n        long startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; size; i++) {\n            hashSet.add(i);\n        }\n        long hashSetAddTime = System.currentTimeMillis() - startTime;\n\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; size; i++) {\n            arrayList.add(i);\n        }\n        long arrayListAddTime = System.currentTimeMillis() - startTime;\n\n        System.out.printf(\"\u6dfb\u52a0 %d \u500b\u5143\u7d20:%n\", size);\n        System.out.printf(\"HashSet: %d ms%n\", hashSetAddTime);\n        System.out.printf(\"ArrayList: %d ms%n\", arrayListAddTime);\n\n        // \u641c\u5c0b\u6548\u80fd\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10000; i++) {\n            int randomValue = (int) (Math.random() * size);\n            hashSet.contains(randomValue);\n        }\n        long hashSetSearchTime = System.currentTimeMillis() - startTime;\n\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10000; i++) {\n            int randomValue = (int) (Math.random() * size);\n            arrayList.contains(randomValue);\n        }\n        long arrayListSearchTime = System.currentTimeMillis() - startTime;\n\n        System.out.println(\"\\n\u641c\u5c0b 10,000 \u6b21:\");\n        System.out.printf(\"HashSet: %d ms%n\", hashSetSearchTime);\n        System.out.printf(\"ArrayList: %d ms%n\", arrayListSearchTime);\n    }\n}\n</code></pre>"},{"location":"java/advanced/09-collections/#linkedhashset-treeset","title":"LinkedHashSet \u548c TreeSet","text":"Java<pre><code>import java.util.*;\n\npublic class SetVariations {\n    public static void main(String[] args) {\n        System.out.println(\"=== Set \u7684\u4e0d\u540c\u5be6\u4f5c\u6bd4\u8f03 ===\");\n\n        // HashSet - \u7121\u5e8f\u3001\u6700\u5feb\n        Set&lt;Integer&gt; hashSet = new HashSet&lt;&gt;();\n        // LinkedHashSet - \u7dad\u6301\u63d2\u5165\u9806\u5e8f\n        Set&lt;Integer&gt; linkedHashSet = new LinkedHashSet&lt;&gt;();\n        // TreeSet - \u81ea\u52d5\u6392\u5e8f\n        Set&lt;Integer&gt; treeSet = new TreeSet&lt;&gt;();\n\n        // \u6dfb\u52a0\u76f8\u540c\u7684\u5143\u7d20\n        int[] numbers = {5, 2, 8, 1, 9, 3};\n\n        for (int num : numbers) {\n            hashSet.add(num);\n            linkedHashSet.add(num);\n            treeSet.add(num);\n        }\n\n        System.out.println(\"\u539f\u59cb\u9806\u5e8f: \" + Arrays.toString(numbers));\n        System.out.println(\"HashSet (\u7121\u5e8f): \" + hashSet);\n        System.out.println(\"LinkedHashSet (\u63d2\u5165\u9806\u5e8f): \" + linkedHashSet);\n        System.out.println(\"TreeSet (\u81ea\u7136\u6392\u5e8f): \" + treeSet);\n\n        // TreeSet \u7684\u7279\u6b8a\u64cd\u4f5c\n        System.out.println(\"\\n=== TreeSet \u7279\u6b8a\u64cd\u4f5c ===\");\n\n        TreeSet&lt;String&gt; sortedWords = new TreeSet&lt;&gt;();\n        sortedWords.addAll(Arrays.asList(\"banana\", \"apple\", \"cherry\", \"date\"));\n\n        System.out.println(\"\u6392\u5e8f\u7684\u55ae\u8a5e: \" + sortedWords);\n        System.out.println(\"\u7b2c\u4e00\u500b: \" + sortedWords.first());\n        System.out.println(\"\u6700\u5f8c\u4e00\u500b: \" + sortedWords.last());\n        System.out.println(\"\u5c0f\u65bc 'cherry': \" + sortedWords.headSet(\"cherry\"));\n        System.out.println(\"\u5927\u65bc\u7b49\u65bc 'cherry': \" + sortedWords.tailSet(\"cherry\"));\n        System.out.println(\"'banana' \u5230 'date': \" + sortedWords.subSet(\"banana\", \"date\"));\n\n        // \u81ea\u5b9a\u7fa9\u6392\u5e8f\u7684 TreeSet\n        System.out.println(\"\\n=== \u81ea\u5b9a\u7fa9\u6392\u5e8f TreeSet ===\");\n\n        // \u6309\u9577\u5ea6\u6392\u5e8f\u7684\u5b57\u4e32\u96c6\u5408\n        TreeSet&lt;String&gt; lengthSorted = new TreeSet&lt;&gt;(Comparator.comparing(String::length)\n                                                               .thenComparing(String::compareTo));\n        lengthSorted.addAll(Arrays.asList(\"a\", \"bb\", \"ccc\", \"dd\", \"eeee\", \"f\"));\n        System.out.println(\"\u6309\u9577\u5ea6\u6392\u5e8f: \" + lengthSorted);\n\n        // \u81ea\u5b9a\u7fa9\u7269\u4ef6\u7684\u6392\u5e8f\n        customObjectSorting();\n    }\n\n    public static void customObjectSorting() {\n        System.out.println(\"\\n=== \u81ea\u5b9a\u7fa9\u7269\u4ef6\u6392\u5e8f ===\");\n\n        // \u5b78\u751f\u985e\u5225\u5be6\u4f5c Comparable\n        class Student implements Comparable&lt;Student&gt; {\n            private String name;\n            private double gpa;\n\n            public Student(String name, double gpa) {\n                this.name = name;\n                this.gpa = gpa;\n            }\n\n            public String getName() { return name; }\n            public double getGpa() { return gpa; }\n\n            @Override\n            public int compareTo(Student other) {\n                // \u6309 GPA \u964d\u5e8f\u6392\u5e8f\n                return Double.compare(other.gpa, this.gpa);\n            }\n\n            @Override\n            public String toString() {\n                return String.format(\"%s(%.2f)\", name, gpa);\n            }\n        }\n\n        TreeSet&lt;Student&gt; students = new TreeSet&lt;&gt;();\n        students.add(new Student(\"Alice\", 3.8));\n        students.add(new Student(\"Bob\", 3.6));\n        students.add(new Student(\"Charlie\", 3.9));\n        students.add(new Student(\"David\", 3.7));\n\n        System.out.println(\"\u6309 GPA \u6392\u5e8f\u7684\u5b78\u751f:\");\n        for (Student student : students) {\n            System.out.println(\"- \" + student);\n        }\n\n        // \u4f7f\u7528\u4e0d\u540c\u7684 Comparator\n        TreeSet&lt;Student&gt; nameSort = new TreeSet&lt;&gt;(Comparator.comparing(Student::getName));\n        nameSort.addAll(students);\n\n        System.out.println(\"\\n\u6309\u59d3\u540d\u6392\u5e8f\u7684\u5b78\u751f:\");\n        for (Student student : nameSort) {\n            System.out.println(\"- \" + student);\n        }\n    }\n}\n</code></pre>"},{"location":"java/advanced/09-collections/#set_1","title":"Set \u5be6\u969b\u61c9\u7528","text":"Java<pre><code>import java.util.*;\n\npublic class SetApplications {\n    public static void main(String[] args) {\n        // \u53bb\u91cd\u8907\u61c9\u7528\n        duplicateRemoval();\n\n        // \u6b0a\u9650\u7ba1\u7406\u7cfb\u7d71\n        permissionSystem();\n\n        // \u6a19\u7c64\u7cfb\u7d71\n        tagSystem();\n    }\n\n    // \u53bb\u9664\u91cd\u8907\u5143\u7d20\n    public static void duplicateRemoval() {\n        System.out.println(\"=== \u53bb\u9664\u91cd\u8907\u5143\u7d20 ===\");\n\n        List&lt;Integer&gt; numbersWithDuplicates = Arrays.asList(\n            1, 2, 3, 2, 4, 5, 3, 6, 1, 7, 8, 5);\n\n        System.out.println(\"\u539f\u59cb\u5217\u8868: \" + numbersWithDuplicates);\n\n        // \u4f7f\u7528 HashSet \u53bb\u91cd\u8907\uff08\u4e0d\u4fdd\u6301\u9806\u5e8f\uff09\n        Set&lt;Integer&gt; uniqueNumbers = new HashSet&lt;&gt;(numbersWithDuplicates);\n        System.out.println(\"\u53bb\u91cd\u8907\u5f8c (HashSet): \" + uniqueNumbers);\n\n        // \u4f7f\u7528 LinkedHashSet \u53bb\u91cd\u8907\uff08\u4fdd\u6301\u63d2\u5165\u9806\u5e8f\uff09\n        Set&lt;Integer&gt; uniqueOrderedNumbers = new LinkedHashSet&lt;&gt;(numbersWithDuplicates);\n        System.out.println(\"\u53bb\u91cd\u8907\u5f8c (LinkedHashSet): \" + uniqueOrderedNumbers);\n\n        // \u8f49\u56de List\n        List&lt;Integer&gt; uniqueList = new ArrayList&lt;&gt;(uniqueOrderedNumbers);\n        System.out.println(\"\u8f49\u56de List: \" + uniqueList);\n    }\n\n    // \u6b0a\u9650\u7ba1\u7406\u7cfb\u7d71\n    public static void permissionSystem() {\n        System.out.println(\"\\n=== \u6b0a\u9650\u7ba1\u7406\u7cfb\u7d71 ===\");\n\n        // \u5b9a\u7fa9\u6b0a\u9650\n        enum Permission {\n            READ, WRITE, DELETE, ADMIN, MODIFY, EXECUTE\n        }\n\n        // \u7528\u6236\u6b0a\u9650\n        Map&lt;String, Set&lt;Permission&gt;&gt; userPermissions = new HashMap&lt;&gt;();\n\n        userPermissions.put(\"admin\", EnumSet.of(Permission.READ, Permission.WRITE, \n                                               Permission.DELETE, Permission.ADMIN));\n        userPermissions.put(\"editor\", EnumSet.of(Permission.READ, Permission.WRITE, \n                                                 Permission.MODIFY));\n        userPermissions.put(\"viewer\", EnumSet.of(Permission.READ));\n        userPermissions.put(\"manager\", EnumSet.of(Permission.READ, Permission.WRITE, \n                                                  Permission.DELETE));\n\n        // \u986f\u793a\u7528\u6236\u6b0a\u9650\n        for (Map.Entry&lt;String, Set&lt;Permission&gt;&gt; entry : userPermissions.entrySet()) {\n            System.out.println(entry.getKey() + \" \u6b0a\u9650: \" + entry.getValue());\n        }\n\n        // \u6aa2\u67e5\u7528\u6236\u662f\u5426\u6709\u7279\u5b9a\u6b0a\u9650\n        String user = \"editor\";\n        Permission requiredPermission = Permission.DELETE;\n\n        if (userPermissions.get(user).contains(requiredPermission)) {\n            System.out.println(user + \" \u6709 \" + requiredPermission + \" \u6b0a\u9650\");\n        } else {\n            System.out.println(user + \" \u6c92\u6709 \" + requiredPermission + \" \u6b0a\u9650\");\n        }\n\n        // \u8a08\u7b97\u5169\u500b\u7528\u6236\u7684\u5171\u540c\u6b0a\u9650\n        Set&lt;Permission&gt; adminPerms = userPermissions.get(\"admin\");\n        Set&lt;Permission&gt; editorPerms = userPermissions.get(\"editor\");\n\n        Set&lt;Permission&gt; commonPermissions = new HashSet&lt;&gt;(adminPerms);\n        commonPermissions.retainAll(editorPerms);\n\n        System.out.println(\"admin \u548c editor \u7684\u5171\u540c\u6b0a\u9650: \" + commonPermissions);\n    }\n\n    // \u6a19\u7c64\u7cfb\u7d71\n    public static void tagSystem() {\n        System.out.println(\"\\n=== \u6587\u7ae0\u6a19\u7c64\u7cfb\u7d71 ===\");\n\n        // \u6587\u7ae0\u985e\u5225\n        class Article {\n            private String title;\n            private Set&lt;String&gt; tags;\n\n            public Article(String title, String... tags) {\n                this.title = title;\n                this.tags = new HashSet&lt;&gt;(Arrays.asList(tags));\n            }\n\n            public String getTitle() { return title; }\n            public Set&lt;String&gt; getTags() { return tags; }\n\n            @Override\n            public String toString() {\n                return String.format(\"\u300a%s\u300b\u6a19\u7c64: %s\", title, tags);\n            }\n        }\n\n        // \u5efa\u7acb\u6587\u7ae0\n        List&lt;Article&gt; articles = new ArrayList&lt;&gt;();\n        articles.add(new Article(\"Java \u5165\u9580\u6559\u5b78\", \"\u7a0b\u5f0f\u8a2d\u8a08\", \"Java\", \"\u521d\u5b78\u8005\"));\n        articles.add(new Article(\"Spring Boot \u5be6\u6230\", \"\u7a0b\u5f0f\u8a2d\u8a08\", \"Java\", \"Spring\", \"\u5f8c\u7aef\"));\n        articles.add(new Article(\"React \u524d\u7aef\u958b\u767c\", \"\u7a0b\u5f0f\u8a2d\u8a08\", \"\u524d\u7aef\", \"JavaScript\", \"React\"));\n        articles.add(new Article(\"\u8cc7\u6599\u5eab\u8a2d\u8a08\u539f\u7406\", \"\u8cc7\u6599\u5eab\", \"\u8a2d\u8a08\", \"SQL\"));\n        articles.add(new Article(\"\u6a5f\u5668\u5b78\u7fd2\u5165\u9580\", \"AI\", \"\u6a5f\u5668\u5b78\u7fd2\", \"Python\"));\n\n        // \u986f\u793a\u6240\u6709\u6587\u7ae0\n        System.out.println(\"\u6240\u6709\u6587\u7ae0:\");\n        articles.forEach(System.out::println);\n\n        // \u6536\u96c6\u6240\u6709\u6a19\u7c64\n        Set&lt;String&gt; allTags = new HashSet&lt;&gt;();\n        for (Article article : articles) {\n            allTags.addAll(article.getTags());\n        }\n        System.out.println(\"\\n\u6240\u6709\u6a19\u7c64: \" + allTags);\n\n        // \u6309\u6a19\u7c64\u641c\u5c0b\u6587\u7ae0\n        String searchTag = \"\u7a0b\u5f0f\u8a2d\u8a08\";\n        System.out.println(\"\\n\u5305\u542b\u6a19\u7c64 '\" + searchTag + \"' \u7684\u6587\u7ae0:\");\n        for (Article article : articles) {\n            if (article.getTags().contains(searchTag)) {\n                System.out.println(\"- \" + article.getTitle());\n            }\n        }\n\n        // \u627e\u51fa\u5305\u542b\u591a\u500b\u6a19\u7c64\u7684\u6587\u7ae0\n        Set&lt;String&gt; requiredTags = new HashSet&lt;&gt;(Arrays.asList(\"\u7a0b\u5f0f\u8a2d\u8a08\", \"Java\"));\n        System.out.println(\"\\n\u5305\u542b\u6a19\u7c64 \" + requiredTags + \" \u7684\u6587\u7ae0:\");\n        for (Article article : articles) {\n            if (article.getTags().containsAll(requiredTags)) {\n                System.out.println(\"- \" + article.getTitle());\n            }\n        }\n\n        // \u8a08\u7b97\u6a19\u7c64\u4f7f\u7528\u983b\u7387\n        Map&lt;String, Integer&gt; tagFrequency = new HashMap&lt;&gt;();\n        for (Article article : articles) {\n            for (String tag : article.getTags()) {\n                tagFrequency.put(tag, tagFrequency.getOrDefault(tag, 0) + 1);\n            }\n        }\n\n        System.out.println(\"\\n\u6a19\u7c64\u4f7f\u7528\u983b\u7387:\");\n        tagFrequency.entrySet().stream()\n                   .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().reversed())\n                   .forEach(entry -&gt; System.out.printf(\"%-10s: %d \u6b21%n\", \n                                                       entry.getKey(), entry.getValue()));\n    }\n}\n</code></pre> <p>Set \u9078\u64c7\u6307\u5357</p> <ul> <li>HashSet: \u6700\u5feb\u7684\u67e5\u627e\u548c\u63d2\u5165\uff0c\u7121\u9806\u5e8f\u4fdd\u8b49</li> <li>LinkedHashSet: \u4fdd\u6301\u63d2\u5165\u9806\u5e8f\uff0c\u6bd4 HashSet \u7a0d\u6162</li> <li>TreeSet: \u81ea\u52d5\u6392\u5e8f\uff0c\u67e5\u627e\u548c\u63d2\u5165\u8f03\u6162\u4f46\u6709\u5e8f</li> <li>EnumSet: \u679a\u8209\u985e\u578b\u7684\u9ad8\u6548\u5be6\u4f5c</li> </ul>"},{"location":"java/advanced/09-collections/#map","title":"Map \u4ecb\u9762\u8207\u5be6\u4f5c","text":"<p>Map \u662f\u5132\u5b58\u9375\u503c\u5c0d\u7684\u96c6\u5408\uff0c\u6bcf\u500b\u9375\u552f\u4e00\u5c0d\u61c9\u4e00\u500b\u503c\u3002</p>"},{"location":"java/advanced/09-collections/#hashmap","title":"HashMap \u57fa\u672c\u4f7f\u7528","text":"Java<pre><code>import java.util.*;\n\npublic class HashMapExample {\n    public static void main(String[] args) {\n        System.out.println(\"=== HashMap \u57fa\u672c\u4f7f\u7528 ===\");\n\n        // \u5efa\u7acb HashMap\n        Map&lt;String, Integer&gt; ageMap = new HashMap&lt;&gt;();\n\n        // \u6dfb\u52a0\u9375\u503c\u5c0d\n        ageMap.put(\"Alice\", 25);\n        ageMap.put(\"Bob\", 30);\n        ageMap.put(\"Charlie\", 28);\n        ageMap.put(\"David\", 22);\n\n        System.out.println(\"\u5e74\u9f61\u6620\u5c04: \" + ageMap);\n\n        // \u7372\u53d6\u503c\n        Integer aliceAge = ageMap.get(\"Alice\");\n        System.out.println(\"Alice \u7684\u5e74\u9f61: \" + aliceAge);\n\n        // \u6aa2\u67e5\u9375\u662f\u5426\u5b58\u5728\n        System.out.println(\"\u5305\u542b Bob: \" + ageMap.containsKey(\"Bob\"));\n        System.out.println(\"\u5305\u542b\u5e74\u9f61 25: \" + ageMap.containsValue(25));\n\n        // \u4f7f\u7528 getOrDefault \u907f\u514d null\n        int eveAge = ageMap.getOrDefault(\"Eve\", 0);\n        System.out.println(\"Eve \u7684\u5e74\u9f61 (\u4e0d\u5b58\u5728\u6642\u9810\u8a2d 0): \" + eveAge);\n\n        // putIfAbsent - \u53ea\u5728\u9375\u4e0d\u5b58\u5728\u6642\u624d\u6dfb\u52a0\n        ageMap.putIfAbsent(\"Alice\", 26); // \u4e0d\u6703\u8986\u84cb\n        ageMap.putIfAbsent(\"Eve\", 24);   // \u6703\u6dfb\u52a0\n        System.out.println(\"putIfAbsent \u5f8c: \" + ageMap);\n\n        // \u904d\u6b77 Map \u7684\u65b9\u6cd5\n        System.out.println(\"\\n=== \u904d\u6b77\u65b9\u6cd5 ===\");\n\n        // 1. \u904d\u6b77\u9375\n        System.out.println(\"\u6240\u6709\u9375:\");\n        for (String key : ageMap.keySet()) {\n            System.out.println(\"- \" + key);\n        }\n\n        // 2. \u904d\u6b77\u503c\n        System.out.println(\"\u6240\u6709\u503c:\");\n        for (Integer value : ageMap.values()) {\n            System.out.println(\"- \" + value);\n        }\n\n        // 3. \u904d\u6b77\u9375\u503c\u5c0d\n        System.out.println(\"\u6240\u6709\u9375\u503c\u5c0d:\");\n        for (Map.Entry&lt;String, Integer&gt; entry : ageMap.entrySet()) {\n            System.out.printf(\"- %s: %d%n\", entry.getKey(), entry.getValue());\n        }\n\n        // 4. \u4f7f\u7528 forEach (Java 8+)\n        System.out.println(\"\u4f7f\u7528 forEach:\");\n        ageMap.forEach((key, value) -&gt; System.out.printf(\"- %s: %d%n\", key, value));\n\n        // \u79fb\u9664\u64cd\u4f5c\n        ageMap.remove(\"David\");\n        System.out.println(\"\u79fb\u9664 David \u5f8c: \" + ageMap);\n\n        // \u689d\u4ef6\u79fb\u9664\n        ageMap.remove(\"Bob\", 30); // \u53ea\u6709\u7576\u503c\u5339\u914d\u6642\u624d\u79fb\u9664\n        System.out.println(\"\u689d\u4ef6\u79fb\u9664 Bob \u5f8c: \" + ageMap);\n\n        // \u66ff\u63db\u64cd\u4f5c\n        ageMap.replace(\"Alice\", 26);\n        ageMap.replace(\"Charlie\", 28, 29); // \u53ea\u6709\u7576\u820a\u503c\u5339\u914d\u6642\u624d\u66ff\u63db\n        System.out.println(\"\u66ff\u63db\u5f8c: \" + ageMap);\n\n        // \u8a08\u7b97\u64cd\u4f5c (Java 8+)\n        ageMap.compute(\"Alice\", (key, value) -&gt; value + 1);\n        ageMap.computeIfAbsent(\"Frank\", key -&gt; 35);\n        ageMap.computeIfPresent(\"Eve\", (key, value) -&gt; value + 1);\n        System.out.println(\"\u8a08\u7b97\u64cd\u4f5c\u5f8c: \" + ageMap);\n    }\n}\n</code></pre>"},{"location":"java/advanced/09-collections/#map_1","title":"Map \u7684\u4e0d\u540c\u5be6\u4f5c\u6bd4\u8f03","text":"Java<pre><code>import java.util.*;\n\npublic class MapVariations {\n    public static void main(String[] args) {\n        System.out.println(\"=== Map \u7684\u4e0d\u540c\u5be6\u4f5c\u6bd4\u8f03 ===\");\n\n        // HashMap - \u7121\u5e8f\u3001\u6700\u5feb\n        Map&lt;Integer, String&gt; hashMap = new HashMap&lt;&gt;();\n        // LinkedHashMap - \u7dad\u6301\u63d2\u5165\u9806\u5e8f\n        Map&lt;Integer, String&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n        // TreeMap - \u6309\u9375\u6392\u5e8f\n        Map&lt;Integer, String&gt; treeMap = new TreeMap&lt;&gt;();\n\n        // \u6dfb\u52a0\u76f8\u540c\u7684\u6578\u64da\n        String[] values = {\"Five\", \"Two\", \"Eight\", \"One\", \"Nine\", \"Three\"};\n        int[] keys = {5, 2, 8, 1, 9, 3};\n\n        for (int i = 0; i &lt; keys.length; i++) {\n            hashMap.put(keys[i], values[i]);\n            linkedHashMap.put(keys[i], values[i]);\n            treeMap.put(keys[i], values[i]);\n        }\n\n        System.out.println(\"\u63d2\u5165\u9806\u5e8f: \" + Arrays.toString(keys));\n        System.out.println(\"HashMap (\u7121\u5e8f): \" + hashMap);\n        System.out.println(\"LinkedHashMap (\u63d2\u5165\u9806\u5e8f): \" + linkedHashMap);\n        System.out.println(\"TreeMap (\u9375\u6392\u5e8f): \" + treeMap);\n\n        // TreeMap \u7684\u7279\u6b8a\u64cd\u4f5c\n        System.out.println(\"\\n=== TreeMap \u7279\u6b8a\u64cd\u4f5c ===\");\n\n        TreeMap&lt;String, Integer&gt; scores = new TreeMap&lt;&gt;();\n        scores.put(\"Alice\", 95);\n        scores.put(\"Bob\", 87);\n        scores.put(\"Charlie\", 92);\n        scores.put(\"David\", 78);\n        scores.put(\"Eve\", 89);\n\n        System.out.println(\"\u6392\u5e8f\u7684\u6210\u7e3e: \" + scores);\n        System.out.println(\"\u7b2c\u4e00\u500b\u689d\u76ee: \" + scores.firstEntry());\n        System.out.println(\"\u6700\u5f8c\u4e00\u500b\u689d\u76ee: \" + scores.lastEntry());\n        System.out.println(\"\u5c0f\u65bc 'Charlie': \" + scores.headMap(\"Charlie\"));\n        System.out.println(\"\u5927\u65bc\u7b49\u65bc 'Charlie': \" + scores.tailMap(\"Charlie\"));\n        System.out.println(\"'Bob' \u5230 'David': \" + scores.subMap(\"Bob\", \"David\"));\n\n        // \u6548\u80fd\u6bd4\u8f03\n        performanceComparison();\n    }\n\n    public static void performanceComparison() {\n        System.out.println(\"\\n=== Map \u6548\u80fd\u6bd4\u8f03 ===\");\n\n        int size = 100000;\n\n        Map&lt;Integer, String&gt; hashMap = new HashMap&lt;&gt;();\n        Map&lt;Integer, String&gt; treeMap = new TreeMap&lt;&gt;();\n        Map&lt;Integer, String&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n\n        // \u63d2\u5165\u6548\u80fd\u6e2c\u8a66\n        long startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; size; i++) {\n            hashMap.put(i, \"Value\" + i);\n        }\n        long hashMapInsertTime = System.currentTimeMillis() - startTime;\n\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; size; i++) {\n            treeMap.put(i, \"Value\" + i);\n        }\n        long treeMapInsertTime = System.currentTimeMillis() - startTime;\n\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; size; i++) {\n            linkedHashMap.put(i, \"Value\" + i);\n        }\n        long linkedHashMapInsertTime = System.currentTimeMillis() - startTime;\n\n        System.out.printf(\"\u63d2\u5165 %d \u500b\u5143\u7d20:%n\", size);\n        System.out.printf(\"HashMap: %d ms%n\", hashMapInsertTime);\n        System.out.printf(\"TreeMap: %d ms%n\", treeMapInsertTime);\n        System.out.printf(\"LinkedHashMap: %d ms%n\", linkedHashMapInsertTime);\n\n        // \u67e5\u627e\u6548\u80fd\u6e2c\u8a66\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10000; i++) {\n            int randomKey = (int) (Math.random() * size);\n            hashMap.get(randomKey);\n        }\n        long hashMapSearchTime = System.currentTimeMillis() - startTime;\n\n        startTime = System.currentTimeMillis();\n        for (int i = 0; i &lt; 10000; i++) {\n            int randomKey = (int) (Math.random() * size);\n            treeMap.get(randomKey);\n        }\n        long treeMapSearchTime = System.currentTimeMillis() - startTime;\n\n        System.out.println(\"\\n\u67e5\u627e 10,000 \u6b21:\");\n        System.out.printf(\"HashMap: %d ms%n\", hashMapSearchTime);\n        System.out.printf(\"TreeMap: %d ms%n\", treeMapSearchTime);\n    }\n}\n</code></pre> <p>Map \u4f7f\u7528\u6ce8\u610f\u4e8b\u9805</p> <ul> <li>\u9375\u5fc5\u9808\u5be6\u4f5c\u6b63\u78ba\u7684 <code>equals()</code> \u548c <code>hashCode()</code> \u65b9\u6cd5</li> <li>\u4e0d\u8981\u4f7f\u7528\u53ef\u8b8a\u7269\u4ef6\u4f5c\u70ba\u9375</li> <li>HashMap \u4e0d\u662f\u57f7\u884c\u7dd2\u5b89\u5168\u7684\uff0c\u591a\u57f7\u884c\u7dd2\u74b0\u5883\u9700\u8981\u984d\u5916\u540c\u6b65</li> </ul>"},{"location":"java/advanced/09-collections/#collections_1","title":"Collections \u5de5\u5177\u985e\u5225","text":"<p>Collections \u985e\u5225\u63d0\u4f9b\u8a31\u591a\u975c\u614b\u65b9\u6cd5\u4f86\u64cd\u4f5c\u96c6\u5408\u3002</p>"},{"location":"java/advanced/09-collections/#collections_2","title":"Collections \u5be6\u7528\u65b9\u6cd5","text":"Java<pre><code>import java.util.*;\n\npublic class CollectionsUtility {\n    public static void main(String[] args) {\n        System.out.println(\"=== Collections \u5de5\u5177\u65b9\u6cd5 ===\");\n\n        // \u5efa\u7acb\u6e2c\u8a66\u5217\u8868\n        List&lt;Integer&gt; numbers = new ArrayList&lt;&gt;(Arrays.asList(3, 1, 4, 1, 5, 9, 2, 6));\n        System.out.println(\"\u539f\u59cb\u5217\u8868: \" + numbers);\n\n        // \u6392\u5e8f\n        Collections.sort(numbers);\n        System.out.println(\"\u6392\u5e8f\u5f8c: \" + numbers);\n\n        // \u53cd\u8f49\n        Collections.reverse(numbers);\n        System.out.println(\"\u53cd\u8f49\u5f8c: \" + numbers);\n\n        // \u96a8\u6a5f\u6253\u4e82\n        Collections.shuffle(numbers);\n        System.out.println(\"\u6253\u4e82\u5f8c: \" + numbers);\n\n        // \u65cb\u8f49 (\u5faa\u74b0\u79fb\u4f4d)\n        Collections.rotate(numbers, 2);\n        System.out.println(\"\u5411\u53f3\u65cb\u8f492\u4f4d: \" + numbers);\n\n        // \u4e8c\u5143\u641c\u5c0b (\u9700\u8981\u6392\u5e8f)\n        Collections.sort(numbers);\n        int index = Collections.binarySearch(numbers, 5);\n        System.out.println(\"\u6392\u5e8f\u5f8c: \" + numbers);\n        System.out.println(\"\u6578\u5b57 5 \u7684\u4f4d\u7f6e: \" + index);\n\n        // \u67e5\u627e\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\n        Integer max = Collections.max(numbers);\n        Integer min = Collections.min(numbers);\n        System.out.println(\"\u6700\u5927\u503c: \" + max);\n        System.out.println(\"\u6700\u5c0f\u503c: \" + min);\n\n        // \u586b\u5145\u548c\u66ff\u63db\n        List&lt;String&gt; words = new ArrayList&lt;&gt;(Arrays.asList(\"a\", \"b\", \"c\", \"d\", \"e\"));\n        Collections.fill(words, \"x\");\n        System.out.println(\"\u586b\u5145 'x': \" + words);\n\n        List&lt;String&gt; original = new ArrayList&lt;&gt;(Arrays.asList(\"apple\", \"banana\", \"apple\", \"cherry\"));\n        Collections.replaceAll(original, \"apple\", \"orange\");\n        System.out.println(\"\u66ff\u63db apple \u2192 orange: \" + original);\n\n        // \u983b\u7387\u7d71\u8a08\n        List&lt;String&gt; items = Arrays.asList(\"a\", \"b\", \"a\", \"c\", \"b\", \"a\");\n        int frequency = Collections.frequency(items, \"a\");\n        System.out.println(\"'a' \u51fa\u73fe\u6b21\u6578: \" + frequency);\n\n        // \u4e0d\u76f8\u4ea4\u6aa2\u67e5\n        List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3);\n        List&lt;Integer&gt; list2 = Arrays.asList(4, 5, 6);\n        List&lt;Integer&gt; list3 = Arrays.asList(3, 4, 5);\n\n        System.out.println(\"list1 \u548c list2 \u4e0d\u76f8\u4ea4: \" + Collections.disjoint(list1, list2));\n        System.out.println(\"list1 \u548c list3 \u4e0d\u76f8\u4ea4: \" + Collections.disjoint(list1, list3));\n\n        // \u5efa\u7acb\u4e0d\u53ef\u8b8a\u96c6\u5408\n        immutableCollections();\n\n        // \u540c\u6b65\u5316\u96c6\u5408\n        synchronizedCollections();\n    }\n\n    public static void immutableCollections() {\n        System.out.println(\"\\n=== \u4e0d\u53ef\u8b8a\u96c6\u5408 ===\");\n\n        List&lt;String&gt; mutableList = new ArrayList&lt;&gt;(Arrays.asList(\"A\", \"B\", \"C\"));\n        List&lt;String&gt; immutableList = Collections.unmodifiableList(mutableList);\n\n        System.out.println(\"\u539f\u59cb\u5217\u8868: \" + mutableList);\n        System.out.println(\"\u4e0d\u53ef\u8b8a\u5217\u8868: \" + immutableList);\n\n        // \u4fee\u6539\u539f\u59cb\u5217\u8868\n        mutableList.add(\"D\");\n        System.out.println(\"\u4fee\u6539\u539f\u59cb\u5217\u8868\u5f8c:\");\n        System.out.println(\"\u539f\u59cb\u5217\u8868: \" + mutableList);\n        System.out.println(\"\u4e0d\u53ef\u8b8a\u5217\u8868: \" + immutableList); // \u4e5f\u6703\u8b8a\u5316\uff01\n\n        try {\n            immutableList.add(\"E\"); // \u6703\u62cb\u51fa\u7570\u5e38\n        } catch (UnsupportedOperationException e) {\n            System.out.println(\"\u7121\u6cd5\u4fee\u6539\u4e0d\u53ef\u8b8a\u5217\u8868: \" + e.getClass().getSimpleName());\n        }\n\n        // \u771f\u6b63\u4e0d\u53ef\u8b8a\u7684\u96c6\u5408 (Java 9+)\n        List&lt;String&gt; trulyImmutable = List.of(\"X\", \"Y\", \"Z\");\n        System.out.println(\"\u771f\u6b63\u4e0d\u53ef\u8b8a\u5217\u8868: \" + trulyImmutable);\n\n        // \u5176\u4ed6\u4e0d\u53ef\u8b8a\u96c6\u5408\n        Set&lt;String&gt; immutableSet = Collections.unmodifiableSet(\n            new HashSet&lt;&gt;(Arrays.asList(\"Red\", \"Green\", \"Blue\")));\n\n        Map&lt;String, Integer&gt; mutableMap = new HashMap&lt;&gt;();\n        mutableMap.put(\"One\", 1);\n        mutableMap.put(\"Two\", 2);\n        Map&lt;String, Integer&gt; immutableMap = Collections.unmodifiableMap(mutableMap);\n\n        System.out.println(\"\u4e0d\u53ef\u8b8a\u96c6\u5408: \" + immutableSet);\n        System.out.println(\"\u4e0d\u53ef\u8b8a\u6620\u5c04: \" + immutableMap);\n    }\n\n    public static void synchronizedCollections() {\n        System.out.println(\"\\n=== \u540c\u6b65\u5316\u96c6\u5408 ===\");\n\n        // \u5efa\u7acb\u540c\u6b65\u5316\u96c6\u5408\n        List&lt;String&gt; syncList = Collections.synchronizedList(new ArrayList&lt;&gt;());\n        Set&lt;Integer&gt; syncSet = Collections.synchronizedSet(new HashSet&lt;&gt;());\n        Map&lt;String, String&gt; syncMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\n\n        // \u6dfb\u52a0\u4e00\u4e9b\u6578\u64da\n        syncList.add(\"Item1\");\n        syncList.add(\"Item2\");\n        syncSet.add(1);\n        syncSet.add(2);\n        syncMap.put(\"key1\", \"value1\");\n        syncMap.put(\"key2\", \"value2\");\n\n        System.out.println(\"\u540c\u6b65\u5316\u5217\u8868: \" + syncList);\n        System.out.println(\"\u540c\u6b65\u5316\u96c6\u5408: \" + syncSet);\n        System.out.println(\"\u540c\u6b65\u5316\u6620\u5c04: \" + syncMap);\n\n        // \u6ce8\u610f\uff1a\u904d\u6b77\u6642\u4ecd\u9700\u8981\u624b\u52d5\u540c\u6b65\n        synchronized (syncList) {\n            for (String item : syncList) {\n                System.out.println(\"\u5b89\u5168\u904d\u6b77: \" + item);\n            }\n        }\n\n        System.out.println(\"\u6ce8\u610f: \u540c\u6b65\u5316\u96c6\u5408\u7684\u904d\u6b77\u64cd\u4f5c\u4ecd\u9700\u8981\u624b\u52d5\u540c\u6b65\");\n    }\n}\n</code></pre>"},{"location":"java/advanced/09-collections/#_1","title":"\u96c6\u5408\u9078\u64c7\u8207\u6548\u80fd\u8003\u91cf","text":""},{"location":"java/advanced/09-collections/#_2","title":"\u6548\u80fd\u6bd4\u8f03\u7e3d\u7d50","text":"Java<pre><code>import java.util.*;\n\npublic class CollectionPerformanceGuide {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u96c6\u5408\u6548\u80fd\u6bd4\u8f03\u6307\u5357 ===\");\n\n        comprehensivePerformanceTest();\n        collectionSelectionGuide();\n    }\n\n    public static void comprehensivePerformanceTest() {\n        System.out.println(\"=== \u7d9c\u5408\u6548\u80fd\u6e2c\u8a66 ===\");\n\n        int size = 50000;\n\n        // List \u6548\u80fd\u6bd4\u8f03\n        System.out.println(\"List \u6548\u80fd\u6bd4\u8f03 (50,000 \u5143\u7d20):\");\n        testListPerformance(size);\n\n        // Set \u6548\u80fd\u6bd4\u8f03\n        System.out.println(\"\\nSet \u6548\u80fd\u6bd4\u8f03 (50,000 \u5143\u7d20):\");\n        testSetPerformance(size);\n\n        // Map \u6548\u80fd\u6bd4\u8f03\n        System.out.println(\"\\nMap \u6548\u80fd\u6bd4\u8f03 (50,000 \u5143\u7d20):\");\n        testMapPerformance(size);\n    }\n\n    public static void testListPerformance(int size) {\n        // \u5efa\u7acb\u6e2c\u8a66\u96c6\u5408\n        List&lt;Integer&gt; arrayList = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; linkedList = new LinkedList&lt;&gt;();\n\n        // \u6dfb\u52a0\u5230\u5c3e\u90e8\u7684\u6548\u80fd\n        long startTime = System.nanoTime();\n        for (int i = 0; i &lt; size; i++) {\n            arrayList.add(i);\n        }\n        long arrayListAddTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; size; i++) {\n            linkedList.add(i);\n        }\n        long linkedListAddTime = System.nanoTime() - startTime;\n\n        // \u96a8\u6a5f\u5b58\u53d6\u6548\u80fd\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; 1000; i++) {\n            int randomIndex = (int) (Math.random() * arrayList.size());\n            arrayList.get(randomIndex);\n        }\n        long arrayListGetTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; 1000; i++) {\n            int randomIndex = (int) (Math.random() * linkedList.size());\n            linkedList.get(randomIndex);\n        }\n        long linkedListGetTime = System.nanoTime() - startTime;\n\n        // \u5728\u982d\u90e8\u63d2\u5165\u6548\u80fd\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; 1000; i++) {\n            arrayList.add(0, i);\n        }\n        long arrayListInsertTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; 1000; i++) {\n            linkedList.add(0, i);\n        }\n        long linkedListInsertTime = System.nanoTime() - startTime;\n\n        System.out.printf(\"  \u6dfb\u52a0\u5230\u5c3e\u90e8:     ArrayList %6.2f ms, LinkedList %6.2f ms%n\", \n                         arrayListAddTime / 1_000_000.0, linkedListAddTime / 1_000_000.0);\n        System.out.printf(\"  \u96a8\u6a5f\u5b58\u53d6(1000\u6b21): ArrayList %6.2f ms, LinkedList %6.2f ms%n\", \n                         arrayListGetTime / 1_000_000.0, linkedListGetTime / 1_000_000.0);\n        System.out.printf(\"  \u982d\u90e8\u63d2\u5165(1000\u6b21): ArrayList %6.2f ms, LinkedList %6.2f ms%n\", \n                         arrayListInsertTime / 1_000_000.0, linkedListInsertTime / 1_000_000.0);\n    }\n\n    public static void testSetPerformance(int size) {\n        Set&lt;Integer&gt; hashSet = new HashSet&lt;&gt;();\n        Set&lt;Integer&gt; treeSet = new TreeSet&lt;&gt;();\n        Set&lt;Integer&gt; linkedHashSet = new LinkedHashSet&lt;&gt;();\n\n        // \u6dfb\u52a0\u6548\u80fd\n        long startTime = System.nanoTime();\n        for (int i = 0; i &lt; size; i++) {\n            hashSet.add(i);\n        }\n        long hashSetAddTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; size; i++) {\n            treeSet.add(i);\n        }\n        long treeSetAddTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; size; i++) {\n            linkedHashSet.add(i);\n        }\n        long linkedHashSetAddTime = System.nanoTime() - startTime;\n\n        // \u67e5\u627e\u6548\u80fd\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; 5000; i++) {\n            int randomValue = (int) (Math.random() * size);\n            hashSet.contains(randomValue);\n        }\n        long hashSetSearchTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; 5000; i++) {\n            int randomValue = (int) (Math.random() * size);\n            treeSet.contains(randomValue);\n        }\n        long treeSetSearchTime = System.nanoTime() - startTime;\n\n        System.out.printf(\"  \u6dfb\u52a0:         HashSet %6.2f ms, TreeSet %6.2f ms, LinkedHashSet %6.2f ms%n\", \n                         hashSetAddTime / 1_000_000.0, treeSetAddTime / 1_000_000.0, \n                         linkedHashSetAddTime / 1_000_000.0);\n        System.out.printf(\"  \u67e5\u627e(5000\u6b21): HashSet %6.2f ms, TreeSet %6.2f ms%n\", \n                         hashSetSearchTime / 1_000_000.0, treeSetSearchTime / 1_000_000.0);\n    }\n\n    public static void testMapPerformance(int size) {\n        Map&lt;Integer, String&gt; hashMap = new HashMap&lt;&gt;();\n        Map&lt;Integer, String&gt; treeMap = new TreeMap&lt;&gt;();\n        Map&lt;Integer, String&gt; linkedHashMap = new LinkedHashMap&lt;&gt;();\n\n        // \u6dfb\u52a0\u6548\u80fd\n        long startTime = System.nanoTime();\n        for (int i = 0; i &lt; size; i++) {\n            hashMap.put(i, \"Value\" + i);\n        }\n        long hashMapPutTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; size; i++) {\n            treeMap.put(i, \"Value\" + i);\n        }\n        long treeMapPutTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; size; i++) {\n            linkedHashMap.put(i, \"Value\" + i);\n        }\n        long linkedHashMapPutTime = System.nanoTime() - startTime;\n\n        // \u67e5\u627e\u6548\u80fd\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; 5000; i++) {\n            int randomKey = (int) (Math.random() * size);\n            hashMap.get(randomKey);\n        }\n        long hashMapGetTime = System.nanoTime() - startTime;\n\n        startTime = System.nanoTime();\n        for (int i = 0; i &lt; 5000; i++) {\n            int randomKey = (int) (Math.random() * size);\n            treeMap.get(randomKey);\n        }\n        long treeMapGetTime = System.nanoTime() - startTime;\n\n        System.out.printf(\"  \u6dfb\u52a0:         HashMap %6.2f ms, TreeMap %6.2f ms, LinkedHashMap %6.2f ms%n\", \n                         hashMapPutTime / 1_000_000.0, treeMapPutTime / 1_000_000.0, \n                         linkedHashMapPutTime / 1_000_000.0);\n        System.out.printf(\"  \u67e5\u627e(5000\u6b21): HashMap %6.2f ms, TreeMap %6.2f ms%n\", \n                         hashMapGetTime / 1_000_000.0, treeMapGetTime / 1_000_000.0);\n    }\n\n    public static void collectionSelectionGuide() {\n        System.out.println(\"\\n=== \u96c6\u5408\u9078\u64c7\u6307\u5357 ===\");\n        System.out.println(\"List \u9078\u64c7:\");\n        System.out.println(\"  \u2022 ArrayList: \u9700\u8981\u983b\u7e41\u96a8\u6a5f\u5b58\u53d6\uff0c\u8f03\u5c11\u63d2\u5165/\u522a\u9664\");\n        System.out.println(\"  \u2022 LinkedList: \u983b\u7e41\u5728\u982d\u5c3e\u63d2\u5165/\u522a\u9664\uff0c\u5be6\u4f5c\u4f47\u5217/\u5806\u758a\");\n        System.out.println(\"  \u2022 Vector: \u9700\u8981\u57f7\u884c\u7dd2\u5b89\u5168 (\u901a\u5e38\u4e0d\u63a8\u85a6)\");\n\n        System.out.println(\"\\nSet \u9078\u64c7:\");\n        System.out.println(\"  \u2022 HashSet: \u6700\u5feb\u7684\u67e5\u627e\u548c\u63d2\u5165\uff0c\u4e0d\u9700\u8981\u9806\u5e8f\");\n        System.out.println(\"  \u2022 LinkedHashSet: \u9700\u8981\u7dad\u6301\u63d2\u5165\u9806\u5e8f\");\n        System.out.println(\"  \u2022 TreeSet: \u9700\u8981\u81ea\u52d5\u6392\u5e8f\uff0c\u7bc4\u570d\u67e5\u8a62\");\n\n        System.out.println(\"\\nMap \u9078\u64c7:\");\n        System.out.println(\"  \u2022 HashMap: \u6700\u5feb\u7684\u67e5\u627e\u548c\u63d2\u5165\uff0c\u4e0d\u9700\u8981\u9806\u5e8f\");\n        System.out.println(\"  \u2022 LinkedHashMap: \u9700\u8981\u7dad\u6301\u63d2\u5165\u6216\u5b58\u53d6\u9806\u5e8f\");\n        System.out.println(\"  \u2022 TreeMap: \u9700\u8981\u6309\u9375\u6392\u5e8f\uff0c\u7bc4\u570d\u67e5\u8a62\");\n        System.out.println(\"  \u2022 ConcurrentHashMap: \u591a\u57f7\u884c\u7dd2\u74b0\u5883\");\n\n        System.out.println(\"\\n\u6642\u9593\u8907\u96dc\u5ea6\u7e3d\u7d50:\");\n        printComplexityTable();\n    }\n\n    public static void printComplexityTable() {\n        System.out.printf(\"%-15s %-10s %-10s %-10s %-10s%n\", \n                         \"\u96c6\u5408\", \"\u6dfb\u52a0\", \"\u522a\u9664\", \"\u67e5\u627e\", \"\u5b58\u53d6\");\n        System.out.println(\"\u2500\".repeat(65));\n        System.out.printf(\"%-15s %-10s %-10s %-10s %-10s%n\", \n                         \"ArrayList\", \"O(1)*\", \"O(n)\", \"O(n)\", \"O(1)\");\n        System.out.printf(\"%-15s %-10s %-10s %-10s %-10s%n\", \n                         \"LinkedList\", \"O(1)\", \"O(1)**\", \"O(n)\", \"O(n)\");\n        System.out.printf(\"%-15s %-10s %-10s %-10s %-10s%n\", \n                         \"HashSet\", \"O(1)\", \"O(1)\", \"O(1)\", \"N/A\");\n        System.out.printf(\"%-15s %-10s %-10s %-10s %-10s%n\", \n                         \"TreeSet\", \"O(log n)\", \"O(log n)\", \"O(log n)\", \"N/A\");\n        System.out.printf(\"%-15s %-10s %-10s %-10s %-10s%n\", \n                         \"HashMap\", \"O(1)\", \"O(1)\", \"O(1)\", \"O(1)\");\n        System.out.printf(\"%-15s %-10s %-10s %-10s %-10s%n\", \n                         \"TreeMap\", \"O(log n)\", \"O(log n)\", \"O(log n)\", \"O(log n)\");\n\n        System.out.println(\"\\n\u8a3b\u89e3:\");\n        System.out.println(\"  * ArrayList \u6dfb\u52a0\u5230\u5c3e\u90e8\u662f O(1)\uff0c\u5230\u4e2d\u9593\u662f O(n)\");\n        System.out.println(\"  ** LinkedList \u5728\u5df2\u77e5\u4f4d\u7f6e\u522a\u9664\u662f O(1)\");\n    }\n}\n</code></pre>"},{"location":"java/advanced/09-collections/#_3","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>Collection \u6846\u67b6\uff1a\u7d71\u4e00\u7684\u96c6\u5408\u4ecb\u9762\uff0c\u63d0\u4f9b List\u3001Set\u3001Map \u7b49\u4e0d\u540c\u7279\u6027\u7684\u96c6\u5408</li> <li>List\uff1a\u6709\u5e8f\u96c6\u5408\uff0c\u5141\u8a31\u91cd\u8907\uff0c\u652f\u63f4\u7d22\u5f15\u5b58\u53d6</li> <li>Set\uff1a\u7121\u91cd\u8907\u96c6\u5408\uff0c\u9069\u5408\u53bb\u91cd\u548c\u96c6\u5408\u904b\u7b97</li> <li>Map\uff1a\u9375\u503c\u5c0d\u96c6\u5408\uff0c\u9069\u5408\u5efa\u7acb\u6620\u5c04\u95dc\u4fc2</li> <li>Collections \u5de5\u5177\u985e\uff1a\u63d0\u4f9b\u8c50\u5bcc\u7684\u96c6\u5408\u64cd\u4f5c\u65b9\u6cd5</li> <li>\u6548\u80fd\u8003\u91cf\uff1a\u6839\u64da\u4f7f\u7528\u5834\u666f\u9078\u64c7\u9069\u5408\u7684\u96c6\u5408\u5be6\u4f5c</li> </ol> <p>\u6700\u4f73\u5be6\u8e10\u5efa\u8b70</p> <ul> <li>\u512a\u5148\u4f7f\u7528\u4ecb\u9762\u985e\u578b\u5ba3\u544a\u8b8a\u6578\uff1a<code>List&lt;String&gt; list = new ArrayList&lt;&gt;();</code></li> <li>\u6839\u64da\u5be6\u969b\u9700\u6c42\u9078\u64c7\u5408\u9069\u7684\u96c6\u5408\u5be6\u4f5c</li> <li>\u6ce8\u610f\u57f7\u884c\u7dd2\u5b89\u5168\u6027\uff0c\u591a\u57f7\u884c\u7dd2\u74b0\u5883\u4f7f\u7528 <code>ConcurrentHashMap</code> \u7b49</li> <li>\u5584\u7528 Java 8+ \u7684 Stream API \u8655\u7406\u96c6\u5408\u64cd\u4f5c</li> </ul>"},{"location":"java/advanced/09-collections/#_4","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u57fa\u790e\u7df4\u7fd2</li> <li>\u5be6\u4f5c\u5b78\u751f\u6210\u7e3e\u7ba1\u7406\u7cfb\u7d71\uff08\u4f7f\u7528 List \u548c Map\uff09</li> <li>\u5efa\u7acb\u55ae\u8a5e\u8a08\u6578\u7a0b\u5f0f\uff08\u4f7f\u7528 Map\uff09</li> <li> <p>\u8a2d\u8a08\u53bb\u91cd\u8907\u548c\u6392\u5e8f\u529f\u80fd\uff08\u4f7f\u7528 Set\uff09</p> </li> <li> <p>\u9032\u968e\u7df4\u7fd2</p> </li> <li>\u5be6\u4f5c LRU (Least Recently Used) \u5feb\u53d6\uff08\u4f7f\u7528 LinkedHashMap\uff09</li> <li>\u5efa\u7acb\u5716\u66f8\u9928\u7ba1\u7406\u7cfb\u7d71\uff08\u7d9c\u5408\u4f7f\u7528\u591a\u7a2e\u96c6\u5408\uff09</li> <li> <p>\u8a2d\u8a08\u8cfc\u7269\u8eca\u548c\u8a02\u55ae\u7cfb\u7d71</p> </li> <li> <p>\u7d9c\u5408\u5c08\u6848</p> </li> <li>\u5efa\u7acb\u5b78\u751f\u9078\u8ab2\u7cfb\u7d71</li> <li>\u8a2d\u8a08\u793e\u4ea4\u7db2\u8def\u597d\u53cb\u95dc\u4fc2\u7ba1\u7406</li> <li>\u5be6\u4f5c\u7c21\u55ae\u7684\u641c\u5c0b\u5f15\u64ce\u7d22\u5f15</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2\u5de2\u72c0\u985e\u5225\u8207 Lambda \u8868\u9054\u5f0f\uff0c\u9032\u5165 Java \u7684\u51fd\u6578\u5f0f\u7a0b\u5f0f\u8a2d\u8a08\u4e16\u754c\uff01</p>"},{"location":"java/advanced/10-nested-class-lambda/","title":"\u5de2\u72c0\u985e\u5225\u8207 Lambda \u904b\u7b97\u5f0f","text":""},{"location":"java/advanced/10-nested-class-lambda/#inner-classes","title":"\u5167\u90e8\u985e\u5225 (Inner Classes)","text":"<p>\u5167\u90e8\u985e\u5225\u662f\u5b9a\u7fa9\u5728\u53e6\u4e00\u500b\u985e\u5225\u5167\u90e8\u7684\u985e\u5225\uff0c\u53ef\u4ee5\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u6210\u54e1\uff0c\u5305\u62ec\u79c1\u6709\u6210\u54e1\u3002Java \u63d0\u4f9b\u56db\u7a2e\u5de2\u72c0\u985e\u5225\uff1a\u6210\u54e1\u5167\u90e8\u985e\u5225\u3001\u5340\u57df\u5167\u90e8\u985e\u5225\u3001\u533f\u540d\u5167\u90e8\u985e\u5225\u548c\u975c\u614b\u5de2\u72c0\u985e\u5225\u3002</p>"},{"location":"java/advanced/10-nested-class-lambda/#member-inner-class","title":"\u6210\u54e1\u5167\u90e8\u985e\u5225 (Member Inner Class)","text":"Java<pre><code>public class OuterClass {\n    private String outerField = \"\u5916\u90e8\u985e\u5225\u6b04\u4f4d\";\n    private static String staticField = \"\u975c\u614b\u6b04\u4f4d\";\n\n    // \u6210\u54e1\u5167\u90e8\u985e\u5225\n    public class InnerClass {\n        private String innerField = \"\u5167\u90e8\u985e\u5225\u6b04\u4f4d\";\n\n        public void displayInfo() {\n            // \u53ef\u4ee5\u76f4\u63a5\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u6210\u54e1\n            System.out.println(\"\u5b58\u53d6\u5916\u90e8\u985e\u5225\u6b04\u4f4d: \" + outerField);\n            System.out.println(\"\u5b58\u53d6\u5167\u90e8\u985e\u5225\u6b04\u4f4d: \" + innerField);\n            System.out.println(\"\u5b58\u53d6\u975c\u614b\u6b04\u4f4d: \" + staticField);\n\n            // \u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u65b9\u6cd5\n            outerMethod();\n        }\n\n        public void accessOuterThis() {\n            // \u660e\u78ba\u6307\u5b9a\u5916\u90e8\u985e\u5225\u7684 this\n            System.out.println(\"\u5916\u90e8\u985e\u5225\u7684 toString: \" + OuterClass.this.toString());\n        }\n\n        // \u5167\u90e8\u985e\u5225\u4e0d\u80fd\u6709\u975c\u614b\u6210\u54e1\uff08\u9664\u4e86\u7de8\u8b6f\u6642\u5e38\u6578\uff09\n        // static String staticInnerField = \"\u932f\u8aa4\"; // \u7de8\u8b6f\u932f\u8aa4\n        static final String CONSTANT = \"\u53ef\u4ee5\u6709\u5e38\u6578\";\n    }\n\n    private void outerMethod() {\n        System.out.println(\"\u5916\u90e8\u985e\u5225\u7684\u79c1\u6709\u65b9\u6cd5\");\n    }\n\n    public void createInnerInstance() {\n        // \u5916\u90e8\u985e\u5225\u5efa\u7acb\u5167\u90e8\u985e\u5225\u5be6\u4f8b\n        InnerClass inner = new InnerClass();\n        inner.displayInfo();\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u6210\u54e1\u5167\u90e8\u985e\u5225\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u5916\u90e8\u985e\u5225\u5be6\u4f8b\n        OuterClass outer = new OuterClass();\n        outer.createInnerInstance();\n\n        // \u5f9e\u5916\u90e8\u5efa\u7acb\u5167\u90e8\u985e\u5225\u5be6\u4f8b\n        OuterClass.InnerClass inner = outer.new InnerClass();\n        inner.displayInfo();\n        inner.accessOuterThis();\n\n        // \u932f\u8aa4\u7684\u5efa\u7acb\u65b9\u5f0f\n        // OuterClass.InnerClass wrongInner = new OuterClass.InnerClass(); // \u7de8\u8b6f\u932f\u8aa4\n\n        System.out.println(\"\u5167\u90e8\u985e\u5225\u5e38\u6578: \" + OuterClass.InnerClass.CONSTANT);\n    }\n}\n</code></pre>"},{"location":"java/advanced/10-nested-class-lambda/#local-inner-class","title":"\u5340\u57df\u5167\u90e8\u985e\u5225 (Local Inner Class)","text":"Java<pre><code>public class LocalInnerClassExample {\n    private String outerField = \"\u5916\u90e8\u6b04\u4f4d\";\n\n    public void methodWithLocalClass(final String parameter, String nonFinalParam) {\n        String localVar = \"\u5340\u57df\u8b8a\u6578\";\n        final String finalLocalVar = \"final \u5340\u57df\u8b8a\u6578\";\n\n        // \u5340\u57df\u5167\u90e8\u985e\u5225\n        class LocalInnerClass {\n            private String innerField = \"\u5340\u57df\u5167\u90e8\u985e\u5225\u6b04\u4f4d\";\n\n            public void display() {\n                System.out.println(\"\u5b58\u53d6\u5916\u90e8\u6b04\u4f4d: \" + outerField);\n                System.out.println(\"\u5b58\u53d6\u5167\u90e8\u6b04\u4f4d: \" + innerField);\n\n                // \u53ef\u4ee5\u5b58\u53d6 final \u6216 effectively final \u7684\u5340\u57df\u8b8a\u6578\n                System.out.println(\"\u5b58\u53d6 final \u53c3\u6578: \" + parameter);\n                System.out.println(\"\u5b58\u53d6 final \u5340\u57df\u8b8a\u6578: \" + finalLocalVar);\n\n                // Java 8 \u524d\u9700\u8981\u660e\u78ba\u6a19\u8a18 final\uff0cJava 8+ \u652f\u63f4 effectively final\n                System.out.println(\"\u5b58\u53d6 effectively final \u8b8a\u6578: \" + localVar);\n\n                // \u7121\u6cd5\u5b58\u53d6\u975e final \u7684\u5340\u57df\u8b8a\u6578\uff08\u5982\u679c\u5b83\u88ab\u4fee\u6539\uff09\n                // System.out.println(nonFinalParam); // \u5982\u679c nonFinalParam \u5728\u5f8c\u9762\u88ab\u4fee\u6539\uff0c\u9019\u88e1\u6703\u7de8\u8b6f\u932f\u8aa4\n            }\n\n            // \u5340\u57df\u5167\u90e8\u985e\u5225\u4e5f\u4e0d\u80fd\u6709\u975c\u614b\u6210\u54e1\n            // static String staticField; // \u7de8\u8b6f\u932f\u8aa4\n        }\n\n        // \u53ea\u80fd\u5728\u5b9a\u7fa9\u7684\u65b9\u6cd5\u5167\u4f7f\u7528\u5340\u57df\u5167\u90e8\u985e\u5225\n        LocalInnerClass localInner = new LocalInnerClass();\n        localInner.display();\n\n        // \u5982\u679c\u4fee\u6539\u975e final \u8b8a\u6578\uff0c\u4e0a\u9762\u5b58\u53d6\u5b83\u7684\u7a0b\u5f0f\u78bc\u5c31\u6703\u7de8\u8b6f\u932f\u8aa4\n        // nonFinalParam = \"\u4fee\u6539\u5f8c\u7684\u503c\"; // \u9019\u6703\u8b93\u4e0a\u9762\u7684\u5b58\u53d6\u8b8a\u6210\u7de8\u8b6f\u932f\u8aa4\n    }\n\n    // \u5be6\u969b\u61c9\u7528\uff1a\u4e8b\u4ef6\u8655\u7406\n    public interface EventListener {\n        void onEvent(String eventData);\n    }\n\n    public void registerEventHandler(String eventType) {\n        String handlerName = \"Handler for \" + eventType;\n\n        class CustomEventHandler implements EventListener {\n            @Override\n            public void onEvent(String eventData) {\n                System.out.printf(\"[%s] \u8655\u7406\u4e8b\u4ef6: %s%n\", handlerName, eventData);\n            }\n        }\n\n        // \u8a3b\u518a\u4e8b\u4ef6\u8655\u7406\u5668\n        EventListener handler = new CustomEventHandler();\n        simulateEvent(handler, \"\u6e2c\u8a66\u4e8b\u4ef6\");\n    }\n\n    private void simulateEvent(EventListener listener, String data) {\n        listener.onEvent(data);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u5340\u57df\u5167\u90e8\u985e\u5225\u793a\u7bc4 ===\");\n\n        LocalInnerClassExample example = new LocalInnerClassExample();\n        example.methodWithLocalClass(\"final\u53c3\u6578\", \"\u975efinal\u53c3\u6578\");\n\n        System.out.println(\"\\n=== \u4e8b\u4ef6\u8655\u7406\u61c9\u7528 ===\");\n        example.registerEventHandler(\"UserClick\");\n        example.registerEventHandler(\"DataUpdate\");\n    }\n}\n</code></pre>"},{"location":"java/advanced/10-nested-class-lambda/#anonymous-inner-class","title":"\u533f\u540d\u5167\u90e8\u985e\u5225 (Anonymous Inner Class)","text":"Java<pre><code>import java.util.*;\nimport java.util.concurrent.*;\n\npublic class AnonymousInnerClassExample {\n\n    // \u62bd\u8c61\u985e\u5225\u7bc4\u4f8b\n    abstract static class Animal {\n        protected String name;\n\n        public Animal(String name) {\n            this.name = name;\n        }\n\n        public abstract void makeSound();\n\n        public void eat() {\n            System.out.println(name + \" \u6b63\u5728\u5403\u6771\u897f\");\n        }\n    }\n\n    // \u4ecb\u9762\u7bc4\u4f8b\n    interface Drawable {\n        void draw();\n        default void erase() {\n            System.out.println(\"\u64e6\u9664\u7e6a\u5716\");\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u533f\u540d\u5167\u90e8\u985e\u5225\u57fa\u790e ===\");\n\n        // \u7e7c\u627f\u62bd\u8c61\u985e\u5225\u7684\u533f\u540d\u985e\u5225\n        Animal dog = new Animal(\"\u5c0f\u72d7\") {\n            @Override\n            public void makeSound() {\n                System.out.println(name + \" \u6c6a\u6c6a\u53eb\");\n            }\n\n            // \u53ef\u4ee5\u6dfb\u52a0\u65b0\u65b9\u6cd5\uff0c\u4f46\u53ea\u80fd\u5728\u9019\u500b\u533f\u540d\u985e\u5225\u5167\u90e8\u4f7f\u7528\n            public void wagTail() {\n                System.out.println(name + \" \u6416\u5c3e\u5df4\");\n            }\n\n            @Override\n            public void eat() {\n                super.eat();\n                System.out.println(name + \" \u5403\u72d7\u7ce7\");\n            }\n        };\n\n        dog.makeSound();\n        dog.eat();\n        // dog.wagTail(); // \u7de8\u8b6f\u932f\u8aa4\uff1a\u7121\u6cd5\u5b58\u53d6\u533f\u540d\u985e\u5225\u7684\u65b0\u65b9\u6cd5\n\n        // \u5be6\u4f5c\u4ecb\u9762\u7684\u533f\u540d\u985e\u5225\n        Drawable circle = new Drawable() {\n            private double radius = 5.0;\n\n            @Override\n            public void draw() {\n                System.out.println(\"\u7e6a\u88fd\u534a\u5f91\u70ba \" + radius + \" \u7684\u5713\u5f62\");\n            }\n\n            public double getArea() {\n                return Math.PI * radius * radius;\n            }\n        };\n\n        circle.draw();\n        circle.erase();\n\n        // \u5be6\u969b\u61c9\u7528\u7bc4\u4f8b\n        comparatorExample();\n        eventHandlingExample();\n        threadExample();\n        timerExample();\n    }\n\n    // Comparator \u61c9\u7528\n    public static void comparatorExample() {\n        System.out.println(\"\\n=== Comparator \u533f\u540d\u985e\u5225\u61c9\u7528 ===\");\n\n        List&lt;String&gt; words = Arrays.asList(\"banana\", \"apple\", \"cherry\", \"date\");\n        System.out.println(\"\u539f\u59cb\u9806\u5e8f: \" + words);\n\n        // \u6309\u9577\u5ea6\u6392\u5e8f\u7684\u533f\u540d Comparator\n        words.sort(new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String s1, String s2) {\n                int lengthComparison = Integer.compare(s1.length(), s2.length());\n                if (lengthComparison != 0) {\n                    return lengthComparison;\n                }\n                return s1.compareTo(s2); // \u9577\u5ea6\u76f8\u540c\u6642\u6309\u5b57\u6bcd\u9806\u5e8f\n            }\n        });\n\n        System.out.println(\"\u6309\u9577\u5ea6\u6392\u5e8f: \" + words);\n\n        // \u6309\u5b57\u6bcd\u5012\u5e8f\u6392\u5e8f\n        words.sort(new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String s1, String s2) {\n                return s2.compareTo(s1);\n            }\n        });\n\n        System.out.println(\"\u6309\u5b57\u6bcd\u5012\u5e8f: \" + words);\n    }\n\n    // \u4e8b\u4ef6\u8655\u7406\u61c9\u7528\n    public static void eventHandlingExample() {\n        System.out.println(\"\\n=== \u4e8b\u4ef6\u8655\u7406\u533f\u540d\u985e\u5225\u61c9\u7528 ===\");\n\n        interface ButtonClickListener {\n            void onClick(String buttonName);\n        }\n\n        class Button {\n            private String name;\n            private ButtonClickListener listener;\n\n            public Button(String name) {\n                this.name = name;\n            }\n\n            public void setClickListener(ButtonClickListener listener) {\n                this.listener = listener;\n            }\n\n            public void click() {\n                if (listener != null) {\n                    listener.onClick(name);\n                }\n            }\n        }\n\n        Button saveButton = new Button(\"\u5132\u5b58\u6309\u9215\");\n        Button cancelButton = new Button(\"\u53d6\u6d88\u6309\u9215\");\n\n        // \u70ba\u6bcf\u500b\u6309\u9215\u8a2d\u5b9a\u4e0d\u540c\u7684\u9ede\u64ca\u8655\u7406\n        saveButton.setClickListener(new ButtonClickListener() {\n            @Override\n            public void onClick(String buttonName) {\n                System.out.println(buttonName + \" \u88ab\u9ede\u64ca - \u57f7\u884c\u5132\u5b58\u64cd\u4f5c\");\n                System.out.println(\"\u6b63\u5728\u5132\u5b58\u8cc7\u6599...\");\n            }\n        });\n\n        cancelButton.setClickListener(new ButtonClickListener() {\n            @Override\n            public void onClick(String buttonName) {\n                System.out.println(buttonName + \" \u88ab\u9ede\u64ca - \u57f7\u884c\u53d6\u6d88\u64cd\u4f5c\");\n                System.out.println(\"\u53d6\u6d88\u7576\u524d\u64cd\u4f5c\");\n            }\n        });\n\n        // \u6a21\u64ec\u6309\u9215\u9ede\u64ca\n        saveButton.click();\n        cancelButton.click();\n    }\n\n    // \u57f7\u884c\u7dd2\u61c9\u7528\n    public static void threadExample() {\n        System.out.println(\"\\n=== \u57f7\u884c\u7dd2\u533f\u540d\u985e\u5225\u61c9\u7528 ===\");\n\n        // \u4f7f\u7528\u533f\u540d Runnable\n        Thread thread1 = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for (int i = 1; i &lt;= 3; i++) {\n                    System.out.println(\"\u57f7\u884c\u7dd2 1 - \u8a08\u6578: \" + i);\n                    try {\n                        Thread.sleep(1000);\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                    }\n                }\n            }\n        });\n\n        // \u53e6\u4e00\u500b\u533f\u540d Runnable\n        Thread thread2 = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                for (char c = 'A'; c &lt;= 'C'; c++) {\n                    System.out.println(\"\u57f7\u884c\u7dd2 2 - \u5b57\u6bcd: \" + c);\n                    try {\n                        Thread.sleep(1200);\n                    } catch (InterruptedException e) {\n                        Thread.currentThread().interrupt();\n                    }\n                }\n            }\n        });\n\n        thread1.start();\n        thread2.start();\n\n        try {\n            thread1.join();\n            thread2.join();\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n\n        System.out.println(\"\u6240\u6709\u57f7\u884c\u7dd2\u5b8c\u6210\");\n    }\n\n    // Timer \u61c9\u7528\n    public static void timerExample() {\n        System.out.println(\"\\n=== Timer \u533f\u540d\u985e\u5225\u61c9\u7528 ===\");\n\n        Timer timer = new Timer();\n\n        // \u533f\u540d TimerTask\n        timer.schedule(new TimerTask() {\n            private int count = 0;\n\n            @Override\n            public void run() {\n                count++;\n                System.out.println(\"\u5b9a\u6642\u4efb\u52d9\u57f7\u884c\u7b2c \" + count + \" \u6b21\");\n\n                if (count &gt;= 3) {\n                    timer.cancel();\n                    System.out.println(\"\u5b9a\u6642\u5668\u5df2\u505c\u6b62\");\n                }\n            }\n        }, 1000, 1000); // \u5ef6\u9072 1 \u79d2\uff0c\u7136\u5f8c\u6bcf 1 \u79d2\u57f7\u884c\u4e00\u6b21\n\n        // \u7b49\u5f85\u5b9a\u6642\u5668\u5b8c\u6210\n        try {\n            Thread.sleep(4000);\n        } catch (InterruptedException e) {\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>"},{"location":"java/advanced/10-nested-class-lambda/#static-nested-class","title":"\u975c\u614b\u5de2\u72c0\u985e\u5225 (Static Nested Class)","text":"Java<pre><code>public class StaticNestedClassExample {\n    private static String staticOuterField = \"\u975c\u614b\u5916\u90e8\u6b04\u4f4d\";\n    private String instanceOuterField = \"\u5be6\u4f8b\u5916\u90e8\u6b04\u4f4d\";\n\n    // \u975c\u614b\u5de2\u72c0\u985e\u5225\n    public static class StaticNestedClass {\n        private String nestedField = \"\u5de2\u72c0\u985e\u5225\u6b04\u4f4d\";\n        private static String staticNestedField = \"\u975c\u614b\u5de2\u72c0\u6b04\u4f4d\";\n\n        public void display() {\n            // \u53ef\u4ee5\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u975c\u614b\u6210\u54e1\n            System.out.println(\"\u5b58\u53d6\u5916\u90e8\u975c\u614b\u6b04\u4f4d: \" + staticOuterField);\n\n            // \u7121\u6cd5\u76f4\u63a5\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u5be6\u4f8b\u6210\u54e1\n            // System.out.println(instanceOuterField); // \u7de8\u8b6f\u932f\u8aa4\n\n            System.out.println(\"\u5de2\u72c0\u985e\u5225\u6b04\u4f4d: \" + nestedField);\n            System.out.println(\"\u975c\u614b\u5de2\u72c0\u6b04\u4f4d: \" + staticNestedField);\n        }\n\n        public void accessInstanceMember() {\n            // \u9700\u8981\u5916\u90e8\u985e\u5225\u7684\u5be6\u4f8b\u624d\u80fd\u5b58\u53d6\u5be6\u4f8b\u6210\u54e1\n            StaticNestedClassExample outer = new StaticNestedClassExample();\n            System.out.println(\"\u900f\u904e\u5be6\u4f8b\u5b58\u53d6: \" + outer.instanceOuterField);\n        }\n\n        // \u975c\u614b\u5de2\u72c0\u985e\u5225\u53ef\u4ee5\u6709\u975c\u614b\u6210\u54e1\n        public static void staticMethod() {\n            System.out.println(\"\u975c\u614b\u5de2\u72c0\u985e\u5225\u7684\u975c\u614b\u65b9\u6cd5\");\n            System.out.println(\"\u5b58\u53d6\u5916\u90e8\u975c\u614b\u6b04\u4f4d: \" + staticOuterField);\n            // System.out.println(staticNestedField); // \u7121\u6cd5\u5b58\u53d6\u975e\u975c\u614b\u6210\u54e1\n        }\n    }\n\n    // \u5be6\u969b\u61c9\u7528\uff1aBuilder \u6a21\u5f0f\n    public static class Person {\n        private String name;\n        private int age;\n        private String email;\n        private String phone;\n\n        // \u79c1\u6709\u5efa\u69cb\u5b50\uff0c\u53ea\u80fd\u900f\u904e Builder \u5efa\u7acb\n        private Person(Builder builder) {\n            this.name = builder.name;\n            this.age = builder.age;\n            this.email = builder.email;\n            this.phone = builder.phone;\n        }\n\n        // \u975c\u614b\u5de2\u72c0 Builder \u985e\u5225\n        public static class Builder {\n            private String name;\n            private int age;\n            private String email;\n            private String phone;\n\n            public Builder(String name) {\n                this.name = name; // name \u662f\u5fc5\u8981\u7684\n            }\n\n            public Builder age(int age) {\n                this.age = age;\n                return this;\n            }\n\n            public Builder email(String email) {\n                this.email = email;\n                return this;\n            }\n\n            public Builder phone(String phone) {\n                this.phone = phone;\n                return this;\n            }\n\n            public Person build() {\n                return new Person(this);\n            }\n        }\n\n        @Override\n        public String toString() {\n            return String.format(\"Person{name='%s', age=%d, email='%s', phone='%s'}\", \n                               name, age, email, phone);\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u975c\u614b\u5de2\u72c0\u985e\u5225\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u975c\u614b\u5de2\u72c0\u985e\u5225\u5be6\u4f8b\uff08\u4e0d\u9700\u8981\u5916\u90e8\u985e\u5225\u5be6\u4f8b\uff09\n        StaticNestedClass nested = new StaticNestedClass();\n        nested.display();\n        nested.accessInstanceMember();\n\n        // \u547c\u53eb\u975c\u614b\u5de2\u72c0\u985e\u5225\u7684\u975c\u614b\u65b9\u6cd5\n        StaticNestedClass.staticMethod();\n\n        // \u5b58\u53d6\u975c\u614b\u5de2\u72c0\u985e\u5225\u7684\u975c\u614b\u6210\u54e1\n        System.out.println(\"\u975c\u614b\u5de2\u72c0\u6b04\u4f4d: \" + StaticNestedClass.staticNestedField);\n\n        // Builder \u6a21\u5f0f\u61c9\u7528\n        System.out.println(\"\\n=== Builder \u6a21\u5f0f\u61c9\u7528 ===\");\n\n        Person person1 = new Person.Builder(\"\u5f35\u5c0f\u660e\")\n                            .age(25)\n                            .email(\"zhang@example.com\")\n                            .build();\n\n        Person person2 = new Person.Builder(\"\u674e\u5c0f\u83ef\")\n                            .age(30)\n                            .email(\"li@example.com\")\n                            .phone(\"0912-345-678\")\n                            .build();\n\n        System.out.println(\"Person 1: \" + person1);\n        System.out.println(\"Person 2: \" + person2);\n    }\n}\n</code></pre>"},{"location":"java/advanced/10-nested-class-lambda/#lambda_1","title":"Lambda \u8868\u9054\u5f0f\u57fa\u790e","text":"<p>Lambda \u8868\u9054\u5f0f\u662f Java 8 \u5f15\u5165\u7684\u91cd\u8981\u7279\u6027\uff0c\u63d0\u4f9b\u7c21\u6f54\u7684\u65b9\u5f0f\u4f86\u8868\u793a\u51fd\u6578\u5f0f\u4ecb\u9762\u7684\u5be6\u4f8b\u3002</p>"},{"location":"java/advanced/10-nested-class-lambda/#lambda_2","title":"Lambda \u8a9e\u6cd5\u8207\u57fa\u672c\u7528\u6cd5","text":"Java<pre><code>import java.util.*;\nimport java.util.function.*;\n\npublic class LambdaBasics {\n    public static void main(String[] args) {\n        System.out.println(\"=== Lambda \u57fa\u672c\u8a9e\u6cd5 ===\");\n\n        // \u50b3\u7d71\u533f\u540d\u5167\u90e8\u985e\u5225\n        Runnable traditional = new Runnable() {\n            @Override\n            public void run() {\n                System.out.println(\"\u50b3\u7d71\u533f\u540d\u5167\u90e8\u985e\u5225\");\n            }\n        };\n\n        // Lambda \u8868\u9054\u5f0f\u7b49\u50f9\u5beb\u6cd5\n        Runnable lambda = () -&gt; System.out.println(\"Lambda \u8868\u9054\u5f0f\");\n\n        traditional.run();\n        lambda.run();\n\n        // \u4e0d\u540c\u5f62\u5f0f\u7684 Lambda \u8868\u9054\u5f0f\n        lambdaSyntaxVariations();\n\n        // \u4f7f\u7528\u5167\u5efa\u51fd\u6578\u5f0f\u4ecb\u9762\n        builtInFunctionalInterfaces();\n\n        // \u96c6\u5408\u64cd\u4f5c\u4e2d\u7684 Lambda\n        collectionLambdaExamples();\n    }\n\n    public static void lambdaSyntaxVariations() {\n        System.out.println(\"\\n=== Lambda \u8a9e\u6cd5\u8b8a\u5316 ===\");\n\n        // \u7121\u53c3\u6578 Lambda\n        Runnable noParam = () -&gt; System.out.println(\"\u7121\u53c3\u6578 Lambda\");\n        noParam.run();\n\n        // \u55ae\u53c3\u6578 Lambda\uff08\u53ef\u7701\u7565\u62ec\u865f\uff09\n        Consumer&lt;String&gt; singleParam = s -&gt; System.out.println(\"\u55ae\u53c3\u6578: \" + s);\n        singleParam.accept(\"Hello\");\n\n        // \u55ae\u53c3\u6578 Lambda\uff08\u4f7f\u7528\u62ec\u865f\uff09\n        Consumer&lt;String&gt; singleParamWithParens = (s) -&gt; System.out.println(\"\u62ec\u865f: \" + s);\n        singleParamWithParens.accept(\"World\");\n\n        // \u591a\u53c3\u6578 Lambda\n        BinaryOperator&lt;Integer&gt; multiParam = (a, b) -&gt; a + b;\n        System.out.println(\"\u591a\u53c3\u6578\u7d50\u679c: \" + multiParam.apply(5, 3));\n\n        // \u591a\u884c Lambda\uff08\u9700\u8981\u5927\u62ec\u865f\u548c return\uff09\n        BinaryOperator&lt;Integer&gt; multiLine = (a, b) -&gt; {\n            int sum = a + b;\n            System.out.println(\"\u8a08\u7b97 \" + a + \" + \" + b + \" = \" + sum);\n            return sum;\n        };\n        multiLine.apply(10, 20);\n\n        // \u660e\u78ba\u6307\u5b9a\u53c3\u6578\u578b\u5225\n        Comparator&lt;String&gt; explicitType = (String s1, String s2) -&gt; s1.length() - s2.length();\n        System.out.println(\"\u9577\u5ea6\u6bd4\u8f03: \" + explicitType.compare(\"short\", \"longer\"));\n    }\n\n    public static void builtInFunctionalInterfaces() {\n        System.out.println(\"\\n=== \u5167\u5efa\u51fd\u6578\u5f0f\u4ecb\u9762 ===\");\n\n        // Predicate&lt;T&gt; - \u5224\u65b7\u689d\u4ef6\n        Predicate&lt;Integer&gt; isEven = n -&gt; n % 2 == 0;\n        System.out.println(\"4 \u662f\u5076\u6578: \" + isEven.test(4));\n        System.out.println(\"5 \u662f\u5076\u6578: \" + isEven.test(5));\n\n        // Function&lt;T, R&gt; - \u8f49\u63db\u51fd\u6578\n        Function&lt;String, Integer&gt; stringLength = s -&gt; s.length();\n        System.out.println(\"\u5b57\u4e32\u9577\u5ea6: \" + stringLength.apply(\"Lambda\"));\n\n        // Consumer&lt;T&gt; - \u6d88\u8cbb\u8005\uff08\u7121\u8fd4\u56de\u503c\uff09\n        Consumer&lt;String&gt; printer = s -&gt; System.out.println(\"\u5217\u5370: \" + s);\n        printer.accept(\"Consumer \u7bc4\u4f8b\");\n\n        // Supplier&lt;T&gt; - \u4f9b\u61c9\u8005\uff08\u7121\u53c3\u6578\uff0c\u6709\u8fd4\u56de\u503c\uff09\n        Supplier&lt;Double&gt; randomValue = () -&gt; Math.random();\n        System.out.println(\"\u96a8\u6a5f\u6578: \" + randomValue.get());\n\n        // BiFunction&lt;T, U, R&gt; - \u96d9\u53c3\u6578\u51fd\u6578\n        BiFunction&lt;Integer, Integer, String&gt; calculator = (a, b) -&gt; \n            String.format(\"%d + %d = %d\", a, b, a + b);\n        System.out.println(calculator.apply(15, 25));\n\n        // UnaryOperator&lt;T&gt; - \u4e00\u5143\u64cd\u4f5c\u7b26\n        UnaryOperator&lt;String&gt; toUpperCase = s -&gt; s.toUpperCase();\n        System.out.println(\"\u8f49\u5927\u5beb: \" + toUpperCase.apply(\"hello\"));\n\n        // BinaryOperator&lt;T&gt; - \u4e8c\u5143\u64cd\u4f5c\u7b26\n        BinaryOperator&lt;Integer&gt; max = (a, b) -&gt; Math.max(a, b);\n        System.out.println(\"\u6700\u5927\u503c: \" + max.apply(10, 20));\n    }\n\n    public static void collectionLambdaExamples() {\n        System.out.println(\"\\n=== \u96c6\u5408\u4e2d\u7684 Lambda \u61c9\u7528 ===\");\n\n        List&lt;String&gt; names = Arrays.asList(\"Alice\", \"Bob\", \"Charlie\", \"David\", \"Eve\");\n\n        // forEach\n        System.out.println(\"\u6240\u6709\u540d\u5b57:\");\n        names.forEach(name -&gt; System.out.println(\"- \" + name));\n\n        // \u6392\u5e8f\n        List&lt;String&gt; sortedNames = new ArrayList&lt;&gt;(names);\n        sortedNames.sort((a, b) -&gt; a.length() - b.length());\n        System.out.println(\"\u6309\u9577\u5ea6\u6392\u5e8f: \" + sortedNames);\n\n        // removeIf\n        List&lt;String&gt; filteredNames = new ArrayList&lt;&gt;(names);\n        filteredNames.removeIf(name -&gt; name.startsWith(\"A\"));\n        System.out.println(\"\u79fb\u9664 A \u958b\u982d\u7684\u540d\u5b57: \" + filteredNames);\n\n        // Map \u64cd\u4f5c\n        Map&lt;String, Integer&gt; nameLength = new HashMap&lt;&gt;();\n        names.forEach(name -&gt; nameLength.put(name, name.length()));\n\n        System.out.println(\"\u540d\u5b57\u9577\u5ea6\u5c0d\u61c9:\");\n        nameLength.forEach((name, length) -&gt; \n            System.out.printf(\"%-8s: %d%n\", name, length));\n\n        // \u8907\u96dc\u7684 Lambda \u8868\u9054\u5f0f\n        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n\n        numbers.stream()\n               .filter(n -&gt; n % 2 == 0)           // \u904e\u6ffe\u5076\u6578\n               .map(n -&gt; n * n)                   // \u8a08\u7b97\u5e73\u65b9\n               .forEach(n -&gt; System.out.print(n + \" \"));\n\n        System.out.println(\"\\n\u5076\u6578\u7684\u5e73\u65b9\");\n    }\n}\n</code></pre>"},{"location":"java/advanced/10-nested-class-lambda/#method-references","title":"\u65b9\u6cd5\u53c3\u8003 (Method References)","text":"Java<pre><code>import java.util.*;\nimport java.util.function.*;\n\npublic class MethodReferences {\n\n    // \u975c\u614b\u65b9\u6cd5\n    public static int staticMethod(int x, int y) {\n        return x + y;\n    }\n\n    // \u5be6\u4f8b\u65b9\u6cd5\n    public int instanceMethod(int x, int y) {\n        return x * y;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u65b9\u6cd5\u53c3\u8003 vs Lambda ===\");\n\n        staticMethodReferences();\n        instanceMethodReferences();\n        constructorReferences();\n        arbitraryObjectMethodReferences();\n    }\n\n    // \u975c\u614b\u65b9\u6cd5\u53c3\u8003\n    public static void staticMethodReferences() {\n        System.out.println(\"\\n=== \u975c\u614b\u65b9\u6cd5\u53c3\u8003 ===\");\n\n        // Lambda \u8868\u9054\u5f0f\n        BinaryOperator&lt;Integer&gt; lambdaAdd = (x, y) -&gt; Integer.sum(x, y);\n\n        // \u975c\u614b\u65b9\u6cd5\u53c3\u8003\n        BinaryOperator&lt;Integer&gt; methodRefAdd = Integer::sum;\n\n        System.out.println(\"Lambda \u7d50\u679c: \" + lambdaAdd.apply(5, 3));\n        System.out.println(\"\u65b9\u6cd5\u53c3\u8003\u7d50\u679c: \" + methodRefAdd.apply(5, 3));\n\n        // \u66f4\u591a\u975c\u614b\u65b9\u6cd5\u53c3\u8003\u7bc4\u4f8b\n        Function&lt;String, Integer&gt; parseInt = Integer::parseInt;\n        System.out.println(\"\u89e3\u6790\u5b57\u4e32: \" + parseInt.apply(\"123\"));\n\n        Function&lt;Double, Double&gt; sqrt = Math::sqrt;\n        System.out.println(\"\u5e73\u65b9\u6839: \" + sqrt.apply(16.0));\n\n        // \u81ea\u5b9a\u7fa9\u975c\u614b\u65b9\u6cd5\u53c3\u8003\n        BinaryOperator&lt;Integer&gt; customStatic = MethodReferences::staticMethod;\n        System.out.println(\"\u81ea\u5b9a\u7fa9\u975c\u614b\u65b9\u6cd5: \" + customStatic.apply(10, 20));\n    }\n\n    // \u5be6\u4f8b\u65b9\u6cd5\u53c3\u8003\n    public static void instanceMethodReferences() {\n        System.out.println(\"\\n=== \u5be6\u4f8b\u65b9\u6cd5\u53c3\u8003 ===\");\n\n        MethodReferences obj = new MethodReferences();\n\n        // \u7279\u5b9a\u7269\u4ef6\u7684\u5be6\u4f8b\u65b9\u6cd5\u53c3\u8003\n        BinaryOperator&lt;Integer&gt; instanceRef = obj::instanceMethod;\n        System.out.println(\"\u5be6\u4f8b\u65b9\u6cd5\u53c3\u8003: \" + instanceRef.apply(4, 5));\n\n        // \u5b57\u4e32\u65b9\u6cd5\u53c3\u8003\n        List&lt;String&gt; words = Arrays.asList(\"apple\", \"BANANA\", \"Cherry\");\n\n        // Lambda \u7248\u672c\n        words.stream()\n             .map(s -&gt; s.toLowerCase())\n             .forEach(s -&gt; System.out.println(\"Lambda: \" + s));\n\n        // \u65b9\u6cd5\u53c3\u8003\u7248\u672c\n        words.stream()\n             .map(String::toLowerCase)\n             .forEach(System.out::println);\n    }\n\n    // \u5efa\u69cb\u5b50\u53c3\u8003\n    public static void constructorReferences() {\n        System.out.println(\"\\n=== \u5efa\u69cb\u5b50\u53c3\u8003 ===\");\n\n        // ArrayList \u5efa\u69cb\u5b50\u53c3\u8003\n        Supplier&lt;List&lt;String&gt;&gt; listSupplier = ArrayList::new;\n        List&lt;String&gt; list = listSupplier.get();\n        list.add(\"Item 1\");\n        System.out.println(\"\u5efa\u7acb\u7684\u5217\u8868: \" + list);\n\n        // String \u5efa\u69cb\u5b50\u53c3\u8003\n        Function&lt;char[], String&gt; stringConstructor = String::new;\n        String str = stringConstructor.apply(new char[]{'H', 'e', 'l', 'l', 'o'});\n        System.out.println(\"\u5efa\u69cb\u7684\u5b57\u4e32: \" + str);\n\n        // \u81ea\u5b9a\u7fa9\u985e\u5225\u5efa\u69cb\u5b50\u53c3\u8003\n        class Person {\n            private String name;\n            private int age;\n\n            public Person(String name) {\n                this.name = name;\n                this.age = 0;\n            }\n\n            public Person(String name, int age) {\n                this.name = name;\n                this.age = age;\n            }\n\n            @Override\n            public String toString() {\n                return String.format(\"Person{name='%s', age=%d}\", name, age);\n            }\n        }\n\n        // \u55ae\u53c3\u6578\u5efa\u69cb\u5b50\u53c3\u8003\n        Function&lt;String, Person&gt; personCreator1 = Person::new;\n        Person person1 = personCreator1.apply(\"Alice\");\n        System.out.println(\"\u5efa\u7acb\u7684\u4eba\u72691: \" + person1);\n\n        // \u96d9\u53c3\u6578\u5efa\u69cb\u5b50\u53c3\u8003\n        BiFunction&lt;String, Integer, Person&gt; personCreator2 = Person::new;\n        Person person2 = personCreator2.apply(\"Bob\", 25);\n        System.out.println(\"\u5efa\u7acb\u7684\u4eba\u72692: \" + person2);\n    }\n\n    // \u4efb\u610f\u7269\u4ef6\u7684\u5be6\u4f8b\u65b9\u6cd5\u53c3\u8003\n    public static void arbitraryObjectMethodReferences() {\n        System.out.println(\"\\n=== \u4efb\u610f\u7269\u4ef6\u7684\u5be6\u4f8b\u65b9\u6cd5\u53c3\u8003 ===\");\n\n        List&lt;String&gt; words = Arrays.asList(\"banana\", \"apple\", \"cherry\", \"date\");\n\n        // \u4f7f\u7528\u4efb\u610f\u5b57\u4e32\u7269\u4ef6\u7684 compareToIgnoreCase \u65b9\u6cd5\n        words.sort(String::compareToIgnoreCase);\n        System.out.println(\"\u5ffd\u7565\u5927\u5c0f\u5beb\u6392\u5e8f: \" + words);\n\n        // \u5176\u4ed6\u7bc4\u4f8b\n        List&lt;String&gt; names = Arrays.asList(\"Alice\", \"Bob\", \"Charlie\");\n\n        // \u53d6\u5f97\u9577\u5ea6\n        names.stream()\n             .mapToInt(String::length)\n             .forEach(length -&gt; System.out.println(\"\u9577\u5ea6: \" + length));\n\n        // \u8f49\u63db\u70ba\u5927\u5beb\n        names.stream()\n             .map(String::toUpperCase)\n             .forEach(name -&gt; System.out.println(\"\u5927\u5beb: \" + name));\n\n        // \u6578\u5b57\u64cd\u4f5c\n        List&lt;Integer&gt; numbers = Arrays.asList(-3, -1, 2, -5, 4);\n        numbers.stream()\n               .map(Math::abs)  // \u53d6\u7d55\u5c0d\u503c\n               .sorted(Integer::compareTo)  // \u6392\u5e8f\n               .forEach(System.out::println);\n    }\n}\n</code></pre>"},{"location":"java/advanced/10-nested-class-lambda/#functional-interface","title":"\u51fd\u6578\u5f0f\u4ecb\u9762 (Functional Interface)","text":"<p>\u51fd\u6578\u5f0f\u4ecb\u9762\u662f\u53ea\u6709\u4e00\u500b\u62bd\u8c61\u65b9\u6cd5\u7684\u4ecb\u9762\uff0c\u53ef\u4ee5\u4f7f\u7528 Lambda \u8868\u9054\u5f0f\u4f86\u5be6\u4f5c\u3002</p>"},{"location":"java/advanced/10-nested-class-lambda/#_1","title":"\u81ea\u5b9a\u7fa9\u51fd\u6578\u5f0f\u4ecb\u9762","text":"Java<pre><code>import java.util.*;\nimport java.util.function.*;\n\n// \u81ea\u5b9a\u7fa9\u51fd\u6578\u5f0f\u4ecb\u9762\n@FunctionalInterface\ninterface Calculator {\n    double calculate(double a, double b);\n\n    // \u53ef\u4ee5\u6709\u9810\u8a2d\u65b9\u6cd5\n    default double square(double x) {\n        return calculate(x, x);\n    }\n\n    // \u53ef\u4ee5\u6709\u975c\u614b\u65b9\u6cd5\n    static double pi() {\n        return Math.PI;\n    }\n}\n\n@FunctionalInterface\ninterface StringProcessor {\n    String process(String input);\n\n    // \u7d44\u5408\u65b9\u6cd5\n    default StringProcessor andThen(StringProcessor after) {\n        return input -&gt; after.process(this.process(input));\n    }\n\n    default StringProcessor compose(StringProcessor before) {\n        return input -&gt; this.process(before.process(input));\n    }\n}\n\n@FunctionalInterface\ninterface Validator&lt;T&gt; {\n    boolean validate(T value);\n\n    default Validator&lt;T&gt; and(Validator&lt;T&gt; other) {\n        return value -&gt; this.validate(value) &amp;&amp; other.validate(value);\n    }\n\n    default Validator&lt;T&gt; or(Validator&lt;T&gt; other) {\n        return value -&gt; this.validate(value) || other.validate(value);\n    }\n\n    default Validator&lt;T&gt; negate() {\n        return value -&gt; !this.validate(value);\n    }\n}\n\npublic class FunctionalInterfaceExample {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u81ea\u5b9a\u7fa9\u51fd\u6578\u5f0f\u4ecb\u9762 ===\");\n\n        calculatorExamples();\n        stringProcessorExamples();\n        validatorExamples();\n        practicalExamples();\n    }\n\n    public static void calculatorExamples() {\n        System.out.println(\"\\n=== Calculator \u7bc4\u4f8b ===\");\n\n        // \u4e0d\u540c\u7684\u8a08\u7b97\u5668\u5be6\u4f5c\n        Calculator adder = (a, b) -&gt; a + b;\n        Calculator multiplier = (a, b) -&gt; a * b;\n        Calculator power = Math::pow;\n\n        double x = 5, y = 3;\n\n        System.out.printf(\"%.1f + %.1f = %.1f%n\", x, y, adder.calculate(x, y));\n        System.out.printf(\"%.1f * %.1f = %.1f%n\", x, y, multiplier.calculate(x, y));\n        System.out.printf(\"%.1f ^ %.1f = %.1f%n\", x, y, power.calculate(x, y));\n\n        // \u4f7f\u7528\u9810\u8a2d\u65b9\u6cd5\n        System.out.printf(\"%.1f \u7684\u5e73\u65b9 = %.1f%n\", x, adder.square(x));\n\n        // \u4f7f\u7528\u975c\u614b\u65b9\u6cd5\n        System.out.printf(\"\u03c0 = %.6f%n\", Calculator.pi());\n\n        // \u5efa\u7acb\u8a08\u7b97\u5668\u6620\u5c04\n        Map&lt;String, Calculator&gt; calculators = new HashMap&lt;&gt;();\n        calculators.put(\"add\", (a, b) -&gt; a + b);\n        calculators.put(\"subtract\", (a, b) -&gt; a - b);\n        calculators.put(\"multiply\", (a, b) -&gt; a * b);\n        calculators.put(\"divide\", (a, b) -&gt; b != 0 ? a / b : Double.NaN);\n\n        System.out.println(\"\\n\u8a08\u7b97\u5668\u6620\u5c04\u7bc4\u4f8b:\");\n        calculators.forEach((name, calc) -&gt; {\n            double result = calc.calculate(10, 3);\n            System.out.printf(\"%-8s: %.2f%n\", name, result);\n        });\n    }\n\n    public static void stringProcessorExamples() {\n        System.out.println(\"\\n=== StringProcessor \u7bc4\u4f8b ===\");\n\n        // \u57fa\u672c\u8655\u7406\u5668\n        StringProcessor toUpper = String::toUpperCase;\n        StringProcessor toLower = String::toLowerCase;\n        StringProcessor addPrefix = s -&gt; \"&gt;&gt;&gt; \" + s;\n        StringProcessor addSuffix = s -&gt; s + \" &lt;&lt;&lt;\";\n\n        String input = \"Hello World\";\n\n        System.out.println(\"\u539f\u59cb: \" + input);\n        System.out.println(\"\u5927\u5beb: \" + toUpper.process(input));\n        System.out.println(\"\u5c0f\u5beb: \" + toLower.process(input));\n        System.out.println(\"\u524d\u7db4: \" + addPrefix.process(input));\n        System.out.println(\"\u5f8c\u7db4: \" + addSuffix.process(input));\n\n        // \u7d44\u5408\u8655\u7406\u5668\n        StringProcessor combined = toUpper\n            .andThen(addPrefix)\n            .andThen(addSuffix);\n\n        System.out.println(\"\u7d44\u5408\u8655\u7406: \" + combined.process(input));\n\n        // \u4f7f\u7528 compose\n        StringProcessor composed = addSuffix\n            .compose(addPrefix)\n            .compose(toUpper);\n\n        System.out.println(\"Compose \u8655\u7406: \" + composed.process(input));\n\n        // \u8655\u7406\u5217\u8868\n        List&lt;String&gt; words = Arrays.asList(\"java\", \"lambda\", \"functional\");\n        System.out.println(\"\\n\u8655\u7406\u5217\u8868:\");\n        words.stream()\n             .map(combined::process)\n             .forEach(System.out::println);\n    }\n\n    public static void validatorExamples() {\n        System.out.println(\"\\n=== Validator \u7bc4\u4f8b ===\");\n\n        // \u4e0d\u540c\u7684\u9a57\u8b49\u5668\n        Validator&lt;String&gt; notNull = Objects::nonNull;\n        Validator&lt;String&gt; notEmpty = s -&gt; !s.isEmpty();\n        Validator&lt;String&gt; minLength = s -&gt; s.length() &gt;= 3;\n        Validator&lt;String&gt; maxLength = s -&gt; s.length() &lt;= 10;\n        Validator&lt;String&gt; containsDigit = s -&gt; s.matches(\".*\\\\d.*\");\n\n        // \u7d44\u5408\u9a57\u8b49\u5668\n        Validator&lt;String&gt; basicValidator = notNull.and(notEmpty);\n        Validator&lt;String&gt; lengthValidator = minLength.and(maxLength);\n        Validator&lt;String&gt; fullValidator = basicValidator\n            .and(lengthValidator)\n            .and(containsDigit);\n\n        // \u6e2c\u8a66\u6578\u64da\n        String[] testStrings = {\n            null,\n            \"\",\n            \"ab\",\n            \"abc123\",\n            \"verylongstring123\",\n            \"short\",\n            \"abc123def\"\n        };\n\n        System.out.println(\"\u5b57\u4e32\u9a57\u8b49\u7d50\u679c:\");\n        for (String test : testStrings) {\n            boolean isValid = fullValidator.validate(test);\n            System.out.printf(\"%-15s: %s%n\", \n                test == null ? \"null\" : \"\\\"\" + test + \"\\\"\", \n                isValid ? \"\u6709\u6548\" : \"\u7121\u6548\");\n        }\n\n        // \u6578\u5b57\u9a57\u8b49\u5668\n        Validator&lt;Integer&gt; positive = n -&gt; n &gt; 0;\n        Validator&lt;Integer&gt; lessThan100 = n -&gt; n &lt; 100;\n        Validator&lt;Integer&gt; even = n -&gt; n % 2 == 0;\n\n        Validator&lt;Integer&gt; numberValidator = positive\n            .and(lessThan100)\n            .and(even);\n\n        System.out.println(\"\\n\u6578\u5b57\u9a57\u8b49\u7d50\u679c:\");\n        int[] testNumbers = {-5, 0, 2, 15, 50, 100, 102};\n        for (int num : testNumbers) {\n            System.out.printf(\"%3d: %s%n\", num, \n                numberValidator.validate(num) ? \"\u6709\u6548\" : \"\u7121\u6548\");\n        }\n    }\n\n    public static void practicalExamples() {\n        System.out.println(\"\\n=== \u5be6\u969b\u61c9\u7528\u7bc4\u4f8b ===\");\n\n        // \u4e8b\u4ef6\u8655\u7406\u7cfb\u7d71\n        eventHandlingSystem();\n\n        // \u8cc7\u6599\u8655\u7406\u7ba1\u7dda\n        dataProcessingPipeline();\n    }\n\n    // \u4e8b\u4ef6\u8655\u7406\u7cfb\u7d71\n    @FunctionalInterface\n    interface EventHandler&lt;T&gt; {\n        void handle(T event);\n\n        default EventHandler&lt;T&gt; andThen(EventHandler&lt;T&gt; after) {\n            return event -&gt; {\n                this.handle(event);\n                after.handle(event);\n            };\n        }\n    }\n\n    public static void eventHandlingSystem() {\n        System.out.println(\"\\n--- \u4e8b\u4ef6\u8655\u7406\u7cfb\u7d71 ---\");\n\n        // \u4e0d\u540c\u7684\u4e8b\u4ef6\u8655\u7406\u5668\n        EventHandler&lt;String&gt; logger = event -&gt; System.out.println(\"[LOG] \" + event);\n        EventHandler&lt;String&gt; emailer = event -&gt; System.out.println(\"[EMAIL] \u767c\u9001\u901a\u77e5: \" + event);\n        EventHandler&lt;String&gt; database = event -&gt; System.out.println(\"[DB] \u5132\u5b58\u4e8b\u4ef6: \" + event);\n\n        // \u7d44\u5408\u4e8b\u4ef6\u8655\u7406\u5668\n        EventHandler&lt;String&gt; fullHandler = logger\n            .andThen(emailer)\n            .andThen(database);\n\n        // \u89f8\u767c\u4e8b\u4ef6\n        fullHandler.handle(\"\u7528\u6236\u767b\u5165\");\n        fullHandler.handle(\"\u8a02\u55ae\u5275\u5efa\");\n    }\n\n    // \u8cc7\u6599\u8655\u7406\u7ba1\u7dda\n    @FunctionalInterface\n    interface DataProcessor&lt;T, R&gt; {\n        R process(T data);\n\n        default &lt;V&gt; DataProcessor&lt;T, V&gt; andThen(DataProcessor&lt;R, V&gt; after) {\n            return data -&gt; after.process(this.process(data));\n        }\n    }\n\n    public static void dataProcessingPipeline() {\n        System.out.println(\"\\n--- \u8cc7\u6599\u8655\u7406\u7ba1\u7dda ---\");\n\n        // \u8655\u7406\u6b65\u9a5f\n        DataProcessor&lt;String, String&gt; trimmer = String::trim;\n        DataProcessor&lt;String, String&gt; toUpper = String::toUpperCase;\n        DataProcessor&lt;String, String[]&gt; splitter = s -&gt; s.split(\"\\\\s+\");\n        DataProcessor&lt;String[], Integer&gt; counter = array -&gt; array.length;\n\n        // \u5efa\u7acb\u8655\u7406\u7ba1\u7dda\n        DataProcessor&lt;String, Integer&gt; pipeline = trimmer\n            .andThen(toUpper)\n            .andThen(splitter)\n            .andThen(counter);\n\n        // \u6e2c\u8a66\u6578\u64da\n        String[] testInputs = {\n            \"  hello world  \",\n            \"java lambda expressions are powerful\",\n            \"   functional   programming   \"\n        };\n\n        System.out.println(\"\u5b57\u6578\u7d71\u8a08\u7d50\u679c:\");\n        for (String input : testInputs) {\n            int wordCount = pipeline.process(input);\n            System.out.printf(\"%-35s -&gt; %d \u500b\u5b57%n\", \"\\\"\" + input + \"\\\"\", wordCount);\n        }\n    }\n}\n</code></pre>"},{"location":"java/advanced/10-nested-class-lambda/#lambda_3","title":"Lambda \u5be6\u969b\u61c9\u7528","text":""},{"location":"java/advanced/10-nested-class-lambda/#_2","title":"\u96c6\u5408\u8655\u7406\u9032\u968e\u61c9\u7528","text":"Java<pre><code>import java.util.*;\nimport java.util.function.*;\nimport java.util.stream.*;\n\npublic class LambdaPracticalApplications {\n\n    // \u54e1\u5de5\u985e\u5225\n    static class Employee {\n        private String name;\n        private String department;\n        private double salary;\n        private int age;\n\n        public Employee(String name, String department, double salary, int age) {\n            this.name = name;\n            this.department = department;\n            this.salary = salary;\n            this.age = age;\n        }\n\n        // Getters\n        public String getName() { return name; }\n        public String getDepartment() { return department; }\n        public double getSalary() { return salary; }\n        public int getAge() { return age; }\n\n        @Override\n        public String toString() {\n            return String.format(\"%s(%s, $%.0f, %d\u6b72)\", \n                               name, department, salary, age);\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== Lambda \u5be6\u969b\u61c9\u7528 ===\");\n\n        // \u5efa\u7acb\u6e2c\u8a66\u8cc7\u6599\n        List&lt;Employee&gt; employees = Arrays.asList(\n            new Employee(\"\u5f35\u5c0f\u660e\", \"IT\", 75000, 28),\n            new Employee(\"\u674e\u5c0f\u83ef\", \"HR\", 55000, 32),\n            new Employee(\"\u738b\u5c0f\u7f8e\", \"IT\", 82000, 25),\n            new Employee(\"\u9673\u5c0f\u5f37\", \"Finance\", 68000, 35),\n            new Employee(\"\u6797\u5c0f\u9e97\", \"IT\", 71000, 29),\n            new Employee(\"\u8d99\u5c0f\u525b\", \"HR\", 62000, 31),\n            new Employee(\"\u5468\u5c0f\u6587\", \"Finance\", 73000, 33)\n        );\n\n        employeeAnalysis(employees);\n        customFunctionApplications();\n        eventDrivenProgramming();\n        configurationSystem();\n    }\n\n    public static void employeeAnalysis(List&lt;Employee&gt; employees) {\n        System.out.println(\"\\n=== \u54e1\u5de5\u8cc7\u6599\u5206\u6790 ===\");\n\n        // \u57fa\u672c\u7d71\u8a08\n        System.out.println(\"\u6240\u6709\u54e1\u5de5:\");\n        employees.forEach(System.out::println);\n\n        // \u6309\u90e8\u9580\u5206\u7d44\n        Map&lt;String, List&lt;Employee&gt;&gt; byDepartment = employees.stream()\n            .collect(Collectors.groupingBy(Employee::getDepartment));\n\n        System.out.println(\"\\n\u6309\u90e8\u9580\u5206\u7d44:\");\n        byDepartment.forEach((dept, empList) -&gt; {\n            System.out.printf(\"%s \u90e8\u9580 (%d \u4eba):%n\", dept, empList.size());\n            empList.forEach(emp -&gt; System.out.println(\"  \" + emp));\n        });\n\n        // \u85aa\u8cc7\u7d71\u8a08\n        DoubleSummaryStatistics salaryStats = employees.stream()\n            .mapToDouble(Employee::getSalary)\n            .summaryStatistics();\n\n        System.out.printf(\"\\n\u85aa\u8cc7\u7d71\u8a08:%n\");\n        System.out.printf(\"\u5e73\u5747\u85aa\u8cc7: $%.0f%n\", salaryStats.getAverage());\n        System.out.printf(\"\u6700\u9ad8\u85aa\u8cc7: $%.0f%n\", salaryStats.getMax());\n        System.out.printf(\"\u6700\u4f4e\u85aa\u8cc7: $%.0f%n\", salaryStats.getMin());\n        System.out.printf(\"\u7e3d\u85aa\u8cc7: $%.0f%n\", salaryStats.getSum());\n\n        // \u6309\u85aa\u8cc7\u7bc4\u570d\u5206\u7d44\n        Map&lt;String, List&lt;Employee&gt;&gt; salaryRanges = employees.stream()\n            .collect(Collectors.groupingBy(emp -&gt; {\n                if (emp.getSalary() &lt; 60000) return \"\u4f4e\u85aa\";\n                else if (emp.getSalary() &lt; 75000) return \"\u4e2d\u85aa\";\n                else return \"\u9ad8\u85aa\";\n            }));\n\n        System.out.println(\"\\n\u6309\u85aa\u8cc7\u7bc4\u570d\u5206\u7d44:\");\n        salaryRanges.forEach((range, empList) -&gt; {\n            System.out.printf(\"%s (%d \u4eba): \", range, empList.size());\n            empList.stream()\n                  .map(Employee::getName)\n                  .forEach(name -&gt; System.out.print(name + \" \"));\n            System.out.println();\n        });\n\n        // \u8907\u96dc\u67e5\u8a62\uff1aIT \u90e8\u9580\u4e2d\u85aa\u8cc7\u8d85\u904e 70000 \u7684\u54e1\u5de5\n        List&lt;Employee&gt; highPaidIT = employees.stream()\n            .filter(emp -&gt; \"IT\".equals(emp.getDepartment()))\n            .filter(emp -&gt; emp.getSalary() &gt; 70000)\n            .sorted(Comparator.comparing(Employee::getSalary).reversed())\n            .collect(Collectors.toList());\n\n        System.out.println(\"\\nIT \u90e8\u9580\u9ad8\u85aa\u54e1\u5de5:\");\n        highPaidIT.forEach(System.out::println);\n\n        // \u5e74\u9f61\u8207\u85aa\u8cc7\u7684\u76f8\u95dc\u6027\u5206\u6790\n        Map&lt;String, Double&gt; avgSalaryByAgeGroup = employees.stream()\n            .collect(Collectors.groupingBy(\n                emp -&gt; emp.getAge() &lt; 30 ? \"\u5e74\u8f15\" : \"\u8cc7\u6df1\",\n                Collectors.averagingDouble(Employee::getSalary)\n            ));\n\n        System.out.println(\"\\n\u4e0d\u540c\u5e74\u9f61\u7d44\u5e73\u5747\u85aa\u8cc7:\");\n        avgSalaryByAgeGroup.forEach((group, avgSalary) -&gt; \n            System.out.printf(\"%s\u54e1\u5de5\u5e73\u5747\u85aa\u8cc7: $%.0f%n\", group, avgSalary));\n    }\n\n    public static void customFunctionApplications() {\n        System.out.println(\"\\n=== \u81ea\u5b9a\u7fa9\u51fd\u6578\u61c9\u7528 ===\");\n\n        // \u6578\u5b78\u904b\u7b97\u51fd\u6578\u5eab\n        Map&lt;String, BinaryOperator&lt;Double&gt;&gt; mathOperations = Map.of(\n            \"add\", (a, b) -&gt; a + b,\n            \"subtract\", (a, b) -&gt; a - b,\n            \"multiply\", (a, b) -&gt; a * b,\n            \"divide\", (a, b) -&gt; b != 0 ? a / b : Double.NaN,\n            \"power\", Math::pow,\n            \"min\", Math::min,\n            \"max\", Math::max\n        );\n\n        // \u6e2c\u8a66\u6578\u5b78\u904b\u7b97\n        double x = 12.0, y = 3.0;\n        System.out.printf(\"\u5c0d %.1f \u548c %.1f \u9032\u884c\u904b\u7b97:%n\", x, y);\n        mathOperations.forEach((op, func) -&gt; {\n            double result = func.apply(x, y);\n            System.out.printf(\"%-8s: %.2f%n\", op, result);\n        });\n\n        // \u5b57\u4e32\u8f49\u63db\u5668\n        Map&lt;String, Function&lt;String, String&gt;&gt; transformers = Map.of(\n            \"upper\", String::toUpperCase,\n            \"lower\", String::toLowerCase,\n            \"reverse\", s -&gt; new StringBuilder(s).reverse().toString(),\n            \"capitalize\", s -&gt; s.substring(0, 1).toUpperCase() + s.substring(1).toLowerCase(),\n            \"acronym\", s -&gt; Arrays.stream(s.split(\"\\\\s+\"))\n                                  .map(word -&gt; word.substring(0, 1).toUpperCase())\n                                  .collect(Collectors.joining())\n        );\n\n        String testString = \"functional programming with java\";\n        System.out.println(\"\\n\u5b57\u4e32\u8f49\u63db\u6e2c\u8a66:\");\n        System.out.println(\"\u539f\u59cb: \" + testString);\n        transformers.forEach((name, transformer) -&gt; {\n            String result = transformer.apply(testString);\n            System.out.printf(\"%-10s: %s%n\", name, result);\n        });\n\n        // \u6578\u64da\u9a57\u8b49\u5668\u7d44\u5408\n        Predicate&lt;String&gt; notBlank = s -&gt; s != null &amp;&amp; !s.trim().isEmpty();\n        Predicate&lt;String&gt; validEmail = s -&gt; s.matches(\"^[A-Za-z0-9+_.-]+@(.+)$\");\n        Predicate&lt;String&gt; validPhone = s -&gt; s.matches(\"^\\\\d{4}-\\\\d{6}$\");\n\n        Map&lt;String, Predicate&lt;String&gt;&gt; validators = Map.of(\n            \"notBlank\", notBlank,\n            \"email\", notBlank.and(validEmail),\n            \"phone\", notBlank.and(validPhone),\n            \"strongEmail\", notBlank.and(validEmail).and(s -&gt; s.length() &gt;= 10)\n        );\n\n        String[] testInputs = {\n            \"\",\n            \"test@example.com\",\n            \"0912-345678\",\n            \"short@x.y\",\n            \"verylongemail@example.com\"\n        };\n\n        System.out.println(\"\\n\u6578\u64da\u9a57\u8b49\u6e2c\u8a66:\");\n        for (String input : testInputs) {\n            System.out.printf(\"%-25s: \", \"\\\"\" + input + \"\\\"\");\n            validators.forEach((name, validator) -&gt; {\n                boolean isValid = validator.test(input);\n                System.out.printf(\"%s:%s \", name, isValid ? \"\u2713\" : \"\u2717\");\n            });\n            System.out.println();\n        }\n    }\n\n    public static void eventDrivenProgramming() {\n        System.out.println(\"\\n=== \u4e8b\u4ef6\u9a45\u52d5\u7a0b\u5f0f\u8a2d\u8a08 ===\");\n\n        // \u4e8b\u4ef6\u985e\u5225\n        class Event {\n            private String type;\n            private String data;\n            private long timestamp;\n\n            public Event(String type, String data) {\n                this.type = type;\n                this.data = data;\n                this.timestamp = System.currentTimeMillis();\n            }\n\n            public String getType() { return type; }\n            public String getData() { return data; }\n            public long getTimestamp() { return timestamp; }\n\n            @Override\n            public String toString() {\n                return String.format(\"Event{type='%s', data='%s', timestamp=%d}\", \n                                   type, data, timestamp);\n            }\n        }\n\n        // \u4e8b\u4ef6\u8655\u7406\u5668\n        Map&lt;String, Consumer&lt;Event&gt;&gt; eventHandlers = new HashMap&lt;&gt;();\n\n        // \u8a3b\u518a\u4e8b\u4ef6\u8655\u7406\u5668\n        eventHandlers.put(\"user_login\", event -&gt; {\n            System.out.println(\"\u8655\u7406\u7528\u6236\u767b\u5165: \" + event.getData());\n            System.out.println(\"\u8a18\u9304\u767b\u5165\u6642\u9593: \" + new Date(event.getTimestamp()));\n        });\n\n        eventHandlers.put(\"order_created\", event -&gt; {\n            System.out.println(\"\u8655\u7406\u65b0\u8a02\u55ae: \" + event.getData());\n            System.out.println(\"\u767c\u9001\u78ba\u8a8d\u90f5\u4ef6\");\n        });\n\n        eventHandlers.put(\"payment_received\", event -&gt; {\n            System.out.println(\"\u8655\u7406\u4ed8\u6b3e: \" + event.getData());\n            System.out.println(\"\u66f4\u65b0\u8a02\u55ae\u72c0\u614b\");\n        });\n\n        // \u5168\u57df\u4e8b\u4ef6\u8655\u7406\u5668\n        Consumer&lt;Event&gt; globalHandler = event -&gt; {\n            System.out.printf(\"[%s] \u5168\u57df\u8655\u7406: %s%n\", \n                             new Date(event.getTimestamp()), event.getType());\n        };\n\n        // \u4e8b\u4ef6\u5206\u767c\u5668\n        Consumer&lt;Event&gt; eventDispatcher = event -&gt; {\n            globalHandler.accept(event);\n            Consumer&lt;Event&gt; specificHandler = eventHandlers.get(event.getType());\n            if (specificHandler != null) {\n                specificHandler.accept(event);\n            } else {\n                System.out.println(\"\u672a\u77e5\u4e8b\u4ef6\u985e\u578b: \" + event.getType());\n            }\n            System.out.println(\"---\");\n        };\n\n        // \u6a21\u64ec\u4e8b\u4ef6\n        List&lt;Event&gt; events = Arrays.asList(\n            new Event(\"user_login\", \"user123\"),\n            new Event(\"order_created\", \"order456\"),\n            new Event(\"payment_received\", \"payment789\"),\n            new Event(\"unknown_event\", \"some_data\")\n        );\n\n        events.forEach(eventDispatcher);\n    }\n\n    public static void configurationSystem() {\n        System.out.println(\"\\n=== \u914d\u7f6e\u7cfb\u7d71 ===\");\n\n        // \u914d\u7f6e\u8f49\u63db\u5668\n        Map&lt;String, Function&lt;String, Object&gt;&gt; configParsers = Map.of(\n            \"int\", Integer::parseInt,\n            \"double\", Double::parseDouble,\n            \"boolean\", Boolean::parseBoolean,\n            \"list\", s -&gt; Arrays.asList(s.split(\",\")),\n            \"map\", s -&gt; Arrays.stream(s.split(\",\"))\n                             .map(pair -&gt; pair.split(\":\"))\n                             .collect(Collectors.toMap(\n                                 arr -&gt; arr[0].trim(),\n                                 arr -&gt; arr[1].trim()\n                             ))\n        );\n\n        // \u914d\u7f6e\u6578\u64da\n        Map&lt;String, String&gt; rawConfig = Map.of(\n            \"max_connections\", \"100\",\n            \"timeout_seconds\", \"30.5\",\n            \"enable_cache\", \"true\",\n            \"allowed_domains\", \"example.com,test.org,demo.net\",\n            \"database_settings\", \"host:localhost,port:5432,database:mydb\"\n        );\n\n        // \u914d\u7f6e\u985e\u578b\u6620\u5c04\n        Map&lt;String, String&gt; configTypes = Map.of(\n            \"max_connections\", \"int\",\n            \"timeout_seconds\", \"double\", \n            \"enable_cache\", \"boolean\",\n            \"allowed_domains\", \"list\",\n            \"database_settings\", \"map\"\n        );\n\n        System.out.println(\"\u539f\u59cb\u914d\u7f6e:\");\n        rawConfig.forEach((key, value) -&gt; \n            System.out.printf(\"%-20s: %s%n\", key, value));\n\n        System.out.println(\"\\n\u89e3\u6790\u5f8c\u914d\u7f6e:\");\n        rawConfig.forEach((key, rawValue) -&gt; {\n            String type = configTypes.get(key);\n            if (type != null) {\n                Function&lt;String, Object&gt; parser = configParsers.get(type);\n                Object parsedValue = parser.apply(rawValue);\n                System.out.printf(\"%-20s: %-30s [%s]%n\", \n                                key, parsedValue.toString(), \n                                parsedValue.getClass().getSimpleName());\n            }\n        });\n\n        // \u914d\u7f6e\u9a57\u8b49\u5668\n        Map&lt;String, Predicate&lt;Object&gt;&gt; configValidators = Map.of(\n            \"max_connections\", value -&gt; (Integer) value &gt; 0 &amp;&amp; (Integer) value &lt;= 1000,\n            \"timeout_seconds\", value -&gt; (Double) value &gt; 0.0,\n            \"enable_cache\", value -&gt; value instanceof Boolean,\n            \"allowed_domains\", value -&gt; ((List&lt;?&gt;) value).size() &gt; 0\n        );\n\n        System.out.println(\"\\n\u914d\u7f6e\u9a57\u8b49:\");\n        rawConfig.forEach((key, rawValue) -&gt; {\n            String type = configTypes.get(key);\n            if (type != null &amp;&amp; configValidators.containsKey(key)) {\n                try {\n                    Object parsedValue = configParsers.get(type).apply(rawValue);\n                    boolean isValid = configValidators.get(key).test(parsedValue);\n                    System.out.printf(\"%-20s: %s%n\", key, isValid ? \"\u6709\u6548\" : \"\u7121\u6548\");\n                } catch (Exception e) {\n                    System.out.printf(\"%-20s: \u89e3\u6790\u5931\u6557%n\", key);\n                }\n            }\n        });\n    }\n}\n</code></pre>"},{"location":"java/advanced/10-nested-class-lambda/#_3","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>\u5167\u90e8\u985e\u5225\uff1a\u63d0\u4f9b\u908f\u8f2f\u5206\u7d44\u548c\u5c01\u88dd\uff0c\u53ef\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u79c1\u6709\u6210\u54e1</li> <li>\u533f\u540d\u5167\u90e8\u985e\u5225\uff1a\u9069\u5408\u4e00\u6b21\u6027\u4f7f\u7528\u7684\u7c21\u55ae\u5be6\u4f5c\uff0c\u7279\u5225\u662f\u4e8b\u4ef6\u8655\u7406</li> <li>\u975c\u614b\u5de2\u72c0\u985e\u5225\uff1a\u4e0d\u4f9d\u8cf4\u5916\u90e8\u985e\u5225\u5be6\u4f8b\uff0c\u5e38\u7528\u65bc Builder \u6a21\u5f0f</li> <li>Lambda \u8868\u9054\u5f0f\uff1a\u7c21\u5316\u51fd\u6578\u5f0f\u4ecb\u9762\u7684\u5be6\u4f5c\uff0c\u8b93\u7a0b\u5f0f\u78bc\u66f4\u7c21\u6f54</li> <li>\u65b9\u6cd5\u53c3\u8003\uff1a\u66f4\u7c21\u6f54\u7684 Lambda \u8868\u9054\u5f0f\uff0c\u63d0\u9ad8\u53ef\u8b80\u6027</li> <li>\u51fd\u6578\u5f0f\u4ecb\u9762\uff1a\u652f\u63f4 Lambda \u8868\u9054\u5f0f\u7684\u57fa\u790e\uff0c\u53ef\u7d44\u5408\u548c\u64f4\u5c55</li> </ol> <p>\u4f7f\u7528\u5efa\u8b70</p> <ul> <li>\u5167\u90e8\u985e\u5225: \u9700\u8981\u5b58\u53d6\u5916\u90e8\u985e\u5225\u6210\u54e1\u6642\u4f7f\u7528</li> <li>\u533f\u540d\u985e\u5225: \u7c21\u55ae\u4e00\u6b21\u6027\u5be6\u4f5c\uff0c\u4f46 Lambda \u66f4\u7c21\u6f54</li> <li>Lambda: \u51fd\u6578\u5f0f\u4ecb\u9762\u5be6\u4f5c\u7684\u9996\u9078</li> <li>\u65b9\u6cd5\u53c3\u8003: \u7576 Lambda \u53ea\u662f\u547c\u53eb\u73fe\u6709\u65b9\u6cd5\u6642\u4f7f\u7528</li> </ul>"},{"location":"java/advanced/10-nested-class-lambda/#_4","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u57fa\u790e\u7df4\u7fd2</li> <li>\u5be6\u4f5c\u4e8b\u4ef6\u76e3\u807d\u5668\u7cfb\u7d71\uff08\u5167\u90e8\u985e\u5225\u3001\u533f\u540d\u985e\u5225\u3001Lambda \u4e09\u7a2e\u65b9\u5f0f\uff09</li> <li>\u5efa\u7acb\u51fd\u6578\u5f0f\u7684\u6578\u64da\u8655\u7406\u7ba1\u7dda</li> <li> <p>\u8a2d\u8a08\u53ef\u7d44\u5408\u7684\u9a57\u8b49\u5668\u7cfb\u7d71</p> </li> <li> <p>\u9032\u968e\u7df4\u7fd2</p> </li> <li>\u5be6\u4f5c\u51fd\u6578\u5f0f\u7684\u72c0\u614b\u6a5f</li> <li>\u5efa\u7acb\u53ef\u914d\u7f6e\u7684\u8cc7\u6599\u8f49\u63db\u5668</li> <li> <p>\u8a2d\u8a08\u4e8b\u4ef6\u9a45\u52d5\u7684\u67b6\u69cb</p> </li> <li> <p>\u7d9c\u5408\u61c9\u7528</p> </li> <li>\u5efa\u7acb\u51fd\u6578\u5f0f\u7684 Web \u8def\u7531\u7cfb\u7d71</li> <li>\u5be6\u4f5c\u97ff\u61c9\u5f0f\u7a0b\u5f0f\u8a2d\u8a08\u6a21\u5f0f</li> <li>\u8a2d\u8a08\u51fd\u6578\u5f0f\u7684\u8cc7\u6599\u5eab\u67e5\u8a62 DSL</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u6df1\u5165\u5b78\u7fd2 Stream API\uff0c\u9019\u662f Java 8 \u51fd\u6578\u5f0f\u7a0b\u5f0f\u8a2d\u8a08\u7684\u6838\u5fc3\u7279\u6027\uff01</p>"},{"location":"java/basics/01-java-overview/","title":"Java \u6280\u8853\u6982\u8ad6","text":""},{"location":"java/basics/01-java-overview/#java_1","title":"\u4ec0\u9ebc\u662f Java\uff1f","text":"<p>Java \u662f\u7531 Sun Microsystems\uff08\u73fe\u70ba Oracle\uff09\u65bc 1995 \u5e74\u958b\u767c\u7684\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a9e\u8a00\u3002Java \u7684\u8a2d\u8a08\u7406\u5ff5\u662f\u300c\u4e00\u6b21\u64b0\u5beb\uff0c\u5230\u8655\u57f7\u884c\u300d\uff08Write Once, Run Anywhere, WORA\uff09\uff0c\u9019\u4f7f\u5f97 Java \u7a0b\u5f0f\u5177\u6709\u8de8\u5e73\u53f0\u7684\u7279\u6027\u3002</p>"},{"location":"java/basics/01-java-overview/#java_2","title":"Java \u6b77\u53f2\u8207\u91cd\u8981\u7248\u672c","text":"<p>Java \u81ea 1995 \u5e74\u767c\u5e03\u4ee5\u4f86\uff0c\u7d93\u6b77\u4e86\u591a\u500b\u91cd\u8981\u7248\u672c\uff1a</p> <ul> <li>Java 1.0 (1996): \u7b2c\u4e00\u500b\u6b63\u5f0f\u7248\u672c</li> <li>Java 1.2 (1998): \u5f15\u5165 Swing GUI \u548c Collections Framework</li> <li>Java 5 (2004): \u52a0\u5165\u6cdb\u578b\u3001\u81ea\u52d5\u88dd\u7bb1\u3001\u589e\u5f37\u578b for \u8ff4\u5708</li> <li>Java 8 (2014): \u5f15\u5165 Lambda \u8868\u9054\u5f0f\u548c Stream API</li> <li>Java 11 (2018): LTS \u7248\u672c\uff0c\u79fb\u9664\u90e8\u5206\u820a\u529f\u80fd</li> <li>Java 17 (2021): \u6700\u65b0 LTS \u7248\u672c\uff0cRecords\u3001Pattern Matching \u7b49\u65b0\u7279\u6027</li> <li>Java 21 (2023): \u6700\u65b0 LTS \u7248\u672c\uff0c\u865b\u64ec\u7dda\u7a0b\u3001Pattern Matching \u589e\u5f37</li> </ul> <p>\u63d0\u793a</p> <p>LTS (Long Term Support) \u7248\u672c\u662f\u9577\u671f\u652f\u63f4\u7248\u672c\uff0c\u5efa\u8b70\u5728\u751f\u7522\u74b0\u5883\u4e2d\u4f7f\u7528 LTS \u7248\u672c\u3002</p>"},{"location":"java/basics/01-java-overview/#java_3","title":"Java \u7684\u4e3b\u8981\u7279\u8272","text":""},{"location":"java/basics/01-java-overview/#1","title":"1. \u8de8\u5e73\u53f0\u6027","text":"<p>Java \u7a0b\u5f0f\u7de8\u8b6f\u5f8c\u7522\u751f\u4f4d\u5143\u7d44\u78bc\uff08Bytecode\uff09\uff0c\u53ef\u5728\u4efb\u4f55\u5b89\u88dd\u4e86 JVM \u7684\u5e73\u53f0\u4e0a\u57f7\u884c\u3002</p>"},{"location":"java/basics/01-java-overview/#2","title":"2. \u7269\u4ef6\u5c0e\u5411","text":"<p>Java \u662f\u7d14\u7269\u4ef6\u5c0e\u5411\u8a9e\u8a00\uff0c\u9664\u4e86\u57fa\u672c\u8cc7\u6599\u578b\u614b\u5916\uff0c\u6240\u6709\u6771\u897f\u90fd\u662f\u7269\u4ef6\u3002</p>"},{"location":"java/basics/01-java-overview/#3","title":"3. \u81ea\u52d5\u8a18\u61b6\u9ad4\u7ba1\u7406","text":"<p>Java \u5177\u6709\u5783\u573e\u56de\u6536\u6a5f\u5236\uff08Garbage Collection\uff09\uff0c\u81ea\u52d5\u7ba1\u7406\u8a18\u61b6\u9ad4\u3002</p>"},{"location":"java/basics/01-java-overview/#4","title":"4. \u8c50\u5bcc\u7684\u985e\u5225\u5eab","text":"<p>Java \u63d0\u4f9b\u5927\u91cf\u7684\u6a19\u6e96\u985e\u5225\u5eab\uff0c\u5305\u542b\u7db2\u8def\u3001\u6a94\u6848\u8655\u7406\u3001GUI \u7b49\u529f\u80fd\u3002</p>"},{"location":"java/basics/01-java-overview/#5","title":"5. \u5b89\u5168\u6027","text":"<p>Java \u5177\u6709\u6c99\u7bb1\u6a5f\u5236\uff0c\u63d0\u4f9b\u5b89\u5168\u7684\u57f7\u884c\u74b0\u5883\u3002</p>"},{"location":"java/basics/01-java-overview/#jdkjrejvm","title":"JDK\u3001JRE\u3001JVM \u7684\u5dee\u7570","text":"<p>\u7406\u89e3\u9019\u4e09\u500b\u6982\u5ff5\u5c0d Java \u958b\u767c\u975e\u5e38\u91cd\u8981\uff1a</p>"},{"location":"java/basics/01-java-overview/#jvm-java-virtual-machine","title":"JVM (Java Virtual Machine)","text":"<ul> <li>Java \u865b\u64ec\u6a5f\u5668\uff0c\u8ca0\u8cac\u57f7\u884c Java \u4f4d\u5143\u7d44\u78bc</li> <li>\u63d0\u4f9b\u8de8\u5e73\u53f0\u57f7\u884c\u74b0\u5883</li> <li>\u8ca0\u8cac\u8a18\u61b6\u9ad4\u7ba1\u7406\u548c\u5783\u573e\u56de\u6536</li> </ul>"},{"location":"java/basics/01-java-overview/#jre-java-runtime-environment","title":"JRE (Java Runtime Environment)","text":"<ul> <li>Java \u57f7\u884c\u74b0\u5883 = JVM + Java \u6a19\u6e96\u985e\u5225\u5eab</li> <li>\u53ea\u80fd\u57f7\u884c Java \u7a0b\u5f0f\uff0c\u7121\u6cd5\u958b\u767c</li> </ul>"},{"location":"java/basics/01-java-overview/#jdk-java-development-kit","title":"JDK (Java Development Kit)","text":"<ul> <li>Java \u958b\u767c\u5de5\u5177\u5305 = JRE + \u958b\u767c\u5de5\u5177\uff08\u7de8\u8b6f\u5668 javac\u3001\u9664\u932f\u5668\u7b49\uff09</li> <li>\u958b\u767c Java \u7a0b\u5f0f\u5fc5\u9700\u5b89\u88dd JDK</li> </ul> <p>\u6280\u5de7</p> <p>\u958b\u767c\u8005\u9700\u8981\u5b89\u88dd JDK\uff0c\u800c\u4e00\u822c\u4f7f\u7528\u8005\u53ea\u9700\u8981 JRE \u5373\u53ef\u57f7\u884c Java \u61c9\u7528\u7a0b\u5f0f\u3002</p> Text Only<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                JDK                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502              JRE              \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502\n\u2502  \u2502  \u2502         JVM             \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  - \u8a18\u61b6\u9ad4\u7ba1\u7406           \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  - \u5783\u573e\u56de\u6536             \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  - \u4f4d\u5143\u7d44\u78bc\u57f7\u884c         \u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502\n\u2502  \u2502  - Java \u6a19\u6e96\u985e\u5225\u5eab             \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2502  - \u7de8\u8b6f\u5668 (javac)                   \u2502\n\u2502  - \u9664\u932f\u5668 (jdb)                     \u2502\n\u2502  - \u5176\u4ed6\u958b\u767c\u5de5\u5177                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"java/basics/01-java-overview/#java_4","title":"Java \u958b\u767c\u74b0\u5883\u8a2d\u5b9a","text":""},{"location":"java/basics/01-java-overview/#1-jdk","title":"1. \u5b89\u88dd JDK","text":""},{"location":"java/basics/01-java-overview/#windows","title":"Windows","text":"<ol> <li>\u524d\u5f80 Oracle JDK \u5b98\u7db2</li> <li>\u4e0b\u8f09\u9069\u5408\u7684 JDK \u7248\u672c\uff08\u5efa\u8b70 JDK 17 \u6216 21 LTS\uff09</li> <li>\u57f7\u884c\u5b89\u88dd\u7a0b\u5f0f</li> <li>\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578 <code>JAVA_HOME</code> \u548c <code>PATH</code></li> </ol>"},{"location":"java/basics/01-java-overview/#macos","title":"macOS","text":"Bash<pre><code># \u4f7f\u7528 Homebrew \u5b89\u88dd\nbrew install openjdk@17\n\n# \u6216\u4e0b\u8f09 Oracle JDK \u5b89\u88dd\n</code></pre>"},{"location":"java/basics/01-java-overview/#linux","title":"Linux","text":"Bash<pre><code># Ubuntu/Debian\nsudo apt update\nsudo apt install openjdk-17-jdk\n\n# CentOS/RHEL\nsudo yum install java-17-openjdk-devel\n</code></pre>"},{"location":"java/basics/01-java-overview/#2_1","title":"2. \u9a57\u8b49\u5b89\u88dd","text":"Bash<pre><code># \u6aa2\u67e5 Java \u7248\u672c\njava -version\n\n# \u6aa2\u67e5\u7de8\u8b6f\u5668\u7248\u672c\njavac -version\n</code></pre> <p>\u7bc4\u4f8b\u8f38\u51fa</p> Text Only<pre><code>openjdk version \"17.0.2\" 2022-01-18\nOpenJDK Runtime Environment (build 17.0.2+8-Ubuntu-120.04)\nOpenJDK 64-Bit Server VM (build 17.0.2+8-Ubuntu-120.04, mixed mode, sharing)\n</code></pre>"},{"location":"java/basics/01-java-overview/#java_5","title":"\u7b2c\u4e00\u500b Java \u7a0b\u5f0f","text":"<p>\u8b93\u6211\u5011\u5efa\u7acb\u7b2c\u4e00\u500b Java \u7a0b\u5f0f\uff1a</p> Java<pre><code>// HelloWorld.java\npublic class HelloWorld {\n    public static void main(String[] args) {\n        System.out.println(\"Hello, Java World!\");\n        System.out.println(\"\u6b61\u8fce\u4f86\u5230 Java \u7684\u4e16\u754c\uff01\");\n\n        // \u986f\u793a Java \u7248\u672c\u8cc7\u8a0a\n        System.out.println(\"Java \u7248\u672c: \" + System.getProperty(\"java.version\"));\n        System.out.println(\"\u4f5c\u696d\u7cfb\u7d71: \" + System.getProperty(\"os.name\"));\n    }\n}\n</code></pre> <p>\u7a0b\u5f0f\u8aaa\u660e</p> <ul> <li><code>public class HelloWorld</code>: \u5b9a\u7fa9\u4e00\u500b\u516c\u958b\u7684\u985e\u5225\uff0c\u6a94\u540d\u5fc5\u9808\u8207\u985e\u5225\u540d\u7a31\u76f8\u540c</li> <li><code>public static void main(String[] args)</code>: \u7a0b\u5f0f\u9032\u5165\u9ede\uff0cJVM \u57f7\u884c\u7a0b\u5f0f\u6642\u6703\u547c\u53eb\u6b64\u65b9\u6cd5</li> <li><code>System.out.println()</code>: \u8f38\u51fa\u6587\u5b57\u5230\u63a7\u5236\u53f0\u4e26\u63db\u884c</li> <li><code>//</code>: \u55ae\u884c\u8a3b\u89e3</li> <li><code>System.getProperty()</code>: \u53d6\u5f97\u7cfb\u7d71\u5c6c\u6027</li> </ul>"},{"location":"java/basics/01-java-overview/#_1","title":"\u7de8\u8b6f\u8207\u57f7\u884c\u6d41\u7a0b","text":"<p>Java \u7a0b\u5f0f\u7684\u57f7\u884c\u9700\u8981\u7d93\u904e\u7de8\u8b6f\u548c\u57f7\u884c\u5169\u500b\u6b65\u9a5f\uff1a</p>"},{"location":"java/basics/01-java-overview/#1-java-class","title":"1. \u7de8\u8b6f (.java \u2192 .class)","text":"Bash<pre><code># \u7de8\u8b6f Java \u539f\u59cb\u78bc\njavac HelloWorld.java\n</code></pre> <p>\u7de8\u8b6f\u6210\u529f\u5f8c\u6703\u7522\u751f <code>HelloWorld.class</code> \u6a94\u6848\uff08\u4f4d\u5143\u7d44\u78bc\uff09\u3002</p>"},{"location":"java/basics/01-java-overview/#2-class","title":"2. \u57f7\u884c (.class \u2192 \u7a0b\u5f0f\u904b\u884c)","text":"Bash<pre><code># \u57f7\u884c Java \u7a0b\u5f0f\njava HelloWorld\n</code></pre> <p>\u6ce8\u610f</p> <ul> <li>\u57f7\u884c\u6642\u4f7f\u7528\u985e\u5225\u540d\u7a31\uff0c\u4e0d\u5305\u542b <code>.class</code> \u526f\u6a94\u540d</li> <li>\u6a94\u540d\u5fc5\u9808\u8207 public \u985e\u5225\u540d\u7a31\u5b8c\u5168\u76f8\u540c\uff08\u5927\u5c0f\u5beb\u654f\u611f\uff09</li> </ul>"},{"location":"java/basics/01-java-overview/#_2","title":"\u5b8c\u6574\u6d41\u7a0b\u5716","text":"Text Only<pre><code>HelloWorld.java  \u2500\u2500\u2510\n                   \u2502 javac (\u7de8\u8b6f\u5668)\n                   \u25bc\nHelloWorld.class \u2500\u2500\u2510\n                   \u2502 java (JVM)\n                   \u25bc\n               \u7a0b\u5f0f\u57f7\u884c\u7d50\u679c\n</code></pre>"},{"location":"java/basics/01-java-overview/#_3","title":"\u958b\u767c\u5de5\u5177\u63a8\u85a6","text":""},{"location":"java/basics/01-java-overview/#ide","title":"IDE (\u6574\u5408\u958b\u767c\u74b0\u5883)","text":"<ol> <li>IntelliJ IDEA</li> <li>\u529f\u80fd\u5f37\u5927\u7684\u5546\u696d IDE</li> <li>\u6709\u514d\u8cbb\u7684 Community \u7248\u672c</li> <li> <p>\u512a\u79c0\u7684\u7a0b\u5f0f\u78bc\u88dc\u5168\u548c\u91cd\u69cb\u529f\u80fd</p> </li> <li> <p>Eclipse</p> </li> <li>\u514d\u8cbb\u958b\u6e90 IDE</li> <li>\u8c50\u5bcc\u7684\u63d2\u4ef6\u751f\u614b\u7cfb\u7d71</li> <li> <p>\u9069\u5408\u521d\u5b78\u8005</p> </li> <li> <p>Visual Studio Code</p> </li> <li>\u8f15\u91cf\u7d1a\u7de8\u8f2f\u5668</li> <li>\u8c50\u5bcc\u7684 Java \u64f4\u5145\u5957\u4ef6</li> <li>\u8de8\u5e73\u53f0\u652f\u63f4</li> </ol>"},{"location":"java/basics/01-java-overview/#_4","title":"\u6587\u5b57\u7de8\u8f2f\u5668","text":"<ul> <li>Notepad++ (Windows)</li> <li>Sublime Text (\u8de8\u5e73\u53f0)</li> <li>Vim/Emacs (\u9032\u968e\u4f7f\u7528\u8005)</li> </ul> <p>\u6280\u5de7</p> <p>\u521d\u5b78\u8005\u5efa\u8b70\u4f7f\u7528 IDE\uff0c\u53ef\u4ee5\u63d0\u4f9b\u8a9e\u6cd5\u6aa2\u67e5\u3001\u81ea\u52d5\u88dc\u5168\u3001\u9664\u932f\u7b49\u529f\u80fd\uff0c\u63d0\u9ad8\u958b\u767c\u6548\u7387\u3002</p>"},{"location":"java/basics/01-java-overview/#_5","title":"\u5e38\u898b\u554f\u984c\u8207\u89e3\u7b54","text":""},{"location":"java/basics/01-java-overview/#q1-java","title":"Q1: \u70ba\u4ec0\u9ebc\u57f7\u884c java \u547d\u4ee4\u6642\u51fa\u73fe\u300c\u627e\u4e0d\u5230\u4e3b\u985e\u5225\u300d\u932f\u8aa4\uff1f","text":"<p>A1:  - \u78ba\u8a8d\u985e\u5225\u6a94\u6848 (.class) \u5b58\u5728 - \u6aa2\u67e5\u985e\u5225\u540d\u7a31\u662f\u5426\u6b63\u78ba\uff08\u5927\u5c0f\u5beb\u654f\u611f\uff09 - \u78ba\u8a8d main \u65b9\u6cd5\u7684\u7c3d\u7ae0\u6b63\u78ba</p>"},{"location":"java/basics/01-java-overview/#q2","title":"Q2: \u7de8\u8b6f\u6642\u51fa\u73fe\u7de8\u78bc\u932f\u8aa4\u600e\u9ebc\u8fa6\uff1f","text":"<p>A2: Bash<pre><code># \u6307\u5b9a\u7de8\u78bc\u683c\u5f0f\u7de8\u8b6f\njavac -encoding UTF-8 HelloWorld.java\n</code></pre></p>"},{"location":"java/basics/01-java-overview/#q3-java","title":"Q3: \u5982\u4f55\u6aa2\u67e5\u662f\u5426\u6b63\u78ba\u5b89\u88dd Java\uff1f","text":"<p>A3: Bash<pre><code># \u6aa2\u67e5\u662f\u5426\u5b89\u88dd JDK\njavac -version\n\n# \u6aa2\u67e5\u74b0\u5883\u8b8a\u6578\necho $JAVA_HOME  # Linux/macOS\necho %JAVA_HOME% # Windows\n</code></pre></p>"},{"location":"java/basics/01-java-overview/#_6","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>Java \u662f\u8de8\u5e73\u53f0\u7684\u7269\u4ef6\u5c0e\u5411\u8a9e\u8a00\uff0c\u5177\u6709\u300c\u4e00\u6b21\u64b0\u5beb\uff0c\u5230\u8655\u57f7\u884c\u300d\u7684\u7279\u6027</li> <li>JDK &gt; JRE &gt; JVM\uff0c\u958b\u767c\u9700\u8981 JDK\uff0c\u57f7\u884c\u53ea\u9700 JRE</li> <li>Java \u7a0b\u5f0f\u57f7\u884c\u6d41\u7a0b\uff1a.java \u2192 \u7de8\u8b6f (javac) \u2192 .class \u2192 \u57f7\u884c (java)</li> <li>\u6a94\u540d\u5fc5\u9808\u8207 public \u985e\u5225\u540d\u7a31\u76f8\u540c</li> <li>**main \u65b9\u6cd5**\u662f\u7a0b\u5f0f\u7684\u9032\u5165\u9ede</li> </ol>"},{"location":"java/basics/01-java-overview/#_7","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u74b0\u5883\u8a2d\u5b9a\u7df4\u7fd2</li> <li>\u5b89\u88dd JDK \u4e26\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578</li> <li> <p>\u9a57\u8b49\u5b89\u88dd\u662f\u5426\u6210\u529f</p> </li> <li> <p>\u7b2c\u4e00\u500b\u7a0b\u5f0f</p> </li> <li>\u64b0\u5beb\u4e26\u57f7\u884c HelloWorld \u7a0b\u5f0f</li> <li> <p>\u4fee\u6539\u7a0b\u5f0f\u5167\u5bb9\uff0c\u986f\u793a\u66f4\u591a\u7cfb\u7d71\u8cc7\u8a0a</p> </li> <li> <p>\u5be6\u9a57\u7df4\u7fd2</p> </li> <li>\u6545\u610f\u5beb\u932f\u985e\u5225\u540d\u7a31\uff0c\u89c0\u5bdf\u932f\u8aa4\u8a0a\u606f</li> <li> <p>\u5617\u8a66\u4e0d\u540c\u7684\u7de8\u8b6f\u548c\u57f7\u884c\u53c3\u6578</p> </li> <li> <p>\u5ef6\u4f38\u601d\u8003</p> </li> <li>\u7814\u7a76\u4e0d\u540c JDK \u7248\u672c\u7684\u5dee\u7570</li> <li>\u4e86\u89e3 OpenJDK \u8207 Oracle JDK \u7684\u5340\u5225</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2 Java \u7684\u57fa\u672c\u8cc7\u6599\u578b\u614b\u8207\u904b\u7b97\u5b50\uff0c\u958b\u59cb\u771f\u6b63\u7684\u7a0b\u5f0f\u8a2d\u8a08\u4e4b\u65c5\uff01</p>"},{"location":"java/basics/02-data-types-operators/","title":"\u57fa\u672c\u8cc7\u6599\u578b\u614b\u3001\u904b\u7b97\u5b50\u8207\u6d41\u7a0b\u63a7\u5236\u6558\u8ff0","text":""},{"location":"java/basics/02-data-types-operators/#primitive-data-types","title":"\u57fa\u672c\u8cc7\u6599\u578b\u614b (Primitive Data Types)","text":"<p>Java \u63d0\u4f9b 8 \u7a2e\u57fa\u672c\u8cc7\u6599\u578b\u614b\uff0c\u9019\u4e9b\u578b\u614b\u76f4\u63a5\u5132\u5b58\u5728\u8a18\u61b6\u9ad4\u4e2d\uff0c\u4e0d\u662f\u7269\u4ef6\u3002</p>"},{"location":"java/basics/02-data-types-operators/#_2","title":"\u6574\u6578\u578b\u614b","text":"\u578b\u614b \u5927\u5c0f \u7bc4\u570d \u9810\u8a2d\u503c \u7528\u9014 <code>byte</code> 8 \u4f4d\u5143 -128 \u5230 127 0 \u7bc0\u7701\u8a18\u61b6\u9ad4\u7684\u5c0f\u6574\u6578 <code>short</code> 16 \u4f4d\u5143 -32,768 \u5230 32,767 0 \u5c0f\u7bc4\u570d\u6574\u6578 <code>int</code> 32 \u4f4d\u5143 -2\u00b3\u00b9 \u5230 2\u00b3\u00b9-1 0 \u6700\u5e38\u7528\u7684\u6574\u6578\u578b\u614b <code>long</code> 64 \u4f4d\u5143 -2\u2076\u00b3 \u5230 2\u2076\u00b3-1 0L \u5927\u6574\u6578 Java<pre><code>public class DataTypesExample {\n    public static void main(String[] args) {\n        // \u6574\u6578\u578b\u614b\u5ba3\u544a\u8207\u521d\u59cb\u5316\n        byte smallNumber = 127;\n        short mediumNumber = 32000;\n        int normalNumber = 2147483647;\n        long bigNumber = 9223372036854775807L; // \u6ce8\u610f L \u5f8c\u7db4\n\n        System.out.println(\"byte: \" + smallNumber);\n        System.out.println(\"short: \" + mediumNumber);\n        System.out.println(\"int: \" + normalNumber);\n        System.out.println(\"long: \" + bigNumber);\n\n        // \u6578\u503c\u5b57\u9762\u503c\u7684\u4e0d\u540c\u9032\u5236\u8868\u793a\n        int decimal = 26;          // \u5341\u9032\u5236\n        int octal = 032;           // \u516b\u9032\u5236 (0 \u958b\u982d)\n        int hexadecimal = 0x1A;    // \u5341\u516d\u9032\u5236 (0x \u958b\u982d)\n        int binary = 0b11010;      // \u4e8c\u9032\u5236 (0b \u958b\u982d, Java 7+)\n\n        System.out.println(\"\u5341\u9032\u5236 26 = \u516b\u9032\u5236 \" + octal + \n                          \" = \u5341\u516d\u9032\u5236 \" + hexadecimal + \n                          \" = \u4e8c\u9032\u5236 \" + binary);\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_3","title":"\u6d6e\u9ede\u6578\u578b\u614b","text":"\u578b\u614b \u5927\u5c0f \u7cbe\u78ba\u5ea6 \u9810\u8a2d\u503c \u7528\u9014 <code>float</code> 32 \u4f4d\u5143 \u7d04 7 \u4f4d\u5c0f\u6578 0.0f \u55ae\u7cbe\u5ea6\u6d6e\u9ede\u6578 <code>double</code> 64 \u4f4d\u5143 \u7d04 15 \u4f4d\u5c0f\u6578 0.0 \u96d9\u7cbe\u5ea6\u6d6e\u9ede\u6578\uff08\u9810\u8a2d\uff09 Java<pre><code>public class FloatingPointExample {\n    public static void main(String[] args) {\n        // \u6d6e\u9ede\u6578\u578b\u614b\n        float singlePrecision = 3.14159f;  // \u6ce8\u610f f \u5f8c\u7db4\n        double doublePrecision = 3.141592653589793;\n\n        System.out.println(\"float: \" + singlePrecision);\n        System.out.println(\"double: \" + doublePrecision);\n\n        // \u79d1\u5b78\u8a18\u865f\u8868\u793a\n        double scientific = 1.23e-4;  // 1.23 \u00d7 10\u207b\u2074\n        System.out.println(\"\u79d1\u5b78\u8a18\u865f: \" + scientific);\n\n        // \u7279\u6b8a\u503c\n        double positive_infinity = Double.POSITIVE_INFINITY;\n        double negative_infinity = Double.NEGATIVE_INFINITY;\n        double not_a_number = Double.NaN;\n\n        System.out.println(\"\u6b63\u7121\u7aae\u5927: \" + positive_infinity);\n        System.out.println(\"\u8ca0\u7121\u7aae\u5927: \" + negative_infinity);\n        System.out.println(\"\u975e\u6578\u503c: \" + not_a_number);\n    }\n}\n</code></pre> <p>\u6ce8\u610f</p> <p>\u6d6e\u9ede\u6578\u8a08\u7b97\u53ef\u80fd\u6709\u7cbe\u78ba\u5ea6\u554f\u984c\uff0c\u5982\u679c\u9700\u8981\u7cbe\u78ba\u8a08\u7b97\uff08\u5982\u91d1\u878d\u61c9\u7528\uff09\uff0c\u61c9\u4f7f\u7528 <code>BigDecimal</code> \u985e\u5225\u3002</p>"},{"location":"java/basics/02-data-types-operators/#_4","title":"\u5b57\u5143\u8207\u5e03\u6797\u578b\u614b","text":"Java<pre><code>public class CharBooleanExample {\n    public static void main(String[] args) {\n        // \u5b57\u5143\u578b\u614b (16 \u4f4d\u5143 Unicode)\n        char letter = 'A';\n        char chinese = '\u4e2d';\n        char unicode = '\\u0041';  // Unicode \u8868\u793a 'A'\n        char number = '5';\n\n        System.out.println(\"\u5b57\u6bcd: \" + letter);\n        System.out.println(\"\u4e2d\u6587: \" + chinese);\n        System.out.println(\"Unicode: \" + unicode);\n        System.out.println(\"\u6578\u5b57\u5b57\u5143: \" + number);\n\n        // \u5e03\u6797\u578b\u614b\n        boolean isJavaFun = true;\n        boolean isCompleted = false;\n\n        System.out.println(\"Java \u6709\u8da3\u55ce\uff1f \" + isJavaFun);\n        System.out.println(\"\u5b8c\u6210\u4e86\u55ce\uff1f \" + isCompleted);\n\n        // \u5b57\u5143\u7684\u6578\u503c\u904b\u7b97\n        char a = 'A';\n        char z = 'Z';\n        System.out.println(\"A \u7684 ASCII \u503c: \" + (int)a);\n        System.out.println(\"Z \u7684 ASCII \u503c: \" + (int)z);\n        System.out.println(\"A \u5230 Z \u5171\u6709: \" + (z - a + 1) + \" \u500b\u5b57\u6bcd\");\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_5","title":"\u8b8a\u6578\u5ba3\u544a\u8207\u547d\u540d\u898f\u5247","text":""},{"location":"java/basics/02-data-types-operators/#_6","title":"\u8b8a\u6578\u5ba3\u544a\u8a9e\u6cd5","text":"Java<pre><code>// \u5ba3\u544a\u8a9e\u6cd5: \u578b\u614b \u8b8a\u6578\u540d\u7a31 = \u521d\u59cb\u503c;\nint age = 25;\ndouble salary;  // \u5ba3\u544a\u4f46\u672a\u521d\u59cb\u5316\nsalary = 50000.0;  // \u5f8c\u7e8c\u8ce6\u503c\n\n// \u540c\u6642\u5ba3\u544a\u591a\u500b\u76f8\u540c\u578b\u614b\u7684\u8b8a\u6578\nint x = 10, y = 20, z;\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_7","title":"\u547d\u540d\u898f\u5247\u8207\u6163\u4f8b","text":"Java<pre><code>public class NamingConventions {\n    // \u6709\u6548\u7684\u8b8a\u6578\u540d\u7a31\n    int age;              // \u2713 \u5c0f\u99dd\u5cf0\u547d\u540d\u6cd5\n    String firstName;     // \u2713 \u5c0f\u99dd\u5cf0\u547d\u540d\u6cd5\n    double accountBalance; // \u2713 \u5c0f\u99dd\u5cf0\u547d\u540d\u6cd5\n    boolean isValid;      // \u2713 \u5e03\u6797\u8b8a\u6578\u901a\u5e38\u4ee5 is \u958b\u982d\n\n    // \u5e38\u6578\u547d\u540d (final \u8b8a\u6578)\n    final int MAX_SIZE = 100;        // \u2713 \u5168\u5927\u5beb\u52a0\u5e95\u7dda\n    final double PI = 3.14159;       // \u2713 \u6578\u5b78\u5e38\u6578\n\n    public static void main(String[] args) {\n        // \u5340\u57df\u8b8a\u6578\u7bc4\u4f8b\n        String studentName = \"\u5f35\u5c0f\u660e\";\n        int totalScore = 0;\n        boolean hasPassedExam = false;\n\n        // \u7121\u6548\u7684\u8b8a\u6578\u540d\u7a31\uff08\u7de8\u8b6f\u932f\u8aa4\uff09\n        // int 123number;     // \u2717 \u4e0d\u80fd\u4ee5\u6578\u5b57\u958b\u982d\n        // String class;      // \u2717 \u4e0d\u80fd\u4f7f\u7528\u95dc\u9375\u5b57\n        // double my-salary;  // \u2717 \u4e0d\u80fd\u4f7f\u7528\u9023\u5b57\u865f\n\n        System.out.println(\"\u5b78\u751f\u59d3\u540d: \" + studentName);\n    }\n}\n</code></pre> <p>\u547d\u540d\u6700\u4f73\u5be6\u8e10</p> <ul> <li>\u4f7f\u7528\u6709\u610f\u7fa9\u7684\u540d\u7a31\uff1a<code>age</code> \u6bd4 <code>a</code> \u597d</li> <li>\u907f\u514d\u7e2e\u5beb\uff1a<code>studentName</code> \u6bd4 <code>stuNm</code> \u597d</li> <li>\u5e38\u6578\u4f7f\u7528\u5168\u5927\u5beb\uff1a<code>MAX_VALUE</code></li> <li>\u5e03\u6797\u8b8a\u6578\u4f7f\u7528 <code>is</code>\u3001<code>has</code>\u3001<code>can</code> \u7b49\u524d\u7db4</li> </ul>"},{"location":"java/basics/02-data-types-operators/#operators","title":"\u904b\u7b97\u5b50 (Operators)","text":""},{"location":"java/basics/02-data-types-operators/#_8","title":"\u7b97\u8853\u904b\u7b97\u5b50","text":"Java<pre><code>public class ArithmeticOperators {\n    public static void main(String[] args) {\n        int a = 15, b = 4;\n\n        // \u57fa\u672c\u7b97\u8853\u904b\u7b97\u5b50\n        System.out.println(\"a + b = \" + (a + b));  // \u52a0\u6cd5: 19\n        System.out.println(\"a - b = \" + (a - b));  // \u6e1b\u6cd5: 11\n        System.out.println(\"a * b = \" + (a * b));  // \u4e58\u6cd5: 60\n        System.out.println(\"a / b = \" + (a / b));  // \u9664\u6cd5: 3 (\u6574\u6578\u9664\u6cd5)\n        System.out.println(\"a % b = \" + (a % b));  // \u9918\u6578: 3\n\n        // \u6d6e\u9ede\u6578\u9664\u6cd5\n        double c = 15.0, d = 4.0;\n        System.out.println(\"c / d = \" + (c / d));  // 3.75\n\n        // \u6df7\u5408\u578b\u614b\u904b\u7b97\n        System.out.println(\"\u6574\u6578\u9664\u4ee5\u6d6e\u9ede\u6578: \" + (a / d));  // 3.75\n\n        // \u905e\u589e\u905e\u6e1b\u904b\u7b97\u5b50\n        int x = 5;\n        System.out.println(\"x = \" + x);           // 5\n        System.out.println(\"++x = \" + (++x));     // \u524d\u7f6e\u905e\u589e: 6\n        System.out.println(\"x++ = \" + (x++));     // \u5f8c\u7f6e\u905e\u589e: 6 (\u986f\u793a\u5f8c\u905e\u589e)\n        System.out.println(\"x = \" + x);           // 7\n\n        int y = 10;\n        System.out.println(\"--y = \" + (--y));     // \u524d\u7f6e\u905e\u6e1b: 9\n        System.out.println(\"y-- = \" + (y--));     // \u5f8c\u7f6e\u905e\u6e1b: 9 (\u986f\u793a\u5f8c\u905e\u6e1b)\n        System.out.println(\"y = \" + y);           // 8\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_9","title":"\u6bd4\u8f03\u904b\u7b97\u5b50","text":"Java<pre><code>public class ComparisonOperators {\n    public static void main(String[] args) {\n        int a = 10, b = 20;\n\n        System.out.println(\"a = \" + a + \", b = \" + b);\n        System.out.println(\"a == b: \" + (a == b));  // false (\u7b49\u65bc)\n        System.out.println(\"a != b: \" + (a != b));  // true  (\u4e0d\u7b49\u65bc)\n        System.out.println(\"a &lt; b:  \" + (a &lt; b));   // true  (\u5c0f\u65bc)\n        System.out.println(\"a &lt;= b: \" + (a &lt;= b));  // true  (\u5c0f\u65bc\u7b49\u65bc)\n        System.out.println(\"a &gt; b:  \" + (a &gt; b));   // false (\u5927\u65bc)\n        System.out.println(\"a &gt;= b: \" + (a &gt;= b));  // false (\u5927\u65bc\u7b49\u65bc)\n\n        // \u5b57\u4e32\u6bd4\u8f03\u6ce8\u610f\u4e8b\u9805\n        String str1 = \"Hello\";\n        String str2 = \"Hello\";\n        String str3 = new String(\"Hello\");\n\n        System.out.println(\"\\n\u5b57\u4e32\u6bd4\u8f03:\");\n        System.out.println(\"str1 == str2: \" + (str1 == str2));     // true  (\u5b57\u4e32\u6c60)\n        System.out.println(\"str1 == str3: \" + (str1 == str3));     // false (\u4e0d\u540c\u7269\u4ef6)\n        System.out.println(\"str1.equals(str3): \" + str1.equals(str3)); // true  (\u5167\u5bb9\u76f8\u540c)\n    }\n}\n</code></pre> <p>\u5b57\u4e32\u6bd4\u8f03\u9677\u9631</p> <p>\u4f7f\u7528 <code>==</code> \u6bd4\u8f03\u5b57\u4e32\u6642\u6bd4\u8f03\u7684\u662f\u7269\u4ef6\u53c3\u8003\uff0c\u4e0d\u662f\u5167\u5bb9\u3002\u5b57\u4e32\u5167\u5bb9\u6bd4\u8f03\u61c9\u4f7f\u7528 <code>equals()</code> \u65b9\u6cd5\u3002</p>"},{"location":"java/basics/02-data-types-operators/#_10","title":"\u908f\u8f2f\u904b\u7b97\u5b50","text":"Java<pre><code>public class LogicalOperators {\n    public static void main(String[] args) {\n        boolean p = true, q = false;\n\n        // \u908f\u8f2f\u904b\u7b97\u5b50\n        System.out.println(\"p = \" + p + \", q = \" + q);\n        System.out.println(\"p &amp;&amp; q: \" + (p &amp;&amp; q));  // false (\u908f\u8f2f AND)\n        System.out.println(\"p || q: \" + (p || q));  // true  (\u908f\u8f2f OR)\n        System.out.println(\"!p:     \" + (!p));      // false (\u908f\u8f2f NOT)\n        System.out.println(\"!q:     \" + (!q));      // true  (\u908f\u8f2f NOT)\n\n        // \u77ed\u8def\u8a55\u4f30\u793a\u7bc4\n        int a = 5, b = 0;\n        System.out.println(\"\\n\u77ed\u8def\u8a55\u4f30:\");\n\n        // AND \u77ed\u8def\uff1a\u5982\u679c\u7b2c\u4e00\u500b\u689d\u4ef6\u70ba false\uff0c\u4e0d\u8a55\u4f30\u7b2c\u4e8c\u500b\u689d\u4ef6\n        if (false &amp;&amp; (++a &gt; 0)) {\n            System.out.println(\"\u9019\u884c\u4e0d\u6703\u57f7\u884c\");\n        }\n        System.out.println(\"a = \" + a);  // a \u9084\u662f 5\uff0c\u6c92\u6709\u905e\u589e\n\n        // OR \u77ed\u8def\uff1a\u5982\u679c\u7b2c\u4e00\u500b\u689d\u4ef6\u70ba true\uff0c\u4e0d\u8a55\u4f30\u7b2c\u4e8c\u500b\u689d\u4ef6\n        if (true || (++b &gt; 0)) {\n            System.out.println(\"\u689d\u4ef6\u6210\u7acb\uff0c\u4f46 b \u6c92\u6709\u905e\u589e\");\n        }\n        System.out.println(\"b = \" + b);  // b \u9084\u662f 0\uff0c\u6c92\u6709\u905e\u589e\n\n        // \u8907\u96dc\u908f\u8f2f\u8868\u9054\u5f0f\n        int age = 20;\n        boolean hasLicense = true;\n        boolean canDrive = (age &gt;= 18) &amp;&amp; hasLicense;\n        System.out.println(\"\u53ef\u4ee5\u958b\u8eca\u55ce\uff1f \" + canDrive);\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_11","title":"\u4f4d\u5143\u904b\u7b97\u5b50","text":"Java<pre><code>public class BitwiseOperators {\n    public static void main(String[] args) {\n        int a = 12;  // \u4e8c\u9032\u5236: 1100\n        int b = 25;  // \u4e8c\u9032\u5236: 11001\n\n        System.out.println(\"a = \" + a + \" (\u4e8c\u9032\u5236: \" + Integer.toBinaryString(a) + \")\");\n        System.out.println(\"b = \" + b + \" (\u4e8c\u9032\u5236: \" + Integer.toBinaryString(b) + \")\");\n\n        // \u4f4d\u5143\u904b\u7b97\u5b50\n        System.out.println(\"a &amp; b = \" + (a &amp; b) + \" (AND)\");   // \u4f4d\u5143 AND: 8\n        System.out.println(\"a | b = \" + (a | b) + \" (OR)\");    // \u4f4d\u5143 OR: 29\n        System.out.println(\"a ^ b = \" + (a ^ b) + \" (XOR)\");   // \u4f4d\u5143 XOR: 21\n        System.out.println(\"~a = \" + (~a) + \" (NOT)\");         // \u4f4d\u5143 NOT: -13\n\n        // \u4f4d\u79fb\u904b\u7b97\u5b50\n        System.out.println(\"a &lt;&lt; 2 = \" + (a &lt;&lt; 2));  // \u5de6\u79fb 2 \u4f4d: 48\n        System.out.println(\"a &gt;&gt; 2 = \" + (a &gt;&gt; 2));  // \u53f3\u79fb 2 \u4f4d: 3\n\n        // \u5be6\u7528\u7bc4\u4f8b\uff1a\u6aa2\u67e5\u5947\u5076\u6578\n        int number = 17;\n        if ((number &amp; 1) == 0) {\n            System.out.println(number + \" \u662f\u5076\u6578\");\n        } else {\n            System.out.println(number + \" \u662f\u5947\u6578\");\n        }\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_12","title":"\u6d41\u7a0b\u63a7\u5236\u6558\u8ff0","text":""},{"location":"java/basics/02-data-types-operators/#if-else","title":"if-else \u689d\u4ef6\u6558\u8ff0","text":"Java<pre><code>public class ConditionalStatements {\n    public static void main(String[] args) {\n        // \u7c21\u55ae if \u6558\u8ff0\n        int score = 85;\n\n        if (score &gt;= 60) {\n            System.out.println(\"\u53ca\u683c\uff01\");\n        }\n\n        // if-else \u6558\u8ff0\n        if (score &gt;= 90) {\n            System.out.println(\"\u512a\u79c0\");\n        } else if (score &gt;= 80) {\n            System.out.println(\"\u826f\u597d\");\n        } else if (score &gt;= 70) {\n            System.out.println(\"\u666e\u901a\");\n        } else if (score &gt;= 60) {\n            System.out.println(\"\u53ca\u683c\");\n        } else {\n            System.out.println(\"\u4e0d\u53ca\u683c\");\n        }\n\n        // \u4e09\u5143\u904b\u7b97\u5b50 (\u7c21\u6f54\u7684\u689d\u4ef6\u5224\u65b7)\n        String result = (score &gt;= 60) ? \"\u53ca\u683c\" : \"\u4e0d\u53ca\u683c\";\n        System.out.println(\"\u8003\u8a66\u7d50\u679c: \" + result);\n\n        // \u8907\u96dc\u689d\u4ef6\u7bc4\u4f8b\n        int age = 25;\n        boolean hasJob = true;\n        double income = 30000;\n\n        if (age &gt;= 18 &amp;&amp; hasJob &amp;&amp; income &gt;= 25000) {\n            System.out.println(\"\u7b26\u5408\u8cb8\u6b3e\u8cc7\u683c\");\n        } else {\n            System.out.println(\"\u4e0d\u7b26\u5408\u8cb8\u6b3e\u8cc7\u683c\");\n\n            // \u8a73\u7d30\u539f\u56e0\u5206\u6790\n            if (age &lt; 18) {\n                System.out.println(\"\u539f\u56e0: \u5e74\u9f61\u4e0d\u8db3\");\n            }\n            if (!hasJob) {\n                System.out.println(\"\u539f\u56e0: \u6c92\u6709\u5de5\u4f5c\");\n            }\n            if (income &lt; 25000) {\n                System.out.println(\"\u539f\u56e0: \u6536\u5165\u4e0d\u8db3\");\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#switch","title":"switch \u6558\u8ff0","text":"Java<pre><code>public class SwitchStatement {\n    public static void main(String[] args) {\n        // \u50b3\u7d71 switch \u6558\u8ff0\n        int dayOfWeek = 3;\n        String dayName;\n\n        switch (dayOfWeek) {\n            case 1:\n                dayName = \"\u661f\u671f\u4e00\";\n                break;\n            case 2:\n                dayName = \"\u661f\u671f\u4e8c\";\n                break;\n            case 3:\n                dayName = \"\u661f\u671f\u4e09\";\n                break;\n            case 4:\n                dayName = \"\u661f\u671f\u56db\";\n                break;\n            case 5:\n                dayName = \"\u661f\u671f\u4e94\";\n                break;\n            case 6:\n                dayName = \"\u661f\u671f\u516d\";\n                break;\n            case 7:\n                dayName = \"\u661f\u671f\u65e5\";\n                break;\n            default:\n                dayName = \"\u7121\u6548\u7684\u65e5\u671f\";\n                break;\n        }\n\n        System.out.println(\"\u4eca\u5929\u662f: \" + dayName);\n\n        // Switch \u8868\u9054\u5f0f (Java 14+)\n        String dayType = switch (dayOfWeek) {\n            case 1, 2, 3, 4, 5 -&gt; \"\u5de5\u4f5c\u65e5\";\n            case 6, 7 -&gt; \"\u9031\u672b\";\n            default -&gt; \"\u7121\u6548\u65e5\u671f\";\n        };\n\n        System.out.println(\"\u65e5\u671f\u985e\u578b: \" + dayType);\n\n        // \u5b57\u5143 switch \u7bc4\u4f8b\n        char grade = 'B';\n        switch (grade) {\n            case 'A':\n                System.out.println(\"\u512a\u79c0\uff01\u7e7c\u7e8c\u4fdd\u6301\uff01\");\n                break;\n            case 'B':\n                System.out.println(\"\u826f\u597d\uff0c\u9084\u6709\u9032\u6b65\u7a7a\u9593\");\n                break;\n            case 'C':\n                System.out.println(\"\u666e\u901a\uff0c\u9700\u8981\u66f4\u52a0\u52aa\u529b\");\n                break;\n            case 'D':\n                System.out.println(\"\u53ca\u683c\uff0c\u4f46\u8981\u52a0\u5f37\u5b78\u7fd2\");\n                break;\n            case 'F':\n                System.out.println(\"\u4e0d\u53ca\u683c\uff0c\u9700\u8981\u91cd\u4fee\");\n                break;\n            default:\n                System.out.println(\"\u7121\u6548\u7684\u6210\u7e3e\");\n                break;\n        }\n\n        // \u5b57\u4e32 switch (Java 7+)\n        String month = \"\u4e09\u6708\";\n        switch (month) {\n            case \"\u4e09\u6708\":\n            case \"\u56db\u6708\":\n            case \"\u4e94\u6708\":\n                System.out.println(\"\u6625\u5b63\");\n                break;\n            case \"\u516d\u6708\":\n            case \"\u4e03\u6708\":\n            case \"\u516b\u6708\":\n                System.out.println(\"\u590f\u5b63\");\n                break;\n            case \"\u4e5d\u6708\":\n            case \"\u5341\u6708\":\n            case \"\u5341\u4e00\u6708\":\n                System.out.println(\"\u79cb\u5b63\");\n                break;\n            case \"\u5341\u4e8c\u6708\":\n            case \"\u4e00\u6708\":\n            case \"\u4e8c\u6708\":\n                System.out.println(\"\u51ac\u5b63\");\n                break;\n            default:\n                System.out.println(\"\u7121\u6548\u7684\u6708\u4efd\");\n                break;\n        }\n    }\n}\n</code></pre> <p>Switch \u6700\u4f73\u5be6\u8e10</p> <ul> <li>\u6c38\u9060\u5305\u542b <code>default</code> case \u8655\u7406\u672a\u9810\u671f\u7684\u503c</li> <li>\u8a18\u5f97\u5728\u6bcf\u500b case \u5f8c\u52a0\u4e0a <code>break</code>\uff08\u9664\u975e\u6545\u610f\u8981\u57f7\u884c\u4e0b\u4e00\u500b case\uff09</li> <li>\u8003\u616e\u4f7f\u7528\u65b0\u7684 switch \u8868\u9054\u5f0f\u8a9e\u6cd5\uff08Java 14+\uff09\u4f86\u907f\u514d\u907a\u6f0f <code>break</code></li> </ul>"},{"location":"java/basics/02-data-types-operators/#_13","title":"\u8ff4\u5708\u6558\u8ff0","text":""},{"location":"java/basics/02-data-types-operators/#for","title":"for \u8ff4\u5708","text":"Java<pre><code>public class ForLoops {\n    public static void main(String[] args) {\n        // \u57fa\u672c for \u8ff4\u5708\n        System.out.println(\"1 \u5230 10 \u7684\u6578\u5b57:\");\n        for (int i = 1; i &lt;= 10; i++) {\n            System.out.print(i + \" \");\n        }\n        System.out.println();\n\n        // \u5012\u6578\u8ff4\u5708\n        System.out.println(\"10 \u5230 1 \u7684\u5012\u6578:\");\n        for (int i = 10; i &gt;= 1; i--) {\n            System.out.print(i + \" \");\n        }\n        System.out.println();\n\n        // \u6b65\u9032\u503c\u4e0d\u70ba 1 \u7684\u8ff4\u5708\n        System.out.println(\"\u5076\u6578 (2 \u5230 20):\");\n        for (int i = 2; i &lt;= 20; i += 2) {\n            System.out.print(i + \" \");\n        }\n        System.out.println();\n\n        // \u5de2\u72c0\u8ff4\u5708 - \u4e5d\u4e5d\u4e58\u6cd5\u8868\n        System.out.println(\"\\n\u4e5d\u4e5d\u4e58\u6cd5\u8868:\");\n        for (int i = 1; i &lt;= 9; i++) {\n            for (int j = 1; j &lt;= 9; j++) {\n                System.out.printf(\"%d\u00d7%d=%2d  \", i, j, i * j);\n            }\n            System.out.println();\n        }\n\n        // \u7a7a\u7684 for \u8ff4\u5708\u90e8\u5206\n        int sum = 0;\n        int n = 100;\n        for (int i = 1; i &lt;= n; sum += i, i++) {\n            // \u8ff4\u5708\u9ad4\u53ef\u4ee5\u662f\u7a7a\u7684\uff0c\u6240\u6709\u908f\u8f2f\u90fd\u5728\u8ff4\u5708\u689d\u4ef6\u4e2d\n        }\n        System.out.println(\"1 \u5230 \" + n + \" \u7684\u7e3d\u548c: \" + sum);\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#while-do-while","title":"while \u8207 do-while \u8ff4\u5708","text":"Java<pre><code>public class WhileLoops {\n    public static void main(String[] args) {\n        // while \u8ff4\u5708\n        System.out.println(\"while \u8ff4\u5708\u7bc4\u4f8b:\");\n        int count = 1;\n        while (count &lt;= 5) {\n            System.out.println(\"\u7b2c \" + count + \" \u6b21\");\n            count++;\n        }\n\n        // do-while \u8ff4\u5708 (\u81f3\u5c11\u57f7\u884c\u4e00\u6b21)\n        System.out.println(\"\\ndo-while \u8ff4\u5708\u7bc4\u4f8b:\");\n        int number = 10;\n        do {\n            System.out.println(\"\u6578\u5b57: \" + number);\n            number--;\n        } while (number &gt; 5);\n\n        // \u5be6\u7528\u7bc4\u4f8b\uff1a\u8f38\u5165\u9a57\u8b49 (\u6a21\u64ec)\n        System.out.println(\"\\n\u6578\u5b57\u731c\u6e2c\u904a\u6232\u6a21\u64ec:\");\n        int targetNumber = 42;\n        int guess = 30;  // \u6a21\u64ec\u4f7f\u7528\u8005\u8f38\u5165\n        int attempts = 0;\n\n        while (guess != targetNumber) {\n            attempts++;\n            System.out.println(\"\u7b2c \" + attempts + \" \u6b21\u731c\u6e2c: \" + guess);\n\n            if (guess &lt; targetNumber) {\n                System.out.println(\"\u592a\u5c0f\u4e86\uff01\");\n                guess += 5;  // \u6a21\u64ec\u4e0b\u4e00\u6b21\u731c\u6e2c\n            } else {\n                System.out.println(\"\u592a\u5927\u4e86\uff01\");\n                guess -= 3;  // \u6a21\u64ec\u4e0b\u4e00\u6b21\u731c\u6e2c\n            }\n\n            // \u907f\u514d\u7121\u9650\u8ff4\u5708\n            if (attempts &gt; 10) {\n                System.out.println(\"\u5617\u8a66\u6b21\u6578\u904e\u591a\uff0c\u904a\u6232\u7d50\u675f\");\n                break;\n            }\n        }\n\n        if (guess == targetNumber) {\n            System.out.println(\"\u606d\u559c\uff01\u731c\u5c0d\u4e86\uff01\u7b54\u6848\u662f \" + targetNumber);\n            System.out.println(\"\u7e3d\u5171\u5617\u8a66\u4e86 \" + attempts + \" \u6b21\");\n        }\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#break-continue","title":"break \u8207 continue","text":"Java<pre><code>public class BreakContinue {\n    public static void main(String[] args) {\n        // break \u7bc4\u4f8b\n        System.out.println(\"break \u7bc4\u4f8b - \u627e\u5230\u7b2c\u4e00\u500b\u5076\u6578\u5c31\u505c\u6b62:\");\n        for (int i = 1; i &lt;= 10; i++) {\n            if (i % 2 == 0) {\n                System.out.println(\"\u627e\u5230\u5076\u6578: \" + i);\n                break;  // \u8df3\u51fa\u8ff4\u5708\n            }\n            System.out.println(\"\u5947\u6578: \" + i);\n        }\n\n        // continue \u7bc4\u4f8b\n        System.out.println(\"\\ncontinue \u7bc4\u4f8b - \u53ea\u5370\u51fa\u5947\u6578:\");\n        for (int i = 1; i &lt;= 10; i++) {\n            if (i % 2 == 0) {\n                continue;  // \u8df3\u904e\u672c\u6b21\u8ff4\u5708\uff0c\u9032\u5165\u4e0b\u4e00\u6b21\n            }\n            System.out.println(\"\u5947\u6578: \" + i);\n        }\n\n        // \u6a19\u7c64 (label) \u8207\u5de2\u72c0\u8ff4\u5708\n        System.out.println(\"\\n\u6a19\u7c64\u7bc4\u4f8b - \u5de2\u72c0\u8ff4\u5708\u4e2d\u7684 break:\");\n        outer: for (int i = 1; i &lt;= 3; i++) {\n            for (int j = 1; j &lt;= 3; j++) {\n                if (i == 2 &amp;&amp; j == 2) {\n                    System.out.println(\"\u5728 i=\" + i + \", j=\" + j + \" \u6642\u8df3\u51fa\u5916\u5c64\u8ff4\u5708\");\n                    break outer;  // \u8df3\u51fa\u6a19\u7c64\u6307\u5b9a\u7684\u8ff4\u5708\n                }\n                System.out.println(\"i=\" + i + \", j=\" + j);\n            }\n        }\n\n        // continue \u8207\u6a19\u7c64\n        System.out.println(\"\\n\u6a19\u7c64\u7bc4\u4f8b - \u5de2\u72c0\u8ff4\u5708\u4e2d\u7684 continue:\");\n        outer2: for (int i = 1; i &lt;= 3; i++) {\n            for (int j = 1; j &lt;= 3; j++) {\n                if (j == 2) {\n                    System.out.println(\"\u8df3\u904e i=\" + i + \", j=\" + j);\n                    continue outer2;  // \u7e7c\u7e8c\u5916\u5c64\u8ff4\u5708\u7684\u4e0b\u4e00\u6b21\n                }\n                System.out.println(\"i=\" + i + \", j=\" + j);\n            }\n        }\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_14","title":"\u7d9c\u5408\u7bc4\u4f8b","text":"Java<pre><code>import java.util.Random;\n\npublic class ComprehensiveExample {\n    public static void main(String[] args) {\n        // \u6a21\u64ec\u4e00\u500b\u7c21\u55ae\u7684\u6210\u7e3e\u7d71\u8a08\u7cfb\u7d71\n        System.out.println(\"=== \u5b78\u751f\u6210\u7e3e\u7d71\u8a08\u7cfb\u7d71 ===\");\n\n        // \u6a21\u64ec\u5b78\u751f\u6210\u7e3e\n        Random random = new Random();\n        int studentCount = 10;\n        int totalScore = 0;\n        int passCount = 0;\n        int maxScore = 0;\n        int minScore = 100;\n\n        System.out.println(\"\u5b78\u751f\u6210\u7e3e\u5217\u8868:\");\n\n        for (int i = 1; i &lt;= studentCount; i++) {\n            // \u751f\u6210 0-100 \u7684\u96a8\u6a5f\u6210\u7e3e\n            int score = random.nextInt(101);\n            totalScore += score;\n\n            // \u7d71\u8a08\u53ca\u683c\u4eba\u6578\n            if (score &gt;= 60) {\n                passCount++;\n            }\n\n            // \u627e\u51fa\u6700\u9ad8\u5206\u548c\u6700\u4f4e\u5206\n            if (score &gt; maxScore) {\n                maxScore = score;\n            }\n            if (score &lt; minScore) {\n                minScore = score;\n            }\n\n            // \u5224\u65b7\u7b49\u7b2c\n            String grade;\n            if (score &gt;= 90) {\n                grade = \"\u512a\u79c0\";\n            } else if (score &gt;= 80) {\n                grade = \"\u826f\u597d\";\n            } else if (score &gt;= 70) {\n                grade = \"\u666e\u901a\";\n            } else if (score &gt;= 60) {\n                grade = \"\u53ca\u683c\";\n            } else {\n                grade = \"\u4e0d\u53ca\u683c\";\n            }\n\n            // \u986f\u793a\u7d50\u679c\n            System.out.printf(\"\u5b78\u751f %2d: %3d \u5206 - %s%s%n\", \n                            i, score, grade, \n                            (score == maxScore) ? \" (\u6700\u9ad8\u5206)\" : \n                            (score == minScore) ? \" (\u6700\u4f4e\u5206)\" : \"\");\n        }\n\n        // \u7d71\u8a08\u7d50\u679c\n        double averageScore = (double) totalScore / studentCount;\n        double passRate = (double) passCount / studentCount * 100;\n\n        System.out.println(\"\\n=== \u7d71\u8a08\u7d50\u679c ===\");\n        System.out.printf(\"\u7e3d\u4eba\u6578: %d%n\", studentCount);\n        System.out.printf(\"\u7e3d\u5206: %d%n\", totalScore);\n        System.out.printf(\"\u5e73\u5747\u5206\u6578: %.2f%n\", averageScore);\n        System.out.printf(\"\u6700\u9ad8\u5206: %d%n\", maxScore);\n        System.out.printf(\"\u6700\u4f4e\u5206: %d%n\", minScore);\n        System.out.printf(\"\u53ca\u683c\u4eba\u6578: %d%n\", passCount);\n        System.out.printf(\"\u53ca\u683c\u7387: %.1f%%%n\", passRate);\n\n        // \u6210\u7e3e\u5206\u5e03\u7d71\u8a08\n        int[] gradeDistribution = new int[5]; // \u512a\u79c0\u3001\u826f\u597d\u3001\u666e\u901a\u3001\u53ca\u683c\u3001\u4e0d\u53ca\u683c\n\n        // \u91cd\u65b0\u751f\u6210\u76f8\u540c\u7684\u96a8\u6a5f\u6578\u5e8f\u5217\u4f86\u7d71\u8a08\u5206\u5e03\n        random.setSeed(0);  // \u8a2d\u5b9a\u7a2e\u5b50\u78ba\u4fdd\u76f8\u540c\u7d50\u679c\n        for (int i = 0; i &lt; studentCount; i++) {\n            int score = random.nextInt(101);\n\n            if (score &gt;= 90) {\n                gradeDistribution[0]++;\n            } else if (score &gt;= 80) {\n                gradeDistribution[1]++;\n            } else if (score &gt;= 70) {\n                gradeDistribution[2]++;\n            } else if (score &gt;= 60) {\n                gradeDistribution[3]++;\n            } else {\n                gradeDistribution[4]++;\n            }\n        }\n\n        System.out.println(\"\\n=== \u6210\u7e3e\u5206\u5e03 ===\");\n        String[] gradeLabels = {\"\u512a\u79c0(90+)\", \"\u826f\u597d(80-89)\", \"\u666e\u901a(70-79)\", \"\u53ca\u683c(60-69)\", \"\u4e0d\u53ca\u683c(&lt;60)\"};\n\n        for (int i = 0; i &lt; gradeDistribution.length; i++) {\n            System.out.printf(\"%-12s: %d \u4eba%n\", gradeLabels[i], gradeDistribution[i]);\n        }\n    }\n}\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_15","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>\u57fa\u672c\u8cc7\u6599\u578b\u614b: byte\u3001short\u3001int\u3001long\u3001float\u3001double\u3001char\u3001boolean</li> <li>\u8b8a\u6578\u547d\u540d: \u4f7f\u7528\u5c0f\u99dd\u5cf0\u547d\u540d\u6cd5\uff0c\u907f\u514d\u95dc\u9375\u5b57\uff0c\u540d\u7a31\u8981\u6709\u610f\u7fa9</li> <li>\u904b\u7b97\u5b50\u512a\u5148\u9806\u5e8f: <code>()</code> &gt; <code>!</code> <code>++</code> <code>--</code> &gt; <code>*</code> <code>/</code> <code>%</code> &gt; <code>+</code> <code>-</code> &gt; <code>&lt;</code> <code>&gt;</code> <code>&lt;=</code> <code>&gt;=</code> &gt; <code>==</code> <code>!=</code> &gt; <code>&amp;&amp;</code> &gt; <code>||</code></li> <li>\u6d41\u7a0b\u63a7\u5236: if-else\u3001switch\u3001for\u3001while\u3001do-while</li> <li>\u8df3\u8e8d\u6558\u8ff0: break\uff08\u8df3\u51fa\u8ff4\u5708\uff09\u3001continue\uff08\u8df3\u904e\u672c\u6b21\u8ff4\u5708\uff09</li> </ol> <p>\u578b\u614b\u8f49\u63db\u91cd\u8981\u63d0\u9192</p> Java<pre><code>// \u81ea\u52d5\u8f49\u63db (\u5c0f\u7bc4\u570d \u2192 \u5927\u7bc4\u570d)\nint i = 100;\nlong l = i;     // \u81ea\u52d5\u8f49\u63db\ndouble d = l;   // \u81ea\u52d5\u8f49\u63db\n\n// \u5f37\u5236\u8f49\u63db (\u5927\u7bc4\u570d \u2192 \u5c0f\u7bc4\u570d\uff0c\u53ef\u80fd\u907a\u5931\u8cc7\u6599)\ndouble pi = 3.14159;\nint intPi = (int) pi;  // \u5f37\u5236\u8f49\u63db\uff0c\u7d50\u679c\u70ba 3\n</code></pre>"},{"location":"java/basics/02-data-types-operators/#_16","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u57fa\u790e\u7df4\u7fd2</li> <li>\u5ba3\u544a\u5404\u7a2e\u578b\u614b\u7684\u8b8a\u6578\u4e26\u9032\u884c\u904b\u7b97</li> <li>\u64b0\u5beb\u7a0b\u5f0f\u8a08\u7b97\u5713\u7684\u9762\u7a4d\u548c\u5468\u9577</li> <li> <p>\u5be6\u4f5c\u6eab\u5ea6\u8f49\u63db\u7a0b\u5f0f\uff08\u651d\u6c0f \u2194 \u83ef\u6c0f\uff09</p> </li> <li> <p>\u6d41\u7a0b\u63a7\u5236\u7df4\u7fd2</p> </li> <li>\u64b0\u5beb\u7a0b\u5f0f\u5224\u65b7\u5e74\u4efd\u662f\u5426\u70ba\u958f\u5e74</li> <li>\u5be6\u4f5c\u7c21\u55ae\u7684\u8a08\u7b97\u6a5f\uff08\u52a0\u6e1b\u4e58\u9664\uff09</li> <li> <p>\u8a2d\u8a08\u6210\u7e3e\u7b49\u7b2c\u5224\u65b7\u7a0b\u5f0f</p> </li> <li> <p>\u8ff4\u5708\u7df4\u7fd2</p> </li> <li>\u5370\u51fa\u4e5d\u4e5d\u4e58\u6cd5\u8868</li> <li>\u8a08\u7b97\u968e\u4e58 (n!)</li> <li> <p>\u627e\u51fa\u6307\u5b9a\u7bc4\u570d\u5167\u7684\u8cea\u6578</p> </li> <li> <p>\u7d9c\u5408\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u4e00\u500b\u6578\u5b57\u731c\u6e2c\u904a\u6232</li> <li>\u5be6\u4f5c\u7d71\u8a08\u5206\u6790\u7a0b\u5f0f\uff08\u5e73\u5747\u6578\u3001\u6700\u5927\u503c\u3001\u6700\u5c0f\u503c\uff09</li> <li>\u64b0\u5beb\u661f\u865f\u5716\u6848\u5217\u5370\u7a0b\u5f0f</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2 String\u3001\u65e5\u671f\u6642\u9593\u548c\u6578\u5b57\u7269\u4ef6\u7684\u8655\u7406\uff01</p>"},{"location":"java/basics/03-string-date-number/","title":"\u6587\u5b57\u3001\u65e5\u671f\u3001\u6642\u9593\u8207\u6578\u5b57\u7269\u4ef6","text":""},{"location":"java/basics/03-string-date-number/#string","title":"String \u985e\u5225\u8207\u5b57\u4e32\u8655\u7406","text":"<p>String \u662f Java \u4e2d\u6700\u5e38\u7528\u7684\u985e\u5225\u4e4b\u4e00\uff0c\u7528\u65bc\u8655\u7406\u6587\u5b57\u8cc7\u6599\u3002String \u7269\u4ef6\u662f\u4e0d\u53ef\u8b8a\u7684\uff08immutable\uff09\uff0c\u4e00\u65e6\u5efa\u7acb\u5c31\u7121\u6cd5\u4fee\u6539\u3002</p>"},{"location":"java/basics/03-string-date-number/#string_1","title":"String \u57fa\u672c\u64cd\u4f5c","text":"Java<pre><code>public class StringBasics {\n    public static void main(String[] args) {\n        // \u5b57\u4e32\u5efa\u7acb\u65b9\u5f0f\n        String str1 = \"Hello World\";        // \u5b57\u4e32\u5b57\u9762\u503c\n        String str2 = new String(\"Hello World\"); // \u4f7f\u7528\u5efa\u69cb\u5b50\n        String str3 = \"\";                   // \u7a7a\u5b57\u4e32\n        String str4 = null;                 // null \u53c3\u8003\n\n        // \u5b57\u4e32\u57fa\u672c\u8cc7\u8a0a\n        System.out.println(\"\u5b57\u4e32\u5167\u5bb9: \\\"\" + str1 + \"\\\"\");\n        System.out.println(\"\u5b57\u4e32\u9577\u5ea6: \" + str1.length());\n        System.out.println(\"\u662f\u5426\u70ba\u7a7a\u5b57\u4e32: \" + str1.isEmpty());\n\n        // null \u6aa2\u67e5\u7684\u91cd\u8981\u6027\n        if (str4 != null) {\n            System.out.println(\"str4 \u9577\u5ea6: \" + str4.length());\n        } else {\n            System.out.println(\"str4 \u662f null\uff0c\u7121\u6cd5\u53d6\u5f97\u9577\u5ea6\");\n        }\n\n        // \u5b57\u4e32\u6bd4\u8f03\n        System.out.println(\"\\n=== \u5b57\u4e32\u6bd4\u8f03 ===\");\n        System.out.println(\"str1 == str2: \" + (str1 == str2));         // false (\u4e0d\u540c\u7269\u4ef6)\n        System.out.println(\"str1.equals(str2): \" + str1.equals(str2)); // true (\u5167\u5bb9\u76f8\u540c)\n\n        // \u5ffd\u7565\u5927\u5c0f\u5beb\u6bd4\u8f03\n        String upper = \"HELLO WORLD\";\n        System.out.println(\"\u5ffd\u7565\u5927\u5c0f\u5beb\u6bd4\u8f03: \" + str1.equalsIgnoreCase(upper));\n\n        // \u5b57\u4e32\u6bd4\u8f03\u9806\u5e8f (\u5b57\u5178\u5e8f)\n        String apple = \"apple\";\n        String banana = \"banana\";\n        System.out.println(\"apple.compareTo(banana): \" + apple.compareTo(banana)); // \u8ca0\u6578\n        System.out.println(\"banana.compareTo(apple): \" + banana.compareTo(apple)); // \u6b63\u6578\n    }\n}\n</code></pre>"},{"location":"java/basics/03-string-date-number/#string_2","title":"String \u5e38\u7528\u65b9\u6cd5","text":"Java<pre><code>public class StringMethods {\n    public static void main(String[] args) {\n        String text = \"  Hello Java Programming World!  \";\n\n        // \u5b57\u4e32\u8f49\u63db\n        System.out.println(\"\u539f\u59cb\u5b57\u4e32: \\\"\" + text + \"\\\"\");\n        System.out.println(\"\u8f49\u5927\u5beb: \\\"\" + text.toUpperCase() + \"\\\"\");\n        System.out.println(\"\u8f49\u5c0f\u5beb: \\\"\" + text.toLowerCase() + \"\\\"\");\n        System.out.println(\"\u79fb\u9664\u524d\u5f8c\u7a7a\u767d: \\\"\" + text.trim() + \"\\\"\");\n\n        // \u5b57\u4e32\u641c\u5c0b\n        System.out.println(\"\\n=== \u5b57\u4e32\u641c\u5c0b ===\");\n        String cleanText = text.trim();\n        System.out.println(\"\u5305\u542b 'Java': \" + cleanText.contains(\"Java\"));\n        System.out.println(\"\u4ee5 'Hello' \u958b\u982d: \" + cleanText.startsWith(\"Hello\"));\n        System.out.println(\"\u4ee5 '!' \u7d50\u5c3e: \" + cleanText.endsWith(\"!\"));\n        System.out.println(\"'Java' \u7684\u4f4d\u7f6e: \" + cleanText.indexOf(\"Java\"));\n        System.out.println(\"'o' \u6700\u5f8c\u51fa\u73fe\u4f4d\u7f6e: \" + cleanText.lastIndexOf(\"o\"));\n\n        // \u5b57\u4e32\u5206\u5272\n        System.out.println(\"\\n=== \u5b57\u4e32\u5206\u5272 ===\");\n        String sentence = \"apple,banana,orange,grape\";\n        String[] fruits = sentence.split(\",\");\n        System.out.println(\"\u6c34\u679c\u9663\u5217:\");\n        for (int i = 0; i &lt; fruits.length; i++) {\n            System.out.println((i + 1) + \". \" + fruits[i]);\n        }\n\n        // \u5b57\u4e32\u53d6\u4ee3\n        System.out.println(\"\\n=== \u5b57\u4e32\u53d6\u4ee3 ===\");\n        String message = \"Hello World! Hello Java!\";\n        System.out.println(\"\u539f\u59cb: \" + message);\n        System.out.println(\"\u53d6\u4ee3\u7b2c\u4e00\u500b Hello: \" + message.replaceFirst(\"Hello\", \"Hi\"));\n        System.out.println(\"\u53d6\u4ee3\u6240\u6709 Hello: \" + message.replace(\"Hello\", \"Hi\"));\n        System.out.println(\"\u4f7f\u7528\u6b63\u898f\u8868\u9054\u5f0f\u53d6\u4ee3: \" + message.replaceAll(\"H\\\\w+\", \"Greetings\"));\n\n        // \u5b57\u4e32\u64f7\u53d6\n        System.out.println(\"\\n=== \u5b57\u4e32\u64f7\u53d6 ===\");\n        String programming = \"Java Programming\";\n        System.out.println(\"\u539f\u59cb\u5b57\u4e32: \" + programming);\n        System.out.println(\"\u5f9e\u7d22\u5f15 5 \u958b\u59cb: \" + programming.substring(5));\n        System.out.println(\"\u5f9e\u7d22\u5f15 5 \u5230 11: \" + programming.substring(5, 11));\n        System.out.println(\"\u7b2c 6 \u500b\u5b57\u5143: \" + programming.charAt(5));\n\n        // \u5b57\u4e32\u683c\u5f0f\u5316\n        System.out.println(\"\\n=== \u5b57\u4e32\u683c\u5f0f\u5316 ===\");\n        String name = \"\u5f35\u5c0f\u660e\";\n        int age = 25;\n        double height = 175.5;\n\n        String formatted = String.format(\"\u59d3\u540d: %s, \u5e74\u9f61: %d, \u8eab\u9ad8: %.1f cm\", \n                                        name, age, height);\n        System.out.println(formatted);\n\n        // printf \u6a23\u5f0f\u683c\u5f0f\u5316\n        System.out.printf(\"%-10s | %3d\u6b72 | %6.2f cm%n\", name, age, height);\n    }\n}\n</code></pre> <p>String \u6548\u80fd\u5efa\u8b70</p> <p>\u7531\u65bc String \u662f\u4e0d\u53ef\u8b8a\u7684\uff0c\u983b\u7e41\u7684\u5b57\u4e32\u4e32\u63a5\u6703\u7522\u751f\u5927\u91cf\u66ab\u6642\u7269\u4ef6\u3002\u5c0d\u65bc\u5927\u91cf\u5b57\u4e32\u64cd\u4f5c\uff0c\u5efa\u8b70\u4f7f\u7528 StringBuilder \u6216 StringBuffer\u3002</p>"},{"location":"java/basics/03-string-date-number/#stringbuilder-stringbuffer","title":"StringBuilder \u8207 StringBuffer","text":"Java<pre><code>public class StringBuilderExample {\n    public static void main(String[] args) {\n        // StringBuilder vs String \u6548\u80fd\u6bd4\u8f03\u793a\u7bc4\n        System.out.println(\"=== \u6548\u80fd\u6bd4\u8f03 ===\");\n\n        // \u4f7f\u7528 String (\u6548\u80fd\u8f03\u5dee)\n        long startTime = System.currentTimeMillis();\n        String str = \"\";\n        for (int i = 0; i &lt; 10000; i++) {\n            str += \"a\";  // \u6bcf\u6b21\u90fd\u6703\u5efa\u7acb\u65b0\u7684 String \u7269\u4ef6\n        }\n        long stringTime = System.currentTimeMillis() - startTime;\n\n        // \u4f7f\u7528 StringBuilder (\u6548\u80fd\u8f03\u597d)\n        startTime = System.currentTimeMillis();\n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; 10000; i++) {\n            sb.append(\"a\");  // \u5728\u540c\u4e00\u500b\u7de9\u885d\u5340\u4e2d\u64cd\u4f5c\n        }\n        String sbResult = sb.toString();\n        long sbTime = System.currentTimeMillis() - startTime;\n\n        System.out.println(\"String \u4e32\u63a5\u6642\u9593: \" + stringTime + \"ms\");\n        System.out.println(\"StringBuilder \u6642\u9593: \" + sbTime + \"ms\");\n        System.out.println(\"StringBuilder \u5feb\u4e86 \" + (stringTime / (double)sbTime) + \" \u500d\");\n\n        // StringBuilder \u5e38\u7528\u65b9\u6cd5\n        System.out.println(\"\\n=== StringBuilder \u65b9\u6cd5 ===\");\n        StringBuilder builder = new StringBuilder();\n\n        // \u5efa\u69cb\u548c\u9644\u52a0\n        builder.append(\"Hello\");\n        builder.append(\" \");\n        builder.append(\"World\");\n        builder.append(\"!\");\n        System.out.println(\"\u9644\u52a0\u5f8c: \" + builder.toString());\n\n        // \u63d2\u5165\n        builder.insert(6, \"Java \");\n        System.out.println(\"\u63d2\u5165\u5f8c: \" + builder.toString());\n\n        // \u522a\u9664\n        builder.delete(6, 11);  // \u522a\u9664 \"Java \"\n        System.out.println(\"\u522a\u9664\u5f8c: \" + builder.toString());\n\n        // \u53cd\u8f49\n        StringBuilder reverse = new StringBuilder(\"racecar\");\n        System.out.println(\"\u539f\u5b57\u4e32: \" + reverse);\n        System.out.println(\"\u53cd\u8f49\u5f8c: \" + reverse.reverse());\n\n        // \u53d6\u4ee3\n        StringBuilder replace = new StringBuilder(\"Hello World\");\n        replace.replace(6, 11, \"Java\");\n        System.out.println(\"\u53d6\u4ee3\u5f8c: \" + replace);\n\n        // StringBuffer vs StringBuilder\n        System.out.println(\"\\n=== StringBuffer vs StringBuilder ===\");\n\n        // StringBuffer (\u57f7\u884c\u7dd2\u5b89\u5168\uff0c\u8f03\u6162)\n        StringBuffer buffer = new StringBuffer();\n        buffer.append(\"Thread-Safe\");\n        System.out.println(\"StringBuffer: \" + buffer);\n\n        // StringBuilder (\u975e\u57f7\u884c\u7dd2\u5b89\u5168\uff0c\u8f03\u5feb)\n        StringBuilder builder2 = new StringBuilder();\n        builder2.append(\"Not Thread-Safe, but Faster\");\n        System.out.println(\"StringBuilder: \" + builder2);\n    }\n}\n</code></pre> <p>StringBuilder vs StringBuffer</p> <ul> <li>StringBuilder: \u975e\u57f7\u884c\u7dd2\u5b89\u5168\uff0c\u6548\u80fd\u8f03\u597d\uff0c\u55ae\u57f7\u884c\u7dd2\u74b0\u5883\u63a8\u85a6\u4f7f\u7528</li> <li>StringBuffer: \u57f7\u884c\u7dd2\u5b89\u5168\uff0c\u6548\u80fd\u8f03\u5dee\uff0c\u591a\u57f7\u884c\u7dd2\u74b0\u5883\u4f7f\u7528</li> </ul>"},{"location":"java/basics/03-string-date-number/#_2","title":"\u65e5\u671f\u8207\u6642\u9593\u8655\u7406","text":"<p>Java 8 \u5f15\u5165\u4e86\u65b0\u7684\u65e5\u671f\u6642\u9593 API\uff0c\u4f4d\u65bc <code>java.time</code> \u5957\u4ef6\u4e2d\uff0c\u53d6\u4ee3\u4e86\u820a\u7684 <code>Date</code> \u548c <code>Calendar</code> \u985e\u5225\u3002</p>"},{"location":"java/basics/03-string-date-number/#localdate","title":"LocalDate \u985e\u5225","text":"Java<pre><code>import java.time.LocalDate;\nimport java.time.Month;\nimport java.time.DayOfWeek;\nimport java.time.Period;\nimport java.time.format.DateTimeFormatter;\n\npublic class LocalDateExample {\n    public static void main(String[] args) {\n        // \u5efa\u7acb LocalDate\n        LocalDate today = LocalDate.now();                    // \u4eca\u5929\n        LocalDate birthday = LocalDate.of(1990, 5, 15);       // 1990-05-15\n        LocalDate christmas = LocalDate.of(2023, Month.DECEMBER, 25); // \u4f7f\u7528 Month \u679a\u8209\n        LocalDate parsed = LocalDate.parse(\"2023-12-31\");     // \u89e3\u6790\u5b57\u4e32\n\n        System.out.println(\"\u4eca\u5929: \" + today);\n        System.out.println(\"\u751f\u65e5: \" + birthday);\n        System.out.println(\"\u8056\u8a95\u7bc0: \" + christmas);\n        System.out.println(\"\u89e3\u6790\u65e5\u671f: \" + parsed);\n\n        // \u65e5\u671f\u8cc7\u8a0a\u53d6\u5f97\n        System.out.println(\"\\n=== \u65e5\u671f\u8cc7\u8a0a ===\");\n        System.out.println(\"\u5e74\u4efd: \" + today.getYear());\n        System.out.println(\"\u6708\u4efd: \" + today.getMonth() + \" (\" + today.getMonthValue() + \")\");\n        System.out.println(\"\u65e5\u671f: \" + today.getDayOfMonth());\n        System.out.println(\"\u661f\u671f: \" + today.getDayOfWeek());\n        System.out.println(\"\u5e74\u4e2d\u7b2c\u5e7e\u5929: \" + today.getDayOfYear());\n\n        // \u65e5\u671f\u904b\u7b97\n        System.out.println(\"\\n=== \u65e5\u671f\u904b\u7b97 ===\");\n        LocalDate nextWeek = today.plusWeeks(1);\n        LocalDate lastMonth = today.minusMonths(1);\n        LocalDate nextYear = today.plusYears(1);\n\n        System.out.println(\"\u4e0b\u9031: \" + nextWeek);\n        System.out.println(\"\u4e0a\u500b\u6708: \" + lastMonth);\n        System.out.println(\"\u660e\u5e74: \" + nextYear);\n\n        // \u65e5\u671f\u6bd4\u8f03\n        System.out.println(\"\\n=== \u65e5\u671f\u6bd4\u8f03 ===\");\n        System.out.println(\"\u4eca\u5929\u662f\u5426\u5728\u751f\u65e5\u4e4b\u5f8c: \" + today.isAfter(birthday));\n        System.out.println(\"\u8056\u8a95\u7bc0\u662f\u5426\u5728\u4eca\u5929\u4e4b\u524d: \" + christmas.isBefore(today));\n        System.out.println(\"\u4eca\u5929\u662f\u5426\u7b49\u65bc\u4eca\u5929: \" + today.equals(LocalDate.now()));\n\n        // \u8a08\u7b97\u671f\u9593\n        Period age = Period.between(birthday, today);\n        System.out.println(\"\u5e74\u9f61: \" + age.getYears() + \" \u6b72 \" + \n                          age.getMonths() + \" \u500b\u6708 \" + \n                          age.getDays() + \" \u5929\");\n\n        // \u7279\u6b8a\u65e5\u671f\u5224\u65b7\n        System.out.println(\"\\n=== \u7279\u6b8a\u65e5\u671f ===\");\n        System.out.println(\"\u4eca\u5e74\u662f\u958f\u5e74\u55ce: \" + today.isLeapYear());\n        System.out.println(\"2\u6708\u6709\u5e7e\u5929: \" + today.withMonth(2).lengthOfMonth());\n        System.out.println(\"\u4eca\u5e74\u6709\u5e7e\u5929: \" + today.lengthOfYear());\n\n        // \u5c0b\u627e\u7279\u5b9a\u65e5\u671f\n        LocalDate firstDayOfMonth = today.withDayOfMonth(1);\n        LocalDate lastDayOfMonth = today.withDayOfMonth(today.lengthOfMonth());\n        System.out.println(\"\u672c\u6708\u7b2c\u4e00\u5929: \" + firstDayOfMonth);\n        System.out.println(\"\u672c\u6708\u6700\u5f8c\u4e00\u5929: \" + lastDayOfMonth);\n\n        // \u5c0b\u627e\u4e0b\u4e00\u500b\u661f\u671f\u4e00\n        LocalDate nextMonday = today.with(java.time.temporal.TemporalAdjusters.next(DayOfWeek.MONDAY));\n        System.out.println(\"\u4e0b\u500b\u661f\u671f\u4e00: \" + nextMonday);\n    }\n}\n</code></pre>"},{"location":"java/basics/03-string-date-number/#localtime","title":"LocalTime \u985e\u5225","text":"Java<pre><code>import java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class LocalTimeExample {\n    public static void main(String[] args) {\n        // \u5efa\u7acb LocalTime\n        LocalTime now = LocalTime.now();                      // \u73fe\u5728\u6642\u9593\n        LocalTime lunchTime = LocalTime.of(12, 30);           // 12:30\n        LocalTime meetingTime = LocalTime.of(14, 15, 30);     // 14:15:30\n        LocalTime parsed = LocalTime.parse(\"18:45:30\");       // \u89e3\u6790\u5b57\u4e32\n\n        System.out.println(\"\u73fe\u5728\u6642\u9593: \" + now);\n        System.out.println(\"\u5348\u9910\u6642\u9593: \" + lunchTime);\n        System.out.println(\"\u6703\u8b70\u6642\u9593: \" + meetingTime);\n        System.out.println(\"\u89e3\u6790\u6642\u9593: \" + parsed);\n\n        // \u6642\u9593\u8cc7\u8a0a\u53d6\u5f97\n        System.out.println(\"\\n=== \u6642\u9593\u8cc7\u8a0a ===\");\n        System.out.println(\"\u5c0f\u6642: \" + now.getHour());\n        System.out.println(\"\u5206\u9418: \" + now.getMinute());\n        System.out.println(\"\u79d2\u6578: \" + now.getSecond());\n        System.out.println(\"\u5948\u79d2: \" + now.getNano());\n\n        // \u6642\u9593\u904b\u7b97\n        System.out.println(\"\\n=== \u6642\u9593\u904b\u7b97 ===\");\n        LocalTime afterHour = now.plusHours(1);\n        LocalTime before30Min = now.minusMinutes(30);\n        LocalTime plus2Hours30Min = now.plusHours(2).plusMinutes(30);\n\n        System.out.println(\"\u4e00\u5c0f\u6642\u5f8c: \" + afterHour);\n        System.out.println(\"30\u5206\u9418\u524d: \" + before30Min);\n        System.out.println(\"2\u5c0f\u664230\u5206\u9418\u5f8c: \" + plus2Hours30Min);\n\n        // \u6642\u9593\u6bd4\u8f03\n        System.out.println(\"\\n=== \u6642\u9593\u6bd4\u8f03 ===\");\n        System.out.println(\"\u73fe\u5728\u662f\u5426\u5728\u5348\u9910\u6642\u9593\u4e4b\u5f8c: \" + now.isAfter(lunchTime));\n        System.out.println(\"\u6703\u8b70\u6642\u9593\u662f\u5426\u5728\u73fe\u5728\u4e4b\u524d: \" + meetingTime.isBefore(now));\n\n        // \u6642\u9593\u683c\u5f0f\u5316\n        System.out.println(\"\\n=== \u6642\u9593\u683c\u5f0f\u5316 ===\");\n        DateTimeFormatter formatter1 = DateTimeFormatter.ofPattern(\"HH:mm\");\n        DateTimeFormatter formatter2 = DateTimeFormatter.ofPattern(\"h:mm a\", java.util.Locale.ENGLISH);\n\n        System.out.println(\"24\u5c0f\u6642\u5236: \" + now.format(formatter1));\n        System.out.println(\"12\u5c0f\u6642\u5236: \" + now.format(formatter2));\n\n        // \u5de5\u4f5c\u6642\u9593\u6aa2\u67e5\u7bc4\u4f8b\n        LocalTime workStart = LocalTime.of(9, 0);\n        LocalTime workEnd = LocalTime.of(18, 0);\n        LocalTime currentTime = LocalTime.of(15, 30);\n\n        if (currentTime.isAfter(workStart) &amp;&amp; currentTime.isBefore(workEnd)) {\n            System.out.println(\"\u76ee\u524d\u5728\u5de5\u4f5c\u6642\u9593\u5167\");\n        } else {\n            System.out.println(\"\u76ee\u524d\u4e0d\u5728\u5de5\u4f5c\u6642\u9593\u5167\");\n        }\n    }\n}\n</code></pre>"},{"location":"java/basics/03-string-date-number/#localdatetime","title":"LocalDateTime \u985e\u5225","text":"Java<pre><code>import java.time.LocalDateTime;\nimport java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.time.Duration;\n\npublic class LocalDateTimeExample {\n    public static void main(String[] args) {\n        // \u5efa\u7acb LocalDateTime\n        LocalDateTime now = LocalDateTime.now();\n        LocalDateTime specific = LocalDateTime.of(2023, 12, 25, 15, 30, 0);\n        LocalDateTime combined = LocalDateTime.of(LocalDate.of(2023, 6, 15), LocalTime.of(10, 30));\n        LocalDateTime parsed = LocalDateTime.parse(\"2023-07-01T09:00:00\");\n\n        System.out.println(\"\u73fe\u5728: \" + now);\n        System.out.println(\"\u6307\u5b9a\u6642\u9593: \" + specific);\n        System.out.println(\"\u7d44\u5408\u65e5\u671f\u6642\u9593: \" + combined);\n        System.out.println(\"\u89e3\u6790\u6642\u9593: \" + parsed);\n\n        // \u53d6\u5f97\u65e5\u671f\u548c\u6642\u9593\u90e8\u5206\n        System.out.println(\"\\n=== \u5206\u96e2\u65e5\u671f\u6642\u9593 ===\");\n        LocalDate dateOnly = now.toLocalDate();\n        LocalTime timeOnly = now.toLocalTime();\n        System.out.println(\"\u53ea\u6709\u65e5\u671f: \" + dateOnly);\n        System.out.println(\"\u53ea\u6709\u6642\u9593: \" + timeOnly);\n\n        // \u65e5\u671f\u6642\u9593\u904b\u7b97\n        System.out.println(\"\\n=== \u65e5\u671f\u6642\u9593\u904b\u7b97 ===\");\n        LocalDateTime tomorrow = now.plusDays(1);\n        LocalDateTime nextWeek = now.plusWeeks(1);\n        LocalDateTime twoHoursLater = now.plusHours(2);\n\n        System.out.println(\"\u660e\u5929\u6b64\u6642: \" + tomorrow);\n        System.out.println(\"\u4e0b\u9031\u6b64\u6642: \" + nextWeek);\n        System.out.println(\"\u5169\u5c0f\u6642\u5f8c: \" + twoHoursLater);\n\n        // \u8a08\u7b97\u6642\u9593\u9593\u9694\n        LocalDateTime start = LocalDateTime.of(2023, 1, 1, 9, 0);\n        LocalDateTime end = LocalDateTime.of(2023, 1, 1, 17, 30);\n        Duration workDuration = Duration.between(start, end);\n\n        System.out.println(\"\\n=== \u6642\u9593\u9593\u9694\u8a08\u7b97 ===\");\n        System.out.println(\"\u958b\u59cb: \" + start);\n        System.out.println(\"\u7d50\u675f: \" + end);\n        System.out.println(\"\u5de5\u4f5c\u6642\u9593: \" + workDuration.toHours() + \" \u5c0f\u6642 \" + \n                          (workDuration.toMinutes() % 60) + \" \u5206\u9418\");\n\n        // \u683c\u5f0f\u5316\u986f\u793a\n        System.out.println(\"\\n=== \u683c\u5f0f\u5316\u986f\u793a ===\");\n        DateTimeFormatter customFormat = DateTimeFormatter.ofPattern(\"yyyy\u5e74MM\u6708dd\u65e5 HH:mm:ss\");\n        DateTimeFormatter isoFormat = DateTimeFormatter.ISO_LOCAL_DATE_TIME;\n\n        System.out.println(\"\u81ea\u5b9a\u683c\u5f0f: \" + now.format(customFormat));\n        System.out.println(\"ISO \u683c\u5f0f: \" + now.format(isoFormat));\n\n        // \u5be6\u7528\u7bc4\u4f8b\uff1a\u6703\u8b70\u6392\u7a0b\n        System.out.println(\"\\n=== \u6703\u8b70\u6392\u7a0b\u7bc4\u4f8b ===\");\n        LocalDateTime meetingStart = LocalDateTime.of(2023, 6, 15, 14, 0);\n        LocalDateTime meetingEnd = meetingStart.plusHours(1).plusMinutes(30);\n\n        System.out.println(\"\u6703\u8b70\u958b\u59cb: \" + meetingStart.format(customFormat));\n        System.out.println(\"\u6703\u8b70\u7d50\u675f: \" + meetingEnd.format(customFormat));\n\n        Duration meetingDuration = Duration.between(meetingStart, meetingEnd);\n        System.out.println(\"\u6703\u8b70\u6642\u9577: \" + meetingDuration.toMinutes() + \" \u5206\u9418\");\n\n        // \u6aa2\u67e5\u662f\u5426\u5728\u6703\u8b70\u6642\u9593\u5167\n        LocalDateTime checkTime = LocalDateTime.of(2023, 6, 15, 14, 45);\n        if (checkTime.isAfter(meetingStart) &amp;&amp; checkTime.isBefore(meetingEnd)) {\n            System.out.println(checkTime.format(customFormat) + \" \u5728\u6703\u8b70\u6642\u9593\u5167\");\n        }\n    }\n}\n</code></pre>"},{"location":"java/basics/03-string-date-number/#datetimeformatter","title":"DateTimeFormatter \u683c\u5f0f\u5316","text":"Java<pre><code>import java.time.LocalDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class DateTimeFormatterExample {\n    public static void main(String[] args) {\n        LocalDateTime now = LocalDateTime.now();\n\n        System.out.println(\"=== \u9810\u5b9a\u7fa9\u683c\u5f0f ===\");\n        System.out.println(\"ISO_LOCAL_DATE: \" + now.format(DateTimeFormatter.ISO_LOCAL_DATE));\n        System.out.println(\"ISO_LOCAL_TIME: \" + now.format(DateTimeFormatter.ISO_LOCAL_TIME));\n        System.out.println(\"ISO_LOCAL_DATE_TIME: \" + now.format(DateTimeFormatter.ISO_LOCAL_DATE_TIME));\n\n        System.out.println(\"\\n=== \u81ea\u5b9a\u7fa9\u683c\u5f0f ===\");\n\n        // \u5e38\u7528\u683c\u5f0f\u6a21\u5f0f\n        String[] patterns = {\n            \"yyyy-MM-dd HH:mm:ss\",           // \u6a19\u6e96\u683c\u5f0f\n            \"yyyy\u5e74MM\u6708dd\u65e5 HH:mm:ss\",        // \u4e2d\u6587\u683c\u5f0f\n            \"MM/dd/yyyy h:mm a\",             // \u7f8e\u5f0f\u683c\u5f0f\n            \"dd-MMM-yyyy HH:mm\",             // \u82f1\u6587\u6708\u4efd\u7c21\u5beb\n            \"EEEE, MMMM d, yyyy\",            // \u5b8c\u6574\u661f\u671f\u548c\u6708\u4efd\n            \"yyyy-MM-dd'T'HH:mm:ss\"          // ISO\u683c\u5f0f\n        };\n\n        for (String pattern : patterns) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(pattern, Locale.TRADITIONAL_CHINESE);\n            System.out.println(String.format(\"%-25s: %s\", pattern, now.format(formatter)));\n        }\n\n        // \u89e3\u6790\u5b57\u4e32\u70ba\u65e5\u671f\u6642\u9593\n        System.out.println(\"\\n=== \u89e3\u6790\u5b57\u4e32 ===\");\n        String dateStr1 = \"2023-06-15 14:30:00\";\n        String dateStr2 = \"15/06/2023 2:30 PM\";\n\n        DateTimeFormatter parser1 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd HH:mm:ss\");\n        DateTimeFormatter parser2 = DateTimeFormatter.ofPattern(\"dd/MM/yyyy h:mm a\", Locale.ENGLISH);\n\n        LocalDateTime parsed1 = LocalDateTime.parse(dateStr1, parser1);\n        LocalDateTime parsed2 = LocalDateTime.parse(dateStr2, parser2);\n\n        System.out.println(\"\u89e3\u6790 \\\"\" + dateStr1 + \"\\\" \u70ba: \" + parsed1);\n        System.out.println(\"\u89e3\u6790 \\\"\" + dateStr2 + \"\\\" \u70ba: \" + parsed2);\n\n        // \u683c\u5f0f\u5316\u6a21\u5f0f\u8aaa\u660e\n        System.out.println(\"\\n=== \u683c\u5f0f\u5316\u6a21\u5f0f\u8aaa\u660e ===\");\n        System.out.println(\"y : \u5e74\u4efd\");\n        System.out.println(\"M : \u6708\u4efd (MM=\u6578\u5b57, MMM=\u7c21\u5beb, MMMM=\u5168\u540d)\");\n        System.out.println(\"d : \u65e5\u671f\");\n        System.out.println(\"H : 24\u5c0f\u6642\u5236\u5c0f\u6642\");\n        System.out.println(\"h : 12\u5c0f\u6642\u5236\u5c0f\u6642\");\n        System.out.println(\"m : \u5206\u9418\");\n        System.out.println(\"s : \u79d2\u6578\");\n        System.out.println(\"a : AM/PM\");\n        System.out.println(\"E : \u661f\u671f (E=\u7e2e\u5beb, EEEE=\u5168\u540d)\");\n    }\n}\n</code></pre> <p>\u65e5\u671f\u6642\u9593\u6700\u4f73\u5be6\u8e10</p> <ul> <li>\u4f7f\u7528\u65b0\u7684 <code>java.time</code> API\uff0c\u907f\u514d\u820a\u7684 <code>Date</code> \u548c <code>Calendar</code></li> <li>LocalDateTime \u9069\u7528\u65bc\u4e0d\u9700\u8003\u616e\u6642\u5340\u7684\u5834\u5408</li> <li>\u9700\u8981\u6642\u5340\u8655\u7406\u6642\u4f7f\u7528 <code>ZonedDateTime</code></li> <li>\u5132\u5b58\u5230\u8cc7\u6599\u5eab\u6642\u5efa\u8b70\u4f7f\u7528 UTC \u6642\u9593</li> </ul>"},{"location":"java/basics/03-string-date-number/#_3","title":"\u6578\u5b57\u7269\u4ef6\u8207\u7cbe\u78ba\u904b\u7b97","text":""},{"location":"java/basics/03-string-date-number/#wrapper-classes","title":"\u5305\u88dd\u985e\u5225 (Wrapper Classes)","text":"Java<pre><code>public class WrapperClassExample {\n    public static void main(String[] args) {\n        // \u57fa\u672c\u578b\u614b vs \u5305\u88dd\u985e\u5225\n        int primitiveInt = 100;\n        Integer wrapperInt = Integer.valueOf(100);  // \u660e\u78ba\u5efa\u7acb\n        Integer autoboxInt = 100;                   // \u81ea\u52d5\u88dd\u7bb1\n\n        System.out.println(\"\u57fa\u672c\u578b\u614b: \" + primitiveInt);\n        System.out.println(\"\u5305\u88dd\u985e\u5225: \" + wrapperInt);\n        System.out.println(\"\u81ea\u52d5\u88dd\u7bb1: \" + autoboxInt);\n\n        // \u81ea\u52d5\u88dd\u7bb1\u8207\u62c6\u7bb1\n        System.out.println(\"\\n=== \u81ea\u52d5\u88dd\u7bb1\u8207\u62c6\u7bb1 ===\");\n        Integer boxed = 50;              // \u81ea\u52d5\u88dd\u7bb1 int \u2192 Integer\n        int unboxed = boxed;             // \u81ea\u52d5\u62c6\u7bb1 Integer \u2192 int\n\n        System.out.println(\"\u88dd\u7bb1: \" + boxed);\n        System.out.println(\"\u62c6\u7bb1: \" + unboxed);\n\n        // \u5305\u88dd\u985e\u5225\u7684 null \u8655\u7406\n        Integer nullInteger = null;\n        try {\n            int value = nullInteger;  // \u6703\u62cb\u51fa NullPointerException\n        } catch (NullPointerException e) {\n            System.out.println(\"null \u62c6\u7bb1\u932f\u8aa4: \" + e.getMessage());\n        }\n\n        // \u5b57\u4e32\u8f49\u63db\n        System.out.println(\"\\n=== \u5b57\u4e32\u8f49\u63db ===\");\n        String numStr1 = \"123\";\n        String numStr2 = \"45.67\";\n        String numStr3 = \"true\";\n        String hexStr = \"FF\";\n        String binStr = \"1010\";\n\n        int intValue = Integer.parseInt(numStr1);\n        double doubleValue = Double.parseDouble(numStr2);\n        boolean boolValue = Boolean.parseBoolean(numStr3);\n        int hexValue = Integer.parseInt(hexStr, 16);       // 16 \u9032\u5236\n        int binValue = Integer.parseInt(binStr, 2);        // 2 \u9032\u5236\n\n        System.out.println(\"\u5b57\u4e32 \\\"\" + numStr1 + \"\\\" \u8f49\u6574\u6578: \" + intValue);\n        System.out.println(\"\u5b57\u4e32 \\\"\" + numStr2 + \"\\\" \u8f49\u6d6e\u9ede\u6578: \" + doubleValue);\n        System.out.println(\"\u5b57\u4e32 \\\"\" + numStr3 + \"\\\" \u8f49\u5e03\u6797: \" + boolValue);\n        System.out.println(\"16\u9032\u5236 \\\"\" + hexStr + \"\\\" \u8f49\u6574\u6578: \" + hexValue);\n        System.out.println(\"2\u9032\u5236 \\\"\" + binStr + \"\\\" \u8f49\u6574\u6578: \" + binValue);\n\n        // \u6578\u5b57\u8f49\u5b57\u4e32\n        System.out.println(\"\\n=== \u6578\u5b57\u8f49\u5b57\u4e32 ===\");\n        int number = 255;\n        System.out.println(\"\u5341\u9032\u5236: \" + Integer.toString(number));\n        System.out.println(\"\u4e8c\u9032\u5236: \" + Integer.toBinaryString(number));\n        System.out.println(\"\u516b\u9032\u5236: \" + Integer.toOctalString(number));\n        System.out.println(\"\u5341\u516d\u9032\u5236: \" + Integer.toHexString(number));\n\n        // \u5e38\u7528\u5e38\u6578\n        System.out.println(\"\\n=== \u5305\u88dd\u985e\u5225\u5e38\u6578 ===\");\n        System.out.println(\"Integer.MAX_VALUE: \" + Integer.MAX_VALUE);\n        System.out.println(\"Integer.MIN_VALUE: \" + Integer.MIN_VALUE);\n        System.out.println(\"Double.MAX_VALUE: \" + Double.MAX_VALUE);\n        System.out.println(\"Double.MIN_VALUE: \" + Double.MIN_VALUE);\n        System.out.println(\"Double.POSITIVE_INFINITY: \" + Double.POSITIVE_INFINITY);\n        System.out.println(\"Double.NaN: \" + Double.NaN);\n\n        // \u6578\u503c\u6aa2\u67e5\n        double testValue = Double.NaN;\n        System.out.println(\"\\n=== \u6578\u503c\u6aa2\u67e5 ===\");\n        System.out.println(\"\u662f\u5426\u70ba\u7121\u9650\u5927: \" + Double.isInfinite(testValue));\n        System.out.println(\"\u662f\u5426\u70ba NaN: \" + Double.isNaN(testValue));\n        System.out.println(\"\u662f\u5426\u70ba\u6709\u9650\u6578: \" + Double.isFinite(testValue));\n    }\n}\n</code></pre> <p>\u81ea\u52d5\u88dd\u7bb1\u9677\u9631</p> Java<pre><code>Integer a = 127;\nInteger b = 127;\nSystem.out.println(a == b);  // true (\u5feb\u53d6\u7bc4\u570d -128 \u5230 127)\n\nInteger c = 128;\nInteger d = 128;\nSystem.out.println(c == d);  // false (\u8d85\u51fa\u5feb\u53d6\u7bc4\u570d\uff0c\u4e0d\u540c\u7269\u4ef6)\n\n// \u5b89\u5168\u7684\u6bd4\u8f03\u65b9\u5f0f\nSystem.out.println(c.equals(d));  // true\n</code></pre>"},{"location":"java/basics/03-string-date-number/#bigdecimal","title":"BigDecimal \u7cbe\u78ba\u904b\u7b97","text":"Java<pre><code>import java.math.BigDecimal;\nimport java.math.RoundingMode;\n\npublic class BigDecimalExample {\n    public static void main(String[] args) {\n        // \u6d6e\u9ede\u6578\u7cbe\u78ba\u5ea6\u554f\u984c\u793a\u7bc4\n        System.out.println(\"=== \u6d6e\u9ede\u6578\u7cbe\u78ba\u5ea6\u554f\u984c ===\");\n        double d1 = 0.1;\n        double d2 = 0.2;\n        System.out.println(\"double: 0.1 + 0.2 = \" + (d1 + d2));          // 0.30000000000000004\n        System.out.println(\"\u9810\u671f\u7d50\u679c\u61c9\u8a72\u662f 0.3\uff0c\u4f46\u5be6\u969b\u4e0a\u6709\u8aa4\u5dee\");\n\n        // \u4f7f\u7528 BigDecimal \u89e3\u6c7a\u7cbe\u78ba\u5ea6\u554f\u984c\n        System.out.println(\"\\n=== BigDecimal \u7cbe\u78ba\u904b\u7b97 ===\");\n        BigDecimal bd1 = new BigDecimal(\"0.1\");\n        BigDecimal bd2 = new BigDecimal(\"0.2\");\n        BigDecimal sum = bd1.add(bd2);\n        System.out.println(\"BigDecimal: 0.1 + 0.2 = \" + sum);            // 0.3\n\n        // BigDecimal \u5efa\u7acb\u65b9\u5f0f\n        System.out.println(\"\\n=== BigDecimal \u5efa\u7acb\u65b9\u5f0f ===\");\n        BigDecimal fromString = new BigDecimal(\"123.456\");        // \u63a8\u85a6\uff1a\u4f7f\u7528\u5b57\u4e32\n        BigDecimal fromDouble = BigDecimal.valueOf(123.456);      // \u4f7f\u7528 valueOf\n        BigDecimal fromInt = BigDecimal.valueOf(123);             // \u6574\u6578\n\n        System.out.println(\"\u5f9e\u5b57\u4e32\u5efa\u7acb: \" + fromString);\n        System.out.println(\"\u5f9e double \u5efa\u7acb: \" + fromDouble);\n        System.out.println(\"\u5f9e\u6574\u6578\u5efa\u7acb: \" + fromInt);\n\n        // \u932f\u8aa4\u7684\u5efa\u7acb\u65b9\u5f0f\u793a\u7bc4\n        BigDecimal wrongWay = new BigDecimal(0.1);  // \u4e0d\u63a8\u85a6\uff1a\u6703\u6709\u7cbe\u78ba\u5ea6\u554f\u984c\n        System.out.println(\"\u932f\u8aa4\u65b9\u5f0f new BigDecimal(0.1): \" + wrongWay);\n\n        // \u57fa\u672c\u904b\u7b97\n        System.out.println(\"\\n=== BigDecimal \u57fa\u672c\u904b\u7b97 ===\");\n        BigDecimal a = new BigDecimal(\"10.50\");\n        BigDecimal b = new BigDecimal(\"3.25\");\n\n        System.out.println(\"a = \" + a);\n        System.out.println(\"b = \" + b);\n        System.out.println(\"\u52a0\u6cd5 a + b = \" + a.add(b));\n        System.out.println(\"\u6e1b\u6cd5 a - b = \" + a.subtract(b));\n        System.out.println(\"\u4e58\u6cd5 a \u00d7 b = \" + a.multiply(b));\n\n        // \u9664\u6cd5\u9700\u8981\u6307\u5b9a\u7cbe\u5ea6\n        BigDecimal division = a.divide(b, 4, RoundingMode.HALF_UP);\n        System.out.println(\"\u9664\u6cd5 a \u00f7 b = \" + division + \" (\u56db\u6368\u4e94\u5165\u52304\u4f4d\u5c0f\u6578)\");\n\n        // \u6bd4\u8f03\n        System.out.println(\"\\n=== BigDecimal \u6bd4\u8f03 ===\");\n        BigDecimal x = new BigDecimal(\"2.0\");\n        BigDecimal y = new BigDecimal(\"2.00\");\n\n        System.out.println(\"x = \" + x);\n        System.out.println(\"y = \" + y);\n        System.out.println(\"x.equals(y): \" + x.equals(y));         // false (\u7cbe\u5ea6\u4e0d\u540c)\n        System.out.println(\"x.compareTo(y): \" + x.compareTo(y));   // 0 (\u6578\u503c\u76f8\u7b49)\n\n        // \u91d1\u878d\u8a08\u7b97\u7bc4\u4f8b\n        System.out.println(\"\\n=== \u91d1\u878d\u8a08\u7b97\u7bc4\u4f8b ===\");\n        BigDecimal principal = new BigDecimal(\"10000\");     // \u672c\u91d1\n        BigDecimal rate = new BigDecimal(\"0.03\");           // \u5e74\u5229\u7387 3%\n        BigDecimal time = new BigDecimal(\"2\");              // 2 \u5e74\n\n        // \u55ae\u5229\u8a08\u7b97: \u672c\u91d1 \u00d7 (1 + \u5229\u7387 \u00d7 \u6642\u9593)\n        BigDecimal simpleInterest = principal.multiply(\n            BigDecimal.ONE.add(rate.multiply(time))\n        );\n\n        // \u8907\u5229\u8a08\u7b97: \u672c\u91d1 \u00d7 (1 + \u5229\u7387)^\u6642\u9593\n        BigDecimal compoundInterest = principal.multiply(\n            BigDecimal.ONE.add(rate).pow(time.intValue())\n        );\n\n        System.out.println(\"\u672c\u91d1: \" + principal);\n        System.out.println(\"\u5e74\u5229\u7387: \" + rate.multiply(BigDecimal.valueOf(100)) + \"%\");\n        System.out.println(\"\u6295\u8cc7\u671f\u9593: \" + time + \" \u5e74\");\n        System.out.println(\"\u55ae\u5229\u8a08\u7b97\u7d50\u679c: \" + simpleInterest);\n        System.out.println(\"\u8907\u5229\u8a08\u7b97\u7d50\u679c: \" + compoundInterest.setScale(2, RoundingMode.HALF_UP));\n\n        // \u56db\u6368\u4e94\u5165\u548c\u7cbe\u5ea6\u63a7\u5236\n        System.out.println(\"\\n=== \u56db\u6368\u4e94\u5165\u548c\u7cbe\u5ea6\u63a7\u5236 ===\");\n        BigDecimal precise = new BigDecimal(\"123.456789\");\n\n        System.out.println(\"\u539f\u6578\u503c: \" + precise);\n        System.out.println(\"\u56db\u6368\u4e94\u5165\u52302\u4f4d: \" + precise.setScale(2, RoundingMode.HALF_UP));\n        System.out.println(\"\u7121\u689d\u4ef6\u6368\u53bb2\u4f4d: \" + precise.setScale(2, RoundingMode.DOWN));\n        System.out.println(\"\u7121\u689d\u4ef6\u9032\u4f4d2\u4f4d: \" + precise.setScale(2, RoundingMode.UP));\n        System.out.println(\"\u9280\u884c\u5bb6\u6368\u51652\u4f4d: \" + precise.setScale(2, RoundingMode.HALF_EVEN));\n\n        // \u5e38\u898b\u7684\u56db\u6368\u4e94\u5165\u6a21\u5f0f\n        System.out.println(\"\\n=== \u56db\u6368\u4e94\u5165\u6a21\u5f0f\u8aaa\u660e ===\");\n        BigDecimal[] testValues = {\n            new BigDecimal(\"2.135\"),\n            new BigDecimal(\"2.145\"),\n            new BigDecimal(\"2.155\")\n        };\n\n        System.out.println(\"\u6578\u503c\\t\\tHALF_UP\\t\\tHALF_EVEN\");\n        for (BigDecimal value : testValues) {\n            System.out.printf(\"%-10s\\t%-10s\\t%-10s%n\",\n                value,\n                value.setScale(2, RoundingMode.HALF_UP),\n                value.setScale(2, RoundingMode.HALF_EVEN)\n            );\n        }\n    }\n}\n</code></pre> <p>BigDecimal \u4f7f\u7528\u5efa\u8b70</p> <ul> <li>\u91d1\u878d\u7cfb\u7d71\u5fc5\u7528: \u6d89\u53ca\u91d1\u9322\u8a08\u7b97\u6642\u5fc5\u9808\u4f7f\u7528 BigDecimal</li> <li>\u5efa\u7acb\u65b9\u5f0f: \u512a\u5148\u4f7f\u7528\u5b57\u4e32\u5efa\u69cb\u5b50\u6216 valueOf \u65b9\u6cd5</li> <li>\u6bd4\u8f03: \u4f7f\u7528 compareTo() \u800c\u975e equals()</li> <li>\u6548\u80fd: BigDecimal \u6bd4\u57fa\u672c\u578b\u614b\u6162\uff0c\u53ea\u5728\u9700\u8981\u7cbe\u78ba\u5ea6\u6642\u4f7f\u7528</li> </ul>"},{"location":"java/basics/03-string-date-number/#math","title":"Math \u985e\u5225\u6578\u5b78\u904b\u7b97","text":"Java<pre><code>import java.math.BigInteger;\n\npublic class MathClassExample {\n    public static void main(String[] args) {\n        // \u57fa\u672c\u6578\u5b78\u51fd\u6578\n        System.out.println(\"=== \u57fa\u672c\u6578\u5b78\u51fd\u6578 ===\");\n        double x = 16.0;\n        double y = -25.0;\n\n        System.out.println(\"Math.abs(\" + y + \") = \" + Math.abs(y));           // \u7d55\u5c0d\u503c\n        System.out.println(\"Math.sqrt(\" + x + \") = \" + Math.sqrt(x));         // \u5e73\u65b9\u6839\n        System.out.println(\"Math.pow(\" + x + \", 2) = \" + Math.pow(x, 2));     // \u6b21\u65b9\n        System.out.println(\"Math.log(\" + x + \") = \" + Math.log(x));           // \u81ea\u7136\u5c0d\u6578\n        System.out.println(\"Math.log10(\" + x + \") = \" + Math.log10(x));       // \u5e38\u7528\u5c0d\u6578\n\n        // \u4e09\u89d2\u51fd\u6578 (\u5f27\u5ea6\u5236)\n        System.out.println(\"\\n=== \u4e09\u89d2\u51fd\u6578 ===\");\n        double angle = Math.PI / 4;  // 45 \u5ea6\n        System.out.println(\"\u89d2\u5ea6 \u03c0/4 \u5f27\u5ea6 (45\u5ea6):\");\n        System.out.printf(\"sin(\u03c0/4) = %.4f%n\", Math.sin(angle));\n        System.out.printf(\"cos(\u03c0/4) = %.4f%n\", Math.cos(angle));\n        System.out.printf(\"tan(\u03c0/4) = %.4f%n\", Math.tan(angle));\n\n        // \u89d2\u5ea6\u8f49\u63db\n        double degrees = 45.0;\n        double radians = Math.toRadians(degrees);\n        System.out.println(\"\\n\" + degrees + \" \u5ea6 = \" + radians + \" \u5f27\u5ea6\");\n        System.out.println(radians + \" \u5f27\u5ea6 = \" + Math.toDegrees(radians) + \" \u5ea6\");\n\n        // \u6700\u5927\u503c\u6700\u5c0f\u503c\n        System.out.println(\"\\n=== \u6700\u5927\u503c\u6700\u5c0f\u503c ===\");\n        int a = 10, b = 20, c = 15;\n        System.out.println(\"max(10, 20) = \" + Math.max(a, b));\n        System.out.println(\"min(10, 20) = \" + Math.min(a, b));\n        System.out.println(\"\u4e09\u500b\u6578\u7684\u6700\u5927\u503c: \" + Math.max(Math.max(a, b), c));\n\n        // \u56db\u6368\u4e94\u5165\n        System.out.println(\"\\n=== \u56db\u6368\u4e94\u5165 ===\");\n        double value = 3.14159;\n        System.out.println(\"\u539f\u503c: \" + value);\n        System.out.println(\"ceil (\u7121\u689d\u4ef6\u9032\u4f4d): \" + Math.ceil(value));\n        System.out.println(\"floor (\u7121\u689d\u4ef6\u6368\u53bb): \" + Math.floor(value));\n        System.out.println(\"round (\u56db\u6368\u4e94\u5165): \" + Math.round(value));\n\n        // \u96a8\u6a5f\u6578\n        System.out.println(\"\\n=== \u96a8\u6a5f\u6578\u7522\u751f ===\");\n        System.out.println(\"\u96a8\u6a5f 0-1: \" + Math.random());\n        System.out.println(\"\u96a8\u6a5f 1-100: \" + (int)(Math.random() * 100 + 1));\n\n        // \u4f7f\u7528 Random \u985e\u5225 (\u63a8\u85a6)\n        java.util.Random random = new java.util.Random();\n        System.out.println(\"Random.nextInt(100): \" + random.nextInt(100));\n        System.out.println(\"Random.nextDouble(): \" + random.nextDouble());\n        System.out.println(\"Random.nextGaussian(): \" + random.nextGaussian());\n\n        // \u5e38\u6578\n        System.out.println(\"\\n=== \u6578\u5b78\u5e38\u6578 ===\");\n        System.out.println(\"\u03c0 (Pi) = \" + Math.PI);\n        System.out.println(\"e (\u6b50\u62c9\u6578) = \" + Math.E);\n\n        // BigInteger \u5927\u6574\u6578\u904b\u7b97\n        System.out.println(\"\\n=== BigInteger \u5927\u6574\u6578 ===\");\n        BigInteger big1 = new BigInteger(\"123456789012345678901234567890\");\n        BigInteger big2 = new BigInteger(\"987654321098765432109876543210\");\n\n        System.out.println(\"big1 = \" + big1);\n        System.out.println(\"big2 = \" + big2);\n        System.out.println(\"big1 + big2 = \" + big1.add(big2));\n        System.out.println(\"big1 \u00d7 big2 = \" + big1.multiply(big2));\n\n        // \u968e\u4e58\u8a08\u7b97\u7bc4\u4f8b\n        System.out.println(\"\\n=== \u968e\u4e58\u8a08\u7b97 (BigInteger) ===\");\n        int n = 20;\n        BigInteger factorial = BigInteger.ONE;\n        for (int i = 1; i &lt;= n; i++) {\n            factorial = factorial.multiply(BigInteger.valueOf(i));\n        }\n        System.out.println(n + \"! = \" + factorial);\n    }\n}\n</code></pre>"},{"location":"java/basics/03-string-date-number/#_4","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>String \u662f\u4e0d\u53ef\u8b8a\u7684\uff0c\u983b\u7e41\u4e32\u63a5\u4f7f\u7528 StringBuilder</li> <li>\u65b0\u65e5\u671f\u6642\u9593 API (Java 8+) \u6bd4\u820a\u7684 Date/Calendar \u66f4\u597d\u7528</li> <li>LocalDate: \u65e5\u671f\uff0cLocalTime: \u6642\u9593\uff0cLocalDateTime: \u65e5\u671f\u6642\u9593</li> <li>**\u5305\u88dd\u985e\u5225**\u63d0\u4f9b\u57fa\u672c\u578b\u614b\u7684\u7269\u4ef6\u7248\u672c\uff0c\u652f\u63f4\u81ea\u52d5\u88dd\u7bb1\u62c6\u7bb1</li> <li>BigDecimal \u7528\u65bc\u9700\u8981\u7cbe\u78ba\u5c0f\u6578\u904b\u7b97\u7684\u5834\u5408\uff08\u5982\u91d1\u878d\u7cfb\u7d71\uff09</li> <li>**Math \u985e\u5225**\u63d0\u4f9b\u8c50\u5bcc\u7684\u6578\u5b78\u51fd\u6578</li> </ol> <p>\u6700\u4f73\u5be6\u8e10</p> <ul> <li>\u5b57\u4e32\u6bd4\u8f03\u4f7f\u7528 <code>equals()</code>\uff0c\u4e0d\u7528 <code>==</code></li> <li>\u5927\u91cf\u5b57\u4e32\u64cd\u4f5c\u4f7f\u7528 <code>StringBuilder</code></li> <li>\u91d1\u878d\u8a08\u7b97\u4f7f\u7528 <code>BigDecimal</code></li> <li>\u65e5\u671f\u6642\u9593\u8655\u7406\u4f7f\u7528 <code>java.time</code> \u5957\u4ef6</li> <li>\u5305\u88dd\u985e\u5225\u6bd4\u8f03\u4f7f\u7528 <code>equals()</code></li> </ul>"},{"location":"java/basics/03-string-date-number/#_5","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5b57\u4e32\u7df4\u7fd2</li> <li>\u5be6\u4f5c\u5b57\u4e32\u53cd\u8f49\u529f\u80fd</li> <li>\u64b0\u5beb\u5bc6\u78bc\u5f37\u5ea6\u6aa2\u67e5\u7a0b\u5f0f</li> <li> <p>\u5be6\u4f5c\u7c21\u55ae\u7684\u6587\u5b57\u7d71\u8a08\uff08\u5b57\u6578\u3001\u884c\u6578\uff09</p> </li> <li> <p>\u65e5\u671f\u6642\u9593\u7df4\u7fd2</p> </li> <li>\u8a08\u7b97\u5169\u500b\u65e5\u671f\u9593\u7684\u5929\u6578\u5dee</li> <li>\u5be6\u4f5c\u751f\u65e5\u63d0\u9192\u7cfb\u7d71</li> <li> <p>\u64b0\u5beb\u5de5\u4f5c\u6642\u9593\u7d71\u8a08\u7a0b\u5f0f</p> </li> <li> <p>\u6578\u5b57\u904b\u7b97\u7df4\u7fd2</p> </li> <li>\u4f7f\u7528 BigDecimal \u5be6\u4f5c\u8907\u5229\u8a08\u7b97\u6a5f</li> <li>\u64b0\u5beb\u6578\u5b57\u683c\u5f0f\u5316\u986f\u793a\u7a0b\u5f0f</li> <li> <p>\u5be6\u4f5c\u7c21\u55ae\u7684\u7d71\u8a08\u8a08\u7b97\uff08\u5e73\u5747\u3001\u6a19\u6e96\u5dee\uff09</p> </li> <li> <p>\u7d9c\u5408\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u4e00\u500b\u65e5\u8a18\u7cfb\u7d71\uff08\u5305\u542b\u65e5\u671f\u3001\u6587\u5b57\u8655\u7406\uff09</li> <li>\u5be6\u4f5c\u500b\u4eba\u8ca1\u52d9\u7ba1\u7406\u7a0b\u5f0f</li> <li>\u64b0\u5beb\u6587\u5b57\u5206\u6790\u5de5\u5177</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a2d\u8a08\u7684\u6838\u5fc3\u6982\u5ff5\uff1a\u985e\u5225\u8207\u7269\u4ef6\uff01</p>"},{"location":"java/basics/08-arrays-loops/","title":"\u9663\u5217\u8207\u8ff4\u5708","text":""},{"location":"java/basics/08-arrays-loops/#_2","title":"\u4e00\u7dad\u9663\u5217\u57fa\u790e","text":"<p>\u9663\u5217\u662f\u5132\u5b58\u76f8\u540c\u578b\u614b\u8cc7\u6599\u7684\u5bb9\u5668\uff0c\u5728 Java \u4e2d\u9663\u5217\u662f\u7269\u4ef6\uff0c\u5177\u6709\u56fa\u5b9a\u5927\u5c0f\u3002</p>"},{"location":"java/basics/08-arrays-loops/#_3","title":"\u9663\u5217\u5ba3\u544a\u8207\u521d\u59cb\u5316","text":"Java<pre><code>public class ArrayBasics {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u9663\u5217\u5ba3\u544a\u8207\u521d\u59cb\u5316 ===\");\n\n        // \u65b9\u6cd5\u4e00\uff1a\u5ba3\u544a\u5f8c\u6307\u5b9a\u5927\u5c0f\n        int[] numbers1 = new int[5];  // \u5efa\u7acb\u5927\u5c0f\u70ba 5 \u7684\u6574\u6578\u9663\u5217\uff0c\u9810\u8a2d\u503c\u70ba 0\n        System.out.println(\"\u7a7a\u9663\u5217\u9577\u5ea6: \" + numbers1.length);\n        System.out.println(\"\u9810\u8a2d\u503c: \" + java.util.Arrays.toString(numbers1));\n\n        // \u65b9\u6cd5\u4e8c\uff1a\u5ba3\u544a\u6642\u76f4\u63a5\u521d\u59cb\u5316\n        int[] numbers2 = {1, 2, 3, 4, 5};\n        System.out.println(\"\u76f4\u63a5\u521d\u59cb\u5316: \" + java.util.Arrays.toString(numbers2));\n\n        // \u65b9\u6cd5\u4e09\uff1a\u4f7f\u7528 new \u95dc\u9375\u5b57\u521d\u59cb\u5316\n        int[] numbers3 = new int[]{10, 20, 30, 40, 50};\n        System.out.println(\"new \u521d\u59cb\u5316: \" + java.util.Arrays.toString(numbers3));\n\n        // \u4e0d\u540c\u8cc7\u6599\u578b\u614b\u7684\u9663\u5217\n        String[] names = {\"\u5f35\u4e09\", \"\u674e\u56db\", \"\u738b\u4e94\"};\n        double[] prices = {19.99, 25.50, 32.75};\n        boolean[] flags = new boolean[3]; // \u9810\u8a2d\u503c\u70ba false\n\n        System.out.println(\"\u5b57\u4e32\u9663\u5217: \" + java.util.Arrays.toString(names));\n        System.out.println(\"\u50f9\u683c\u9663\u5217: \" + java.util.Arrays.toString(prices));\n        System.out.println(\"\u5e03\u6797\u9663\u5217: \" + java.util.Arrays.toString(flags));\n\n        // \u9663\u5217\u8ce6\u503c\n        numbers1[0] = 100;\n        numbers1[1] = 200;\n        numbers1[2] = 300;\n        numbers1[3] = 400;\n        numbers1[4] = 500;\n\n        System.out.println(\"\u8ce6\u503c\u5f8c\u7684\u9663\u5217: \" + java.util.Arrays.toString(numbers1));\n\n        // \u5b58\u53d6\u9663\u5217\u5143\u7d20\n        System.out.println(\"\\n=== \u9663\u5217\u5b58\u53d6 ===\");\n        System.out.println(\"\u7b2c\u4e00\u500b\u5143\u7d20: \" + numbers2[0]);\n        System.out.println(\"\u6700\u5f8c\u4e00\u500b\u5143\u7d20: \" + numbers2[numbers2.length - 1]);\n        System.out.println(\"\u4e2d\u9593\u5143\u7d20: \" + numbers2[numbers2.length / 2]);\n\n        // \u4fee\u6539\u9663\u5217\u5143\u7d20\n        numbers2[2] = 999;\n        System.out.println(\"\u4fee\u6539\u5f8c: \" + java.util.Arrays.toString(numbers2));\n\n        // \u9663\u5217\u908a\u754c\u6aa2\u67e5\n        System.out.println(\"\\n=== \u908a\u754c\u6aa2\u67e5 ===\");\n        try {\n            System.out.println(\"\u6b63\u5e38\u5b58\u53d6: \" + numbers2[0]);\n            System.out.println(\"\u932f\u8aa4\u5b58\u53d6: \" + numbers2[10]); // \u6703\u62cb\u51fa\u4f8b\u5916\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println(\"\u9663\u5217\u7d22\u5f15\u8d85\u51fa\u7bc4\u570d: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>"},{"location":"java/basics/08-arrays-loops/#_4","title":"\u9663\u5217\u64cd\u4f5c\u65b9\u6cd5","text":"Java<pre><code>import java.util.Arrays;\nimport java.util.Scanner;\n\npublic class ArrayOperations {\n\n    // \u986f\u793a\u9663\u5217\u5167\u5bb9\n    public static void printArray(int[] array, String title) {\n        System.out.println(title + \": \" + Arrays.toString(array));\n    }\n\n    // \u8a08\u7b97\u9663\u5217\u7e3d\u548c\n    public static int sum(int[] array) {\n        int total = 0;\n        for (int value : array) {\n            total += value;\n        }\n        return total;\n    }\n\n    // \u8a08\u7b97\u9663\u5217\u5e73\u5747\u503c\n    public static double average(int[] array) {\n        if (array.length == 0) return 0;\n        return (double) sum(array) / array.length;\n    }\n\n    // \u5c0b\u627e\u6700\u5927\u503c\n    public static int findMax(int[] array) {\n        if (array.length == 0) throw new IllegalArgumentException(\"\u9663\u5217\u4e0d\u80fd\u70ba\u7a7a\");\n\n        int max = array[0];\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i] &gt; max) {\n                max = array[i];\n            }\n        }\n        return max;\n    }\n\n    // \u5c0b\u627e\u6700\u5c0f\u503c\n    public static int findMin(int[] array) {\n        if (array.length == 0) throw new IllegalArgumentException(\"\u9663\u5217\u4e0d\u80fd\u70ba\u7a7a\");\n\n        int min = array[0];\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i] &lt; min) {\n                min = array[i];\n            }\n        }\n        return min;\n    }\n\n    // \u7dda\u6027\u641c\u5c0b\n    public static int linearSearch(int[] array, int target) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == target) {\n                return i; // \u56de\u50b3\u627e\u5230\u7684\u7d22\u5f15\n            }\n        }\n        return -1; // \u627e\u4e0d\u5230\n    }\n\n    // \u8a08\u7b97\u7279\u5b9a\u503c\u7684\u51fa\u73fe\u6b21\u6578\n    public static int countOccurrences(int[] array, int target) {\n        int count = 0;\n        for (int value : array) {\n            if (value == target) {\n                count++;\n            }\n        }\n        return count;\n    }\n\n    // \u53cd\u8f49\u9663\u5217\n    public static void reverseArray(int[] array) {\n        int left = 0;\n        int right = array.length - 1;\n\n        while (left &lt; right) {\n            // \u4ea4\u63db\u5143\u7d20\n            int temp = array[left];\n            array[left] = array[right];\n            array[right] = temp;\n\n            left++;\n            right--;\n        }\n    }\n\n    // \u8907\u88fd\u9663\u5217\n    public static int[] copyArray(int[] source) {\n        int[] copy = new int[source.length];\n        for (int i = 0; i &lt; source.length; i++) {\n            copy[i] = source[i];\n        }\n        return copy;\n        // \u6216\u8005\u4f7f\u7528 System.arraycopy \u6216 Arrays.copyOf\n    }\n\n    // \u5408\u4f75\u5169\u500b\u9663\u5217\n    public static int[] mergeArrays(int[] array1, int[] array2) {\n        int[] merged = new int[array1.length + array2.length];\n\n        // \u8907\u88fd\u7b2c\u4e00\u500b\u9663\u5217\n        for (int i = 0; i &lt; array1.length; i++) {\n            merged[i] = array1[i];\n        }\n\n        // \u8907\u88fd\u7b2c\u4e8c\u500b\u9663\u5217\n        for (int i = 0; i &lt; array2.length; i++) {\n            merged[array1.length + i] = array2[i];\n        }\n\n        return merged;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u9663\u5217\u64cd\u4f5c\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u6e2c\u8a66\u9663\u5217\n        int[] numbers = {23, 45, 12, 67, 34, 89, 23, 56, 12};\n        printArray(numbers, \"\u539f\u59cb\u9663\u5217\");\n\n        // \u57fa\u672c\u7d71\u8a08\n        System.out.println(\"\\n=== \u57fa\u672c\u7d71\u8a08 ===\");\n        System.out.println(\"\u9663\u5217\u9577\u5ea6: \" + numbers.length);\n        System.out.println(\"\u7e3d\u548c: \" + sum(numbers));\n        System.out.println(\"\u5e73\u5747\u503c: \" + String.format(\"%.2f\", average(numbers)));\n        System.out.println(\"\u6700\u5927\u503c: \" + findMax(numbers));\n        System.out.println(\"\u6700\u5c0f\u503c: \" + findMin(numbers));\n\n        // \u641c\u5c0b\u64cd\u4f5c\n        System.out.println(\"\\n=== \u641c\u5c0b\u64cd\u4f5c ===\");\n        int searchTarget = 23;\n        int index = linearSearch(numbers, searchTarget);\n        if (index != -1) {\n            System.out.println(\"\u6578\u5b57 \" + searchTarget + \" \u5728\u7d22\u5f15 \" + index + \" \u4f4d\u7f6e\");\n        } else {\n            System.out.println(\"\u627e\u4e0d\u5230\u6578\u5b57 \" + searchTarget);\n        }\n\n        int count = countOccurrences(numbers, searchTarget);\n        System.out.println(\"\u6578\u5b57 \" + searchTarget + \" \u51fa\u73fe \" + count + \" \u6b21\");\n\n        // \u9663\u5217\u64cd\u4f5c\n        System.out.println(\"\\n=== \u9663\u5217\u64cd\u4f5c ===\");\n\n        // \u8907\u88fd\u9663\u5217\n        int[] copied = copyArray(numbers);\n        printArray(copied, \"\u8907\u88fd\u7684\u9663\u5217\");\n\n        // \u53cd\u8f49\u9663\u5217\n        reverseArray(copied);\n        printArray(copied, \"\u53cd\u8f49\u5f8c\u7684\u9663\u5217\");\n\n        // \u5408\u4f75\u9663\u5217\n        int[] additional = {100, 200, 300};\n        int[] merged = mergeArrays(numbers, additional);\n        printArray(merged, \"\u5408\u4f75\u5f8c\u7684\u9663\u5217\");\n\n        // \u4f7f\u7528 Arrays \u985e\u5225\u7684\u65b9\u6cd5\n        System.out.println(\"\\n=== Arrays \u985e\u5225\u65b9\u6cd5 ===\");\n\n        int[] forSorting = copyArray(numbers);\n        Arrays.sort(forSorting);\n        printArray(forSorting, \"\u6392\u5e8f\u5f8c\u7684\u9663\u5217\");\n\n        // \u4e8c\u5143\u641c\u5c0b\uff08\u9700\u8981\u6392\u5e8f\u5f8c\u7684\u9663\u5217\uff09\n        int binaryResult = Arrays.binarySearch(forSorting, 45);\n        System.out.println(\"\u4e8c\u5143\u641c\u5c0b 45 \u7684\u7d50\u679c: \" + binaryResult);\n\n        // \u6bd4\u8f03\u9663\u5217\n        boolean isEqual = Arrays.equals(numbers, copied);\n        System.out.println(\"\u539f\u59cb\u9663\u5217\u8207\u53cd\u8f49\u9663\u5217\u76f8\u7b49: \" + isEqual);\n\n        // \u586b\u5145\u9663\u5217\n        int[] fillArray = new int[5];\n        Arrays.fill(fillArray, 42);\n        printArray(fillArray, \"\u586b\u5145\u9663\u5217\");\n    }\n}\n</code></pre> <p>\u9663\u5217\u4f7f\u7528\u6280\u5de7</p> <ul> <li>\u4f7f\u7528 <code>array.length</code> \u53d6\u5f97\u9663\u5217\u9577\u5ea6</li> <li>\u7d22\u5f15\u5f9e 0 \u958b\u59cb\u5230 <code>length - 1</code></li> <li>\u4f7f\u7528 <code>Arrays</code> \u985e\u5225\u63d0\u4f9b\u7684\u5be6\u7528\u65b9\u6cd5</li> <li>\u6ce8\u610f <code>ArrayIndexOutOfBoundsException</code> \u4f8b\u5916</li> </ul>"},{"location":"java/basics/08-arrays-loops/#_5","title":"\u591a\u7dad\u9663\u5217","text":"<p>\u591a\u7dad\u9663\u5217\u662f\u9663\u5217\u7684\u9663\u5217\uff0c\u6700\u5e38\u7528\u7684\u662f\u4e8c\u7dad\u9663\u5217\uff0c\u9069\u5408\u8868\u793a\u8868\u683c\u3001\u77e9\u9663\u7b49\u7d50\u69cb\u3002</p>"},{"location":"java/basics/08-arrays-loops/#_6","title":"\u4e8c\u7dad\u9663\u5217","text":"Java<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class TwoDimensionalArrays {\n\n    // \u5217\u5370\u4e8c\u7dad\u9663\u5217\n    public static void print2DArray(int[][] array, String title) {\n        System.out.println(title + \":\");\n        for (int i = 0; i &lt; array.length; i++) {\n            for (int j = 0; j &lt; array[i].length; j++) {\n                System.out.printf(\"%4d \", array[i][j]);\n            }\n            System.out.println();\n        }\n        System.out.println();\n    }\n\n    // \u8a08\u7b97\u4e8c\u7dad\u9663\u5217\u7e3d\u548c\n    public static int sum2D(int[][] array) {\n        int total = 0;\n        for (int[] row : array) {\n            for (int value : row) {\n                total += value;\n            }\n        }\n        return total;\n    }\n\n    // \u5c0b\u627e\u4e8c\u7dad\u9663\u5217\u6700\u5927\u503c\n    public static int findMax2D(int[][] array) {\n        if (array.length == 0 || array[0].length == 0) {\n            throw new IllegalArgumentException(\"\u9663\u5217\u4e0d\u80fd\u70ba\u7a7a\");\n        }\n\n        int max = array[0][0];\n        for (int[] row : array) {\n            for (int value : row) {\n                if (value &gt; max) {\n                    max = value;\n                }\n            }\n        }\n        return max;\n    }\n\n    // \u8f49\u7f6e\u77e9\u9663\n    public static int[][] transpose(int[][] matrix) {\n        if (matrix.length == 0) return new int[0][0];\n\n        int rows = matrix.length;\n        int cols = matrix[0].length;\n        int[][] transposed = new int[cols][rows];\n\n        for (int i = 0; i &lt; rows; i++) {\n            for (int j = 0; j &lt; cols; j++) {\n                transposed[j][i] = matrix[i][j];\n            }\n        }\n\n        return transposed;\n    }\n\n    // \u77e9\u9663\u76f8\u52a0\n    public static int[][] addMatrices(int[][] matrix1, int[][] matrix2) {\n        if (matrix1.length != matrix2.length || \n            matrix1[0].length != matrix2[0].length) {\n            throw new IllegalArgumentException(\"\u77e9\u9663\u7dad\u5ea6\u5fc5\u9808\u76f8\u540c\");\n        }\n\n        int rows = matrix1.length;\n        int cols = matrix1[0].length;\n        int[][] result = new int[rows][cols];\n\n        for (int i = 0; i &lt; rows; i++) {\n            for (int j = 0; j &lt; cols; j++) {\n                result[i][j] = matrix1[i][j] + matrix2[i][j];\n            }\n        }\n\n        return result;\n    }\n\n    // \u77e9\u9663\u76f8\u4e58\n    public static int[][] multiplyMatrices(int[][] matrix1, int[][] matrix2) {\n        if (matrix1[0].length != matrix2.length) {\n            throw new IllegalArgumentException(\"\u7b2c\u4e00\u500b\u77e9\u9663\u7684\u5217\u6578\u5fc5\u9808\u7b49\u65bc\u7b2c\u4e8c\u500b\u77e9\u9663\u7684\u884c\u6578\");\n        }\n\n        int rows1 = matrix1.length;\n        int cols1 = matrix1[0].length;\n        int cols2 = matrix2[0].length;\n\n        int[][] result = new int[rows1][cols2];\n\n        for (int i = 0; i &lt; rows1; i++) {\n            for (int j = 0; j &lt; cols2; j++) {\n                for (int k = 0; k &lt; cols1; k++) {\n                    result[i][j] += matrix1[i][k] * matrix2[k][j];\n                }\n            }\n        }\n\n        return result;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u4e8c\u7dad\u9663\u5217\u57fa\u790e ===\");\n\n        // \u5efa\u7acb\u4e8c\u7dad\u9663\u5217\u7684\u4e0d\u540c\u65b9\u6cd5\n\n        // \u65b9\u6cd5\u4e00\uff1a\u6307\u5b9a\u5927\u5c0f\u5f8c\u8ce6\u503c\n        int[][] matrix1 = new int[3][4];\n\n        // \u586b\u5145\u8cc7\u6599\n        int value = 1;\n        for (int i = 0; i &lt; matrix1.length; i++) {\n            for (int j = 0; j &lt; matrix1[i].length; j++) {\n                matrix1[i][j] = value++;\n            }\n        }\n        print2DArray(matrix1, \"\u77e9\u96631 (3\u00d74)\");\n\n        // \u65b9\u6cd5\u4e8c\uff1a\u76f4\u63a5\u521d\u59cb\u5316\n        int[][] matrix2 = {\n            {1, 2, 3},\n            {4, 5, 6},\n            {7, 8, 9}\n        };\n        print2DArray(matrix2, \"\u77e9\u96632 (3\u00d73)\");\n\n        // \u65b9\u6cd5\u4e09\uff1a\u4e0d\u898f\u5247\u9663\u5217\uff08\u92f8\u9f52\u9663\u5217\uff09\n        int[][] jaggedArray = {\n            {1, 2},\n            {3, 4, 5, 6},\n            {7, 8, 9}\n        };\n\n        System.out.println(\"\u4e0d\u898f\u5247\u9663\u5217:\");\n        for (int i = 0; i &lt; jaggedArray.length; i++) {\n            System.out.printf(\"\u7b2c %d \u884c: %s%n\", i, Arrays.toString(jaggedArray[i]));\n        }\n        System.out.println();\n\n        // \u57fa\u672c\u7d71\u8a08\n        System.out.println(\"=== \u7d71\u8a08\u8cc7\u8a0a ===\");\n        System.out.println(\"\u77e9\u96632 \u7e3d\u548c: \" + sum2D(matrix2));\n        System.out.println(\"\u77e9\u96632 \u6700\u5927\u503c: \" + findMax2D(matrix2));\n\n        // \u77e9\u9663\u8f49\u7f6e\n        System.out.println(\"=== \u77e9\u9663\u8f49\u7f6e ===\");\n        int[][] transposed = transpose(matrix2);\n        print2DArray(transposed, \"\u8f49\u7f6e\u5f8c\u7684\u77e9\u9663\");\n\n        // \u77e9\u9663\u904b\u7b97\n        System.out.println(\"=== \u77e9\u9663\u904b\u7b97 ===\");\n\n        int[][] matrixA = {{1, 2}, {3, 4}};\n        int[][] matrixB = {{5, 6}, {7, 8}};\n\n        print2DArray(matrixA, \"\u77e9\u9663 A\");\n        print2DArray(matrixB, \"\u77e9\u9663 B\");\n\n        int[][] sum = addMatrices(matrixA, matrixB);\n        print2DArray(sum, \"A + B\");\n\n        int[][] product = multiplyMatrices(matrixA, matrixB);\n        print2DArray(product, \"A \u00d7 B\");\n\n        // \u5be6\u969b\u61c9\u7528\uff1a\u6210\u7e3e\u8868\n        System.out.println(\"=== \u5be6\u969b\u61c9\u7528\uff1a\u6210\u7e3e\u8868 ===\");\n\n        String[] subjects = {\"\u6578\u5b78\", \"\u82f1\u6587\", \"\u79d1\u5b78\", \"\u6b77\u53f2\"};\n        String[] students = {\"\u5f35\u540c\u5b78\", \"\u674e\u540c\u5b78\", \"\u738b\u540c\u5b78\"};\n        int[][] scores = {\n            {85, 92, 78, 88}, // \u5f35\u540c\u5b78\u7684\u6210\u7e3e\n            {90, 85, 95, 82}, // \u674e\u540c\u5b78\u7684\u6210\u7e3e\n            {78, 88, 85, 90}  // \u738b\u540c\u5b78\u7684\u6210\u7e3e\n        };\n\n        // \u986f\u793a\u6210\u7e3e\u8868\n        System.out.print(\"      \");\n        for (String subject : subjects) {\n            System.out.printf(\"%6s \", subject);\n        }\n        System.out.println();\n\n        for (int i = 0; i &lt; students.length; i++) {\n            System.out.printf(\"%-6s\", students[i]);\n            for (int j = 0; j &lt; subjects.length; j++) {\n                System.out.printf(\"%6d \", scores[i][j]);\n            }\n            System.out.println();\n        }\n\n        // \u8a08\u7b97\u6bcf\u500b\u5b78\u751f\u7684\u5e73\u5747\u6210\u7e3e\n        System.out.println(\"\\n\u5b78\u751f\u5e73\u5747\u6210\u7e3e:\");\n        for (int i = 0; i &lt; students.length; i++) {\n            double avg = average(scores[i]);\n            System.out.printf(\"%s: %.1f%n\", students[i], avg);\n        }\n\n        // \u8a08\u7b97\u6bcf\u79d1\u7684\u5e73\u5747\u6210\u7e3e\n        System.out.println(\"\\n\u5404\u79d1\u5e73\u5747\u6210\u7e3e:\");\n        for (int j = 0; j &lt; subjects.length; j++) {\n            int total = 0;\n            for (int i = 0; i &lt; students.length; i++) {\n                total += scores[i][j];\n            }\n            double avg = (double) total / students.length;\n            System.out.printf(\"%s: %.1f%n\", subjects[j], avg);\n        }\n    }\n\n    // \u8a08\u7b97\u4e00\u7dad\u9663\u5217\u5e73\u5747\u503c\uff08\u8f14\u52a9\u65b9\u6cd5\uff09\n    private static double average(int[] array) {\n        if (array.length == 0) return 0;\n        int sum = 0;\n        for (int value : array) {\n            sum += value;\n        }\n        return (double) sum / array.length;\n    }\n}\n</code></pre>"},{"location":"java/basics/08-arrays-loops/#_7","title":"\u4e09\u7dad\u9663\u5217\u8207\u52d5\u614b\u9663\u5217","text":"Java<pre><code>public class MultiDimensionalArrays {\n\n    // \u5efa\u7acb\u4e26\u521d\u59cb\u5316\u4e09\u7dad\u9663\u5217\n    public static int[][][] create3DArray(int depth, int rows, int cols) {\n        int[][][] array3D = new int[depth][rows][cols];\n        int value = 1;\n\n        for (int d = 0; d &lt; depth; d++) {\n            for (int r = 0; r &lt; rows; r++) {\n                for (int c = 0; c &lt; cols; c++) {\n                    array3D[d][r][c] = value++;\n                }\n            }\n        }\n\n        return array3D;\n    }\n\n    // \u5217\u5370\u4e09\u7dad\u9663\u5217\n    public static void print3DArray(int[][][] array, String title) {\n        System.out.println(title + \":\");\n        for (int d = 0; d &lt; array.length; d++) {\n            System.out.println(\"\u7b2c \" + (d + 1) + \" \u5c64:\");\n            for (int r = 0; r &lt; array[d].length; r++) {\n                for (int c = 0; c &lt; array[d][r].length; c++) {\n                    System.out.printf(\"%3d \", array[d][r][c]);\n                }\n                System.out.println();\n            }\n            System.out.println();\n        }\n    }\n\n    // \u52d5\u614b\u589e\u9577\u9663\u5217\uff08\u6a21\u64ec ArrayList\uff09\n    public static class DynamicArray {\n        private int[] array;\n        private int size;\n        private int capacity;\n\n        public DynamicArray() {\n            this.capacity = 2;\n            this.array = new int[capacity];\n            this.size = 0;\n        }\n\n        public void add(int value) {\n            if (size &gt;= capacity) {\n                resize();\n            }\n            array[size++] = value;\n        }\n\n        private void resize() {\n            capacity *= 2;\n            int[] newArray = new int[capacity];\n            for (int i = 0; i &lt; size; i++) {\n                newArray[i] = array[i];\n            }\n            array = newArray;\n            System.out.println(\"\u9663\u5217\u64f4\u5c55\u5230\u5bb9\u91cf: \" + capacity);\n        }\n\n        public int get(int index) {\n            if (index &lt; 0 || index &gt;= size) {\n                throw new IndexOutOfBoundsException(\"\u7d22\u5f15\u8d85\u51fa\u7bc4\u570d\");\n            }\n            return array[index];\n        }\n\n        public int size() {\n            return size;\n        }\n\n        public void display() {\n            System.out.print(\"DynamicArray: [\");\n            for (int i = 0; i &lt; size; i++) {\n                System.out.print(array[i]);\n                if (i &lt; size - 1) System.out.print(\", \");\n            }\n            System.out.println(\"] (\u5bb9\u91cf: \" + capacity + \")\");\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u4e09\u7dad\u9663\u5217\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb 2\u00d73\u00d74 \u7684\u4e09\u7dad\u9663\u5217\n        int[][][] cube = create3DArray(2, 3, 4);\n        print3DArray(cube, \"3D \u9663\u5217 (2\u00d73\u00d74)\");\n\n        // \u5b58\u53d6\u4e09\u7dad\u9663\u5217\u5143\u7d20\n        System.out.println(\"\u5b58\u53d6 cube[1][2][3]: \" + cube[1][2][3]);\n\n        // \u4fee\u6539\u5143\u7d20\n        cube[0][1][2] = 999;\n        System.out.println(\"\u4fee\u6539 cube[0][1][2] \u70ba 999\");\n        System.out.println(\"\u65b0\u503c: \" + cube[0][1][2]);\n\n        // \u5be6\u969b\u61c9\u7528\uff1aRGB \u5716\u50cf\u8cc7\u6599\n        System.out.println(\"\\n=== RGB \u5716\u50cf\u8cc7\u6599\u793a\u4f8b ===\");\n\n        // \u5047\u8a2d 4\u00d74 \u50cf\u7d20\u7684 RGB \u5716\u50cf\n        int[][][] image = new int[4][4][3]; // [\u9ad8\u5ea6][\u5bec\u5ea6][RGB]\n\n        // \u586b\u5145\u984f\u8272\u8cc7\u6599\n        for (int y = 0; y &lt; 4; y++) {\n            for (int x = 0; x &lt; 4; x++) {\n                image[y][x][0] = (y + x) * 30 % 256; // Red\n                image[y][x][1] = (y * x) * 20 % 256; // Green\n                image[y][x][2] = (y + x * 2) * 40 % 256; // Blue\n            }\n        }\n\n        // \u986f\u793a\u5716\u50cf\u8cc7\u6599\n        System.out.println(\"\u5716\u50cf RGB \u8cc7\u6599:\");\n        for (int y = 0; y &lt; 4; y++) {\n            for (int x = 0; x &lt; 4; x++) {\n                System.out.printf(\"(%3d,%3d,%3d) \", \n                    image[y][x][0], image[y][x][1], image[y][x][2]);\n            }\n            System.out.println();\n        }\n\n        System.out.println(\"\\n=== \u52d5\u614b\u9663\u5217\u793a\u7bc4 ===\");\n\n        DynamicArray dynArray = new DynamicArray();\n\n        // \u6dfb\u52a0\u5143\u7d20\u6e2c\u8a66\u81ea\u52d5\u64f4\u5c55\n        for (int i = 1; i &lt;= 10; i++) {\n            dynArray.add(i * 10);\n            dynArray.display();\n        }\n\n        // \u5b58\u53d6\u5143\u7d20\n        System.out.println(\"\u7d22\u5f15 5 \u7684\u5143\u7d20: \" + dynArray.get(5));\n        System.out.println(\"\u9663\u5217\u5927\u5c0f: \" + dynArray.size());\n\n        // \u4e0d\u898f\u5247\u4e09\u7dad\u9663\u5217\n        System.out.println(\"\\n=== \u4e0d\u898f\u5247\u4e09\u7dad\u9663\u5217 ===\");\n\n        int[][][] irregular3D = {\n            {\n                {1, 2},\n                {3, 4, 5}\n            },\n            {\n                {6, 7, 8, 9},\n                {10, 11}\n            }\n        };\n\n        System.out.println(\"\u4e0d\u898f\u5247\u4e09\u7dad\u9663\u5217\u5167\u5bb9:\");\n        for (int i = 0; i &lt; irregular3D.length; i++) {\n            System.out.println(\"\u7b2c \" + (i + 1) + \" \u5c64:\");\n            for (int j = 0; j &lt; irregular3D[i].length; j++) {\n                System.out.println(\"  \u884c \" + (j + 1) + \": \" + \n                    Arrays.toString(irregular3D[i][j]));\n            }\n        }\n    }\n}\n</code></pre> <p>\u591a\u7dad\u9663\u5217\u61c9\u7528</p> <ul> <li>\u4e8c\u7dad\u9663\u5217: \u8868\u683c\u3001\u77e9\u9663\u3001\u68cb\u76e4\u3001\u5716\u50cf</li> <li>\u4e09\u7dad\u9663\u5217: 3D \u7a7a\u9593\u3001RGB \u5716\u50cf\u3001\u6642\u9593\u5e8f\u5217\u8cc7\u6599</li> <li>\u4e0d\u898f\u5247\u9663\u5217: \u5c64\u6b21\u7d50\u69cb\u3001\u6a39\u72c0\u8cc7\u6599</li> </ul>"},{"location":"java/basics/08-arrays-loops/#for-each","title":"for-each \u8ff4\u5708","text":"<p>for-each \u8ff4\u5708\uff08\u589e\u5f37\u578b for \u8ff4\u5708\uff09\u63d0\u4f9b\u4e86\u7c21\u6f54\u7684\u65b9\u5f0f\u4f86\u904d\u6b77\u9663\u5217\u548c\u96c6\u5408\u3002</p>"},{"location":"java/basics/08-arrays-loops/#for-each_1","title":"for-each \u57fa\u672c\u8a9e\u6cd5","text":"Java<pre><code>import java.util.List;\nimport java.util.ArrayList;\n\npublic class ForEachLoops {\n\n    public static void main(String[] args) {\n        System.out.println(\"=== for-each \u8ff4\u5708\u57fa\u790e ===\");\n\n        // \u4e00\u7dad\u9663\u5217\u7684 for-each\n        int[] numbers = {10, 20, 30, 40, 50};\n\n        System.out.println(\"\u50b3\u7d71 for \u8ff4\u5708:\");\n        for (int i = 0; i &lt; numbers.length; i++) {\n            System.out.print(numbers[i] + \" \");\n        }\n        System.out.println();\n\n        System.out.println(\"for-each \u8ff4\u5708:\");\n        for (int num : numbers) {\n            System.out.print(num + \" \");\n        }\n        System.out.println();\n\n        // \u5b57\u4e32\u9663\u5217\u7684 for-each\n        String[] fruits = {\"\u860b\u679c\", \"\u9999\u8549\", \"\u6a58\u5b50\", \"\u8461\u8404\"};\n\n        System.out.println(\"\\n\u6c34\u679c\u5217\u8868:\");\n        for (String fruit : fruits) {\n            System.out.println(\"- \" + fruit);\n        }\n\n        // \u4e8c\u7dad\u9663\u5217\u7684 for-each\n        System.out.println(\"\\n=== \u4e8c\u7dad\u9663\u5217 for-each ===\");\n\n        int[][] matrix = {\n            {1, 2, 3},\n            {4, 5, 6},\n            {7, 8, 9}\n        };\n\n        System.out.println(\"\u4f7f\u7528\u5de2\u72c0 for-each:\");\n        for (int[] row : matrix) {\n            for (int value : row) {\n                System.out.printf(\"%3d \", value);\n            }\n            System.out.println();\n        }\n\n        // \u96c6\u5408\u7684 for-each\n        System.out.println(\"\\n=== \u96c6\u5408 for-each ===\");\n\n        List&lt;String&gt; cities = new ArrayList&lt;&gt;();\n        cities.add(\"\u53f0\u5317\");\n        cities.add(\"\u53f0\u4e2d\");\n        cities.add(\"\u53f0\u5357\");\n        cities.add(\"\u9ad8\u96c4\");\n\n        System.out.println(\"\u57ce\u5e02\u5217\u8868:\");\n        for (String city : cities) {\n            System.out.println(\"\u57ce\u5e02: \" + city);\n        }\n\n        // for-each \u7684\u9650\u5236\n        System.out.println(\"\\n=== for-each \u9650\u5236 ===\");\n\n        int[] scores = {85, 90, 78, 92, 88};\n\n        // \u7121\u6cd5\u76f4\u63a5\u4fee\u6539\u9663\u5217\u5143\u7d20\uff08\u9019\u4e0d\u6703\u6539\u8b8a\u539f\u9663\u5217\uff09\n        System.out.println(\"\u539f\u59cb\u5206\u6578: \" + java.util.Arrays.toString(scores));\n\n        System.out.println(\"\u5617\u8a66\u7528 for-each \u4fee\u6539\u5206\u6578:\");\n        for (int score : scores) {\n            score += 5; // \u9019\u53ea\u4fee\u6539\u4e86\u5340\u57df\u8b8a\u6578\uff0c\u4e0d\u6703\u5f71\u97ff\u9663\u5217\n            System.out.print(score + \" \");\n        }\n        System.out.println();\n        System.out.println(\"\u4fee\u6539\u5f8c\u5206\u6578: \" + java.util.Arrays.toString(scores)); // \u6c92\u8b8a\n\n        // \u6b63\u78ba\u7684\u4fee\u6539\u65b9\u5f0f\uff1a\u4f7f\u7528\u50b3\u7d71 for \u8ff4\u5708\n        System.out.println(\"\\n\u4f7f\u7528\u50b3\u7d71 for \u8ff4\u5708\u4fee\u6539:\");\n        for (int i = 0; i &lt; scores.length; i++) {\n            scores[i] += 5;\n        }\n        System.out.println(\"\u4fee\u6539\u5f8c\u5206\u6578: \" + java.util.Arrays.toString(scores));\n\n        // for-each \u7121\u6cd5\u53d6\u5f97\u7d22\u5f15\n        System.out.println(\"\\n=== \u9700\u8981\u7d22\u5f15\u6642\u7684\u8655\u7406 ===\");\n\n        String[] subjects = {\"\u6578\u5b78\", \"\u82f1\u6587\", \"\u79d1\u5b78\", \"\u6b77\u53f2\"};\n\n        // \u50b3\u7d71\u65b9\u5f0f\uff1a\u53ef\u4ee5\u53d6\u5f97\u7d22\u5f15\n        System.out.println(\"\u4f7f\u7528\u50b3\u7d71 for \u8ff4\u5708\uff08\u6709\u7d22\u5f15\uff09:\");\n        for (int i = 0; i &lt; subjects.length; i++) {\n            System.out.printf(\"%d. %s%n\", i + 1, subjects[i]);\n        }\n\n        // for-each \u7121\u6cd5\u76f4\u63a5\u53d6\u5f97\u7d22\u5f15\uff0c\u9700\u8981\u984d\u5916\u8b8a\u6578\n        System.out.println(\"\\nfor-each \u642d\u914d\u8a08\u6578\u5668:\");\n        int index = 1;\n        for (String subject : subjects) {\n            System.out.printf(\"%d. %s%n\", index++, subject);\n        }\n\n        // \u5be6\u969b\u61c9\u7528\u7bc4\u4f8b\n        System.out.println(\"\\n=== \u5be6\u969b\u61c9\u7528\u7bc4\u4f8b ===\");\n\n        // \u8a08\u7b97\u9663\u5217\u7e3d\u548c\n        int[] values = {12, 25, 8, 33, 19, 7, 41};\n        int sum = 0;\n        for (int value : values) {\n            sum += value;\n        }\n        System.out.println(\"\u6578\u503c: \" + java.util.Arrays.toString(values));\n        System.out.println(\"\u7e3d\u548c: \" + sum);\n        System.out.println(\"\u5e73\u5747: \" + (double) sum / values.length);\n\n        // \u5c0b\u627e\u6700\u5927\u503c\n        int max = Integer.MIN_VALUE;\n        for (int value : values) {\n            if (value &gt; max) {\n                max = value;\n            }\n        }\n        System.out.println(\"\u6700\u5927\u503c: \" + max);\n\n        // \u5b57\u4e32\u8655\u7406\n        String[] words = {\"Java\", \"Python\", \"JavaScript\", \"C++\", \"Go\"};\n        System.out.println(\"\\n\u7a0b\u5f0f\u8a9e\u8a00\u7d71\u8a08:\");\n\n        int totalLength = 0;\n        for (String word : words) {\n            System.out.printf(\"%-12s (\u9577\u5ea6: %d)%n\", word, word.length());\n            totalLength += word.length();\n        }\n        System.out.println(\"\u5e73\u5747\u9577\u5ea6: \" + (double) totalLength / words.length);\n    }\n}\n</code></pre>"},{"location":"java/basics/08-arrays-loops/#for-each_2","title":"for-each \u9032\u968e\u61c9\u7528","text":"Java<pre><code>import java.util.*;\n\npublic class AdvancedForEach {\n\n    // \u81ea\u5b9a\u7fa9\u5b78\u751f\u985e\u5225\n    static class Student {\n        private String name;\n        private int age;\n        private double gpa;\n\n        public Student(String name, int age, double gpa) {\n            this.name = name;\n            this.age = age;\n            this.gpa = gpa;\n        }\n\n        // Getters\n        public String getName() { return name; }\n        public int getAge() { return age; }\n        public double getGpa() { return gpa; }\n\n        @Override\n        public String toString() {\n            return String.format(\"Student{name='%s', age=%d, gpa=%.2f}\", name, age, gpa);\n        }\n    }\n\n    // \u4f7f\u7528 for-each \u8655\u7406\u7269\u4ef6\u9663\u5217\n    public static void processStudents(Student[] students) {\n        System.out.println(\"=== \u5b78\u751f\u8cc7\u6599\u8655\u7406 ===\");\n\n        // \u986f\u793a\u6240\u6709\u5b78\u751f\n        System.out.println(\"\u6240\u6709\u5b78\u751f:\");\n        for (Student student : students) {\n            System.out.println(\"- \" + student);\n        }\n\n        // \u8a08\u7b97\u5e73\u5747\u5e74\u9f61\n        double totalAge = 0;\n        for (Student student : students) {\n            totalAge += student.getAge();\n        }\n        System.out.printf(\"\u5e73\u5747\u5e74\u9f61: %.1f \u6b72%n\", totalAge / students.length);\n\n        // \u8a08\u7b97\u5e73\u5747 GPA\n        double totalGpa = 0;\n        for (Student student : students) {\n            totalGpa += student.getGpa();\n        }\n        System.out.printf(\"\u5e73\u5747 GPA: %.2f%n\", totalGpa / students.length);\n\n        // \u5c0b\u627e\u6700\u9ad8 GPA\n        Student topStudent = students[0];\n        for (Student student : students) {\n            if (student.getGpa() &gt; topStudent.getGpa()) {\n                topStudent = student;\n            }\n        }\n        System.out.println(\"\u6700\u9ad8 GPA \u5b78\u751f: \" + topStudent);\n\n        // \u7d71\u8a08\u5e74\u9f61\u5206\u5e03\n        Map&lt;Integer, Integer&gt; ageCount = new HashMap&lt;&gt;();\n        for (Student student : students) {\n            int age = student.getAge();\n            ageCount.put(age, ageCount.getOrDefault(age, 0) + 1);\n        }\n\n        System.out.println(\"\u5e74\u9f61\u5206\u5e03:\");\n        for (Map.Entry&lt;Integer, Integer&gt; entry : ageCount.entrySet()) {\n            System.out.printf(\"%d \u6b72: %d \u4eba%n\", entry.getKey(), entry.getValue());\n        }\n    }\n\n    // \u5de2\u72c0\u96c6\u5408\u7684 for-each\n    public static void processNestedCollections() {\n        System.out.println(\"\\n=== \u5de2\u72c0\u96c6\u5408\u8655\u7406 ===\");\n\n        // \u5efa\u7acb\u90e8\u9580\u548c\u54e1\u5de5\u7d50\u69cb\n        Map&lt;String, List&lt;String&gt;&gt; departments = new HashMap&lt;&gt;();\n\n        departments.put(\"IT\", Arrays.asList(\"\u5f35\u5de5\u7a0b\u5e2b\", \"\u674e\u7a0b\u5f0f\u5e2b\", \"\u738b\u67b6\u69cb\u5e2b\"));\n        departments.put(\"HR\", Arrays.asList(\"\u9673\u4e3b\u7ba1\", \"\u6797\u5c08\u54e1\"));\n        departments.put(\"Finance\", Arrays.asList(\"\u5289\u6703\u8a08\", \"\u9ec3\u51fa\u7d0d\", \"\u9322\u5206\u6790\u5e2b\", \"\u5b6b\u4e3b\u4efb\"));\n\n        // \u4f7f\u7528\u5de2\u72c0 for-each \u8655\u7406\n        System.out.println(\"\u516c\u53f8\u90e8\u9580\u7d50\u69cb:\");\n        for (Map.Entry&lt;String, List&lt;String&gt;&gt; entry : departments.entrySet()) {\n            String deptName = entry.getKey();\n            List&lt;String&gt; employees = entry.getValue();\n\n            System.out.println(deptName + \" \u90e8\u9580 (\" + employees.size() + \" \u4eba):\");\n            for (String employee : employees) {\n                System.out.println(\"  - \" + employee);\n            }\n        }\n\n        // \u7d71\u8a08\u7e3d\u54e1\u5de5\u6578\n        int totalEmployees = 0;\n        for (List&lt;String&gt; employees : departments.values()) {\n            totalEmployees += employees.size();\n        }\n        System.out.println(\"\u516c\u53f8\u7e3d\u54e1\u5de5\u6578: \" + totalEmployees);\n    }\n\n    // \u4f7f\u7528 for-each \u8655\u7406\u591a\u7dad\u9663\u5217\n    public static void processMultiDimensionalData() {\n        System.out.println(\"\\n=== \u591a\u7dad\u8cc7\u6599\u8655\u7406 ===\");\n\n        // \u5b63\u5ea6\u92b7\u552e\u8cc7\u6599\uff1a[\u5b63\u5ea6][\u6708\u4efd][\u7522\u54c1]\n        int[][][] salesData = {\n            { // Q1\n                {100, 150, 200}, // 1\u6708\uff1a\u7522\u54c1A, B, C\n                {120, 160, 180}, // 2\u6708\n                {110, 140, 220}  // 3\u6708\n            },\n            { // Q2\n                {130, 170, 210},\n                {140, 180, 190},\n                {125, 155, 205}\n            },\n            { // Q3\n                {135, 175, 225},\n                {145, 185, 195},\n                {150, 190, 230}\n            },\n            { // Q4\n                {160, 200, 240},\n                {170, 210, 250},\n                {180, 220, 260}\n            }\n        };\n\n        String[] quarters = {\"Q1\", \"Q2\", \"Q3\", \"Q4\"};\n        String[] months = {\"1\u6708\", \"2\u6708\", \"3\u6708\"};\n        String[] products = {\"\u7522\u54c1A\", \"\u7522\u54c1B\", \"\u7522\u54c1C\"};\n\n        // \u8a08\u7b97\u5e74\u5ea6\u7e3d\u92b7\u552e\u984d\n        int yearlyTotal = 0;\n        for (int[][] quarter : salesData) {\n            for (int[] month : quarter) {\n                for (int sales : month) {\n                    yearlyTotal += sales;\n                }\n            }\n        }\n        System.out.println(\"\u5e74\u5ea6\u7e3d\u92b7\u552e\u984d: \" + yearlyTotal);\n\n        // \u8a08\u7b97\u5404\u5b63\u5ea6\u7e3d\u984d\n        System.out.println(\"\\n\u5404\u5b63\u5ea6\u92b7\u552e\u984d:\");\n        int quarterIndex = 0;\n        for (int[][] quarter : salesData) {\n            int quarterTotal = 0;\n            for (int[] month : quarter) {\n                for (int sales : month) {\n                    quarterTotal += sales;\n                }\n            }\n            System.out.printf(\"%s: %d%n\", quarters[quarterIndex++], quarterTotal);\n        }\n\n        // \u8a08\u7b97\u5404\u7522\u54c1\u5e74\u5ea6\u92b7\u552e\u984d\n        System.out.println(\"\\n\u5404\u7522\u54c1\u5e74\u5ea6\u92b7\u552e\u984d:\");\n        for (int productIndex = 0; productIndex &lt; products.length; productIndex++) {\n            int productTotal = 0;\n            for (int[][] quarter : salesData) {\n                for (int[] month : quarter) {\n                    productTotal += month[productIndex];\n                }\n            }\n            System.out.printf(\"%s: %d%n\", products[productIndex], productTotal);\n        }\n    }\n\n    public static void main(String[] args) {\n        // \u5efa\u7acb\u5b78\u751f\u9663\u5217\n        Student[] students = {\n            new Student(\"\u5f35\u5c0f\u660e\", 20, 3.8),\n            new Student(\"\u674e\u5c0f\u83ef\", 19, 3.6),\n            new Student(\"\u738b\u5c0f\u7f8e\", 21, 3.9),\n            new Student(\"\u9673\u5c0f\u5f37\", 20, 3.4),\n            new Student(\"\u6797\u5c0f\u9e97\", 22, 3.7)\n        };\n\n        processStudents(students);\n        processNestedCollections();\n        processMultiDimensionalData();\n\n        // for-each \u8207\u5176\u4ed6\u8ff4\u5708\u7684\u6548\u80fd\u6bd4\u8f03\n        System.out.println(\"\\n=== \u6548\u80fd\u6bd4\u8f03 ===\");\n\n        int[] largeArray = new int[1000000];\n        for (int i = 0; i &lt; largeArray.length; i++) {\n            largeArray[i] = i;\n        }\n\n        // \u50b3\u7d71 for \u8ff4\u5708\n        long startTime = System.currentTimeMillis();\n        long sum1 = 0;\n        for (int i = 0; i &lt; largeArray.length; i++) {\n            sum1 += largeArray[i];\n        }\n        long time1 = System.currentTimeMillis() - startTime;\n\n        // for-each \u8ff4\u5708\n        startTime = System.currentTimeMillis();\n        long sum2 = 0;\n        for (int value : largeArray) {\n            sum2 += value;\n        }\n        long time2 = System.currentTimeMillis() - startTime;\n\n        System.out.println(\"\u8655\u7406 \" + largeArray.length + \" \u500b\u5143\u7d20:\");\n        System.out.println(\"\u50b3\u7d71 for \u8ff4\u5708\u6642\u9593: \" + time1 + \" ms\");\n        System.out.println(\"for-each \u8ff4\u5708\u6642\u9593: \" + time2 + \" ms\");\n        System.out.println(\"\u7d50\u679c\u76f8\u540c: \" + (sum1 == sum2));\n    }\n}\n</code></pre> <p>for-each \u7279\u9ede\u7e3d\u7d50</p> <ul> <li>\u512a\u9ede: \u7a0b\u5f0f\u78bc\u7c21\u6f54\u3001\u4e0d\u6703\u7d22\u5f15\u8d85\u51fa\u7bc4\u570d\u3001\u81ea\u52d5\u8655\u7406\u9663\u5217\u9577\u5ea6</li> <li>\u9650\u5236: \u7121\u6cd5\u4fee\u6539\u5143\u7d20\u3001\u7121\u6cd5\u53d6\u5f97\u7d22\u5f15\u3001\u7121\u6cd5\u5411\u5f8c\u904d\u6b77</li> <li>\u9069\u7528: \u552f\u8b80\u904d\u6b77\u3001\u7d71\u8a08\u8a08\u7b97\u3001\u641c\u5c0b\u64cd\u4f5c</li> <li>\u4e0d\u9069\u7528: \u9700\u8981\u4fee\u6539\u5143\u7d20\u3001\u9700\u8981\u7d22\u5f15\u3001\u9700\u8981\u7279\u5b9a\u904d\u6b77\u9806\u5e8f</li> </ul>"},{"location":"java/basics/08-arrays-loops/#_8","title":"\u9663\u5217\u5e38\u898b\u64cd\u4f5c","text":""},{"location":"java/basics/08-arrays-loops/#_9","title":"\u6392\u5e8f\u6f14\u7b97\u6cd5","text":"Java<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class ArraySorting {\n\n    // \u6c23\u6ce1\u6392\u5e8f\u6cd5\n    public static void bubbleSort(int[] array) {\n        int n = array.length;\n        for (int i = 0; i &lt; n - 1; i++) {\n            boolean swapped = false;\n            for (int j = 0; j &lt; n - 1 - i; j++) {\n                if (array[j] &gt; array[j + 1]) {\n                    // \u4ea4\u63db\u5143\u7d20\n                    int temp = array[j];\n                    array[j] = array[j + 1];\n                    array[j + 1] = temp;\n                    swapped = true;\n                }\n            }\n            // \u5982\u679c\u6c92\u6709\u4ea4\u63db\u767c\u751f\uff0c\u8868\u793a\u5df2\u6392\u5e8f\u5b8c\u6210\n            if (!swapped) break;\n        }\n    }\n\n    // \u9078\u64c7\u6392\u5e8f\u6cd5\n    public static void selectionSort(int[] array) {\n        int n = array.length;\n        for (int i = 0; i &lt; n - 1; i++) {\n            // \u627e\u5230\u6700\u5c0f\u5143\u7d20\u7684\u7d22\u5f15\n            int minIndex = i;\n            for (int j = i + 1; j &lt; n; j++) {\n                if (array[j] &lt; array[minIndex]) {\n                    minIndex = j;\n                }\n            }\n            // \u4ea4\u63db\u627e\u5230\u7684\u6700\u5c0f\u5143\u7d20\u8207\u7b2c\u4e00\u500b\u5143\u7d20\n            if (minIndex != i) {\n                int temp = array[i];\n                array[i] = array[minIndex];\n                array[minIndex] = temp;\n            }\n        }\n    }\n\n    // \u63d2\u5165\u6392\u5e8f\u6cd5\n    public static void insertionSort(int[] array) {\n        for (int i = 1; i &lt; array.length; i++) {\n            int key = array[i];\n            int j = i - 1;\n\n            // \u5c07\u5927\u65bc key \u7684\u5143\u7d20\u5f80\u5f8c\u79fb\n            while (j &gt;= 0 &amp;&amp; array[j] &gt; key) {\n                array[j + 1] = array[j];\n                j--;\n            }\n            array[j + 1] = key;\n        }\n    }\n\n    // \u5feb\u901f\u6392\u5e8f\u6cd5\n    public static void quickSort(int[] array, int low, int high) {\n        if (low &lt; high) {\n            int pivotIndex = partition(array, low, high);\n            quickSort(array, low, pivotIndex - 1);\n            quickSort(array, pivotIndex + 1, high);\n        }\n    }\n\n    private static int partition(int[] array, int low, int high) {\n        int pivot = array[high];\n        int i = low - 1;\n\n        for (int j = low; j &lt; high; j++) {\n            if (array[j] &lt;= pivot) {\n                i++;\n                swap(array, i, j);\n            }\n        }\n        swap(array, i + 1, high);\n        return i + 1;\n    }\n\n    private static void swap(int[] array, int i, int j) {\n        int temp = array[i];\n        array[i] = array[j];\n        array[j] = temp;\n    }\n\n    // \u5408\u4f75\u6392\u5e8f\u6cd5\n    public static void mergeSort(int[] array, int left, int right) {\n        if (left &lt; right) {\n            int middle = (left + right) / 2;\n            mergeSort(array, left, middle);\n            mergeSort(array, middle + 1, right);\n            merge(array, left, middle, right);\n        }\n    }\n\n    private static void merge(int[] array, int left, int middle, int right) {\n        int[] leftArray = Arrays.copyOfRange(array, left, middle + 1);\n        int[] rightArray = Arrays.copyOfRange(array, middle + 1, right + 1);\n\n        int i = 0, j = 0, k = left;\n\n        while (i &lt; leftArray.length &amp;&amp; j &lt; rightArray.length) {\n            if (leftArray[i] &lt;= rightArray[j]) {\n                array[k++] = leftArray[i++];\n            } else {\n                array[k++] = rightArray[j++];\n            }\n        }\n\n        while (i &lt; leftArray.length) {\n            array[k++] = leftArray[i++];\n        }\n\n        while (j &lt; rightArray.length) {\n            array[k++] = rightArray[j++];\n        }\n    }\n\n    // \u6e2c\u8a66\u6392\u5e8f\u6548\u80fd\n    public static void testSortingPerformance() {\n        int[] sizes = {1000, 5000, 10000};\n\n        for (int size : sizes) {\n            System.out.println(\"\\n=== \u9663\u5217\u5927\u5c0f: \" + size + \" ===\");\n\n            // \u751f\u6210\u96a8\u6a5f\u8cc7\u6599\n            Random random = new Random(42); // \u56fa\u5b9a\u7a2e\u5b50\u78ba\u4fdd\u53ef\u91cd\u73fe\n            int[] originalData = new int[size];\n            for (int i = 0; i &lt; size; i++) {\n                originalData[i] = random.nextInt(1000);\n            }\n\n            // \u6e2c\u8a66\u5404\u7a2e\u6392\u5e8f\u6f14\u7b97\u6cd5\n            testSortAlgorithm(\"\u6c23\u6ce1\u6392\u5e8f\", originalData, \n                (arr) -&gt; bubbleSort(arr));\n\n            testSortAlgorithm(\"\u9078\u64c7\u6392\u5e8f\", originalData, \n                (arr) -&gt; selectionSort(arr));\n\n            testSortAlgorithm(\"\u63d2\u5165\u6392\u5e8f\", originalData, \n                (arr) -&gt; insertionSort(arr));\n\n            testSortAlgorithm(\"\u5feb\u901f\u6392\u5e8f\", originalData, \n                (arr) -&gt; quickSort(arr, 0, arr.length - 1));\n\n            testSortAlgorithm(\"\u5408\u4f75\u6392\u5e8f\", originalData, \n                (arr) -&gt; mergeSort(arr, 0, arr.length - 1));\n\n            testSortAlgorithm(\"Arrays.sort\", originalData, \n                (arr) -&gt; Arrays.sort(arr));\n        }\n    }\n\n    @FunctionalInterface\n    interface SortAlgorithm {\n        void sort(int[] array);\n    }\n\n    private static void testSortAlgorithm(String name, int[] originalData, SortAlgorithm algorithm) {\n        // \u8907\u88fd\u8cc7\u6599\n        int[] data = Arrays.copyOf(originalData, originalData.length);\n\n        // \u6e2c\u91cf\u6642\u9593\n        long startTime = System.currentTimeMillis();\n        algorithm.sort(data);\n        long endTime = System.currentTimeMillis();\n\n        // \u9a57\u8b49\u6392\u5e8f\u6b63\u78ba\u6027\n        boolean isSorted = isSorted(data);\n\n        System.out.printf(\"%-10s: %4d ms %s%n\", name, endTime - startTime, \n                         isSorted ? \"\u2713\" : \"\u2717\");\n    }\n\n    private static boolean isSorted(int[] array) {\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i] &lt; array[i - 1]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u6392\u5e8f\u6f14\u7b97\u6cd5\u793a\u7bc4 ===\");\n\n        // \u6e2c\u8a66\u5c0f\u578b\u9663\u5217\n        int[] testData = {64, 34, 25, 12, 22, 11, 90, 88, 76, 50, 42};\n        System.out.println(\"\u539f\u59cb\u8cc7\u6599: \" + Arrays.toString(testData));\n\n        // \u6c23\u6ce1\u6392\u5e8f\n        int[] bubbleData = Arrays.copyOf(testData, testData.length);\n        bubbleSort(bubbleData);\n        System.out.println(\"\u6c23\u6ce1\u6392\u5e8f: \" + Arrays.toString(bubbleData));\n\n        // \u9078\u64c7\u6392\u5e8f\n        int[] selectionData = Arrays.copyOf(testData, testData.length);\n        selectionSort(selectionData);\n        System.out.println(\"\u9078\u64c7\u6392\u5e8f: \" + Arrays.toString(selectionData));\n\n        // \u63d2\u5165\u6392\u5e8f\n        int[] insertionData = Arrays.copyOf(testData, testData.length);\n        insertionSort(insertionData);\n        System.out.println(\"\u63d2\u5165\u6392\u5e8f: \" + Arrays.toString(insertionData));\n\n        // \u5feb\u901f\u6392\u5e8f\n        int[] quickData = Arrays.copyOf(testData, testData.length);\n        quickSort(quickData, 0, quickData.length - 1);\n        System.out.println(\"\u5feb\u901f\u6392\u5e8f: \" + Arrays.toString(quickData));\n\n        // \u5408\u4f75\u6392\u5e8f\n        int[] mergeData = Arrays.copyOf(testData, testData.length);\n        mergeSort(mergeData, 0, mergeData.length - 1);\n        System.out.println(\"\u5408\u4f75\u6392\u5e8f: \" + Arrays.toString(mergeData));\n\n        // \u5167\u5efa\u6392\u5e8f\n        int[] systemData = Arrays.copyOf(testData, testData.length);\n        Arrays.sort(systemData);\n        System.out.println(\"Arrays.sort: \" + Arrays.toString(systemData));\n\n        // \u6548\u80fd\u6e2c\u8a66\n        System.out.println(\"\\n=== \u6548\u80fd\u6e2c\u8a66 ===\");\n        testSortingPerformance();\n    }\n}\n</code></pre>"},{"location":"java/basics/08-arrays-loops/#_10","title":"\u641c\u5c0b\u6f14\u7b97\u6cd5","text":"Java<pre><code>import java.util.Arrays;\n\npublic class ArraySearching {\n\n    // \u7dda\u6027\u641c\u5c0b\n    public static int linearSearch(int[] array, int target) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == target) {\n                return i;\n            }\n        }\n        return -1; // \u627e\u4e0d\u5230\n    }\n\n    // \u4e8c\u5143\u641c\u5c0b\uff08\u9663\u5217\u5fc5\u9808\u5df2\u6392\u5e8f\uff09\n    public static int binarySearch(int[] array, int target) {\n        int left = 0;\n        int right = array.length - 1;\n\n        while (left &lt;= right) {\n            int middle = left + (right - left) / 2; // \u907f\u514d\u6ea2\u4f4d\n\n            if (array[middle] == target) {\n                return middle;\n            } else if (array[middle] &lt; target) {\n                left = middle + 1;\n            } else {\n                right = middle - 1;\n            }\n        }\n\n        return -1; // \u627e\u4e0d\u5230\n    }\n\n    // \u905e\u8ff4\u7248\u672c\u7684\u4e8c\u5143\u641c\u5c0b\n    public static int binarySearchRecursive(int[] array, int target, int left, int right) {\n        if (left &gt; right) {\n            return -1;\n        }\n\n        int middle = left + (right - left) / 2;\n\n        if (array[middle] == target) {\n            return middle;\n        } else if (array[middle] &lt; target) {\n            return binarySearchRecursive(array, target, middle + 1, right);\n        } else {\n            return binarySearchRecursive(array, target, left, middle - 1);\n        }\n    }\n\n    // \u5c0b\u627e\u6240\u6709\u7b26\u5408\u689d\u4ef6\u7684\u7d22\u5f15\n    public static int[] findAllOccurrences(int[] array, int target) {\n        int[] tempResult = new int[array.length];\n        int count = 0;\n\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i] == target) {\n                tempResult[count++] = i;\n            }\n        }\n\n        // \u5efa\u7acb\u9069\u7576\u5927\u5c0f\u7684\u7d50\u679c\u9663\u5217\n        return Arrays.copyOf(tempResult, count);\n    }\n\n    // \u5c0b\u627e\u6700\u5927\u503c\u7684\u7d22\u5f15\n    public static int findMaxIndex(int[] array) {\n        if (array.length == 0) return -1;\n\n        int maxIndex = 0;\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i] &gt; array[maxIndex]) {\n                maxIndex = i;\n            }\n        }\n        return maxIndex;\n    }\n\n    // \u5c0b\u627e\u6700\u5c0f\u503c\u7684\u7d22\u5f15\n    public static int findMinIndex(int[] array) {\n        if (array.length == 0) return -1;\n\n        int minIndex = 0;\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i] &lt; array[minIndex]) {\n                minIndex = i;\n            }\n        }\n        return minIndex;\n    }\n\n    // \u5c0b\u627e\u7b2c\u4e8c\u5927\u7684\u503c\n    public static int findSecondLargest(int[] array) {\n        if (array.length &lt; 2) {\n            throw new IllegalArgumentException(\"\u9663\u5217\u81f3\u5c11\u9700\u8981 2 \u500b\u5143\u7d20\");\n        }\n\n        int largest = Integer.MIN_VALUE;\n        int secondLargest = Integer.MIN_VALUE;\n\n        for (int value : array) {\n            if (value &gt; largest) {\n                secondLargest = largest;\n                largest = value;\n            } else if (value &gt; secondLargest &amp;&amp; value &lt; largest) {\n                secondLargest = value;\n            }\n        }\n\n        if (secondLargest == Integer.MIN_VALUE) {\n            throw new IllegalArgumentException(\"\u627e\u4e0d\u5230\u7b2c\u4e8c\u5927\u7684\u503c\");\n        }\n\n        return secondLargest;\n    }\n\n    // \u641c\u5c0b\u6548\u80fd\u6e2c\u8a66\n    public static void performanceTest() {\n        System.out.println(\"\\n=== \u641c\u5c0b\u6548\u80fd\u6e2c\u8a66 ===\");\n\n        int[] sizes = {10000, 100000, 1000000};\n\n        for (int size : sizes) {\n            System.out.println(\"\\n\u9663\u5217\u5927\u5c0f: \" + size);\n\n            // \u5efa\u7acb\u6392\u5e8f\u9663\u5217\n            int[] sortedArray = new int[size];\n            for (int i = 0; i &lt; size; i++) {\n                sortedArray[i] = i * 2; // \u5076\u6578\u5e8f\u5217\n            }\n\n            int target = size; // \u641c\u5c0b\u4e2d\u9593\u503c\n\n            // \u7dda\u6027\u641c\u5c0b\u6e2c\u8a66\n            long startTime = System.currentTimeMillis();\n            int linearResult = linearSearch(sortedArray, target);\n            long linearTime = System.currentTimeMillis() - startTime;\n\n            // \u4e8c\u5143\u641c\u5c0b\u6e2c\u8a66\n            startTime = System.currentTimeMillis();\n            int binaryResult = binarySearch(sortedArray, target);\n            long binaryTime = System.currentTimeMillis() - startTime;\n\n            // Arrays.binarySearch \u6e2c\u8a66\n            startTime = System.currentTimeMillis();\n            int systemResult = Arrays.binarySearch(sortedArray, target);\n            long systemTime = System.currentTimeMillis() - startTime;\n\n            System.out.printf(\"\u7dda\u6027\u641c\u5c0b: %3d ms (\u7d22\u5f15: %d)%n\", linearTime, linearResult);\n            System.out.printf(\"\u4e8c\u5143\u641c\u5c0b: %3d ms (\u7d22\u5f15: %d)%n\", binaryTime, binaryResult);\n            System.out.printf(\"\u7cfb\u7d71\u641c\u5c0b: %3d ms (\u7d22\u5f15: %d)%n\", systemTime, systemResult);\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u641c\u5c0b\u6f14\u7b97\u6cd5\u793a\u7bc4 ===\");\n\n        // \u6e2c\u8a66\u8cc7\u6599\n        int[] numbers = {15, 23, 8, 42, 16, 23, 4, 35, 23, 19};\n        System.out.println(\"\u6e2c\u8a66\u9663\u5217: \" + Arrays.toString(numbers));\n\n        // \u7dda\u6027\u641c\u5c0b\u6e2c\u8a66\n        int target = 23;\n        int index = linearSearch(numbers, target);\n        System.out.printf(\"\u7dda\u6027\u641c\u5c0b %d: \u7d22\u5f15 %d%n\", target, index);\n\n        // \u5c0b\u627e\u6240\u6709\u51fa\u73fe\u4f4d\u7f6e\n        int[] allIndices = findAllOccurrences(numbers, target);\n        System.out.printf(\"\u6578\u5b57 %d \u7684\u6240\u6709\u4f4d\u7f6e: %s%n\", target, Arrays.toString(allIndices));\n\n        // \u5c0b\u627e\u6700\u5927\u503c\u548c\u6700\u5c0f\u503c\n        int maxIndex = findMaxIndex(numbers);\n        int minIndex = findMinIndex(numbers);\n        System.out.printf(\"\u6700\u5927\u503c %d \u5728\u7d22\u5f15 %d%n\", numbers[maxIndex], maxIndex);\n        System.out.printf(\"\u6700\u5c0f\u503c %d \u5728\u7d22\u5f15 %d%n\", numbers[minIndex], minIndex);\n\n        // \u5c0b\u627e\u7b2c\u4e8c\u5927\u7684\u503c\n        try {\n            int secondLargest = findSecondLargest(numbers);\n            System.out.println(\"\u7b2c\u4e8c\u5927\u7684\u503c: \" + secondLargest);\n        } catch (IllegalArgumentException e) {\n            System.out.println(\"\u932f\u8aa4: \" + e.getMessage());\n        }\n\n        // \u4e8c\u5143\u641c\u5c0b\u6e2c\u8a66\uff08\u9700\u8981\u6392\u5e8f\u9663\u5217\uff09\n        System.out.println(\"\\n=== \u4e8c\u5143\u641c\u5c0b\u6e2c\u8a66 ===\");\n        int[] sortedNumbers = Arrays.copyOf(numbers, numbers.length);\n        Arrays.sort(sortedNumbers);\n        System.out.println(\"\u6392\u5e8f\u5f8c\u9663\u5217: \" + Arrays.toString(sortedNumbers));\n\n        target = 23;\n        index = binarySearch(sortedNumbers, target);\n        System.out.printf(\"\u4e8c\u5143\u641c\u5c0b %d: \u7d22\u5f15 %d%n\", target, index);\n\n        // \u905e\u8ff4\u7248\u672c\u6e2c\u8a66\n        int recursiveIndex = binarySearchRecursive(sortedNumbers, target, 0, sortedNumbers.length - 1);\n        System.out.printf(\"\u905e\u8ff4\u4e8c\u5143\u641c\u5c0b %d: \u7d22\u5f15 %d%n\", target, recursiveIndex);\n\n        // \u7cfb\u7d71\u5167\u5efa\u65b9\u6cd5\n        int systemIndex = Arrays.binarySearch(sortedNumbers, target);\n        System.out.printf(\"Arrays.binarySearch %d: \u7d22\u5f15 %d%n\", target, systemIndex);\n\n        // \u641c\u5c0b\u4e0d\u5b58\u5728\u7684\u503c\n        target = 100;\n        index = binarySearch(sortedNumbers, target);\n        System.out.printf(\"\u4e8c\u5143\u641c\u5c0b %d (\u4e0d\u5b58\u5728): %d%n\", target, index);\n\n        // \u6548\u80fd\u6e2c\u8a66\n        performanceTest();\n\n        // \u5be6\u969b\u61c9\u7528\u7bc4\u4f8b\uff1a\u5b57\u5178\u641c\u5c0b\n        System.out.println(\"\\n=== \u5be6\u969b\u61c9\u7528\uff1a\u5b57\u5178\u641c\u5c0b ===\");\n\n        String[] dictionary = {\"apple\", \"banana\", \"cherry\", \"date\", \"elderberry\", \"fig\", \"grape\"};\n        System.out.println(\"\u5b57\u5178: \" + Arrays.toString(dictionary));\n\n        String word = \"cherry\";\n        int wordIndex = Arrays.binarySearch(dictionary, word);\n        if (wordIndex &gt;= 0) {\n            System.out.printf(\"\u627e\u5230 '%s' \u5728\u4f4d\u7f6e %d%n\", word, wordIndex);\n        } else {\n            System.out.printf(\"'%s' \u4e0d\u5728\u5b57\u5178\u4e2d\uff0c\u61c9\u63d2\u5165\u4f4d\u7f6e %d%n\", word, -wordIndex - 1);\n        }\n    }\n}\n</code></pre> <p>\u6f14\u7b97\u6cd5\u9078\u64c7\u5efa\u8b70</p> <ul> <li>\u641c\u5c0b\uff1a\u6392\u5e8f\u9663\u5217\u7528\u4e8c\u5143\u641c\u5c0b\uff0c\u672a\u6392\u5e8f\u7528\u7dda\u6027\u641c\u5c0b</li> <li>\u6392\u5e8f\uff1a\u5c0f\u9663\u5217\u7528\u63d2\u5165\u6392\u5e8f\uff0c\u5927\u9663\u5217\u7528\u5feb\u901f\u6392\u5e8f\u6216\u5408\u4f75\u6392\u5e8f</li> <li>Java \u5167\u5efa\uff1a\u512a\u5148\u4f7f\u7528 <code>Arrays.sort()</code> \u548c <code>Arrays.binarySearch()</code></li> </ul>"},{"location":"java/basics/08-arrays-loops/#_11","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>\u9663\u5217\u57fa\u790e\uff1a\u56fa\u5b9a\u5927\u5c0f\u3001\u7d22\u5f15\u5f9e 0 \u958b\u59cb\u3001\u578b\u614b\u5b89\u5168</li> <li>\u591a\u7dad\u9663\u5217\uff1a\u9663\u5217\u7684\u9663\u5217\uff0c\u652f\u63f4\u4e0d\u898f\u5247\u7d50\u69cb</li> <li>for-each \u8ff4\u5708\uff1a\u7c21\u6f54\u7684\u904d\u6b77\u8a9e\u6cd5\uff0c\u9069\u5408\u552f\u8b80\u64cd\u4f5c</li> <li>\u5e38\u898b\u64cd\u4f5c\uff1a\u6392\u5e8f\u3001\u641c\u5c0b\u3001\u7d71\u8a08\u3001\u8f49\u63db</li> <li>Arrays \u5de5\u5177\u985e\u5225\uff1a\u63d0\u4f9b\u8c50\u5bcc\u7684\u9663\u5217\u64cd\u4f5c\u65b9\u6cd5</li> </ol> <p>\u5e38\u898b\u9677\u9631</p> <ul> <li>\u9663\u5217\u7d22\u5f15\u8d8a\u754c (<code>ArrayIndexOutOfBoundsException</code>)</li> <li>for-each \u8ff4\u5708\u7121\u6cd5\u4fee\u6539\u9663\u5217\u5143\u7d20</li> <li>\u4e8c\u5143\u641c\u5c0b\u9700\u8981\u6392\u5e8f\u9663\u5217</li> <li>\u9663\u5217\u662f\u7269\u4ef6\uff0c\u8ce6\u503c\u6642\u662f\u53c3\u8003\u8907\u88fd</li> </ul>"},{"location":"java/basics/08-arrays-loops/#_12","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u57fa\u790e\u7df4\u7fd2</li> <li>\u5be6\u4f5c\u77e9\u9663\u904b\u7b97\uff08\u52a0\u6cd5\u3001\u4e58\u6cd5\u3001\u8f49\u7f6e\uff09</li> <li>\u64b0\u5beb\u5b78\u751f\u6210\u7e3e\u7d71\u8a08\u7a0b\u5f0f</li> <li> <p>\u5efa\u7acb\u7c21\u55ae\u7684\u5716\u50cf\u8655\u7406\u7a0b\u5f0f\uff08\u4f7f\u7528\u4e09\u7dad\u9663\u5217\uff09</p> </li> <li> <p>\u6f14\u7b97\u6cd5\u7df4\u7fd2</p> </li> <li>\u5be6\u4f5c\u4e0d\u540c\u7684\u6392\u5e8f\u6f14\u7b97\u6cd5</li> <li>\u8a2d\u8a08\u9ad8\u6548\u7684\u641c\u5c0b\u65b9\u6cd5</li> <li> <p>\u7df4\u7fd2\u905e\u8ff4\u8207\u8fed\u4ee3\u7684\u8f49\u63db</p> </li> <li> <p>\u7d9c\u5408\u61c9\u7528</p> </li> <li>\u5efa\u7acb\u5b78\u751f\u9078\u8ab2\u7cfb\u7d71</li> <li>\u8a2d\u8a08\u7c21\u55ae\u7684\u904a\u6232\u68cb\u76e4</li> <li>\u5be6\u4f5c\u8cc7\u6599\u5206\u6790\u5de5\u5177</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2 Java \u7684\u96c6\u5408\u6846\u67b6\uff08Collections\uff09\uff0c\u5b83\u63d0\u4f9b\u6bd4\u9663\u5217\u66f4\u5f37\u5927\u548c\u9748\u6d3b\u7684\u8cc7\u6599\u7d50\u69cb\uff01</p>"},{"location":"java/oop/04-class-and-object/","title":"\u985e\u5225\u8207\u7269\u4ef6","text":""},{"location":"java/oop/04-class-and-object/#_2","title":"\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a2d\u8a08\u6982\u5ff5","text":"<p>\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a2d\u8a08\uff08Object-Oriented Programming, OOP\uff09\u662f\u4e00\u7a2e\u7a0b\u5f0f\u8a2d\u8a08\u7bc4\u578b\uff0c\u5c07\u73fe\u5be6\u4e16\u754c\u7684\u4e8b\u7269\u62bd\u8c61\u5316\u70ba\u7a0b\u5f0f\u4e2d\u7684\u300c\u7269\u4ef6\u300d\u3002\u6bcf\u500b\u7269\u4ef6\u90fd\u6709\u81ea\u5df1\u7684\u300c\u5c6c\u6027\u300d\uff08\u8cc7\u6599\uff09\u548c\u300c\u884c\u70ba\u300d\uff08\u65b9\u6cd5\uff09\u3002</p>"},{"location":"java/oop/04-class-and-object/#_3","title":"\u7269\u4ef6\u5c0e\u5411\u7684\u56db\u5927\u7279\u6027","text":"<ol> <li>\u5c01\u88dd\uff08Encapsulation\uff09: \u5c07\u8cc7\u6599\u548c\u64cd\u4f5c\u8cc7\u6599\u7684\u65b9\u6cd5\u5305\u88dd\u5728\u4e00\u8d77</li> <li>\u7e7c\u627f\uff08Inheritance\uff09: \u65b0\u985e\u5225\u53ef\u4ee5\u7e7c\u627f\u73fe\u6709\u985e\u5225\u7684\u7279\u6027</li> <li>\u591a\u578b\uff08Polymorphism\uff09: \u540c\u6a23\u7684\u4ecb\u9762\u53ef\u4ee5\u6709\u4e0d\u540c\u7684\u5be6\u4f5c</li> <li>\u62bd\u8c61\uff08Abstraction\uff09: \u96b1\u85cf\u8907\u96dc\u7684\u5be6\u4f5c\u7d30\u7bc0\uff0c\u53ea\u66b4\u9732\u5fc5\u8981\u7684\u4ecb\u9762</li> </ol>"},{"location":"java/oop/04-class-and-object/#_4","title":"\u985e\u5225\u5b9a\u7fa9\u8207\u7269\u4ef6\u5efa\u7acb","text":""},{"location":"java/oop/04-class-and-object/#_5","title":"\u57fa\u672c\u985e\u5225\u5b9a\u7fa9","text":"Java<pre><code>// Student.java - \u5b78\u751f\u985e\u5225\npublic class Student {\n    // \u5be6\u4f8b\u8b8a\u6578\uff08\u5c6c\u6027\uff09\n    private String name;        // \u59d3\u540d\n    private int age;           // \u5e74\u9f61\n    private String studentId;   // \u5b78\u865f\n    private double gpa;        // \u5e73\u5747\u6210\u7e3e\n\n    // \u9810\u8a2d\u5efa\u69cb\u5b50\n    public Student() {\n        this.name = \"\u672a\u8a2d\u5b9a\";\n        this.age = 0;\n        this.studentId = \"0000\";\n        this.gpa = 0.0;\n        System.out.println(\"\u5efa\u7acb\u4e86\u4e00\u500b\u65b0\u7684\u5b78\u751f\u7269\u4ef6\uff08\u9810\u8a2d\u5efa\u69cb\u5b50\uff09\");\n    }\n\n    // \u53c3\u6578\u5efa\u69cb\u5b50\n    public Student(String name, int age, String studentId) {\n        this.name = name;\n        this.age = age;\n        this.studentId = studentId;\n        this.gpa = 0.0;\n        System.out.println(\"\u5efa\u7acb\u4e86\u5b78\u751f: \" + name);\n    }\n\n    // \u5b8c\u6574\u53c3\u6578\u5efa\u69cb\u5b50\n    public Student(String name, int age, String studentId, double gpa) {\n        this.name = name;\n        this.age = age;\n        this.studentId = studentId;\n        this.gpa = gpa;\n        System.out.println(\"\u5efa\u7acb\u4e86\u5b78\u751f: \" + name + \"\uff0cGPA: \" + gpa);\n    }\n\n    // Getter \u65b9\u6cd5\uff08\u5b58\u53d6\u5668\uff09\n    public String getName() {\n        return name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public String getStudentId() {\n        return studentId;\n    }\n\n    public double getGpa() {\n        return gpa;\n    }\n\n    // Setter \u65b9\u6cd5\uff08\u4fee\u6539\u5668\uff09\n    public void setName(String name) {\n        if (name != null &amp;&amp; !name.trim().isEmpty()) {\n            this.name = name;\n        } else {\n            System.out.println(\"\u59d3\u540d\u4e0d\u80fd\u70ba\u7a7a\");\n        }\n    }\n\n    public void setAge(int age) {\n        if (age &gt;= 0 &amp;&amp; age &lt;= 120) {\n            this.age = age;\n        } else {\n            System.out.println(\"\u5e74\u9f61\u5fc5\u9808\u5728 0-120 \u4e4b\u9593\");\n        }\n    }\n\n    public void setGpa(double gpa) {\n        if (gpa &gt;= 0.0 &amp;&amp; gpa &lt;= 4.0) {\n            this.gpa = gpa;\n        } else {\n            System.out.println(\"GPA \u5fc5\u9808\u5728 0.0-4.0 \u4e4b\u9593\");\n        }\n    }\n\n    // \u5be6\u4f8b\u65b9\u6cd5\n    public void study(String subject) {\n        System.out.println(name + \" \u6b63\u5728\u5b78\u7fd2 \" + subject);\n    }\n\n    public void takeExam(String subject, double score) {\n        System.out.println(name + \" \u53c3\u52a0\u4e86 \" + subject + \" \u8003\u8a66\uff0c\u5f97\u5206: \" + score);\n\n        // \u66f4\u65b0 GPA (\u7c21\u5316\u8a08\u7b97)\n        this.gpa = (this.gpa + score / 25.0) / 2.0;  // \u5047\u8a2d\u6eff\u5206 100\uff0c\u8f49\u63db\u70ba 4.0 \u5236\n    }\n\n    public String getGradeLevel() {\n        if (gpa &gt;= 3.7) return \"\u512a\u79c0\";\n        else if (gpa &gt;= 3.0) return \"\u826f\u597d\";\n        else if (gpa &gt;= 2.0) return \"\u666e\u901a\";\n        else return \"\u9700\u8981\u52a0\u5f37\";\n    }\n\n    // \u986f\u793a\u5b78\u751f\u8cc7\u8a0a\n    public void displayInfo() {\n        System.out.println(\"=== \u5b78\u751f\u8cc7\u8a0a ===\");\n        System.out.println(\"\u59d3\u540d: \" + name);\n        System.out.println(\"\u5e74\u9f61: \" + age);\n        System.out.println(\"\u5b78\u865f: \" + studentId);\n        System.out.printf(\"GPA: %.2f (%s)%n\", gpa, getGradeLevel());\n    }\n\n    // toString \u65b9\u6cd5\uff08\u7269\u4ef6\u5b57\u4e32\u8868\u793a\uff09\n    @Override\n    public String toString() {\n        return String.format(\"Student{name='%s', age=%d, studentId='%s', gpa=%.2f}\", \n                           name, age, studentId, gpa);\n    }\n}\n</code></pre>"},{"location":"java/oop/04-class-and-object/#_6","title":"\u4f7f\u7528\u985e\u5225\u5efa\u7acb\u7269\u4ef6","text":"Java<pre><code>public class StudentDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u5efa\u7acb\u5b78\u751f\u7269\u4ef6 ===\");\n\n        // \u4f7f\u7528\u4e0d\u540c\u5efa\u69cb\u5b50\u5efa\u7acb\u7269\u4ef6\n        Student student1 = new Student();  // \u9810\u8a2d\u5efa\u69cb\u5b50\n        Student student2 = new Student(\"\u5f35\u5c0f\u660e\", 20, \"A001\");\n        Student student3 = new Student(\"\u674e\u5c0f\u83ef\", 19, \"A002\", 3.5);\n\n        // \u8a2d\u5b9a student1 \u7684\u8cc7\u6599\n        student1.setName(\"\u738b\u5c0f\u7f8e\");\n        student1.setAge(21);\n        student1.setGpa(3.2);\n\n        System.out.println(\"\\n=== \u5b78\u751f\u8cc7\u8a0a\u986f\u793a ===\");\n        student1.displayInfo();\n        student2.displayInfo();\n        student3.displayInfo();\n\n        // \u547c\u53eb\u65b9\u6cd5\n        System.out.println(\"\\n=== \u5b78\u7fd2\u6d3b\u52d5 ===\");\n        student2.study(\"Java \u7a0b\u5f0f\u8a2d\u8a08\");\n        student3.study(\"\u8cc7\u6599\u7d50\u69cb\");\n\n        System.out.println(\"\\n=== \u8003\u8a66\u6d3b\u52d5 ===\");\n        student2.takeExam(\"Java \u7a0b\u5f0f\u8a2d\u8a08\", 85);\n        student3.takeExam(\"\u8cc7\u6599\u7d50\u69cb\", 92);\n\n        System.out.println(\"\\n=== \u66f4\u65b0\u5f8c\u7684\u8cc7\u8a0a ===\");\n        student2.displayInfo();\n        student3.displayInfo();\n\n        // \u4f7f\u7528 toString\n        System.out.println(\"\\n=== \u4f7f\u7528 toString ===\");\n        System.out.println(student1);\n        System.out.println(student2);\n        System.out.println(student3);\n    }\n}\n</code></pre> <p>\u57f7\u884c\u7d50\u679c</p> Text Only<pre><code>\u5efa\u7acb\u4e86\u4e00\u500b\u65b0\u7684\u5b78\u751f\u7269\u4ef6\uff08\u9810\u8a2d\u5efa\u69cb\u5b50\uff09\n\u5efa\u7acb\u4e86\u5b78\u751f: \u5f35\u5c0f\u660e\n\u5efa\u7acb\u4e86\u5b78\u751f: \u674e\u5c0f\u83ef\uff0cGPA: 3.5\n\n=== \u5b78\u751f\u8cc7\u8a0a\u986f\u793a ===\n=== \u5b78\u751f\u8cc7\u8a0a ===\n\u59d3\u540d: \u738b\u5c0f\u7f8e\n\u5e74\u9f61: 21\n\u5b78\u865f: 0000\nGPA: 3.20 (\u826f\u597d)\n</code></pre>"},{"location":"java/oop/04-class-and-object/#constructor","title":"\u5efa\u69cb\u5b50 (Constructor)","text":"<p>\u5efa\u69cb\u5b50\u662f\u7279\u6b8a\u7684\u65b9\u6cd5\uff0c\u7528\u65bc\u521d\u59cb\u5316\u65b0\u5efa\u7acb\u7684\u7269\u4ef6\u3002</p>"},{"location":"java/oop/04-class-and-object/#_7","title":"\u5efa\u69cb\u5b50\u7279\u6027","text":"Java<pre><code>public class Car {\n    private String brand;      // \u54c1\u724c\n    private String model;      // \u578b\u865f\n    private int year;         // \u5e74\u4efd\n    private double price;     // \u50f9\u683c\n    private String color;     // \u984f\u8272\n\n    // \u9810\u8a2d\u5efa\u69cb\u5b50\n    public Car() {\n        System.out.println(\"\u9810\u8a2d\u5efa\u69cb\u5b50\u88ab\u547c\u53eb\");\n        this.brand = \"\u672a\u77e5\u54c1\u724c\";\n        this.model = \"\u672a\u77e5\u578b\u865f\";\n        this.year = 2023;\n        this.price = 0.0;\n        this.color = \"\u767d\u8272\";\n    }\n\n    // \u54c1\u724c\u548c\u578b\u865f\u5efa\u69cb\u5b50\n    public Car(String brand, String model) {\n        System.out.println(\"\u5169\u53c3\u6578\u5efa\u69cb\u5b50\u88ab\u547c\u53eb\");\n        this.brand = brand;\n        this.model = model;\n        this.year = 2023;       // \u9810\u8a2d\u503c\n        this.price = 0.0;       // \u9810\u8a2d\u503c\n        this.color = \"\u767d\u8272\";    // \u9810\u8a2d\u503c\n    }\n\n    // \u5b8c\u6574\u5efa\u69cb\u5b50\n    public Car(String brand, String model, int year, double price, String color) {\n        System.out.println(\"\u5b8c\u6574\u5efa\u69cb\u5b50\u88ab\u547c\u53eb\");\n        this.brand = brand;\n        this.model = model;\n        this.year = year;\n        this.price = price;\n        this.color = color;\n    }\n\n    // \u5efa\u69cb\u5b50\u93c8\u63a5 (Constructor Chaining)\n    public Car(String brand, String model, int year) {\n        this(brand, model, year, 0.0, \"\u767d\u8272\");  // \u547c\u53eb\u5b8c\u6574\u5efa\u69cb\u5b50\n        System.out.println(\"\u4e09\u53c3\u6578\u5efa\u69cb\u5b50\u88ab\u547c\u53eb\");\n    }\n\n    // \u8907\u88fd\u5efa\u69cb\u5b50\n    public Car(Car other) {\n        System.out.println(\"\u8907\u88fd\u5efa\u69cb\u5b50\u88ab\u547c\u53eb\");\n        this.brand = other.brand;\n        this.model = other.model;\n        this.year = other.year;\n        this.price = other.price;\n        this.color = other.color;\n    }\n\n    // Getter \u548c Setter \u65b9\u6cd5\n    public String getBrand() { return brand; }\n    public String getModel() { return model; }\n    public int getYear() { return year; }\n    public double getPrice() { return price; }\n    public String getColor() { return color; }\n\n    public void setBrand(String brand) { this.brand = brand; }\n    public void setModel(String model) { this.model = model; }\n    public void setYear(int year) { \n        if (year &gt;= 1886) {  // \u7b2c\u4e00\u8f1b\u6c7d\u8eca\u7684\u5e74\u4efd\n            this.year = year; \n        }\n    }\n    public void setPrice(double price) { \n        if (price &gt;= 0) {\n            this.price = price; \n        }\n    }\n    public void setColor(String color) { this.color = color; }\n\n    // \u5176\u4ed6\u65b9\u6cd5\n    public void start() {\n        System.out.println(brand + \" \" + model + \" \u5df2\u555f\u52d5\uff01\");\n    }\n\n    public void displayInfo() {\n        System.out.printf(\"\u6c7d\u8eca\u8cc7\u8a0a: %s %s (%d\u5e74) - %s - $%.2f%n\", \n                         brand, model, year, color, price);\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"%s %s (%d)\", brand, model, year);\n    }\n}\n</code></pre>"},{"location":"java/oop/04-class-and-object/#_8","title":"\u5efa\u69cb\u5b50\u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>public class CarDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u5efa\u69cb\u5b50\u793a\u7bc4 ===\");\n\n        // \u4f7f\u7528\u4e0d\u540c\u5efa\u69cb\u5b50\n        Car car1 = new Car();                                    // \u9810\u8a2d\u5efa\u69cb\u5b50\n        Car car2 = new Car(\"Toyota\", \"Camry\");                   // \u5169\u53c3\u6578\u5efa\u69cb\u5b50\n        Car car3 = new Car(\"Honda\", \"Civic\", 2022);              // \u4e09\u53c3\u6578\u5efa\u69cb\u5b50\uff08\u6703\u547c\u53eb\u5efa\u69cb\u5b50\u93c8\u63a5\uff09\n        Car car4 = new Car(\"BMW\", \"X5\", 2023, 75000.0, \"\u9ed1\u8272\"); // \u5b8c\u6574\u5efa\u69cb\u5b50\n        Car car5 = new Car(car4);                                // \u8907\u88fd\u5efa\u69cb\u5b50\n\n        System.out.println(\"\\n=== \u6c7d\u8eca\u8cc7\u8a0a ===\");\n        car1.displayInfo();\n        car2.displayInfo();\n        car3.displayInfo();\n        car4.displayInfo();\n        car5.displayInfo();\n\n        // \u4fee\u6539\u8cc7\u6599\n        System.out.println(\"\\n=== \u4fee\u6539\u8cc7\u6599 ===\");\n        car2.setYear(2021);\n        car2.setPrice(28000.0);\n        car2.setColor(\"\u7d05\u8272\");\n        car2.displayInfo();\n\n        // \u555f\u52d5\u6c7d\u8eca\n        System.out.println(\"\\n=== \u555f\u52d5\u6c7d\u8eca ===\");\n        car1.start();\n        car2.start();\n        car3.start();\n    }\n}\n</code></pre> <p>\u5efa\u69cb\u5b50\u91cd\u9ede</p> <ul> <li>\u5efa\u69cb\u5b50\u540d\u7a31\u5fc5\u9808\u8207\u985e\u5225\u540d\u7a31\u76f8\u540c</li> <li>\u5efa\u69cb\u5b50\u6c92\u6709\u56de\u50b3\u578b\u614b\uff08\u9023 void \u90fd\u4e0d\u7528\u5beb\uff09</li> <li>\u5982\u679c\u6c92\u6709\u5b9a\u7fa9\u5efa\u69cb\u5b50\uff0cJava \u6703\u81ea\u52d5\u63d0\u4f9b\u9810\u8a2d\u5efa\u69cb\u5b50</li> <li><code>this()</code> \u53ef\u4ee5\u547c\u53eb\u5176\u4ed6\u5efa\u69cb\u5b50\uff08\u5fc5\u9808\u662f\u7b2c\u4e00\u884c\u6558\u8ff0\uff09</li> </ul>"},{"location":"java/oop/04-class-and-object/#this","title":"this \u95dc\u9375\u5b57","text":"<p><code>this</code> \u662f\u6307\u5411\u7576\u524d\u7269\u4ef6\u7684\u53c3\u8003\uff0c\u4e3b\u8981\u7528\u9014\uff1a</p>"},{"location":"java/oop/04-class-and-object/#this_1","title":"this \u7684\u7528\u9014","text":"Java<pre><code>public class Person {\n    private String name;\n    private int age;\n    private String email;\n\n    // 1. \u89e3\u6c7a\u53c3\u6578\u540d\u7a31\u8207\u5be6\u4f8b\u8b8a\u6578\u540d\u7a31\u76f8\u540c\u7684\u554f\u984c\n    public Person(String name, int age, String email) {\n        this.name = name;    // this.name \u6307\u5be6\u4f8b\u8b8a\u6578\uff0cname \u6307\u53c3\u6578\n        this.age = age;\n        this.email = email;\n    }\n\n    // 2. \u5728\u65b9\u6cd5\u4e2d\u547c\u53eb\u5176\u4ed6\u65b9\u6cd5\n    public void introduce() {\n        System.out.println(\"\u5927\u5bb6\u597d\uff0c\u6211\u662f \" + name);\n        this.showDetails();  // \u547c\u53eb\u540c\u4e00\u7269\u4ef6\u7684\u5176\u4ed6\u65b9\u6cd5\uff08this \u53ef\u7701\u7565\uff09\n    }\n\n    private void showDetails() {\n        System.out.println(\"\u5e74\u9f61: \" + age + \", \u4fe1\u7bb1: \" + email);\n    }\n\n    // 3. \u56de\u50b3\u7576\u524d\u7269\u4ef6\uff08\u65b9\u6cd5\u93c8\u63a5 Method Chaining\uff09\n    public Person setName(String name) {\n        this.name = name;\n        return this;  // \u56de\u50b3\u81ea\u5df1\n    }\n\n    public Person setAge(int age) {\n        this.age = age;\n        return this;\n    }\n\n    public Person setEmail(String email) {\n        this.email = email;\n        return this;\n    }\n\n    // 4. \u5c07\u7576\u524d\u7269\u4ef6\u50b3\u905e\u7d66\u5176\u4ed6\u65b9\u6cd5\n    public void registerToSystem() {\n        UserManager.register(this);  // \u5c07\u81ea\u5df1\u50b3\u7d66\u5176\u4ed6\u985e\u5225\u7684\u65b9\u6cd5\n    }\n\n    // Getter \u65b9\u6cd5\n    public String getName() { return name; }\n    public int getAge() { return age; }\n    public String getEmail() { return email; }\n\n    @Override\n    public String toString() {\n        return String.format(\"Person{name='%s', age=%d, email='%s'}\", \n                           name, age, email);\n    }\n}\n\n// \u6a21\u64ec\u7684\u7528\u6236\u7ba1\u7406\u985e\u5225\nclass UserManager {\n    public static void register(Person person) {\n        System.out.println(\"\u8a3b\u518a\u7528\u6236: \" + person.getName());\n    }\n}\n</code></pre>"},{"location":"java/oop/04-class-and-object/#this_2","title":"this \u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>public class PersonDemo {\n    public static void main(String[] args) {\n        // \u5efa\u7acb Person \u7269\u4ef6\n        Person person = new Person(\"\u5f35\u4e09\", 25, \"zhang@email.com\");\n\n        // \u547c\u53eb\u65b9\u6cd5\n        System.out.println(\"=== \u81ea\u6211\u4ecb\u7d39 ===\");\n        person.introduce();\n\n        // \u65b9\u6cd5\u93c8\u63a5\uff08Method Chaining\uff09\n        System.out.println(\"\\n=== \u65b9\u6cd5\u93c8\u63a5 ===\");\n        person.setName(\"\u5f35\u4e09\u8c50\")\n              .setAge(30)\n              .setEmail(\"zhangsan@email.com\");\n\n        System.out.println(\"\u4fee\u6539\u5f8c: \" + person);\n\n        // \u8a3b\u518a\u5230\u7cfb\u7d71\n        System.out.println(\"\\n=== \u8a3b\u518a\u7cfb\u7d71 ===\");\n        person.registerToSystem();\n    }\n}\n</code></pre> <p>this \u4f7f\u7528\u6280\u5de7</p> <ul> <li>\u7576\u53c3\u6578\u540d\u7a31\u8207\u5be6\u4f8b\u8b8a\u6578\u76f8\u540c\u6642\uff0c\u5fc5\u9808\u4f7f\u7528 <code>this</code> \u5340\u5206</li> <li>\u65b9\u6cd5\u93c8\u63a5\u53ef\u4ee5\u8b93\u7a0b\u5f0f\u78bc\u66f4\u7c21\u6f54\u6d41\u66a2</li> <li>\u5728\u4e00\u822c\u60c5\u6cc1\u4e0b\uff0c\u547c\u53eb\u540c\u4e00\u7269\u4ef6\u7684\u65b9\u6cd5\u6642 <code>this</code> \u53ef\u4ee5\u7701\u7565</li> </ul>"},{"location":"java/oop/04-class-and-object/#access-modifiers","title":"\u5b58\u53d6\u4fee\u98fe\u5b50 (Access Modifiers)","text":"<p>Java \u63d0\u4f9b\u56db\u7a2e\u5b58\u53d6\u4fee\u98fe\u5b50\u4f86\u63a7\u5236\u985e\u5225\u3001\u65b9\u6cd5\u548c\u8b8a\u6578\u7684\u53ef\u898b\u6027\uff1a</p>"},{"location":"java/oop/04-class-and-object/#_9","title":"\u5b58\u53d6\u4fee\u98fe\u5b50\u8aaa\u660e","text":"\u4fee\u98fe\u5b50 \u540c\u4e00\u985e\u5225 \u540c\u4e00\u5957\u4ef6 \u4e0d\u540c\u5957\u4ef6\u7684\u5b50\u985e\u5225 \u4e0d\u540c\u5957\u4ef6\u7684\u5176\u4ed6\u985e\u5225 <code>private</code> \u2713 \u2717 \u2717 \u2717 (package-private) \u2713 \u2713 \u2717 \u2717 <code>protected</code> \u2713 \u2713 \u2713 \u2717 <code>public</code> \u2713 \u2713 \u2713 \u2713"},{"location":"java/oop/04-class-and-object/#_10","title":"\u5b58\u53d6\u4fee\u98fe\u5b50\u7bc4\u4f8b","text":"Java<pre><code>// BankAccount.java\npublic class BankAccount {\n    // private: \u53ea\u6709\u672c\u985e\u5225\u53ef\u4ee5\u5b58\u53d6\n    private String accountNumber;\n    private double balance;\n    private String pin;\n\n    // protected: \u672c\u985e\u5225\u3001\u540c\u5957\u4ef6\u3001\u5b50\u985e\u5225\u53ef\u4ee5\u5b58\u53d6\n    protected String accountType;\n\n    // package-private (\u6c92\u6709\u4fee\u98fe\u5b50): \u672c\u985e\u5225\u548c\u540c\u5957\u4ef6\u53ef\u4ee5\u5b58\u53d6\n    String bankName;\n\n    // public: \u6240\u6709\u5730\u65b9\u90fd\u53ef\u4ee5\u5b58\u53d6\n    public String ownerName;\n\n    public BankAccount(String accountNumber, String ownerName, String pin) {\n        this.accountNumber = accountNumber;\n        this.ownerName = ownerName;\n        this.pin = pin;\n        this.balance = 0.0;\n        this.accountType = \"\u4e00\u822c\u5e33\u6236\";\n        this.bankName = \"\u7bc4\u4f8b\u9280\u884c\";\n    }\n\n    // public \u65b9\u6cd5\uff1a\u63d0\u4f9b\u5b89\u5168\u7684\u5b58\u53d6\u4ecb\u9762\n    public double getBalance() {\n        return balance;\n    }\n\n    public String getAccountNumber() {\n        return accountNumber;\n    }\n\n    // \u5b58\u6b3e\u65b9\u6cd5\n    public void deposit(double amount) {\n        if (amount &gt; 0) {\n            balance += amount;\n            System.out.println(\"\u5b58\u6b3e\u6210\u529f\uff0c\u91d1\u984d: \" + amount);\n            logTransaction(\"\u5b58\u6b3e\", amount);\n        } else {\n            System.out.println(\"\u5b58\u6b3e\u91d1\u984d\u5fc5\u9808\u5927\u65bc\u96f6\");\n        }\n    }\n\n    // \u63d0\u6b3e\u65b9\u6cd5\n    public boolean withdraw(double amount, String inputPin) {\n        if (!verifyPin(inputPin)) {\n            System.out.println(\"\u5bc6\u78bc\u932f\u8aa4\");\n            return false;\n        }\n\n        if (amount &lt;= 0) {\n            System.out.println(\"\u63d0\u6b3e\u91d1\u984d\u5fc5\u9808\u5927\u65bc\u96f6\");\n            return false;\n        }\n\n        if (amount &gt; balance) {\n            System.out.println(\"\u9918\u984d\u4e0d\u8db3\");\n            return false;\n        }\n\n        balance -= amount;\n        System.out.println(\"\u63d0\u6b3e\u6210\u529f\uff0c\u91d1\u984d: \" + amount);\n        logTransaction(\"\u63d0\u6b3e\", amount);\n        return true;\n    }\n\n    // private \u65b9\u6cd5\uff1a\u5167\u90e8\u4f7f\u7528\uff0c\u5916\u90e8\u7121\u6cd5\u76f4\u63a5\u547c\u53eb\n    private boolean verifyPin(String inputPin) {\n        return this.pin.equals(inputPin);\n    }\n\n    private void logTransaction(String type, double amount) {\n        System.out.println(\"[\u4ea4\u6613\u8a18\u9304] \" + type + \": \" + amount + \n                          \", \u9918\u984d: \" + balance);\n    }\n\n    // protected \u65b9\u6cd5\uff1a\u5b50\u985e\u5225\u53ef\u4ee5\u8986\u5beb\n    protected void calculateInterest() {\n        double interest = balance * 0.001;  // 0.1% \u5229\u606f\n        balance += interest;\n        System.out.println(\"\u5229\u606f\u8a08\u7b97\u5b8c\u6210: \" + interest);\n    }\n\n    // package-private \u65b9\u6cd5\uff1a\u540c\u5957\u4ef6\u53ef\u4ee5\u547c\u53eb\n    void bankInternalOperation() {\n        System.out.println(\"\u9280\u884c\u5167\u90e8\u4f5c\u696d\");\n    }\n\n    public void displayAccountInfo() {\n        System.out.println(\"=== \u5e33\u6236\u8cc7\u8a0a ===\");\n        System.out.println(\"\u5e33\u865f: \" + accountNumber);\n        System.out.println(\"\u6236\u540d: \" + ownerName);\n        System.out.println(\"\u9280\u884c: \" + bankName);\n        System.out.println(\"\u5e33\u6236\u985e\u578b: \" + accountType);\n        System.out.println(\"\u9918\u984d: \" + balance);\n    }\n}\n</code></pre>"},{"location":"java/oop/04-class-and-object/#_11","title":"\u5b58\u53d6\u4fee\u98fe\u5b50\u6e2c\u8a66","text":"Java<pre><code>public class AccessModifierDemo {\n    public static void main(String[] args) {\n        BankAccount account = new BankAccount(\"123-456-789\", \"\u5f35\u5c0f\u660e\", \"1234\");\n\n        // public \u6210\u54e1\uff1a\u53ef\u4ee5\u5b58\u53d6\n        System.out.println(\"\u6236\u540d: \" + account.ownerName);\n\n        // package-private \u6210\u54e1\uff1a\u540c\u5957\u4ef6\u53ef\u4ee5\u5b58\u53d6\n        System.out.println(\"\u9280\u884c: \" + account.bankName);\n\n        // protected \u6210\u54e1\uff1a\u5728\u540c\u5957\u4ef6\u4e2d\u53ef\u4ee5\u5b58\u53d6\n        System.out.println(\"\u5e33\u6236\u985e\u578b: \" + account.accountType);\n\n        // private \u6210\u54e1\uff1a\u7121\u6cd5\u76f4\u63a5\u5b58\u53d6\uff08\u7de8\u8b6f\u932f\u8aa4\uff09\n        // System.out.println(account.balance);     // \u7de8\u8b6f\u932f\u8aa4\n        // System.out.println(account.pin);         // \u7de8\u8b6f\u932f\u8aa4\n\n        // \u900f\u904e public \u65b9\u6cd5\u9593\u63a5\u5b58\u53d6 private \u8cc7\u6599\n        System.out.println(\"\u9918\u984d: \" + account.getBalance());\n\n        // \u6e2c\u8a66\u5e33\u6236\u64cd\u4f5c\n        System.out.println(\"\\n=== \u5e33\u6236\u64cd\u4f5c\u6e2c\u8a66 ===\");\n        account.deposit(1000);\n        account.withdraw(200, \"1234\");  // \u6b63\u78ba\u5bc6\u78bc\n        account.withdraw(100, \"0000\");  // \u932f\u8aa4\u5bc6\u78bc\n\n        // \u547c\u53eb protected \u65b9\u6cd5\uff08\u5728\u540c\u5957\u4ef6\u4e2d\u53ef\u4ee5\uff09\n        account.calculateInterest();\n\n        // \u547c\u53eb package-private \u65b9\u6cd5\n        account.bankInternalOperation();\n\n        // \u986f\u793a\u5e33\u6236\u8cc7\u8a0a\n        account.displayAccountInfo();\n\n        // \u7121\u6cd5\u76f4\u63a5\u547c\u53eb private \u65b9\u6cd5\n        // account.verifyPin(\"1234\");       // \u7de8\u8b6f\u932f\u8aa4\n        // account.logTransaction(\"\u6e2c\u8a66\", 0); // \u7de8\u8b6f\u932f\u8aa4\n    }\n}\n</code></pre> <p>\u5c01\u88dd\u539f\u5247</p> <ul> <li>\u5be6\u4f8b\u8b8a\u6578\u901a\u5e38\u8a2d\u70ba <code>private</code>\uff0c\u900f\u904e getter/setter \u65b9\u6cd5\u5b58\u53d6</li> <li>\u53ea\u6709\u9700\u8981\u88ab\u5916\u90e8\u547c\u53eb\u7684\u65b9\u6cd5\u624d\u8a2d\u70ba <code>public</code></li> <li>\u5167\u90e8\u8f14\u52a9\u65b9\u6cd5\u8a2d\u70ba <code>private</code></li> <li>\u9700\u8981\u88ab\u5b50\u985e\u5225\u5b58\u53d6\u7684\u6210\u54e1\u8a2d\u70ba <code>protected</code></li> </ul>"},{"location":"java/oop/04-class-and-object/#static","title":"static \u975c\u614b\u6210\u54e1","text":"<p><code>static</code> \u95dc\u9375\u5b57\u8868\u793a\u6210\u54e1\u5c6c\u65bc\u985e\u5225\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u7279\u5b9a\u7684\u7269\u4ef6\u5be6\u4f8b\u3002</p>"},{"location":"java/oop/04-class-and-object/#_12","title":"\u975c\u614b\u8b8a\u6578\u548c\u65b9\u6cd5","text":"Java<pre><code>public class Counter {\n    // \u975c\u614b\u8b8a\u6578\uff1a\u6240\u6709\u7269\u4ef6\u5171\u7528\n    private static int totalCount = 0;\n\n    // \u5be6\u4f8b\u8b8a\u6578\uff1a\u6bcf\u500b\u7269\u4ef6\u5404\u81ea\u64c1\u6709\n    private int instanceCount;\n    private String name;\n\n    // \u975c\u614b\u5e38\u6578\n    public static final String VERSION = \"1.0\";\n    public static final int MAX_COUNT = 1000;\n\n    // \u5efa\u69cb\u5b50\n    public Counter(String name) {\n        this.name = name;\n        this.instanceCount = 0;\n        totalCount++;  // \u6bcf\u5efa\u7acb\u4e00\u500b\u7269\u4ef6\uff0c\u7e3d\u6578\u52a0\u4e00\n        System.out.println(\"\u5efa\u7acb\u4e86 Counter: \" + name);\n    }\n\n    // \u5be6\u4f8b\u65b9\u6cd5\n    public void increment() {\n        instanceCount++;\n        totalCount++;\n        System.out.println(name + \" \u589e\u52a0\u4e86\u4e00\u6b21\uff0c\u5be6\u4f8b\u8a08\u6578: \" + instanceCount);\n    }\n\n    // \u975c\u614b\u65b9\u6cd5\uff1a\u5c6c\u65bc\u985e\u5225\uff0c\u4e0d\u9700\u8981\u7269\u4ef6\u5c31\u80fd\u547c\u53eb\n    public static int getTotalCount() {\n        return totalCount;\n    }\n\n    public static void resetTotalCount() {\n        totalCount = 0;\n        System.out.println(\"\u7e3d\u8a08\u6578\u5668\u5df2\u91cd\u8a2d\");\n    }\n\n    // \u975c\u614b\u65b9\u6cd5\uff1a\u5de5\u5177\u65b9\u6cd5\n    public static Counter createNamedCounter(String baseName, int number) {\n        return new Counter(baseName + \"_\" + number);\n    }\n\n    // \u975c\u614b\u65b9\u6cd5\u4e2d\u4e0d\u80fd\u76f4\u63a5\u5b58\u53d6\u5be6\u4f8b\u6210\u54e1\n    public static void printSystemInfo() {\n        System.out.println(\"Counter \u7cfb\u7d71\u8cc7\u8a0a:\");\n        System.out.println(\"\u7248\u672c: \" + VERSION);\n        System.out.println(\"\u6700\u5927\u8a08\u6578: \" + MAX_COUNT);\n        System.out.println(\"\u76ee\u524d\u7e3d\u8a08\u6578: \" + totalCount);\n\n        // \u4ee5\u4e0b\u6703\u7de8\u8b6f\u932f\u8aa4\uff0c\u56e0\u70ba\u975c\u614b\u65b9\u6cd5\u4e2d\u4e0d\u80fd\u5b58\u53d6\u5be6\u4f8b\u6210\u54e1\n        // System.out.println(\"\u5be6\u4f8b\u8a08\u6578: \" + instanceCount);  // \u932f\u8aa4\n        // System.out.println(\"\u540d\u7a31: \" + name);               // \u932f\u8aa4\n    }\n\n    // \u5be6\u4f8b\u65b9\u6cd5\u53ef\u4ee5\u5b58\u53d6\u975c\u614b\u6210\u54e1\n    public void printAllInfo() {\n        System.out.println(\"=== \" + name + \" \u7684\u8cc7\u8a0a ===\");\n        System.out.println(\"\u5be6\u4f8b\u8a08\u6578: \" + instanceCount);\n        System.out.println(\"\u7e3d\u8a08\u6578: \" + totalCount);        // \u53ef\u4ee5\u5b58\u53d6\u975c\u614b\u8b8a\u6578\n        System.out.println(\"\u7248\u672c: \" + VERSION);            // \u53ef\u4ee5\u5b58\u53d6\u975c\u614b\u5e38\u6578\n    }\n\n    // Getter \u65b9\u6cd5\n    public int getInstanceCount() {\n        return instanceCount;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>"},{"location":"java/oop/04-class-and-object/#_13","title":"\u975c\u614b\u6210\u54e1\u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>public class StaticDemo {\n    public static void main(String[] args) {\n        // \u547c\u53eb\u975c\u614b\u65b9\u6cd5\uff0c\u4e0d\u9700\u8981\u5efa\u7acb\u7269\u4ef6\n        System.out.println(\"=== \u975c\u614b\u65b9\u6cd5\u547c\u53eb ===\");\n        Counter.printSystemInfo();\n        System.out.println(\"\u521d\u59cb\u7e3d\u8a08\u6578: \" + Counter.getTotalCount());\n\n        // \u5efa\u7acb\u7269\u4ef6\n        System.out.println(\"\\n=== \u5efa\u7acb\u7269\u4ef6 ===\");\n        Counter counter1 = new Counter(\"\u8a08\u6578\u56681\");\n        Counter counter2 = new Counter(\"\u8a08\u6578\u56682\");\n        Counter counter3 = new Counter(\"\u8a08\u6578\u56683\");\n\n        System.out.println(\"\u5efa\u7acb\u7269\u4ef6\u5f8c\u7e3d\u8a08\u6578: \" + Counter.getTotalCount());\n\n        // \u7269\u4ef6\u64cd\u4f5c\n        System.out.println(\"\\n=== \u8a08\u6578\u64cd\u4f5c ===\");\n        counter1.increment();\n        counter1.increment();\n        counter2.increment();\n\n        System.out.println(\"\u64cd\u4f5c\u5f8c\u7e3d\u8a08\u6578: \" + Counter.getTotalCount());\n\n        // \u986f\u793a\u5404\u7269\u4ef6\u8cc7\u8a0a\n        System.out.println(\"\\n=== \u7269\u4ef6\u8cc7\u8a0a ===\");\n        counter1.printAllInfo();\n        counter2.printAllInfo();\n        counter3.printAllInfo();\n\n        // \u4f7f\u7528\u975c\u614b\u5de5\u5ee0\u65b9\u6cd5\n        System.out.println(\"\\n=== \u975c\u614b\u5de5\u5ee0\u65b9\u6cd5 ===\");\n        Counter counter4 = Counter.createNamedCounter(\"\u81ea\u52d5\", 1);\n        Counter counter5 = Counter.createNamedCounter(\"\u81ea\u52d5\", 2);\n\n        System.out.println(\"\u4f7f\u7528\u5de5\u5ee0\u65b9\u6cd5\u5f8c\u7e3d\u8a08\u6578: \" + Counter.getTotalCount());\n\n        // \u91cd\u8a2d\u8a08\u6578\u5668\n        System.out.println(\"\\n=== \u91cd\u8a2d\u8a08\u6578\u5668 ===\");\n        Counter.resetTotalCount();\n        System.out.println(\"\u91cd\u8a2d\u5f8c\u7e3d\u8a08\u6578: \" + Counter.getTotalCount());\n\n        // \u5b58\u53d6\u975c\u614b\u5e38\u6578\n        System.out.println(\"\\n=== \u975c\u614b\u5e38\u6578 ===\");\n        System.out.println(\"\u7248\u672c: \" + Counter.VERSION);\n        System.out.println(\"\u6700\u5927\u8a08\u6578: \" + Counter.MAX_COUNT);\n    }\n}\n</code></pre>"},{"location":"java/oop/04-class-and-object/#_14","title":"\u975c\u614b\u521d\u59cb\u5316\u5340\u584a","text":"Java<pre><code>public class DatabaseConfig {\n    private static String dbUrl;\n    private static String username;\n    private static String password;\n    private static boolean isConnected;\n\n    // \u975c\u614b\u521d\u59cb\u5316\u5340\u584a\uff1a\u5728\u985e\u5225\u88ab\u8f09\u5165\u6642\u57f7\u884c\u4e00\u6b21\n    static {\n        System.out.println(\"\u6b63\u5728\u521d\u59cb\u5316\u8cc7\u6599\u5eab\u8a2d\u5b9a...\");\n\n        // \u6a21\u64ec\u5f9e\u8a2d\u5b9a\u6a94\u8b80\u53d6\n        dbUrl = \"jdbc:mysql://localhost:3306/mydb\";\n        username = \"admin\";\n        password = \"password123\";\n        isConnected = false;\n\n        System.out.println(\"\u8cc7\u6599\u5eab\u8a2d\u5b9a\u521d\u59cb\u5316\u5b8c\u6210\");\n    }\n\n    // \u4e5f\u53ef\u4ee5\u6709\u591a\u500b\u975c\u614b\u521d\u59cb\u5316\u5340\u584a\n    static {\n        System.out.println(\"\u57f7\u884c\u984d\u5916\u7684\u521d\u59cb\u5316...\");\n        // \u9032\u884c\u9023\u7dda\u6e2c\u8a66\u7b49\n        testConnection();\n    }\n\n    private static void testConnection() {\n        System.out.println(\"\u6e2c\u8a66\u8cc7\u6599\u5eab\u9023\u7dda...\");\n        // \u6a21\u64ec\u9023\u7dda\u6e2c\u8a66\n        isConnected = true;\n        System.out.println(\"\u9023\u7dda\u6e2c\u8a66\u6210\u529f\");\n    }\n\n    // \u975c\u614b\u65b9\u6cd5\n    public static String getDbUrl() {\n        return dbUrl;\n    }\n\n    public static boolean isConnected() {\n        return isConnected;\n    }\n\n    public static void printConfig() {\n        System.out.println(\"\u8cc7\u6599\u5eab URL: \" + dbUrl);\n        System.out.println(\"\u4f7f\u7528\u8005\u540d\u7a31: \" + username);\n        System.out.println(\"\u9023\u7dda\u72c0\u614b: \" + (isConnected ? \"\u5df2\u9023\u7dda\" : \"\u672a\u9023\u7dda\"));\n    }\n}\n</code></pre> Java<pre><code>public class StaticInitDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u4e3b\u7a0b\u5f0f\u958b\u59cb ===\");\n\n        // \u7b2c\u4e00\u6b21\u5b58\u53d6\u985e\u5225\u6642\uff0c\u6703\u57f7\u884c\u975c\u614b\u521d\u59cb\u5316\u5340\u584a\n        System.out.println(\"\u7b2c\u4e00\u6b21\u5b58\u53d6 DatabaseConfig...\");\n        DatabaseConfig.printConfig();\n\n        // \u518d\u6b21\u5b58\u53d6\uff0c\u4e0d\u6703\u91cd\u8907\u57f7\u884c\u975c\u614b\u521d\u59cb\u5316\u5340\u584a\n        System.out.println(\"\\n\u7b2c\u4e8c\u6b21\u5b58\u53d6 DatabaseConfig...\");\n        DatabaseConfig.printConfig();\n    }\n}\n</code></pre> <p>static \u91cd\u9ede\u6574\u7406</p> <ul> <li>\u975c\u614b\u8b8a\u6578: \u6240\u6709\u7269\u4ef6\u5171\u7528\uff0c\u985e\u5225\u88ab\u8f09\u5165\u6642\u521d\u59cb\u5316</li> <li>\u975c\u614b\u65b9\u6cd5: \u4e0d\u9700\u7269\u4ef6\u5c31\u80fd\u547c\u53eb\uff0c\u4e0d\u80fd\u5b58\u53d6\u5be6\u4f8b\u6210\u54e1</li> <li>\u975c\u614b\u5e38\u6578: \u901a\u5e38\u642d\u914d <code>final</code> \u4f7f\u7528</li> <li>\u975c\u614b\u521d\u59cb\u5316\u5340\u584a: \u5728\u985e\u5225\u8f09\u5165\u6642\u57f7\u884c\uff0c\u7528\u65bc\u8907\u96dc\u7684\u521d\u59cb\u5316\u908f\u8f2f</li> </ul>"},{"location":"java/oop/04-class-and-object/#encapsulation","title":"\u5c01\u88dd (Encapsulation)","text":"<p>\u5c01\u88dd\u662f\u5c07\u8cc7\u6599\u548c\u64cd\u4f5c\u8cc7\u6599\u7684\u65b9\u6cd5\u5305\u88dd\u5728\u4e00\u8d77\uff0c\u4e26\u96b1\u85cf\u5167\u90e8\u5be6\u4f5c\u7d30\u7bc0\u7684\u6982\u5ff5\u3002</p>"},{"location":"java/oop/04-class-and-object/#_15","title":"\u826f\u597d\u5c01\u88dd\u7684\u7bc4\u4f8b","text":"Java<pre><code>public class Temperature {\n    private double celsius;     // \u651d\u6c0f\u6eab\u5ea6\uff08\u5167\u90e8\u5132\u5b58\u683c\u5f0f\uff09\n\n    // \u5efa\u69cb\u5b50\n    public Temperature(double celsius) {\n        setCelsius(celsius);\n    }\n\n    // \u8a2d\u5b9a\u651d\u6c0f\u6eab\u5ea6\uff08\u542b\u9a57\u8b49\uff09\n    public void setCelsius(double celsius) {\n        if (celsius &lt; -273.15) {\n            throw new IllegalArgumentException(\"\u6eab\u5ea6\u4e0d\u80fd\u4f4e\u65bc\u7d55\u5c0d\u96f6\u5ea6 (-273.15\u00b0C)\");\n        }\n        this.celsius = celsius;\n    }\n\n    // \u53d6\u5f97\u651d\u6c0f\u6eab\u5ea6\n    public double getCelsius() {\n        return celsius;\n    }\n\n    // \u53d6\u5f97\u83ef\u6c0f\u6eab\u5ea6\n    public double getFahrenheit() {\n        return celsius * 9.0 / 5.0 + 32;\n    }\n\n    // \u8a2d\u5b9a\u83ef\u6c0f\u6eab\u5ea6\n    public void setFahrenheit(double fahrenheit) {\n        setCelsius((fahrenheit - 32) * 5.0 / 9.0);\n    }\n\n    // \u53d6\u5f97\u958b\u6c0f\u6eab\u5ea6\n    public double getKelvin() {\n        return celsius + 273.15;\n    }\n\n    // \u8a2d\u5b9a\u958b\u6c0f\u6eab\u5ea6\n    public void setKelvin(double kelvin) {\n        setCelsius(kelvin - 273.15);\n    }\n\n    // \u6eab\u5ea6\u72c0\u614b\u5224\u65b7\n    public boolean isFreezing() {\n        return celsius &lt;= 0;\n    }\n\n    public boolean isBoiling() {\n        return celsius &gt;= 100;\n    }\n\n    public String getStateOfMatter() {\n        if (celsius &lt; 0) return \"\u51b0\";\n        else if (celsius &lt; 100) return \"\u6c34\";\n        else return \"\u84b8\u6c23\";\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"%.2f\u00b0C (%.2f\u00b0F, %.2fK)\", \n                           celsius, getFahrenheit(), getKelvin());\n    }\n}\n</code></pre>"},{"location":"java/oop/04-class-and-object/#_16","title":"\u5c01\u88dd\u7bc4\u4f8b\u4f7f\u7528","text":"Java<pre><code>public class TemperatureDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u6eab\u5ea6\u985e\u5225\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u6eab\u5ea6\u7269\u4ef6\n        Temperature temp = new Temperature(25.0);\n        System.out.println(\"\u521d\u59cb\u6eab\u5ea6: \" + temp);\n\n        // \u6e2c\u8a66\u4e0d\u540c\u6eab\u5ea6\u55ae\u4f4d\u7684\u8f49\u63db\n        System.out.println(\"\\n=== \u6eab\u5ea6\u8f49\u63db ===\");\n        System.out.println(\"\u651d\u6c0f: \" + temp.getCelsius() + \"\u00b0C\");\n        System.out.println(\"\u83ef\u6c0f: \" + temp.getFahrenheit() + \"\u00b0F\");\n        System.out.println(\"\u958b\u6c0f: \" + temp.getKelvin() + \"K\");\n\n        // \u8a2d\u5b9a\u4e0d\u540c\u55ae\u4f4d\u7684\u6eab\u5ea6\n        System.out.println(\"\\n=== \u8a2d\u5b9a\u6eab\u5ea6 ===\");\n        temp.setFahrenheit(77);  // 25\u00b0C\n        System.out.println(\"\u8a2d\u5b9a\u83ef\u6c0f 77\u00b0F \u5f8c: \" + temp);\n\n        temp.setKelvin(310.15);  // 37\u00b0C (\u9ad4\u6eab)\n        System.out.println(\"\u8a2d\u5b9a\u958b\u6c0f 310.15K \u5f8c: \" + temp);\n\n        // \u6eab\u5ea6\u72c0\u614b\u6aa2\u67e5\n        System.out.println(\"\\n=== \u6eab\u5ea6\u72c0\u614b ===\");\n        System.out.println(\"\u662f\u5426\u7d50\u51b0: \" + temp.isFreezing());\n        System.out.println(\"\u662f\u5426\u6cb8\u9a30: \" + temp.isBoiling());\n        System.out.println(\"\u7269\u8cea\u72c0\u614b: \" + temp.getStateOfMatter());\n\n        // \u6e2c\u8a66\u908a\u754c\u503c\n        System.out.println(\"\\n=== \u908a\u754c\u503c\u6e2c\u8a66 ===\");\n        Temperature ice = new Temperature(0);\n        Temperature boiling = new Temperature(100);\n\n        System.out.println(\"\u51b0\u9ede: \" + ice + \", \u72c0\u614b: \" + ice.getStateOfMatter());\n        System.out.println(\"\u6cb8\u9ede: \" + boiling + \", \u72c0\u614b: \" + boiling.getStateOfMatter());\n\n        // \u932f\u8aa4\u8655\u7406\u6e2c\u8a66\n        System.out.println(\"\\n=== \u932f\u8aa4\u8655\u7406\u6e2c\u8a66 ===\");\n        try {\n            Temperature invalid = new Temperature(-300);  // \u4f4e\u65bc\u7d55\u5c0d\u96f6\u5ea6\n        } catch (IllegalArgumentException e) {\n            System.out.println(\"\u6355\u7372\u932f\u8aa4: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>"},{"location":"java/oop/04-class-and-object/#_17","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>\u985e\u5225\u662f\u7269\u4ef6\u7684\u85cd\u5716\uff0c\u5b9a\u7fa9\u4e86\u7269\u4ef6\u7684\u5c6c\u6027\u548c\u884c\u70ba</li> <li>\u5efa\u69cb\u5b50\u7528\u65bc\u521d\u59cb\u5316\u7269\u4ef6\uff0c\u53ef\u4ee5\u6709\u591a\u500b\u4e0d\u540c\u53c3\u6578\u7684\u5efa\u69cb\u5b50</li> <li>**this \u95dc\u9375\u5b57**\u6307\u5411\u7576\u524d\u7269\u4ef6\uff0c\u7528\u65bc\u5340\u5206\u53c3\u6578\u8207\u5be6\u4f8b\u8b8a\u6578</li> <li>**\u5b58\u53d6\u4fee\u98fe\u5b50**\u63a7\u5236\u6210\u54e1\u7684\u53ef\u898b\u6027\uff1aprivate &lt; package-private &lt; protected &lt; public</li> <li>static \u6210\u54e1\u5c6c\u65bc\u985e\u5225\uff0c\u4e0d\u9700\u8981\u5efa\u7acb\u7269\u4ef6\u5c31\u80fd\u4f7f\u7528</li> <li>**\u5c01\u88dd**\u900f\u904e private \u8b8a\u6578\u548c public \u65b9\u6cd5\u4f86\u96b1\u85cf\u5be6\u4f5c\u7d30\u7bc0</li> </ol> <p>\u8a2d\u8a08\u539f\u5247</p> <ul> <li>\u8cc7\u6599\u96b1\u85cf: \u5be6\u4f8b\u8b8a\u6578\u8a2d\u70ba private</li> <li>\u4ecb\u9762\u4e00\u81f4: \u63d0\u4f9b\u6e05\u695a\u7684 public \u65b9\u6cd5</li> <li>\u9a57\u8b49\u8f38\u5165: \u5728 setter \u65b9\u6cd5\u4e2d\u6aa2\u67e5\u53c3\u6578\u7684\u6709\u6548\u6027</li> <li>\u8077\u8cac\u55ae\u4e00: \u6bcf\u500b\u985e\u5225\u61c9\u8a72\u53ea\u8ca0\u8cac\u4e00\u9805\u529f\u80fd</li> </ul>"},{"location":"java/oop/04-class-and-object/#_18","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u57fa\u790e\u7df4\u7fd2</li> <li>\u8a2d\u8a08\u4e00\u500b <code>Book</code> \u985e\u5225\uff08\u66f8\u540d\u3001\u4f5c\u8005\u3001\u50f9\u683c\u3001\u9801\u6578\uff09</li> <li>\u5efa\u7acb <code>Circle</code> \u985e\u5225\u8a08\u7b97\u5713\u7684\u9762\u7a4d\u548c\u5468\u9577</li> <li> <p>\u5be6\u4f5c <code>Time</code> \u985e\u5225\u8868\u793a\u4e00\u5929\u4e2d\u7684\u6642\u9593</p> </li> <li> <p>\u9032\u968e\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u9280\u884c\u5e33\u6236\u7cfb\u7d71\uff08\u652f\u7968\u5e33\u6236\u3001\u5132\u84c4\u5e33\u6236\uff09</li> <li>\u5efa\u7acb\u5b78\u751f\u7ba1\u7406\u7cfb\u7d71\uff08\u5b78\u865f\u3001\u59d3\u540d\u3001\u6210\u7e3e\u7ba1\u7406\uff09</li> <li> <p>\u5be6\u4f5c\u8cfc\u7269\u8eca\u7cfb\u7d71\uff08\u5546\u54c1\u3001\u6578\u91cf\u3001\u7e3d\u50f9\u8a08\u7b97\uff09</p> </li> <li> <p>\u7d9c\u5408\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u4e00\u500b\u7c21\u55ae\u7684\u5716\u66f8\u9928\u7ba1\u7406\u7cfb\u7d71</li> <li>\u5efa\u7acb\u54e1\u5de5\u85aa\u8cc7\u8a08\u7b97\u7cfb\u7d71</li> <li>\u5be6\u4f5c\u57fa\u672c\u7684\u505c\u8eca\u5834\u7ba1\u7406\u7cfb\u7d71</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2\u5982\u4f55\u8a2d\u8a08\u985e\u5225\u548c\u4f7f\u7528\u5217\u8209\uff08enum\uff09\uff0c\u9032\u4e00\u6b65\u63d0\u5347\u7269\u4ef6\u5c0e\u5411\u8a2d\u8a08\u80fd\u529b\uff01</p>"},{"location":"java/oop/05-class-design-enum/","title":"\u8a2d\u8a08\u985e\u5225\u8207\u5217\u8209(enum)","text":""},{"location":"java/oop/05-class-design-enum/#_1","title":"\u985e\u5225\u8a2d\u8a08\u539f\u5247","text":"<p>\u826f\u597d\u7684\u985e\u5225\u8a2d\u8a08\u662f\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a2d\u8a08\u7684\u57fa\u790e\u3002\u4e00\u500b\u8a2d\u8a08\u826f\u597d\u7684\u985e\u5225\u61c9\u8a72\u5177\u6709\u6e05\u6670\u7684\u8077\u8cac\u3001\u9069\u7576\u7684\u5c01\u88dd\u548c\u5408\u7406\u7684\u4ecb\u9762\u3002</p>"},{"location":"java/oop/05-class-design-enum/#_2","title":"\u55ae\u4e00\u8077\u8cac\u539f\u5247","text":"<p>\u6bcf\u500b\u985e\u5225\u61c9\u8a72\u53ea\u6709\u4e00\u500b\u6539\u8b8a\u7684\u7406\u7531\uff0c\u4e5f\u5c31\u662f\u53ea\u8ca0\u8cac\u4e00\u9805\u529f\u80fd\u3002</p> Java<pre><code>// \u4e0d\u826f\u8a2d\u8a08\uff1a\u4e00\u500b\u985e\u5225\u8655\u7406\u591a\u7a2e\u8077\u8cac\nclass BadUserManager {\n    private String username;\n    private String email;\n    private String password;\n\n    // \u4f7f\u7528\u8005\u8cc7\u6599\u7ba1\u7406\n    public void setUsername(String username) { this.username = username; }\n    public String getUsername() { return username; }\n\n    // \u8cc7\u6599\u5eab\u64cd\u4f5c\n    public void saveToDatabase() {\n        System.out.println(\"\u5132\u5b58\u4f7f\u7528\u8005\u5230\u8cc7\u6599\u5eab\");\n    }\n\n    // \u90f5\u4ef6\u767c\u9001\n    public void sendWelcomeEmail() {\n        System.out.println(\"\u767c\u9001\u6b61\u8fce\u90f5\u4ef6\u5230: \" + email);\n    }\n\n    // \u5bc6\u78bc\u9a57\u8b49\n    public boolean validatePassword(String password) {\n        return this.password.equals(password);\n    }\n}\n</code></pre> Java<pre><code>// \u826f\u597d\u8a2d\u8a08\uff1a\u8077\u8cac\u5206\u96e2\n// \u4f7f\u7528\u8005\u8cc7\u6599\u985e\u5225\nclass User {\n    private String username;\n    private String email;\n    private String password;\n\n    public User(String username, String email, String password) {\n        this.username = username;\n        this.email = email;\n        this.password = password;\n    }\n\n    // Getter \u548c Setter\n    public String getUsername() { return username; }\n    public void setUsername(String username) { this.username = username; }\n    public String getEmail() { return email; }\n    public void setEmail(String email) { this.email = email; }\n\n    // \u53ea\u8ca0\u8cac\u57fa\u672c\u7684\u8cc7\u6599\u9a57\u8b49\n    public boolean isValidEmail() {\n        return email != null &amp;&amp; email.contains(\"@\");\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"User{username='%s', email='%s'}\", username, email);\n    }\n}\n\n// \u8cc7\u6599\u5eab\u64cd\u4f5c\u985e\u5225\nclass UserRepository {\n    public void save(User user) {\n        System.out.println(\"\u5132\u5b58\u4f7f\u7528\u8005\u5230\u8cc7\u6599\u5eab: \" + user.getUsername());\n        // \u5be6\u969b\u7684\u8cc7\u6599\u5eab\u64cd\u4f5c\u908f\u8f2f\n    }\n\n    public User findByUsername(String username) {\n        System.out.println(\"\u5f9e\u8cc7\u6599\u5eab\u5c0b\u627e\u4f7f\u7528\u8005: \" + username);\n        // \u5be6\u969b\u7684\u67e5\u8a62\u908f\u8f2f\n        return null; // \u9019\u88e1\u7c21\u5316\u8655\u7406\n    }\n}\n\n// \u90f5\u4ef6\u670d\u52d9\u985e\u5225\nclass EmailService {\n    public void sendWelcomeEmail(User user) {\n        if (user.isValidEmail()) {\n            System.out.println(\"\u767c\u9001\u6b61\u8fce\u90f5\u4ef6\u5230: \" + user.getEmail());\n            // \u5be6\u969b\u7684\u90f5\u4ef6\u767c\u9001\u908f\u8f2f\n        } else {\n            System.out.println(\"\u7121\u6548\u7684\u90f5\u4ef6\u5730\u5740: \" + user.getEmail());\n        }\n    }\n}\n\n// \u5bc6\u78bc\u9a57\u8b49\u985e\u5225\nclass PasswordValidator {\n    public boolean validate(String password, String inputPassword) {\n        return password != null &amp;&amp; password.equals(inputPassword);\n    }\n\n    public boolean isStrongPassword(String password) {\n        return password != null &amp;&amp; \n               password.length() &gt;= 8 &amp;&amp; \n               password.matches(\".*[A-Z].*\") &amp;&amp;  // \u5305\u542b\u5927\u5beb\u5b57\u6bcd\n               password.matches(\".*[0-9].*\");    // \u5305\u542b\u6578\u5b57\n    }\n}\n</code></pre>"},{"location":"java/oop/05-class-design-enum/#_3","title":"\u4f7f\u7528\u826f\u597d\u8a2d\u8a08\u7684\u7bc4\u4f8b","text":"Java<pre><code>public class UserManagementDemo {\n    public static void main(String[] args) {\n        // \u5efa\u7acb\u670d\u52d9\u7269\u4ef6\n        UserRepository userRepository = new UserRepository();\n        EmailService emailService = new EmailService();\n        PasswordValidator passwordValidator = new PasswordValidator();\n\n        // \u5efa\u7acb\u4f7f\u7528\u8005\n        User user = new User(\"john_doe\", \"john@example.com\", \"MyPassword123\");\n\n        System.out.println(\"=== \u4f7f\u7528\u8005\u8a3b\u518a\u6d41\u7a0b ===\");\n\n        // 1. \u9a57\u8b49\u5bc6\u78bc\u5f37\u5ea6\n        if (passwordValidator.isStrongPassword(\"MyPassword123\")) {\n            System.out.println(\"\u5bc6\u78bc\u5f37\u5ea6\u9a57\u8b49\u901a\u904e\");\n\n            // 2. \u5132\u5b58\u4f7f\u7528\u8005\n            userRepository.save(user);\n\n            // 3. \u767c\u9001\u6b61\u8fce\u90f5\u4ef6\n            emailService.sendWelcomeEmail(user);\n\n        } else {\n            System.out.println(\"\u5bc6\u78bc\u5f37\u5ea6\u4e0d\u8db3\");\n        }\n\n        System.out.println(\"\\n=== \u4f7f\u7528\u8005\u767b\u5165\u6d41\u7a0b ===\");\n\n        // \u767b\u5165\u9a57\u8b49\n        String inputPassword = \"MyPassword123\";\n        if (passwordValidator.validate(\"MyPassword123\", inputPassword)) {\n            System.out.println(\"\u767b\u5165\u6210\u529f\");\n        } else {\n            System.out.println(\"\u5bc6\u78bc\u932f\u8aa4\");\n        }\n    }\n}\n</code></pre> <p>\u8a2d\u8a08\u539f\u5247\u7e3d\u7d50</p> <ul> <li>\u55ae\u4e00\u8077\u8cac: \u4e00\u500b\u985e\u5225\u53ea\u505a\u4e00\u4ef6\u4e8b</li> <li>\u958b\u653e\u5c01\u9589: \u5c0d\u64f4\u5c55\u958b\u653e\uff0c\u5c0d\u4fee\u6539\u5c01\u9589</li> <li>\u4f9d\u8cf4\u5012\u8f49: \u4f9d\u8cf4\u62bd\u8c61\u800c\u975e\u5177\u9ad4\u5be6\u4f5c</li> <li>\u4ecb\u9762\u9694\u96e2: \u4e0d\u5f37\u8feb\u4f9d\u8cf4\u4e0d\u9700\u8981\u7684\u4ecb\u9762</li> </ul>"},{"location":"java/oop/05-class-design-enum/#method-overloading","title":"\u65b9\u6cd5\u591a\u8f09 (Method Overloading)","text":"<p>\u65b9\u6cd5\u591a\u8f09\u5141\u8a31\u540c\u4e00\u500b\u985e\u5225\u4e2d\u6709\u591a\u500b\u540c\u540d\u4f46\u53c3\u6578\u4e0d\u540c\u7684\u65b9\u6cd5\u3002\u7de8\u8b6f\u5668\u6703\u6839\u64da\u547c\u53eb\u6642\u63d0\u4f9b\u7684\u53c3\u6578\u81ea\u52d5\u9078\u64c7\u9069\u5408\u7684\u65b9\u6cd5\u3002</p>"},{"location":"java/oop/05-class-design-enum/#_4","title":"\u57fa\u672c\u65b9\u6cd5\u591a\u8f09","text":"Java<pre><code>public class Calculator {\n\n    // \u6574\u6578\u52a0\u6cd5\n    public int add(int a, int b) {\n        System.out.println(\"\u57f7\u884c\u6574\u6578\u52a0\u6cd5: \" + a + \" + \" + b);\n        return a + b;\n    }\n\n    // \u4e09\u500b\u6574\u6578\u52a0\u6cd5\n    public int add(int a, int b, int c) {\n        System.out.println(\"\u57f7\u884c\u4e09\u500b\u6574\u6578\u52a0\u6cd5: \" + a + \" + \" + b + \" + \" + c);\n        return a + b + c;\n    }\n\n    // \u6d6e\u9ede\u6578\u52a0\u6cd5\n    public double add(double a, double b) {\n        System.out.println(\"\u57f7\u884c\u6d6e\u9ede\u6578\u52a0\u6cd5: \" + a + \" + \" + b);\n        return a + b;\n    }\n\n    // \u5b57\u4e32\u9023\u63a5\n    public String add(String a, String b) {\n        System.out.println(\"\u57f7\u884c\u5b57\u4e32\u9023\u63a5: \" + a + \" + \" + b);\n        return a + b;\n    }\n\n    // \u9663\u5217\u52a0\u6cd5\uff08\u5143\u7d20\u76f8\u52a0\uff09\n    public int[] add(int[] array1, int[] array2) {\n        System.out.println(\"\u57f7\u884c\u9663\u5217\u52a0\u6cd5\");\n        int length = Math.min(array1.length, array2.length);\n        int[] result = new int[length];\n\n        for (int i = 0; i &lt; length; i++) {\n            result[i] = array1[i] + array2[i];\n        }\n        return result;\n    }\n\n    // \u65b9\u6cd5\u591a\u8f09\u7684\u53e6\u4e00\u500b\u7bc4\u4f8b\uff1a\u683c\u5f0f\u5316\u8f38\u51fa\n    public void print(int value) {\n        System.out.println(\"\u6574\u6578: \" + value);\n    }\n\n    public void print(double value) {\n        System.out.println(\"\u6d6e\u9ede\u6578: \" + String.format(\"%.2f\", value));\n    }\n\n    public void print(String value) {\n        System.out.println(\"\u5b57\u4e32: \\\"\" + value + \"\\\"\");\n    }\n\n    public void print(boolean value) {\n        System.out.println(\"\u5e03\u6797\u503c: \" + (value ? \"\u771f\" : \"\u5047\"));\n    }\n\n    // \u53ef\u8b8a\u53c3\u6578\u7684\u591a\u8f09\n    public int sum(int... numbers) {\n        System.out.println(\"\u4f7f\u7528\u53ef\u8b8a\u53c3\u6578\u8a08\u7b97\u7e3d\u548c\");\n        int total = 0;\n        for (int num : numbers) {\n            total += num;\n        }\n        return total;\n    }\n}\n</code></pre>"},{"location":"java/oop/05-class-design-enum/#_5","title":"\u65b9\u6cd5\u591a\u8f09\u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>public class OverloadingDemo {\n    public static void main(String[] args) {\n        Calculator calc = new Calculator();\n\n        System.out.println(\"=== \u65b9\u6cd5\u591a\u8f09\u793a\u7bc4 ===\");\n\n        // \u4e0d\u540c\u53c3\u6578\u985e\u578b\u7684\u52a0\u6cd5\n        System.out.println(\"\u7d50\u679c: \" + calc.add(5, 3));              // int add(int, int)\n        System.out.println(\"\u7d50\u679c: \" + calc.add(5, 3, 2));           // int add(int, int, int)\n        System.out.println(\"\u7d50\u679c: \" + calc.add(5.5, 3.2));          // double add(double, double)\n        System.out.println(\"\u7d50\u679c: \" + calc.add(\"Hello\", \"World\"));   // String add(String, String)\n\n        // \u9663\u5217\u52a0\u6cd5\n        int[] arr1 = {1, 2, 3};\n        int[] arr2 = {4, 5, 6};\n        int[] result = calc.add(arr1, arr2);\n        System.out.print(\"\u9663\u5217\u7d50\u679c: \");\n        for (int i = 0; i &lt; result.length; i++) {\n            System.out.print(result[i] + \" \");\n        }\n        System.out.println();\n\n        System.out.println(\"\\n=== \u683c\u5f0f\u5316\u8f38\u51fa\u793a\u7bc4 ===\");\n\n        // \u4e0d\u540c\u8cc7\u6599\u985e\u578b\u7684\u8f38\u51fa\n        calc.print(42);              // print(int)\n        calc.print(3.14159);         // print(double)\n        calc.print(\"Java\");          // print(String)\n        calc.print(true);            // print(boolean)\n\n        System.out.println(\"\\n=== \u53ef\u8b8a\u53c3\u6578\u793a\u7bc4 ===\");\n\n        // \u53ef\u8b8a\u53c3\u6578\u7684\u4f7f\u7528\n        System.out.println(\"\u7e3d\u548c: \" + calc.sum());                    // \u7121\u53c3\u6578\n        System.out.println(\"\u7e3d\u548c: \" + calc.sum(5));                   // \u4e00\u500b\u53c3\u6578\n        System.out.println(\"\u7e3d\u548c: \" + calc.sum(1, 2, 3, 4, 5));       // \u591a\u500b\u53c3\u6578\n        System.out.println(\"\u7e3d\u548c: \" + calc.sum(10, 20, 30, 40));      // \u4e0d\u540c\u6578\u91cf\u53c3\u6578\n    }\n}\n</code></pre>"},{"location":"java/oop/05-class-design-enum/#_6","title":"\u5efa\u69cb\u5b50\u591a\u8f09\u7bc4\u4f8b","text":"Java<pre><code>public class Rectangle {\n    private double width;\n    private double height;\n    private String color;\n\n    // \u9810\u8a2d\u5efa\u69cb\u5b50\n    public Rectangle() {\n        this(1.0, 1.0, \"\u767d\u8272\");  // \u547c\u53eb\u5176\u4ed6\u5efa\u69cb\u5b50\n        System.out.println(\"\u4f7f\u7528\u9810\u8a2d\u5efa\u69cb\u5b50\");\n    }\n\n    // \u6b63\u65b9\u5f62\u5efa\u69cb\u5b50\uff08\u53ea\u6307\u5b9a\u4e00\u500b\u908a\u9577\uff09\n    public Rectangle(double side) {\n        this(side, side, \"\u767d\u8272\");\n        System.out.println(\"\u5efa\u7acb\u6b63\u65b9\u5f62\uff0c\u908a\u9577: \" + side);\n    }\n\n    // \u6307\u5b9a\u5bec\u9ad8\u7684\u5efa\u69cb\u5b50\n    public Rectangle(double width, double height) {\n        this(width, height, \"\u767d\u8272\");\n        System.out.println(\"\u5efa\u7acb\u77e9\u5f62\uff0c\u5bec: \" + width + \", \u9ad8: \" + height);\n    }\n\n    // \u5b8c\u6574\u5efa\u69cb\u5b50\n    public Rectangle(double width, double height, String color) {\n        if (width &lt;= 0 || height &lt;= 0) {\n            throw new IllegalArgumentException(\"\u5bec\u5ea6\u548c\u9ad8\u5ea6\u5fc5\u9808\u5927\u65bc\u96f6\");\n        }\n        this.width = width;\n        this.height = height;\n        this.color = color;\n        System.out.println(\"\u5efa\u7acb\" + color + \"\u77e9\u5f62\uff0c\u5bec: \" + width + \", \u9ad8: \" + height);\n    }\n\n    // \u8907\u88fd\u5efa\u69cb\u5b50\n    public Rectangle(Rectangle other) {\n        this(other.width, other.height, other.color);\n        System.out.println(\"\u8907\u88fd\u77e9\u5f62\");\n    }\n\n    // \u8a08\u7b97\u9762\u7a4d\n    public double getArea() {\n        return width * height;\n    }\n\n    // \u8a08\u7b97\u5468\u9577\n    public double getPerimeter() {\n        return 2 * (width + height);\n    }\n\n    // \u5224\u65b7\u662f\u5426\u70ba\u6b63\u65b9\u5f62\n    public boolean isSquare() {\n        return Math.abs(width - height) &lt; 1e-10; // \u6d6e\u9ede\u6578\u6bd4\u8f03\n    }\n\n    // Getter \u65b9\u6cd5\n    public double getWidth() { return width; }\n    public double getHeight() { return height; }\n    public String getColor() { return color; }\n\n    @Override\n    public String toString() {\n        return String.format(\"%s\u77e9\u5f62 (\u5bec:%.2f, \u9ad8:%.2f, \u9762\u7a4d:%.2f)\", \n                           color, width, height, getArea());\n    }\n}\n</code></pre> Java<pre><code>public class RectangleDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u5efa\u69cb\u5b50\u591a\u8f09\u793a\u7bc4 ===\");\n\n        Rectangle rect1 = new Rectangle();                    // \u9810\u8a2d\u5efa\u69cb\u5b50\n        Rectangle rect2 = new Rectangle(5.0);                 // \u6b63\u65b9\u5f62\n        Rectangle rect3 = new Rectangle(4.0, 6.0);            // \u5bec\u9ad8\n        Rectangle rect4 = new Rectangle(3.0, 3.0, \"\u7d05\u8272\");    // \u5b8c\u6574\u5efa\u69cb\u5b50\n        Rectangle rect5 = new Rectangle(rect4);               // \u8907\u88fd\u5efa\u69cb\u5b50\n\n        System.out.println(\"\\n=== \u77e9\u5f62\u8cc7\u8a0a ===\");\n        System.out.println(\"rect1: \" + rect1);\n        System.out.println(\"rect2: \" + rect2 + \", \u662f\u6b63\u65b9\u5f62: \" + rect2.isSquare());\n        System.out.println(\"rect3: \" + rect3 + \", \u5468\u9577: \" + rect3.getPerimeter());\n        System.out.println(\"rect4: \" + rect4);\n        System.out.println(\"rect5: \" + rect5);\n    }\n}\n</code></pre> <p>\u65b9\u6cd5\u591a\u8f09\u6ce8\u610f\u4e8b\u9805</p> <ul> <li>\u53ea\u6709\u53c3\u6578\u5217\u8868\u4e0d\u540c\u624d\u7b97\u591a\u8f09\uff08\u6578\u91cf\u3001\u985e\u578b\u3001\u9806\u5e8f\uff09</li> <li>\u56de\u50b3\u578b\u614b\u4e0d\u80fd\u4f5c\u70ba\u591a\u8f09\u7684\u5340\u5206\u6a19\u6e96</li> <li>\u53ef\u8b8a\u53c3\u6578\u65b9\u6cd5\u7684\u512a\u5148\u6b0a\u6700\u4f4e</li> <li>\u7de8\u8b6f\u5668\u6703\u9078\u64c7\u6700\u7b26\u5408\u7684\u65b9\u6cd5\uff0c\u5982\u6709\u6b67\u7fa9\u6703\u5831\u932f</li> </ul>"},{"location":"java/oop/05-class-design-enum/#enum_1","title":"\u5217\u8209 (enum) \u57fa\u790e","text":"<p>\u5217\u8209\u662f\u4e00\u7a2e\u7279\u6b8a\u7684\u985e\u5225\uff0c\u7528\u65bc\u8868\u793a\u4e00\u7d44\u56fa\u5b9a\u7684\u5e38\u6578\u503c\u3002Java \u7684 enum \u6bd4\u5176\u4ed6\u8a9e\u8a00\u7684\u5217\u8209\u66f4\u5f37\u5927\uff0c\u53ef\u4ee5\u5305\u542b\u6b04\u4f4d\u3001\u65b9\u6cd5\u548c\u5efa\u69cb\u5b50\u3002</p>"},{"location":"java/oop/05-class-design-enum/#_7","title":"\u57fa\u672c\u5217\u8209\u5b9a\u7fa9","text":"Java<pre><code>// \u57fa\u672c\u5217\u8209\uff1a\u661f\u671f\nenum DayOfWeek {\n    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY\n}\n\n// \u57fa\u672c\u5217\u8209\uff1a\u512a\u5148\u7b49\u7d1a\nenum Priority {\n    LOW, MEDIUM, HIGH, URGENT\n}\n\n// \u57fa\u672c\u5217\u8209\uff1a\u984f\u8272\nenum Color {\n    RED, GREEN, BLUE, YELLOW, BLACK, WHITE\n}\n</code></pre>"},{"location":"java/oop/05-class-design-enum/#_8","title":"\u5217\u8209\u7684\u57fa\u672c\u4f7f\u7528","text":"Java<pre><code>public class BasicEnumDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u57fa\u672c\u5217\u8209\u4f7f\u7528 ===\");\n\n        // \u5ba3\u544a\u5217\u8209\u8b8a\u6578\n        DayOfWeek today = DayOfWeek.MONDAY;\n        Priority taskPriority = Priority.HIGH;\n        Color favoriteColor = Color.BLUE;\n\n        System.out.println(\"\u4eca\u5929\u662f: \" + today);\n        System.out.println(\"\u4efb\u52d9\u512a\u5148\u7d1a: \" + taskPriority);\n        System.out.println(\"\u559c\u6b61\u7684\u984f\u8272: \" + favoriteColor);\n\n        // \u5217\u8209\u6bd4\u8f03\n        if (today == DayOfWeek.MONDAY) {\n            System.out.println(\"\u661f\u671f\u4e00\uff0c\u65b0\u7684\u4e00\u9031\u958b\u59cb\uff01\");\n        }\n\n        // \u5217\u8209\u7684\u5167\u5efa\u65b9\u6cd5\n        System.out.println(\"\\n=== \u5217\u8209\u5167\u5efa\u65b9\u6cd5 ===\");\n\n        // name() - \u53d6\u5f97\u5217\u8209\u5e38\u6578\u540d\u7a31\n        System.out.println(\"today.name(): \" + today.name());\n\n        // ordinal() - \u53d6\u5f97\u5217\u8209\u5e38\u6578\u7684\u9806\u5e8f\u4f4d\u7f6e\uff08\u5f9e0\u958b\u59cb\uff09\n        System.out.println(\"today.ordinal(): \" + today.ordinal());\n\n        // toString() - \u9810\u8a2d\u7b49\u540c\u65bc name()\n        System.out.println(\"today.toString(): \" + today.toString());\n\n        // values() - \u53d6\u5f97\u6240\u6709\u5217\u8209\u5e38\u6578\u7684\u9663\u5217\n        System.out.println(\"\\n\u6240\u6709\u661f\u671f:\");\n        DayOfWeek[] allDays = DayOfWeek.values();\n        for (int i = 0; i &lt; allDays.length; i++) {\n            System.out.println((i + 1) + \". \" + allDays[i]);\n        }\n\n        // valueOf() - \u5f9e\u5b57\u4e32\u8f49\u63db\u70ba\u5217\u8209\n        String dayName = \"FRIDAY\";\n        DayOfWeek friday = DayOfWeek.valueOf(dayName);\n        System.out.println(\"\\n\u5f9e\u5b57\u4e32\u8f49\u63db: \" + dayName + \" -&gt; \" + friday);\n\n        // \u8655\u7406\u932f\u8aa4\u7684\u5b57\u4e32\n        try {\n            DayOfWeek invalid = DayOfWeek.valueOf(\"INVALID_DAY\");\n        } catch (IllegalArgumentException e) {\n            System.out.println(\"\u7121\u6548\u7684\u5217\u8209\u503c: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>"},{"location":"java/oop/05-class-design-enum/#switch","title":"\u5217\u8209\u642d\u914d switch","text":"<p>\u5217\u8209\u8207 switch \u6558\u8ff0\u7684\u642d\u914d\u975e\u5e38\u81ea\u7136\uff0c\u4e5f\u662f\u5217\u8209\u6700\u5e38\u7528\u7684\u5834\u666f\u4e4b\u4e00\u3002</p>"},{"location":"java/oop/05-class-design-enum/#switch_1","title":"\u5217\u8209 switch \u7bc4\u4f8b","text":"Java<pre><code>public class EnumSwitchDemo {\n\n    // \u6839\u64da\u661f\u671f\u5224\u65b7\u5de5\u4f5c\u65e5\u6216\u9031\u672b\n    public static String getDayType(DayOfWeek day) {\n        switch (day) {\n            case MONDAY:\n            case TUESDAY:\n            case WEDNESDAY:\n            case THURSDAY:\n            case FRIDAY:\n                return \"\u5de5\u4f5c\u65e5\";\n            case SATURDAY:\n            case SUNDAY:\n                return \"\u9031\u672b\";\n            default:\n                return \"\u672a\u77e5\";\n        }\n    }\n\n    // \u6839\u64da\u512a\u5148\u7d1a\u6c7a\u5b9a\u8655\u7406\u7b56\u7565\n    public static void handleTask(String taskName, Priority priority) {\n        System.out.print(\"\u8655\u7406\u4efb\u52d9 \\\"\" + taskName + \"\\\" (\u512a\u5148\u7d1a: \" + priority + \") - \");\n\n        switch (priority) {\n            case URGENT:\n                System.out.println(\"\u7acb\u5373\u8655\u7406\uff01\");\n                break;\n            case HIGH:\n                System.out.println(\"\u4eca\u65e5\u5167\u5b8c\u6210\");\n                break;\n            case MEDIUM:\n                System.out.println(\"\u672c\u9031\u5167\u5b8c\u6210\");\n                break;\n            case LOW:\n                System.out.println(\"\u6709\u6642\u9593\u518d\u8655\u7406\");\n                break;\n            default:\n                System.out.println(\"\u672a\u77e5\u512a\u5148\u7d1a\");\n                break;\n        }\n    }\n\n    // \u6839\u64da\u984f\u8272\u9078\u64c7 RGB \u503c\uff08\u7c21\u5316\u7248\uff09\n    public static String getColorCode(Color color) {\n        switch (color) {\n            case RED:\n                return \"#FF0000\";\n            case GREEN:\n                return \"#00FF00\";\n            case BLUE:\n                return \"#0000FF\";\n            case YELLOW:\n                return \"#FFFF00\";\n            case BLACK:\n                return \"#000000\";\n            case WHITE:\n                return \"#FFFFFF\";\n            default:\n                return \"#UNKNOWN\";\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u5217\u8209 Switch \u793a\u7bc4 ===\");\n\n        // \u661f\u671f\u985e\u578b\u5224\u65b7\n        System.out.println(\"\u661f\u671f\u985e\u578b\u5224\u65b7:\");\n        for (DayOfWeek day : DayOfWeek.values()) {\n            System.out.println(day + \" -&gt; \" + getDayType(day));\n        }\n\n        // \u4efb\u52d9\u512a\u5148\u7d1a\u8655\u7406\n        System.out.println(\"\\n\u4efb\u52d9\u512a\u5148\u7d1a\u8655\u7406:\");\n        handleTask(\"\u4fee\u5fa9\u7cfb\u7d71Bug\", Priority.URGENT);\n        handleTask(\"\u64b0\u5beb\u6587\u4ef6\", Priority.MEDIUM);\n        handleTask(\"\u7a0b\u5f0f\u78bc\u91cd\u69cb\", Priority.LOW);\n        handleTask(\"\u65b0\u529f\u80fd\u958b\u767c\", Priority.HIGH);\n\n        // \u984f\u8272\u4ee3\u78bc\u8f49\u63db\n        System.out.println(\"\\n\u984f\u8272\u4ee3\u78bc\u8f49\u63db:\");\n        for (Color color : Color.values()) {\n            System.out.println(color + \" -&gt; \" + getColorCode(color));\n        }\n\n        // \u4f7f\u7528 switch \u8868\u9054\u5f0f (Java 14+)\n        System.out.println(\"\\n=== Switch \u8868\u9054\u5f0f (Java 14+) ===\");\n\n        DayOfWeek testDay = DayOfWeek.SATURDAY;\n        String dayMessage = switch (testDay) {\n            case MONDAY -&gt; \"\u9031\u4e00\uff0c\u65b0\u7684\u958b\u59cb\uff01\";\n            case TUESDAY, WEDNESDAY, THURSDAY -&gt; \"\u5e73\u65e5\uff0c\u52aa\u529b\u5de5\u4f5c\uff01\";\n            case FRIDAY -&gt; \"\u9031\u4e94\uff0c\u5feb\u5230\u9031\u672b\u4e86\uff01\";\n            case SATURDAY, SUNDAY -&gt; \"\u9031\u672b\uff0c\u597d\u597d\u4f11\u606f\uff01\";\n        };\n        System.out.println(testDay + \": \" + dayMessage);\n\n        // \u66f4\u8907\u96dc\u7684 switch \u8868\u9054\u5f0f\n        Priority testPriority = Priority.HIGH;\n        int estimatedHours = switch (testPriority) {\n            case URGENT -&gt; {\n                System.out.println(\"\u7dca\u6025\u4efb\u52d9\u5206\u6790\u4e2d...\");\n                yield 1;  // 1 \u5c0f\u6642\u5167\n            }\n            case HIGH -&gt; 8;    // 8 \u5c0f\u6642\u5167\n            case MEDIUM -&gt; 40;  // 40 \u5c0f\u6642\u5167\uff08\u4e00\u9031\uff09\n            case LOW -&gt; 160;    // 160 \u5c0f\u6642\u5167\uff08\u4e00\u500b\u6708\uff09\n        };\n        System.out.println(\"\u512a\u5148\u7d1a \" + testPriority + \" \u9810\u4f30\u5b8c\u6210\u6642\u9593: \" + estimatedHours + \" \u5c0f\u6642\");\n    }\n}\n</code></pre> <p>Switch \u8207\u5217\u8209\u6700\u4f73\u5be6\u8e10</p> <ul> <li>\u7e3d\u662f\u5305\u542b <code>default</code> case\uff0c\u9664\u975e\u78ba\u5b9a\u8655\u7406\u4e86\u6240\u6709\u53ef\u80fd\u7684\u503c</li> <li>\u4f7f\u7528 switch \u8868\u9054\u5f0f\uff08Java 14+\uff09\u53ef\u4ee5\u907f\u514d break \u907a\u6f0f\u7684\u554f\u984c</li> <li>\u5728 switch \u4e2d\u76f4\u63a5\u4f7f\u7528\u5217\u8209\u5e38\u6578\u540d\u7a31\uff0c\u4e0d\u9700\u8981 <code>EnumName.</code></li> </ul>"},{"location":"java/oop/05-class-design-enum/#_9","title":"\u5217\u8209\u9032\u968e\u529f\u80fd","text":"<p>Java \u7684\u5217\u8209\u9060\u6bd4\u55ae\u7d14\u7684\u5e38\u6578\u5217\u8868\u5f37\u5927\uff0c\u53ef\u4ee5\u5305\u542b\u6b04\u4f4d\u3001\u65b9\u6cd5\uff0c\u751a\u81f3\u662f\u62bd\u8c61\u65b9\u6cd5\u3002</p>"},{"location":"java/oop/05-class-design-enum/#_10","title":"\u542b\u6709\u6b04\u4f4d\u548c\u65b9\u6cd5\u7684\u5217\u8209","text":"Java<pre><code>// \u884c\u661f\u5217\u8209\uff1a\u5305\u542b\u8cea\u91cf\u548c\u534a\u5f91\nenum Planet {\n    // \u5217\u8209\u5e38\u6578\u53ca\u5176\u53c3\u6578\n    MERCURY(3.303e+23, 2.4397e6),\n    VENUS  (4.869e+24, 6.0518e6),\n    EARTH  (5.976e+24, 6.37814e6),\n    MARS   (6.421e+23, 3.3972e6),\n    JUPITER(1.9e+27,   7.1492e7),\n    SATURN (5.688e+26, 6.0268e7),\n    URANUS (8.686e+25, 2.5559e7),\n    NEPTUNE(1.024e+26, 2.4746e7);\n\n    // \u79c1\u6709\u6b04\u4f4d\n    private final double mass;   // \u8cea\u91cf\uff08\u516c\u65a4\uff09\n    private final double radius; // \u534a\u5f91\uff08\u516c\u5c3a\uff09\n\n    // \u5efa\u69cb\u5b50\uff08\u5217\u8209\u5efa\u69cb\u5b50\u5fc5\u9808\u662f private\uff09\n    private Planet(double mass, double radius) {\n        this.mass = mass;\n        this.radius = radius;\n    }\n\n    // \u516c\u5171\u65b9\u6cd5\n    public double getMass() { return mass; }\n    public double getRadius() { return radius; }\n\n    // \u901a\u7528\u91cd\u529b\u5e38\u6578\n    public static final double G = 6.67300E-11;\n\n    // \u8a08\u7b97\u8868\u9762\u91cd\u529b\u52a0\u901f\u5ea6\n    public double surfaceGravity() {\n        return G * mass / (radius * radius);\n    }\n\n    // \u8a08\u7b97\u5728\u8a72\u884c\u661f\u4e0a\u7684\u91cd\u91cf\n    public double surfaceWeight(double otherMass) {\n        return otherMass * surfaceGravity();\n    }\n}\n</code></pre>"},{"location":"java/oop/05-class-design-enum/#_11","title":"\u72c0\u614b\u6a5f\u5217\u8209","text":"Java<pre><code>// \u8a02\u55ae\u72c0\u614b\u5217\u8209\nenum OrderStatus {\n    PENDING(\"\u5f85\u8655\u7406\", \"\u8a02\u55ae\u5df2\u5efa\u7acb\uff0c\u7b49\u5f85\u8655\u7406\") {\n        @Override\n        public OrderStatus nextStatus() {\n            return CONFIRMED;\n        }\n\n        @Override\n        public boolean canCancel() {\n            return true;\n        }\n    },\n\n    CONFIRMED(\"\u5df2\u78ba\u8a8d\", \"\u8a02\u55ae\u5df2\u78ba\u8a8d\uff0c\u6e96\u5099\u51fa\u8ca8\") {\n        @Override\n        public OrderStatus nextStatus() {\n            return SHIPPED;\n        }\n\n        @Override\n        public boolean canCancel() {\n            return true;\n        }\n    },\n\n    SHIPPED(\"\u5df2\u51fa\u8ca8\", \"\u5546\u54c1\u5df2\u51fa\u8ca8\uff0c\u904b\u9001\u4e2d\") {\n        @Override\n        public OrderStatus nextStatus() {\n            return DELIVERED;\n        }\n\n        @Override\n        public boolean canCancel() {\n            return false; // \u5df2\u51fa\u8ca8\u4e0d\u80fd\u53d6\u6d88\n        }\n    },\n\n    DELIVERED(\"\u5df2\u9001\u9054\", \"\u5546\u54c1\u5df2\u6210\u529f\u9001\u9054\") {\n        @Override\n        public OrderStatus nextStatus() {\n            return COMPLETED;\n        }\n\n        @Override\n        public boolean canCancel() {\n            return false;\n        }\n    },\n\n    COMPLETED(\"\u5df2\u5b8c\u6210\", \"\u8a02\u55ae\u8655\u7406\u5b8c\u6210\") {\n        @Override\n        public OrderStatus nextStatus() {\n            return this; // \u5df2\u5b8c\u6210\uff0c\u4fdd\u6301\u4e0d\u8b8a\n        }\n\n        @Override\n        public boolean canCancel() {\n            return false;\n        }\n    },\n\n    CANCELLED(\"\u5df2\u53d6\u6d88\", \"\u8a02\u55ae\u5df2\u88ab\u53d6\u6d88\") {\n        @Override\n        public OrderStatus nextStatus() {\n            return this; // \u5df2\u53d6\u6d88\uff0c\u4fdd\u6301\u4e0d\u8b8a\n        }\n\n        @Override\n        public boolean canCancel() {\n            return false;\n        }\n    };\n\n    // \u6b04\u4f4d\n    private final String displayName;\n    private final String description;\n\n    // \u5efa\u69cb\u5b50\n    private OrderStatus(String displayName, String description) {\n        this.displayName = displayName;\n        this.description = description;\n    }\n\n    // \u62bd\u8c61\u65b9\u6cd5\uff1a\u6bcf\u500b\u5217\u8209\u5e38\u6578\u5fc5\u9808\u5be6\u4f5c\n    public abstract OrderStatus nextStatus();\n    public abstract boolean canCancel();\n\n    // \u4e00\u822c\u65b9\u6cd5\n    public String getDisplayName() { return displayName; }\n    public String getDescription() { return description; }\n\n    // \u53d6\u6d88\u8a02\u55ae\n    public OrderStatus cancel() {\n        if (canCancel()) {\n            return CANCELLED;\n        } else {\n            throw new IllegalStateException(\"\u8a02\u55ae\u5728 \" + this.displayName + \" \u72c0\u614b\u4e0b\u7121\u6cd5\u53d6\u6d88\");\n        }\n    }\n\n    @Override\n    public String toString() {\n        return displayName + \" (\" + description + \")\";\n    }\n}\n</code></pre>"},{"location":"java/oop/05-class-design-enum/#_12","title":"\u9032\u968e\u5217\u8209\u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>public class AdvancedEnumDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u884c\u661f\u5217\u8209\u793a\u7bc4 ===\");\n\n        // \u8a08\u7b97\u5404\u884c\u661f\u7684\u8868\u9762\u91cd\u529b\n        double earthWeight = 75.0; // \u5730\u7403\u4e0a\u7684\u9ad4\u91cd\uff08\u516c\u65a4\uff09\n        System.out.println(\"\u5982\u679c\u4f60\u5728\u5730\u7403\u4e0a\u91cd \" + earthWeight + \" \u516c\u65a4\uff0c\u5728\u5176\u4ed6\u884c\u661f\u4e0a\u7684\u91cd\u91cf\uff1a\");\n\n        for (Planet planet : Planet.values()) {\n            double weight = planet.surfaceWeight(earthWeight);\n            System.out.printf(\"%-8s: %6.2f \u516c\u65a4 (\u91cd\u529b: %8.2f m/s\u00b2)%n\", \n                            planet.name(), weight, planet.surfaceGravity());\n        }\n\n        System.out.println(\"\\n=== \u8a02\u55ae\u72c0\u614b\u6a5f\u793a\u7bc4 ===\");\n\n        // \u6a21\u64ec\u8a02\u55ae\u6d41\u7a0b\n        OrderStatus currentStatus = OrderStatus.PENDING;\n        System.out.println(\"\u521d\u59cb\u72c0\u614b: \" + currentStatus);\n\n        try {\n            // \u6b63\u5e38\u6d41\u7a0b\n            for (int i = 0; i &lt; 5; i++) {\n                OrderStatus nextStatus = currentStatus.nextStatus();\n                if (nextStatus != currentStatus) {\n                    currentStatus = nextStatus;\n                    System.out.println(\"\u72c0\u614b\u8f49\u63db\u5230: \" + currentStatus);\n                } else {\n                    System.out.println(\"\u5df2\u9054\u5230\u6700\u7d42\u72c0\u614b: \" + currentStatus);\n                    break;\n                }\n            }\n\n            // \u6e2c\u8a66\u53d6\u6d88\u529f\u80fd\n            System.out.println(\"\\n=== \u53d6\u6d88\u8a02\u55ae\u6e2c\u8a66 ===\");\n\n            OrderStatus pendingOrder = OrderStatus.PENDING;\n            System.out.println(\"\u5617\u8a66\u53d6\u6d88 \" + pendingOrder.getDisplayName() + \" \u72c0\u614b\u7684\u8a02\u55ae:\");\n            if (pendingOrder.canCancel()) {\n                OrderStatus cancelled = pendingOrder.cancel();\n                System.out.println(\"\u6210\u529f\u53d6\u6d88: \" + cancelled);\n            } else {\n                System.out.println(\"\u7121\u6cd5\u53d6\u6d88\u6b64\u72c0\u614b\u7684\u8a02\u55ae\");\n            }\n\n            // \u5617\u8a66\u53d6\u6d88\u5df2\u51fa\u8ca8\u7684\u8a02\u55ae\n            OrderStatus shippedOrder = OrderStatus.SHIPPED;\n            System.out.println(\"\\n\u5617\u8a66\u53d6\u6d88 \" + shippedOrder.getDisplayName() + \" \u72c0\u614b\u7684\u8a02\u55ae:\");\n            try {\n                shippedOrder.cancel();\n            } catch (IllegalStateException e) {\n                System.out.println(\"\u53d6\u6d88\u5931\u6557: \" + e.getMessage());\n            }\n\n        } catch (Exception e) {\n            System.out.println(\"\u767c\u751f\u932f\u8aa4: \" + e.getMessage());\n        }\n\n        System.out.println(\"\\n=== \u6240\u6709\u8a02\u55ae\u72c0\u614b ===\");\n        for (OrderStatus status : OrderStatus.values()) {\n            System.out.printf(\"%-10s: %-8s (\u53ef\u53d6\u6d88: %s)%n\", \n                            status.name(), \n                            status.getDisplayName(), \n                            status.canCancel() ? \"\u662f\" : \"\u5426\");\n        }\n    }\n}\n</code></pre>"},{"location":"java/oop/05-class-design-enum/#_13","title":"\u5217\u8209\u96c6\u5408\u64cd\u4f5c","text":"Java<pre><code>import java.util.EnumSet;\nimport java.util.EnumMap;\n\n// \u5de5\u4f5c\u65e5\u5217\u8209\nenum Weekday {\n    MONDAY, TUESDAY, WEDNESDAY, THURSDAY, FRIDAY, SATURDAY, SUNDAY;\n\n    public boolean isWorkday() {\n        return this != SATURDAY &amp;&amp; this != SUNDAY;\n    }\n\n    public boolean isWeekend() {\n        return this == SATURDAY || this == SUNDAY;\n    }\n}\n\npublic class EnumCollectionDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== EnumSet \u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u5305\u542b\u6240\u6709\u5de5\u4f5c\u65e5\u7684 EnumSet\n        EnumSet&lt;Weekday&gt; workdays = EnumSet.of(\n            Weekday.MONDAY, Weekday.TUESDAY, Weekday.WEDNESDAY, \n            Weekday.THURSDAY, Weekday.FRIDAY\n        );\n\n        System.out.println(\"\u5de5\u4f5c\u65e5: \" + workdays);\n\n        // \u5efa\u7acb\u9031\u672b\u7684 EnumSet\n        EnumSet&lt;Weekday&gt; weekend = EnumSet.of(Weekday.SATURDAY, Weekday.SUNDAY);\n        System.out.println(\"\u9031\u672b: \" + weekend);\n\n        // \u5efa\u7acb\u6240\u6709\u5929\u7684 EnumSet\n        EnumSet&lt;Weekday&gt; allDays = EnumSet.allOf(Weekday.class);\n        System.out.println(\"\u6240\u6709\u5929: \" + allDays);\n\n        // \u5efa\u7acb\u7a7a\u7684 EnumSet\n        EnumSet&lt;Weekday&gt; noDays = EnumSet.noneOf(Weekday.class);\n        System.out.println(\"\u7a7a\u96c6\u5408: \" + noDays);\n\n        // \u7bc4\u570d\u64cd\u4f5c\n        EnumSet&lt;Weekday&gt; midWeek = EnumSet.range(Weekday.TUESDAY, Weekday.THURSDAY);\n        System.out.println(\"\u9031\u4e8c\u5230\u9031\u56db: \" + midWeek);\n\n        // \u88dc\u96c6\u64cd\u4f5c\n        EnumSet&lt;Weekday&gt; notWorkdays = EnumSet.complementOf(workdays);\n        System.out.println(\"\u975e\u5de5\u4f5c\u65e5: \" + notWorkdays);\n\n        System.out.println(\"\\n=== EnumMap \u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb EnumMap \u4f86\u5132\u5b58\u6bcf\u5929\u7684\u5de5\u4f5c\u6642\u6578\n        EnumMap&lt;Weekday, Integer&gt; workHours = new EnumMap&lt;&gt;(Weekday.class);\n\n        // \u8a2d\u5b9a\u5de5\u4f5c\u6642\u6578\n        workHours.put(Weekday.MONDAY, 8);\n        workHours.put(Weekday.TUESDAY, 8);\n        workHours.put(Weekday.WEDNESDAY, 8);\n        workHours.put(Weekday.THURSDAY, 8);\n        workHours.put(Weekday.FRIDAY, 6);    // \u9031\u4e94\u65e9\u4e0b\u73ed\n        workHours.put(Weekday.SATURDAY, 0);  // \u9031\u672b\u4e0d\u5de5\u4f5c\n        workHours.put(Weekday.SUNDAY, 0);\n\n        System.out.println(\"\u6bcf\u65e5\u5de5\u4f5c\u6642\u6578:\");\n        for (Weekday day : Weekday.values()) {\n            int hours = workHours.getOrDefault(day, 0);\n            System.out.printf(\"%-9s: %d \u5c0f\u6642%n\", day, hours);\n        }\n\n        // \u8a08\u7b97\u7e3d\u5de5\u4f5c\u6642\u6578\n        int totalHours = workHours.values().stream().mapToInt(Integer::intValue).sum();\n        System.out.println(\"\u9031\u7e3d\u5de5\u4f5c\u6642\u6578: \" + totalHours + \" \u5c0f\u6642\");\n\n        // \u7d71\u8a08\u5de5\u4f5c\u65e5\u548c\u9031\u672b\n        System.out.println(\"\\n=== \u7d71\u8a08\u8cc7\u8a0a ===\");\n        long workdayCount = EnumSet.allOf(Weekday.class).stream()\n                                  .filter(Weekday::isWorkday)\n                                  .count();\n        long weekendCount = EnumSet.allOf(Weekday.class).stream()\n                                  .filter(Weekday::isWeekend)\n                                  .count();\n\n        System.out.println(\"\u5de5\u4f5c\u65e5\u6578\u91cf: \" + workdayCount);\n        System.out.println(\"\u9031\u672b\u65e5\u6578\u91cf: \" + weekendCount);\n    }\n}\n</code></pre> <p>EnumSet \u548c EnumMap \u512a\u52e2</p> <ul> <li>EnumSet: \u5c08\u70ba\u5217\u8209\u8a2d\u8a08\u7684 Set\uff0c\u6548\u80fd\u6bd4 HashSet \u66f4\u597d</li> <li>EnumMap: \u5c08\u70ba\u5217\u8209\u8a2d\u8a08\u7684 Map\uff0c\u6548\u80fd\u6bd4 HashMap \u66f4\u597d</li> <li>\u5169\u8005\u90fd\u662f\u985e\u578b\u5b89\u5168\u7684\uff0c\u53ea\u80fd\u4f7f\u7528\u7279\u5b9a\u7684\u5217\u8209\u985e\u578b</li> </ul>"},{"location":"java/oop/05-class-design-enum/#_14","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>\u985e\u5225\u8a2d\u8a08\u539f\u5247: \u55ae\u4e00\u8077\u8cac\u3001\u9069\u7576\u5c01\u88dd\u3001\u6e05\u6670\u4ecb\u9762</li> <li>\u65b9\u6cd5\u591a\u8f09: \u540c\u540d\u65b9\u6cd5\u4e0d\u540c\u53c3\u6578\uff0c\u7de8\u8b6f\u671f\u6c7a\u5b9a\u547c\u53eb\u54ea\u500b\u7248\u672c</li> <li>\u57fa\u672c\u5217\u8209: \u8868\u793a\u56fa\u5b9a\u5e38\u6578\u96c6\u5408\uff0c\u6bd4\u6574\u6578\u5e38\u6578\u66f4\u5b89\u5168</li> <li>\u5217\u8209 + Switch: \u5929\u7136\u7684\u642d\u914d\uff0c\u7a0b\u5f0f\u78bc\u6e05\u6670\u6613\u61c2</li> <li>\u9032\u968e\u5217\u8209: \u53ef\u5305\u542b\u6b04\u4f4d\u3001\u65b9\u6cd5\u3001\u5efa\u69cb\u5b50\uff0c\u529f\u80fd\u5f37\u5927</li> <li>\u5217\u8209\u96c6\u5408: EnumSet \u548c EnumMap \u63d0\u4f9b\u9ad8\u6548\u7684\u96c6\u5408\u64cd\u4f5c</li> </ol> <p>\u6700\u4f73\u5be6\u8e10</p> <ul> <li>\u512a\u5148\u4f7f\u7528\u5217\u8209\u800c\u975e\u6574\u6578\u5e38\u6578</li> <li>\u5217\u8209\u540d\u7a31\u4f7f\u7528\u5168\u5927\u5beb\u52a0\u5e95\u7dda</li> <li>\u70ba\u8907\u96dc\u5217\u8209\u63d0\u4f9b\u6709\u610f\u7fa9\u7684\u65b9\u6cd5</li> <li>\u4f7f\u7528 EnumSet \u548c EnumMap \u8655\u7406\u5217\u8209\u96c6\u5408</li> <li>\u5728 switch \u4e2d\u7e3d\u662f\u5305\u542b default case</li> </ul>"},{"location":"java/oop/05-class-design-enum/#_15","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u57fa\u790e\u7df4\u7fd2</li> <li>\u8a2d\u8a08\u4e00\u500b <code>Season</code> \u5217\u8209\u8868\u793a\u56db\u5b63</li> <li>\u5efa\u7acb <code>Grade</code> \u5217\u8209\u8868\u793a\u6210\u7e3e\u7b49\u7b2c\uff08A\u3001B\u3001C\u3001D\u3001F\uff09</li> <li> <p>\u5be6\u4f5c <code>TrafficLight</code> \u5217\u8209\u63a7\u5236\u4ea4\u901a\u865f\u8a8c</p> </li> <li> <p>\u9032\u968e\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u5177\u6709\u6b04\u4f4d\u548c\u65b9\u6cd5\u7684 <code>Currency</code> \u5217\u8209</li> <li>\u5efa\u7acb\u72c0\u614b\u6a5f\u5217\u8209\u6a21\u64ec\u81ea\u52d5\u8ca9\u8ce3\u6a5f</li> <li> <p>\u5be6\u4f5c <code>HttpStatus</code> \u5217\u8209\u8868\u793a HTTP \u72c0\u614b\u78bc</p> </li> <li> <p>\u7d9c\u5408\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u5b8c\u6574\u7684\u8a02\u55ae\u7ba1\u7406\u7cfb\u7d71\uff0c\u5305\u542b\u591a\u7a2e\u72c0\u614b</li> <li>\u5efa\u7acb\u904a\u6232\u89d2\u8272\u7cfb\u7d71\uff0c\u4f7f\u7528\u5217\u8209\u8868\u793a\u8077\u696d\u548c\u6280\u80fd</li> <li>\u5be6\u4f5c\u6392\u7a0b\u7cfb\u7d71\uff0c\u4f7f\u7528\u5217\u8209\u7ba1\u7406\u4efb\u52d9\u512a\u5148\u7d1a\u548c\u72c0\u614b</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2\u7e7c\u627f\u8207\u8a18\u9304\uff08Records\uff09\uff0c\u63a2\u7d22\u7269\u4ef6\u5c0e\u5411\u7684\u6838\u5fc3\u7279\u6027\uff01</p>"},{"location":"java/oop/06-inheritance-records/","title":"\u5be6\u4f5c\u7e7c\u627f\u8207\u4f7f\u7528\u7d00\u9304","text":""},{"location":"java/oop/06-inheritance-records/#inheritance","title":"\u7e7c\u627f (Inheritance) \u6982\u5ff5","text":"<p>\u7e7c\u627f\u662f\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a2d\u8a08\u7684\u6838\u5fc3\u6982\u5ff5\u4e4b\u4e00\uff0c\u5141\u8a31\u65b0\u985e\u5225\u57fa\u65bc\u73fe\u6709\u985e\u5225\u4f86\u5b9a\u7fa9\uff0c\u7e7c\u627f\u5176\u5c6c\u6027\u548c\u65b9\u6cd5\uff0c\u540c\u6642\u53ef\u4ee5\u6dfb\u52a0\u65b0\u529f\u80fd\u6216\u4fee\u6539\u73fe\u6709\u884c\u70ba\u3002</p>"},{"location":"java/oop/06-inheritance-records/#_2","title":"\u7e7c\u627f\u7684\u57fa\u672c\u8a9e\u6cd5","text":"Java<pre><code>// \u7236\u985e\u5225\uff08\u57fa\u790e\u985e\u5225\u3001\u8d85\u985e\u5225\uff09\nclass Vehicle {\n    protected String brand;      // protected \u8b93\u5b50\u985e\u5225\u53ef\u4ee5\u5b58\u53d6\n    protected String model;\n    protected int year;\n    protected double price;\n\n    // \u5efa\u69cb\u5b50\n    public Vehicle(String brand, String model, int year, double price) {\n        this.brand = brand;\n        this.model = model;\n        this.year = year;\n        this.price = price;\n        System.out.println(\"\u5efa\u7acb\u4ea4\u901a\u5de5\u5177: \" + brand + \" \" + model);\n    }\n\n    // \u516c\u5171\u65b9\u6cd5\n    public void start() {\n        System.out.println(brand + \" \" + model + \" \u555f\u52d5\u4e86\");\n    }\n\n    public void stop() {\n        System.out.println(brand + \" \" + model + \" \u505c\u6b62\u4e86\");\n    }\n\n    public void displayInfo() {\n        System.out.println(\"=== \u4ea4\u901a\u5de5\u5177\u8cc7\u8a0a ===\");\n        System.out.println(\"\u54c1\u724c: \" + brand);\n        System.out.println(\"\u578b\u865f: \" + model);\n        System.out.println(\"\u5e74\u4efd: \" + year);\n        System.out.println(\"\u50f9\u683c: $\" + price);\n    }\n\n    // \u53ef\u4ee5\u88ab\u8986\u5beb\u7684\u65b9\u6cd5\n    public double calculateMaintenanceCost() {\n        return price * 0.05; // \u5047\u8a2d\u7dad\u4fee\u8cbb\u7528\u662f\u50f9\u683c\u7684 5%\n    }\n\n    // Getter \u65b9\u6cd5\n    public String getBrand() { return brand; }\n    public String getModel() { return model; }\n    public int getYear() { return year; }\n    public double getPrice() { return price; }\n}\n</code></pre>"},{"location":"java/oop/06-inheritance-records/#_3","title":"\u5b50\u985e\u5225\u5b9a\u7fa9","text":"Java<pre><code>// \u5b50\u985e\u5225\uff1a\u6c7d\u8eca\nclass Car extends Vehicle {\n    private int doors;           // \u8eca\u9580\u6578\n    private String fuelType;     // \u71c3\u6599\u985e\u578b\n    private double engineSize;   // \u5f15\u64ce\u5927\u5c0f\n\n    // \u5efa\u69cb\u5b50\n    public Car(String brand, String model, int year, double price, \n               int doors, String fuelType, double engineSize) {\n        super(brand, model, year, price);  // \u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50\n        this.doors = doors;\n        this.fuelType = fuelType;\n        this.engineSize = engineSize;\n        System.out.println(\"\u9019\u662f\u4e00\u8f1b\u6c7d\u8eca\uff0c\u6709 \" + doors + \" \u6247\u9580\");\n    }\n\n    // \u65b0\u589e\u7684\u65b9\u6cd5\n    public void honk() {\n        System.out.println(brand + \" \" + model + \" \u6309\u5587\u53ed: \u55f6\u55f6\uff01\");\n    }\n\n    public void openTrunk() {\n        System.out.println(\"\u6253\u958b \" + brand + \" \" + model + \" \u7684\u5f8c\u8eca\u5ec2\");\n    }\n\n    // \u8986\u5beb\u7236\u985e\u5225\u65b9\u6cd5\n    @Override\n    public void start() {\n        System.out.println(\"\u6c7d\u8eca\u555f\u52d5\u7a0b\u5e8f:\");\n        System.out.println(\"1. \u63d2\u5165\u9470\u5319\");\n        System.out.println(\"2. \u8e29\u715e\u8eca\");\n        System.out.println(\"3. \u555f\u52d5\u5f15\u64ce\");\n        super.start();  // \u547c\u53eb\u7236\u985e\u5225\u7684 start() \u65b9\u6cd5\n    }\n\n    @Override\n    public double calculateMaintenanceCost() {\n        double baseCost = super.calculateMaintenanceCost();\n        double carSpecificCost = engineSize * 100;  // \u5f15\u64ce\u8d8a\u5927\u7dad\u4fee\u8cbb\u8d8a\u9ad8\n        return baseCost + carSpecificCost;\n    }\n\n    @Override\n    public void displayInfo() {\n        super.displayInfo();  // \u5148\u986f\u793a\u7236\u985e\u5225\u8cc7\u8a0a\n        System.out.println(\"\u8eca\u9580\u6578: \" + doors);\n        System.out.println(\"\u71c3\u6599\u985e\u578b: \" + fuelType);\n        System.out.println(\"\u5f15\u64ce\u5927\u5c0f: \" + engineSize + \"L\");\n        System.out.println(\"\u7dad\u4fee\u8cbb\u7528: $\" + String.format(\"%.2f\", calculateMaintenanceCost()));\n    }\n\n    // Getter \u65b9\u6cd5\n    public int getDoors() { return doors; }\n    public String getFuelType() { return fuelType; }\n    public double getEngineSize() { return engineSize; }\n}\n\n// \u5b50\u985e\u5225\uff1a\u6a5f\u8eca\nclass Motorcycle extends Vehicle {\n    private boolean hasSidecar;  // \u662f\u5426\u6709\u5074\u8eca\n    private String type;         // \u6a5f\u8eca\u985e\u578b\n\n    public Motorcycle(String brand, String model, int year, double price,\n                     boolean hasSidecar, String type) {\n        super(brand, model, year, price);\n        this.hasSidecar = hasSidecar;\n        this.type = type;\n        System.out.println(\"\u9019\u662f\u4e00\u8f1b\" + type + \"\u6a5f\u8eca\" + \n                          (hasSidecar ? \"\uff0c\u6709\u5074\u8eca\" : \"\"));\n    }\n\n    public void wheelie() {\n        if (type.equals(\"\u91cd\u6a5f\")) {\n            System.out.println(brand + \" \" + model + \" \u7ff9\u5b64\u8f2a\uff01\");\n        } else {\n            System.out.println(\"\u8f15\u578b\u6a5f\u8eca\u4e0d\u9069\u5408\u7ff9\u5b64\u8f2a\");\n        }\n    }\n\n    @Override\n    public void start() {\n        System.out.println(\"\u6a5f\u8eca\u555f\u52d5\u7a0b\u5e8f:\");\n        System.out.println(\"1. \u63d2\u5165\u9470\u5319\");\n        System.out.println(\"2. \u8e29\u767c\u52d5\u8e0f\u677f\u6216\u6309\u555f\u52d5\u9215\");\n        super.start();\n    }\n\n    @Override\n    public double calculateMaintenanceCost() {\n        double baseCost = super.calculateMaintenanceCost();\n        double motorcycleDiscount = baseCost * 0.3; // \u6a5f\u8eca\u7dad\u4fee\u8cbb\u8f03\u4f4e\n        return baseCost - motorcycleDiscount;\n    }\n\n    @Override\n    public void displayInfo() {\n        super.displayInfo();\n        System.out.println(\"\u6a5f\u8eca\u985e\u578b: \" + type);\n        System.out.println(\"\u6709\u5074\u8eca: \" + (hasSidecar ? \"\u662f\" : \"\u5426\"));\n        System.out.println(\"\u7dad\u4fee\u8cbb\u7528: $\" + String.format(\"%.2f\", calculateMaintenanceCost()));\n    }\n\n    public boolean isHasSidecar() { return hasSidecar; }\n    public String getType() { return type; }\n}\n</code></pre>"},{"location":"java/oop/06-inheritance-records/#_4","title":"\u7e7c\u627f\u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>public class InheritanceDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u7e7c\u627f\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u4e0d\u540c\u985e\u578b\u7684\u4ea4\u901a\u5de5\u5177\n        Vehicle[] vehicles = {\n            new Vehicle(\"\u901a\u7528\", \"\u57fa\u672c\u8eca\", 2020, 15000),\n            new Car(\"Toyota\", \"Camry\", 2022, 30000, 4, \"\u6c7d\u6cb9\", 2.5),\n            new Car(\"Tesla\", \"Model 3\", 2023, 45000, 4, \"\u96fb\u52d5\", 0.0),\n            new Motorcycle(\"Harley\", \"Sportster\", 2021, 12000, false, \"\u91cd\u6a5f\"),\n            new Motorcycle(\"Honda\", \"Super Cub\", 2022, 3000, false, \"\u8f15\u6a5f\")\n        };\n\n        // \u6e2c\u8a66\u591a\u578b\u6027\uff1a\u7528\u76f8\u540c\u7684\u65b9\u5f0f\u8655\u7406\u4e0d\u540c\u985e\u578b\u7684\u7269\u4ef6\n        System.out.println(\"\\n=== \u555f\u52d5\u6240\u6709\u4ea4\u901a\u5de5\u5177 ===\");\n        for (Vehicle vehicle : vehicles) {\n            vehicle.start();  // \u6703\u547c\u53eb\u5404\u81ea\u8986\u5beb\u7684 start() \u65b9\u6cd5\n            System.out.println();\n        }\n\n        // \u6e2c\u8a66\u7279\u5b9a\u985e\u578b\u7684\u65b9\u6cd5\n        System.out.println(\"=== \u7279\u5b9a\u529f\u80fd\u6e2c\u8a66 ===\");\n        for (Vehicle vehicle : vehicles) {\n            if (vehicle instanceof Car) {\n                Car car = (Car) vehicle;\n                car.honk();\n                car.openTrunk();\n            } else if (vehicle instanceof Motorcycle) {\n                Motorcycle motorcycle = (Motorcycle) vehicle;\n                motorcycle.wheelie();\n            }\n        }\n\n        // \u986f\u793a\u6240\u6709\u4ea4\u901a\u5de5\u5177\u8cc7\u8a0a\n        System.out.println(\"\\n=== \u6240\u6709\u4ea4\u901a\u5de5\u5177\u8cc7\u8a0a ===\");\n        for (Vehicle vehicle : vehicles) {\n            vehicle.displayInfo();\n            System.out.println();\n        }\n\n        // \u8a08\u7b97\u7e3d\u7dad\u4fee\u8cbb\u7528\n        double totalMaintenanceCost = 0;\n        for (Vehicle vehicle : vehicles) {\n            totalMaintenanceCost += vehicle.calculateMaintenanceCost();\n        }\n        System.out.println(\"\u6240\u6709\u4ea4\u901a\u5de5\u5177\u7e3d\u7dad\u4fee\u8cbb\u7528: $\" + \n                          String.format(\"%.2f\", totalMaintenanceCost));\n    }\n}\n</code></pre> <p>\u7e7c\u627f\u91cd\u9ede</p> <ul> <li>\u4f7f\u7528 <code>extends</code> \u95dc\u9375\u5b57\u5efa\u7acb\u7e7c\u627f\u95dc\u4fc2</li> <li>\u5b50\u985e\u5225\u7e7c\u627f\u7236\u985e\u5225\u7684\u6240\u6709 public \u548c protected \u6210\u54e1</li> <li>\u5b50\u985e\u5225\u53ef\u4ee5\u6dfb\u52a0\u65b0\u7684\u6b04\u4f4d\u548c\u65b9\u6cd5</li> <li>\u5b50\u985e\u5225\u53ef\u4ee5\u8986\u5beb\u7236\u985e\u5225\u7684\u65b9\u6cd5</li> </ul>"},{"location":"java/oop/06-inheritance-records/#method-overriding","title":"\u65b9\u6cd5\u8986\u5beb (Method Overriding)","text":"<p>\u65b9\u6cd5\u8986\u5beb\u5141\u8a31\u5b50\u985e\u5225\u63d0\u4f9b\u7236\u985e\u5225\u65b9\u6cd5\u7684\u7279\u5b9a\u5be6\u4f5c\u3002</p>"},{"location":"java/oop/06-inheritance-records/#_5","title":"\u8986\u5beb\u898f\u5247\u548c\u7bc4\u4f8b","text":"Java<pre><code>// \u52d5\u7269\u57fa\u790e\u985e\u5225\nclass Animal {\n    protected String name;\n    protected int age;\n    protected double weight;\n\n    public Animal(String name, int age, double weight) {\n        this.name = name;\n        this.age = age;\n        this.weight = weight;\n    }\n\n    // \u53ef\u4ee5\u88ab\u8986\u5beb\u7684\u65b9\u6cd5\n    public void makeSound() {\n        System.out.println(name + \" \u767c\u51fa\u8072\u97f3\");\n    }\n\n    public void eat() {\n        System.out.println(name + \" \u6b63\u5728\u5403\u6771\u897f\");\n    }\n\n    public void sleep() {\n        System.out.println(name + \" \u6b63\u5728\u7761\u89ba\");\n    }\n\n    // \u8a08\u7b97\u98df\u7269\u9700\u6c42\u91cf\n    public double calculateFoodNeed() {\n        return weight * 0.03; // \u9ad4\u91cd\u7684 3%\n    }\n\n    // final \u65b9\u6cd5\u4e0d\u80fd\u88ab\u8986\u5beb\n    public final void breathe() {\n        System.out.println(name + \" \u6b63\u5728\u547c\u5438\");\n    }\n\n    public void displayInfo() {\n        System.out.println(\"\u52d5\u7269\u8cc7\u8a0a:\");\n        System.out.println(\"\u540d\u5b57: \" + name);\n        System.out.println(\"\u5e74\u9f61: \" + age + \" \u6b72\");\n        System.out.println(\"\u9ad4\u91cd: \" + weight + \" \u516c\u65a4\");\n    }\n}\n\n// \u72d7\u985e\u5225\nclass Dog extends Animal {\n    private String breed; // \u54c1\u7a2e\n\n    public Dog(String name, int age, double weight, String breed) {\n        super(name, age, weight);\n        this.breed = breed;\n    }\n\n    // \u8986\u5beb makeSound \u65b9\u6cd5\n    @Override\n    public void makeSound() {\n        System.out.println(name + \" (\u72d7) \u6c6a\u6c6a\u53eb\");\n    }\n\n    // \u8986\u5beb eat \u65b9\u6cd5\n    @Override\n    public void eat() {\n        System.out.println(name + \" \u6b63\u5728\u5403\u72d7\u7ce7\uff0c\u5c3e\u5df4\u6416\u500b\u4e0d\u505c\");\n    }\n\n    // \u8986\u5beb calculateFoodNeed \u65b9\u6cd5\n    @Override\n    public double calculateFoodNeed() {\n        double baseFoodNeed = super.calculateFoodNeed();\n        // \u72d7\u9700\u8981\u66f4\u591a\u98df\u7269\uff0c\u56e0\u70ba\u6d3b\u52d5\u91cf\u5927\n        return baseFoodNeed * 1.5;\n    }\n\n    // \u65b0\u589e\u7684\u65b9\u6cd5\n    public void fetch() {\n        System.out.println(name + \" \u6b63\u5728\u64bf\u7403\");\n    }\n\n    public void wagTail() {\n        System.out.println(name + \" \u958b\u5fc3\u5730\u6416\u5c3e\u5df4\");\n    }\n\n    @Override\n    public void displayInfo() {\n        super.displayInfo(); // \u547c\u53eb\u7236\u985e\u5225\u65b9\u6cd5\n        System.out.println(\"\u54c1\u7a2e: \" + breed);\n        System.out.println(\"\u6bcf\u65e5\u98df\u7269\u9700\u6c42: \" + \n                          String.format(\"%.2f\", calculateFoodNeed()) + \" \u516c\u65a4\");\n    }\n}\n\n// \u8c93\u985e\u5225\nclass Cat extends Animal {\n    private boolean isIndoor; // \u662f\u5426\u70ba\u5ba4\u5167\u8c93\n\n    public Cat(String name, int age, double weight, boolean isIndoor) {\n        super(name, age, weight);\n        this.isIndoor = isIndoor;\n    }\n\n    @Override\n    public void makeSound() {\n        System.out.println(name + \" (\u8c93) \u55b5\u55b5\u53eb\");\n    }\n\n    @Override\n    public void eat() {\n        System.out.println(name + \" \u512a\u96c5\u5730\u5403\u8c93\u7ce7\");\n    }\n\n    @Override\n    public void sleep() {\n        System.out.println(name + \" \u8737\u7e2e\u6210\u4e00\u7403\u7761\u89ba\uff08\u8c93\u4e00\u5929\u7761 16 \u5c0f\u6642\uff09\");\n    }\n\n    @Override\n    public double calculateFoodNeed() {\n        double baseFoodNeed = super.calculateFoodNeed();\n        // \u5ba4\u5167\u8c93\u6d3b\u52d5\u91cf\u5c11\uff0c\u9700\u8981\u8f03\u5c11\u98df\u7269\n        if (isIndoor) {\n            return baseFoodNeed * 0.8;\n        }\n        return baseFoodNeed;\n    }\n\n    // \u65b0\u589e\u7684\u65b9\u6cd5\n    public void purr() {\n        System.out.println(name + \" \u6eff\u8db3\u5730\u767c\u51fa\u547c\u5695\u8072\");\n    }\n\n    public void scratch() {\n        if (isIndoor) {\n            System.out.println(name + \" \u5728\u8c93\u6293\u677f\u4e0a\u78e8\u722a\u5b50\");\n        } else {\n            System.out.println(name + \" \u5728\u6a39\u4e0a\u78e8\u722a\u5b50\");\n        }\n    }\n\n    @Override\n    public void displayInfo() {\n        super.displayInfo();\n        System.out.println(\"\u5c45\u4f4f\u74b0\u5883: \" + (isIndoor ? \"\u5ba4\u5167\" : \"\u5ba4\u5916\"));\n        System.out.println(\"\u6bcf\u65e5\u98df\u7269\u9700\u6c42: \" + \n                          String.format(\"%.2f\", calculateFoodNeed()) + \" \u516c\u65a4\");\n    }\n}\n\n// \u9ce5\u985e\u5225\nclass Bird extends Animal {\n    private boolean canFly; // \u662f\u5426\u6703\u98db\n    private double wingSpan; // \u7fc5\u8180\u5f35\u958b\u9577\u5ea6\n\n    public Bird(String name, int age, double weight, boolean canFly, double wingSpan) {\n        super(name, age, weight);\n        this.canFly = canFly;\n        this.wingSpan = wingSpan;\n    }\n\n    @Override\n    public void makeSound() {\n        System.out.println(name + \" (\u9ce5) \u5541\u557e\u8072\");\n    }\n\n    @Override\n    public void eat() {\n        System.out.println(name + \" \u7528\u9ce5\u5634\u5544\u98df\u7a2e\u5b50\u548c\u87f2\u5b50\");\n    }\n\n    @Override\n    public double calculateFoodNeed() {\n        // \u9ce5\u985e\u65b0\u9673\u4ee3\u8b1d\u5feb\uff0c\u9700\u8981\u66f4\u591a\u98df\u7269\n        return super.calculateFoodNeed() * 2.0;\n    }\n\n    // \u65b0\u589e\u7684\u65b9\u6cd5\n    public void fly() {\n        if (canFly) {\n            System.out.println(name + \" \u5f35\u958b \" + wingSpan + \" \u516c\u5206\u7684\u7fc5\u8180\u98db\u7fd4\");\n        } else {\n            System.out.println(name + \" \u662f\u4e0d\u6703\u98db\u7684\u9ce5\");\n        }\n    }\n\n    @Override\n    public void displayInfo() {\n        super.displayInfo();\n        System.out.println(\"\u6703\u98db: \" + (canFly ? \"\u662f\" : \"\u5426\"));\n        System.out.println(\"\u7fc5\u8180\u5f35\u958b\u9577\u5ea6: \" + wingSpan + \" \u516c\u5206\");\n        System.out.println(\"\u6bcf\u65e5\u98df\u7269\u9700\u6c42: \" + \n                          String.format(\"%.2f\", calculateFoodNeed()) + \" \u516c\u65a4\");\n    }\n}\n</code></pre>"},{"location":"java/oop/06-inheritance-records/#_6","title":"\u8986\u5beb\u6e2c\u8a66\u7bc4\u4f8b","text":"Java<pre><code>public class OverridingDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u65b9\u6cd5\u8986\u5beb\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u4e0d\u540c\u52d5\u7269\n        Animal[] animals = {\n            new Dog(\"\u5c0f\u767d\", 3, 25.0, \"\u62c9\u5e03\u62c9\u591a\"),\n            new Cat(\"\u5c0f\u54aa\", 2, 4.5, true),\n            new Bird(\"\u5c0f\u9ec3\", 1, 0.5, true, 20.0),\n            new Animal(\"\u901a\u7528\u52d5\u7269\", 5, 10.0) // \u57fa\u790e\u52d5\u7269\u985e\u5225\n        };\n\n        // \u6e2c\u8a66\u591a\u578b\u6027\uff1a\u76f8\u540c\u7684\u65b9\u6cd5\u547c\u53eb\uff0c\u4e0d\u540c\u7684\u884c\u70ba\n        System.out.println(\"=== \u591a\u578b\u6027\u6e2c\u8a66\uff1a\u52d5\u7269\u53eb\u8072 ===\");\n        for (Animal animal : animals) {\n            animal.makeSound(); // \u6bcf\u500b\u52d5\u7269\u90fd\u6709\u4e0d\u540c\u7684\u53eb\u8072\n        }\n\n        System.out.println(\"\\n=== \u591a\u578b\u6027\u6e2c\u8a66\uff1a\u9032\u98df\u884c\u70ba ===\");\n        for (Animal animal : animals) {\n            animal.eat(); // \u6bcf\u500b\u52d5\u7269\u90fd\u6709\u4e0d\u540c\u7684\u9032\u98df\u65b9\u5f0f\n        }\n\n        System.out.println(\"\\n=== \u7761\u7720\u884c\u70ba\u6e2c\u8a66 ===\");\n        for (Animal animal : animals) {\n            animal.sleep(); // \u6709\u4e9b\u52d5\u7269\u8986\u5beb\u4e86\u7761\u7720\u65b9\u6cd5\n        }\n\n        // \u6e2c\u8a66 final \u65b9\u6cd5\uff08\u6240\u6709\u52d5\u7269\u90fd\u4e00\u6a23\uff09\n        System.out.println(\"\\n=== Final \u65b9\u6cd5\u6e2c\u8a66\uff1a\u547c\u5438 ===\");\n        for (Animal animal : animals) {\n            animal.breathe(); // final \u65b9\u6cd5\u4e0d\u80fd\u88ab\u8986\u5beb\n        }\n\n        // \u8a08\u7b97\u98df\u7269\u9700\u6c42\n        System.out.println(\"\\n=== \u98df\u7269\u9700\u6c42\u8a08\u7b97 ===\");\n        double totalFoodNeed = 0;\n        for (Animal animal : animals) {\n            double foodNeed = animal.calculateFoodNeed();\n            totalFoodNeed += foodNeed;\n            System.out.printf(\"%s \u7684\u98df\u7269\u9700\u6c42: %.2f \u516c\u65a4%n\", \n                            animal.name, foodNeed);\n        }\n        System.out.printf(\"\u7e3d\u98df\u7269\u9700\u6c42: %.2f \u516c\u65a4%n\", totalFoodNeed);\n\n        // \u6e2c\u8a66\u7279\u5b9a\u52d5\u7269\u7684\u7279\u6b8a\u884c\u70ba\n        System.out.println(\"\\n=== \u7279\u6b8a\u884c\u70ba\u6e2c\u8a66 ===\");\n        for (Animal animal : animals) {\n            if (animal instanceof Dog) {\n                Dog dog = (Dog) animal;\n                dog.fetch();\n                dog.wagTail();\n            } else if (animal instanceof Cat) {\n                Cat cat = (Cat) animal;\n                cat.purr();\n                cat.scratch();\n            } else if (animal instanceof Bird) {\n                Bird bird = (Bird) animal;\n                bird.fly();\n            }\n        }\n\n        // \u986f\u793a\u6240\u6709\u52d5\u7269\u8a73\u7d30\u8cc7\u8a0a\n        System.out.println(\"\\n=== \u6240\u6709\u52d5\u7269\u8cc7\u8a0a ===\");\n        for (Animal animal : animals) {\n            animal.displayInfo();\n            System.out.println();\n        }\n    }\n}\n</code></pre> <p>\u8986\u5beb\u6ce8\u610f\u4e8b\u9805</p> <ul> <li>\u5fc5\u9808\u4f7f\u7528 <code>@Override</code> \u8a3b\u89e3\uff08\u7de8\u8b6f\u5668\u6703\u6aa2\u67e5\uff09</li> <li>\u8986\u5beb\u65b9\u6cd5\u7684\u5b58\u53d6\u6b0a\u9650\u4e0d\u80fd\u6bd4\u7236\u985e\u5225\u66f4\u56b4\u683c</li> <li>\u8986\u5beb\u65b9\u6cd5\u7684\u56de\u50b3\u578b\u614b\u5fc5\u9808\u76f8\u540c\u6216\u70ba\u5b50\u578b\u614b</li> <li><code>final</code> \u65b9\u6cd5\u4e0d\u80fd\u88ab\u8986\u5beb</li> </ul>"},{"location":"java/oop/06-inheritance-records/#super","title":"super \u95dc\u9375\u5b57","text":"<p><code>super</code> \u95dc\u9375\u5b57\u7528\u65bc\u5b58\u53d6\u7236\u985e\u5225\u7684\u6210\u54e1\uff0c\u7279\u5225\u662f\u5728\u8986\u5beb\u65b9\u6cd5\u6642\u4ecd\u60f3\u4f7f\u7528\u7236\u985e\u5225\u7684\u5be6\u4f5c\u3002</p>"},{"location":"java/oop/06-inheritance-records/#super_1","title":"super \u7684\u7528\u9014\u7bc4\u4f8b","text":"Java<pre><code>// \u54e1\u5de5\u57fa\u790e\u985e\u5225\nclass Employee {\n    protected String name;\n    protected String id;\n    protected double baseSalary;\n    protected String department;\n\n    public Employee(String name, String id, double baseSalary, String department) {\n        this.name = name;\n        this.id = id;\n        this.baseSalary = baseSalary;\n        this.department = department;\n        System.out.println(\"\u5efa\u7acb\u54e1\u5de5\u8a18\u9304: \" + name);\n    }\n\n    public double calculateSalary() {\n        return baseSalary;\n    }\n\n    public void work() {\n        System.out.println(name + \" \u6b63\u5728\u5de5\u4f5c\");\n    }\n\n    public void displayInfo() {\n        System.out.println(\"=== \u54e1\u5de5\u8cc7\u8a0a ===\");\n        System.out.println(\"\u59d3\u540d: \" + name);\n        System.out.println(\"\u54e1\u5de5\u7de8\u865f: \" + id);\n        System.out.println(\"\u90e8\u9580: \" + department);\n        System.out.println(\"\u57fa\u672c\u85aa\u6c34: $\" + String.format(\"%.2f\", baseSalary));\n    }\n\n    // Getter \u65b9\u6cd5\n    public String getName() { return name; }\n    public String getId() { return id; }\n    public double getBaseSalary() { return baseSalary; }\n    public String getDepartment() { return department; }\n}\n\n// \u7ba1\u7406\u54e1\u985e\u5225\nclass Manager extends Employee {\n    private double bonus;           // \u7e3e\u6548\u734e\u91d1\n    private int teamSize;          // \u5718\u968a\u4eba\u6578\n    private String managementLevel; // \u7ba1\u7406\u5c64\u7d1a\n\n    public Manager(String name, String id, double baseSalary, String department,\n                   double bonus, int teamSize, String managementLevel) {\n        // \u4f7f\u7528 super() \u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50\n        super(name, id, baseSalary, department);\n        this.bonus = bonus;\n        this.teamSize = teamSize;\n        this.managementLevel = managementLevel;\n        System.out.println(name + \" \u662f \" + managementLevel + \" \u4e3b\u7ba1\uff0c\u7ba1\u7406 \" + teamSize + \" \u4eba\");\n    }\n\n    @Override\n    public double calculateSalary() {\n        // \u4f7f\u7528 super.method() \u547c\u53eb\u7236\u985e\u5225\u65b9\u6cd5\n        double basePay = super.calculateSalary();\n        double managementAllowance = teamSize * 500; // \u6bcf\u500b\u4e0b\u5c6c $500 \u7ba1\u7406\u8cbb\n        return basePay + bonus + managementAllowance;\n    }\n\n    @Override\n    public void work() {\n        // \u5148\u57f7\u884c\u7236\u985e\u5225\u7684\u5de5\u4f5c\n        super.work();\n        // \u518d\u57f7\u884c\u7ba1\u7406\u76f8\u95dc\u5de5\u4f5c\n        System.out.println(name + \" \u6b63\u5728\u7ba1\u7406\u5718\u968a\u548c\u5236\u5b9a\u7b56\u7565\");\n        conductMeeting();\n    }\n\n    private void conductMeeting() {\n        System.out.println(name + \" \u6b63\u5728\u4e3b\u6301\u6703\u8b70\");\n    }\n\n    public void reviewPerformance() {\n        System.out.println(name + \" \u6b63\u5728\u8a55\u4f30\u4e0b\u5c6c\u7684\u7e3e\u6548\");\n    }\n\n    @Override\n    public void displayInfo() {\n        // \u4f7f\u7528 super.method() \u986f\u793a\u57fa\u672c\u8cc7\u8a0a\n        super.displayInfo();\n        // \u6dfb\u52a0\u7ba1\u7406\u8005\u7279\u6709\u8cc7\u8a0a\n        System.out.println(\"\u7ba1\u7406\u5c64\u7d1a: \" + managementLevel);\n        System.out.println(\"\u5718\u968a\u4eba\u6578: \" + teamSize);\n        System.out.println(\"\u7e3e\u6548\u734e\u91d1: $\" + String.format(\"%.2f\", bonus));\n        System.out.println(\"\u7e3d\u85aa\u6c34: $\" + String.format(\"%.2f\", calculateSalary()));\n    }\n}\n\n// \u958b\u767c\u4eba\u54e1\u985e\u5225\nclass Developer extends Employee {\n    private String[] programmingLanguages; // \u7a0b\u5f0f\u8a9e\u8a00\n    private int yearsOfExperience;          // \u5de5\u4f5c\u7d93\u9a57\n    private String specialization;          // \u5c08\u9577\u9818\u57df\n\n    public Developer(String name, String id, double baseSalary, String department,\n                    String[] programmingLanguages, int yearsOfExperience, String specialization) {\n        super(name, id, baseSalary, department);\n        this.programmingLanguages = programmingLanguages;\n        this.yearsOfExperience = yearsOfExperience;\n        this.specialization = specialization;\n        System.out.println(name + \" \u662f \" + specialization + \" \u958b\u767c\u4eba\u54e1\");\n    }\n\n    @Override\n    public double calculateSalary() {\n        double basePay = super.calculateSalary();\n\n        // \u6839\u64da\u7d93\u9a57\u5e74\u6578\u7d66\u4e88\u52a0\u85aa\n        double experienceBonus = yearsOfExperience * 2000;\n\n        // \u6839\u64da\u6703\u7684\u7a0b\u5f0f\u8a9e\u8a00\u6578\u91cf\u7d66\u4e88\u6280\u80fd\u734e\u91d1\n        double skillBonus = programmingLanguages.length * 1000;\n\n        return basePay + experienceBonus + skillBonus;\n    }\n\n    @Override\n    public void work() {\n        super.work(); // \u57f7\u884c\u57fa\u672c\u5de5\u4f5c\n        System.out.println(name + \" \u6b63\u5728\u7528 \" + getMainLanguage() + \" \u958b\u767c\u7a0b\u5f0f\");\n        if (yearsOfExperience &gt;= 5) {\n            System.out.println(name + \" \u6b63\u5728\u6307\u5c0e\u521d\u7d1a\u958b\u767c\u4eba\u54e1\");\n        }\n    }\n\n    private String getMainLanguage() {\n        return programmingLanguages.length &gt; 0 ? programmingLanguages[0] : \"\u672a\u77e5\u8a9e\u8a00\";\n    }\n\n    public void writeCode() {\n        System.out.println(name + \" \u6b63\u5728\u64b0\u5beb \" + specialization + \" \u76f8\u95dc\u7a0b\u5f0f\u78bc\");\n    }\n\n    public void debugCode() {\n        System.out.println(name + \" \u6b63\u5728\u9664\u932f\u7a0b\u5f0f\");\n    }\n\n    @Override\n    public void displayInfo() {\n        super.displayInfo();\n        System.out.println(\"\u5c08\u9577: \" + specialization);\n        System.out.println(\"\u5de5\u4f5c\u7d93\u9a57: \" + yearsOfExperience + \" \u5e74\");\n        System.out.print(\"\u7a0b\u5f0f\u8a9e\u8a00: \");\n        for (int i = 0; i &lt; programmingLanguages.length; i++) {\n            System.out.print(programmingLanguages[i]);\n            if (i &lt; programmingLanguages.length - 1) {\n                System.out.print(\", \");\n            }\n        }\n        System.out.println();\n        System.out.println(\"\u7e3d\u85aa\u6c34: $\" + String.format(\"%.2f\", calculateSalary()));\n    }\n}\n</code></pre>"},{"location":"java/oop/06-inheritance-records/#super_2","title":"super \u4f7f\u7528\u793a\u7bc4","text":"Java<pre><code>public class SuperDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== super \u95dc\u9375\u5b57\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u4e0d\u540c\u985e\u578b\u7684\u54e1\u5de5\n        Employee[] employees = {\n            new Employee(\"\u5f35\u57fa\u672c\", \"EMP001\", 40000, \"\u884c\u653f\u90e8\"),\n            new Manager(\"\u674e\u4e3b\u7ba1\", \"MGR001\", 60000, \"IT\u90e8\", 15000, 5, \"\u4e2d\u968e\u4e3b\u7ba1\"),\n            new Developer(\"\u738b\u5de5\u7a0b\u5e2b\", \"DEV001\", 55000, \"IT\u90e8\", \n                         new String[]{\"Java\", \"Python\", \"JavaScript\"}, 3, \"\u5f8c\u7aef\u958b\u767c\"),\n            new Developer(\"\u9673\u8cc7\u6df1\", \"DEV002\", 50000, \"IT\u90e8\",\n                         new String[]{\"Java\", \"Spring\", \"React\", \"Docker\"}, 7, \"\u5168\u7aef\u958b\u767c\")\n        };\n\n        System.out.println(\"\\n=== \u85aa\u6c34\u8a08\u7b97 ===\");\n        double totalSalaryCost = 0;\n        for (Employee emp : employees) {\n            double salary = emp.calculateSalary();\n            totalSalaryCost += salary;\n            System.out.printf(\"%s \u7684\u85aa\u6c34: $%.2f%n\", emp.getName(), salary);\n        }\n        System.out.printf(\"\u516c\u53f8\u7e3d\u85aa\u6c34\u652f\u51fa: $%.2f%n\", totalSalaryCost);\n\n        System.out.println(\"\\n=== \u5de5\u4f5c\u72c0\u6cc1 ===\");\n        for (Employee emp : employees) {\n            emp.work(); // \u6bcf\u500b\u54e1\u5de5\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0d\u540c\n            System.out.println();\n        }\n\n        // \u6e2c\u8a66\u7279\u6b8a\u529f\u80fd\n        System.out.println(\"=== \u7279\u6b8a\u529f\u80fd\u6e2c\u8a66 ===\");\n        for (Employee emp : employees) {\n            if (emp instanceof Manager) {\n                Manager manager = (Manager) emp;\n                manager.reviewPerformance();\n            } else if (emp instanceof Developer) {\n                Developer dev = (Developer) emp;\n                dev.writeCode();\n                dev.debugCode();\n            }\n        }\n\n        // \u986f\u793a\u8a73\u7d30\u8cc7\u8a0a\n        System.out.println(\"\\n=== \u54e1\u5de5\u8a73\u7d30\u8cc7\u8a0a ===\");\n        for (Employee emp : employees) {\n            emp.displayInfo();\n            System.out.println();\n        }\n\n        // \u793a\u7bc4 super \u5728\u5efa\u69cb\u5b50\u4e2d\u7684\u4f7f\u7528\n        System.out.println(\"=== \u5efa\u69cb\u5b50\u93c8\u63a5\u793a\u7bc4 ===\");\n        Developer seniorDev = new Developer(\"\u6797\u9ad8\u624b\", \"DEV003\", 70000, \"IT\u90e8\",\n                                          new String[]{\"Java\", \"Kotlin\", \"Go\", \"Rust\"}, \n                                          10, \"\u67b6\u69cb\u5e2b\");\n    }\n}\n</code></pre> <p>super \u4f7f\u7528\u8981\u9ede</p> <ul> <li><code>super()</code> \u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50\uff0c\u5fc5\u9808\u662f\u5b50\u985e\u5225\u5efa\u69cb\u5b50\u7684\u7b2c\u4e00\u884c</li> <li><code>super.method()</code> \u547c\u53eb\u7236\u985e\u5225\u7684\u65b9\u6cd5</li> <li><code>super.field</code> \u5b58\u53d6\u7236\u985e\u5225\u7684\u6b04\u4f4d\uff08\u5982\u679c protected \u6216 public\uff09</li> <li>\u5728\u975c\u614b\u65b9\u6cd5\u4e2d\u4e0d\u80fd\u4f7f\u7528 <code>super</code></li> </ul>"},{"location":"java/oop/06-inheritance-records/#final","title":"final \u95dc\u9375\u5b57","text":"<p><code>final</code> \u95dc\u9375\u5b57\u53ef\u4ee5\u7528\u65bc\u985e\u5225\u3001\u65b9\u6cd5\u548c\u8b8a\u6578\uff0c\u8868\u793a\u300c\u6700\u7d42\u300d\u3001\u300c\u4e0d\u53ef\u6539\u8b8a\u300d\u7684\u610f\u601d\u3002</p>"},{"location":"java/oop/06-inheritance-records/#final_1","title":"final \u7684\u7528\u6cd5","text":"Java<pre><code>// final \u985e\u5225\uff1a\u4e0d\u80fd\u88ab\u7e7c\u627f\nfinal class MathUtils {\n    // final \u975c\u614b\u5e38\u6578\n    public static final double PI = 3.141592653589793;\n    public static final double E = 2.718281828459045;\n\n    // final \u65b9\u6cd5\uff1a\u4e0d\u80fd\u88ab\u8986\u5beb\n    public final double circleArea(double radius) {\n        return PI * radius * radius;\n    }\n\n    public final double circleCircumference(double radius) {\n        return 2 * PI * radius;\n    }\n}\n\n// \u4e00\u822c\u985e\u5225\u793a\u7bc4 final \u7684\u5404\u7a2e\u7528\u6cd5\nclass FinalDemo {\n    // final \u5be6\u4f8b\u8b8a\u6578\uff1a\u5fc5\u9808\u5728\u5ba3\u544a\u6642\u6216\u5efa\u69cb\u5b50\u4e2d\u521d\u59cb\u5316\n    private final String id;\n    private final long creationTime;\n\n    // final \u975c\u614b\u8b8a\u6578\uff1a\u985e\u5225\u5e38\u6578\n    public static final int MAX_CONNECTIONS = 100;\n    public static final String VERSION = \"1.0.0\";\n\n    private String name;\n    private int value;\n\n    // \u5efa\u69cb\u5b50\n    public FinalDemo(String id, String name) {\n        this.id = id;                    // final \u8b8a\u6578\u521d\u59cb\u5316\n        this.creationTime = System.currentTimeMillis(); // final \u8b8a\u6578\u521d\u59cb\u5316\n        this.name = name;\n        this.value = 0;\n    }\n\n    // final \u65b9\u6cd5\uff1a\u4e0d\u80fd\u88ab\u5b50\u985e\u5225\u8986\u5beb\n    public final String getId() {\n        return id;\n    }\n\n    public final long getCreationTime() {\n        return creationTime;\n    }\n\n    // \u4e00\u822c\u65b9\u6cd5\uff1a\u53ef\u4ee5\u88ab\u8986\u5beb\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    // \u65b9\u6cd5\u4e2d\u7684 final \u8b8a\u6578\n    public void processData(final int input) {\n        // input = 10; // \u7de8\u8b6f\u932f\u8aa4\uff1afinal \u53c3\u6578\u4e0d\u80fd\u4fee\u6539\n\n        final int multiplier = 2;\n        // multiplier = 3; // \u7de8\u8b6f\u932f\u8aa4\uff1afinal \u5340\u57df\u8b8a\u6578\u4e0d\u80fd\u4fee\u6539\n\n        int result = input * multiplier;\n        this.value = result; // \u5be6\u4f8b\u8b8a\u6578\u53ef\u4ee5\u4fee\u6539\n    }\n\n    // final \u8207\u96c6\u5408\n    public void demonstrateFinalCollections() {\n        final java.util.List&lt;String&gt; finalList = new java.util.ArrayList&lt;&gt;();\n\n        // \u53ef\u4ee5\u4fee\u6539\u96c6\u5408\u5167\u5bb9\n        finalList.add(\"item1\");\n        finalList.add(\"item2\");\n        finalList.remove(0);\n\n        // \u4f46\u4e0d\u80fd\u91cd\u65b0\u6307\u6d3e\n        // finalList = new ArrayList&lt;&gt;(); // \u7de8\u8b6f\u932f\u8aa4\n\n        System.out.println(\"Final list: \" + finalList);\n    }\n}\n\n// \u5617\u8a66\u7e7c\u627f final \u985e\u5225\u6703\u7de8\u8b6f\u932f\u8aa4\n// class ExtendedMathUtils extends MathUtils { } // \u7de8\u8b6f\u932f\u8aa4\n\n// \u7e7c\u627f\u4e00\u822c\u985e\u5225\uff0c\u6e2c\u8a66 final \u65b9\u6cd5\nclass ExtendedFinalDemo extends FinalDemo {\n    public ExtendedFinalDemo(String id, String name) {\n        super(id, name);\n    }\n\n    // \u53ef\u4ee5\u8986\u5beb\u4e00\u822c\u65b9\u6cd5\n    @Override\n    public void setName(String name) {\n        super.setName(name.toUpperCase()); // \u540d\u5b57\u8f49\u5927\u5beb\n    }\n\n    // \u4e0d\u80fd\u8986\u5beb final \u65b9\u6cd5\n    // public String getId() { return \"new_\" + super.getId(); } // \u7de8\u8b6f\u932f\u8aa4\n}\n</code></pre>"},{"location":"java/oop/06-inheritance-records/#final_2","title":"final \u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>public class FinalExampleDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== final \u95dc\u9375\u5b57\u793a\u7bc4 ===\");\n\n        // \u4f7f\u7528 final \u985e\u5225\n        System.out.println(\"\u5713\u5468\u7387: \" + MathUtils.PI);\n        System.out.println(\"\u81ea\u7136\u5c0d\u6578 e: \" + MathUtils.E);\n\n        double radius = 5.0;\n        MathUtils mathUtils = new MathUtils();\n        System.out.printf(\"\u534a\u5f91 %.1f \u7684\u5713\u9762\u7a4d: %.2f%n\", \n                         radius, mathUtils.circleArea(radius));\n        System.out.printf(\"\u534a\u5f91 %.1f \u7684\u5713\u5468\u9577: %.2f%n\", \n                         radius, mathUtils.circleCircumference(radius));\n\n        // \u4f7f\u7528\u542b\u6709 final \u6210\u54e1\u7684\u985e\u5225\n        System.out.println(\"\\n=== Final \u8b8a\u6578\u793a\u7bc4 ===\");\n        FinalDemo demo = new FinalDemo(\"ID_001\", \"\u6e2c\u8a66\u7269\u4ef6\");\n\n        System.out.println(\"ID: \" + demo.getId()); // final \u65b9\u6cd5\n        System.out.println(\"\u5efa\u7acb\u6642\u9593: \" + demo.getCreationTime());\n        System.out.println(\"\u540d\u7a31: \" + demo.getName());\n\n        // \u4fee\u6539\u4e00\u822c\u8b8a\u6578\n        demo.setName(\"\u65b0\u540d\u7a31\");\n        System.out.println(\"\u4fee\u6539\u5f8c\u540d\u7a31: \" + demo.getName());\n\n        // final \u8b8a\u6578\u4e0d\u80fd\u4fee\u6539\n        // demo.id = \"new_id\"; // \u7de8\u8b6f\u932f\u8aa4\uff0c\u5047\u8a2d\u6709 public \u5b58\u53d6\u6b0a\n\n        // \u8655\u7406\u8cc7\u6599\n        demo.processData(10);\n\n        // \u793a\u7bc4 final \u96c6\u5408\n        demo.demonstrateFinalCollections();\n\n        // \u4f7f\u7528\u5b50\u985e\u5225\n        System.out.println(\"\\n=== \u5b50\u985e\u5225\u793a\u7bc4 ===\");\n        ExtendedFinalDemo extended = new ExtendedFinalDemo(\"ID_002\", \"extended object\");\n        System.out.println(\"\u5b50\u985e\u5225 ID: \" + extended.getId());\n        System.out.println(\"\u539f\u59cb\u540d\u7a31: \" + extended.getName());\n\n        extended.setName(\"lowercase name\");\n        System.out.println(\"\u4fee\u6539\u5f8c\u540d\u7a31: \" + extended.getName()); // \u6703\u8f49\u70ba\u5927\u5beb\n\n        // \u975c\u614b\u5e38\u6578\n        System.out.println(\"\\n=== \u975c\u614b\u5e38\u6578 ===\");\n        System.out.println(\"\u6700\u5927\u9023\u7dda\u6578: \" + FinalDemo.MAX_CONNECTIONS);\n        System.out.println(\"\u7248\u672c: \" + FinalDemo.VERSION);\n\n        // final \u5340\u57df\u8b8a\u6578\u793a\u7bc4\n        final String message = \"\u9019\u662f final \u8b8a\u6578\";\n        System.out.println(message);\n        // message = \"\u4e0d\u80fd\u4fee\u6539\"; // \u7de8\u8b6f\u932f\u8aa4\n\n        // final \u8207\u7269\u4ef6\u53c3\u8003\n        final StringBuilder sb = new StringBuilder(\"Hello\");\n        sb.append(\" World\");  // \u53ef\u4ee5\u4fee\u6539\u7269\u4ef6\u5167\u5bb9\n        System.out.println(\"StringBuilder \u5167\u5bb9: \" + sb);\n        // sb = new StringBuilder(); // \u7de8\u8b6f\u932f\u8aa4\uff1a\u4e0d\u80fd\u91cd\u65b0\u6307\u6d3e\n    }\n}\n</code></pre> <p>final \u91cd\u8981\u6982\u5ff5</p> <ul> <li>final \u985e\u5225: \u4e0d\u80fd\u88ab\u7e7c\u627f\uff08\u5982 String\u3001Integer\uff09</li> <li>final \u65b9\u6cd5: \u4e0d\u80fd\u88ab\u8986\u5beb</li> <li>final \u8b8a\u6578: \u4e0d\u80fd\u91cd\u65b0\u6307\u6d3e\uff0c\u4f46\u7269\u4ef6\u5167\u5bb9\u53ef\u4ee5\u4fee\u6539</li> <li>final \u53c3\u6578: \u65b9\u6cd5\u53c3\u6578\u5728\u65b9\u6cd5\u5167\u4e0d\u80fd\u4fee\u6539</li> </ul>"},{"location":"java/oop/06-inheritance-records/#records-java-14","title":"Records (Java 14+)","text":"<p>Records \u662f Java 14 \u5f15\u5165\u7684\u65b0\u7279\u6027\uff0c\u7528\u65bc\u5efa\u7acb\u4e0d\u53ef\u8b8a\u7684\u8cc7\u6599\u627f\u8f09\u985e\u5225\uff0c\u5927\u5e45\u7c21\u5316\u4e86\u8cc7\u6599\u985e\u5225\u7684\u64b0\u5beb\u3002</p>"},{"location":"java/oop/06-inheritance-records/#record","title":"\u57fa\u672c Record \u5b9a\u7fa9","text":"Java<pre><code>// \u50b3\u7d71\u7684\u8cc7\u6599\u985e\u5225\u5beb\u6cd5\nclass TraditionalPerson {\n    private final String name;\n    private final int age;\n    private final String email;\n\n    public TraditionalPerson(String name, int age, String email) {\n        this.name = name;\n        this.age = age;\n        this.email = email;\n    }\n\n    public String name() { return name; }\n    public int age() { return age; }\n    public String email() { return email; }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        TraditionalPerson that = (TraditionalPerson) o;\n        return age == that.age &amp;&amp;\n               java.util.Objects.equals(name, that.name) &amp;&amp;\n               java.util.Objects.equals(email, that.email);\n    }\n\n    @Override\n    public int hashCode() {\n        return java.util.Objects.hash(name, age, email);\n    }\n\n    @Override\n    public String toString() {\n        return \"TraditionalPerson{\" +\n                \"name='\" + name + '\\'' +\n                \", age=\" + age +\n                \", email='\" + email + '\\'' +\n                '}';\n    }\n}\n\n// \u4f7f\u7528 Record \u7684\u7c21\u6f54\u5beb\u6cd5\npublic record Person(String name, int age, String email) {\n    // Record \u81ea\u52d5\u63d0\u4f9b\uff1a\n    // - \u79c1\u6709 final \u6b04\u4f4d\n    // - \u5efa\u69cb\u5b50\n    // - accessor \u65b9\u6cd5 (name(), age(), email())\n    // - equals(), hashCode(), toString()\n}\n\n// \u542b\u6709\u9a57\u8b49\u908f\u8f2f\u7684 Record\npublic record Student(String studentId, String name, int age, double gpa) {\n\n    // \u7cbe\u7c21\u5efa\u69cb\u5b50\uff1a\u7528\u65bc\u9a57\u8b49\n    public Student {\n        if (name == null || name.trim().isEmpty()) {\n            throw new IllegalArgumentException(\"\u59d3\u540d\u4e0d\u80fd\u70ba\u7a7a\");\n        }\n        if (age &lt; 0 || age &gt; 150) {\n            throw new IllegalArgumentException(\"\u5e74\u9f61\u5fc5\u9808\u5728 0-150 \u4e4b\u9593\");\n        }\n        if (gpa &lt; 0.0 || gpa &gt; 4.0) {\n            throw new IllegalArgumentException(\"GPA \u5fc5\u9808\u5728 0.0-4.0 \u4e4b\u9593\");\n        }\n\n        // \u6b63\u898f\u5316\u8cc7\u6599\n        name = name.trim();\n    }\n\n    // \u81ea\u5b9a\u7fa9\u65b9\u6cd5\n    public String getGradeLevel() {\n        if (gpa &gt;= 3.7) return \"\u512a\u79c0\";\n        else if (gpa &gt;= 3.0) return \"\u826f\u597d\";\n        else if (gpa &gt;= 2.0) return \"\u666e\u901a\";\n        else return \"\u9700\u8981\u52a0\u5f37\";\n    }\n\n    public boolean isAdult() {\n        return age &gt;= 18;\n    }\n\n    // \u975c\u614b\u5de5\u5ee0\u65b9\u6cd5\n    public static Student createWithDefaults(String studentId, String name) {\n        return new Student(studentId, name, 18, 0.0);\n    }\n}\n\n// \u8907\u96dc\u7684 Record \u7bc4\u4f8b\npublic record BankAccount(String accountNumber, String holderName, \n                         double balance, AccountType type, \n                         java.time.LocalDate openDate) {\n\n    // \u5167\u5d4c\u5217\u8209\n    public enum AccountType {\n        SAVINGS(\"\u5132\u84c4\u5e33\u6236\"), \n        CHECKING(\"\u652f\u7968\u5e33\u6236\"), \n        CREDIT(\"\u4fe1\u7528\u5e33\u6236\");\n\n        private final String displayName;\n\n        AccountType(String displayName) {\n            this.displayName = displayName;\n        }\n\n        public String getDisplayName() {\n            return displayName;\n        }\n    }\n\n    // \u5efa\u69cb\u5b50\u9a57\u8b49\n    public BankAccount {\n        if (accountNumber == null || accountNumber.length() != 10) {\n            throw new IllegalArgumentException(\"\u5e33\u865f\u5fc5\u9808\u662f 10 \u4f4d\u6578\u5b57\");\n        }\n        if (holderName == null || holderName.trim().isEmpty()) {\n            throw new IllegalArgumentException(\"\u5e33\u6236\u6301\u6709\u4eba\u59d3\u540d\u4e0d\u80fd\u70ba\u7a7a\");\n        }\n        if (balance &lt; 0 &amp;&amp; type != AccountType.CREDIT) {\n            throw new IllegalArgumentException(\"\u975e\u4fe1\u7528\u5e33\u6236\u9918\u984d\u4e0d\u80fd\u70ba\u8ca0\u6578\");\n        }\n        if (openDate == null) {\n            openDate = java.time.LocalDate.now();\n        }\n\n        // \u6b63\u898f\u5316\n        holderName = holderName.trim();\n    }\n\n    // \u66ff\u4ee3\u5efa\u69cb\u5b50\n    public BankAccount(String accountNumber, String holderName, AccountType type) {\n        this(accountNumber, holderName, 0.0, type, java.time.LocalDate.now());\n    }\n\n    // \u81ea\u5b9a\u7fa9\u65b9\u6cd5\n    public String getAccountInfo() {\n        return String.format(\"\u5e33\u865f: %s, \u6301\u6709\u4eba: %s, \u985e\u578b: %s, \u9918\u984d: $%.2f\", \n                           accountNumber, holderName, type.getDisplayName(), balance);\n    }\n\n    public boolean isOverdrawn() {\n        return balance &lt; 0;\n    }\n\n    public int getAccountAge() {\n        return java.time.Period.between(openDate, java.time.LocalDate.now()).getYears();\n    }\n\n    // Record \u53ef\u4ee5\u5be6\u4f5c\u4ecb\u9762\n    public boolean equals(Object obj) {\n        if (this == obj) return true;\n        if (!(obj instanceof BankAccount other)) return false;\n        return accountNumber.equals(other.accountNumber);\n    }\n\n    public int hashCode() {\n        return accountNumber.hashCode();\n    }\n}\n</code></pre>"},{"location":"java/oop/06-inheritance-records/#records","title":"Records \u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>import java.time.LocalDate;\nimport java.util.List;\nimport java.util.ArrayList;\n\npublic class RecordsDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== Records \u57fa\u672c\u4f7f\u7528 ===\");\n\n        // \u5efa\u7acb Person Record\n        Person person1 = new Person(\"\u5f35\u5c0f\u660e\", 25, \"zhang@email.com\");\n        Person person2 = new Person(\"\u674e\u5c0f\u83ef\", 30, \"li@email.com\");\n\n        System.out.println(\"Person 1: \" + person1);\n        System.out.println(\"\u59d3\u540d: \" + person1.name());\n        System.out.println(\"\u5e74\u9f61: \" + person1.age());\n        System.out.println(\"\u4fe1\u7bb1: \" + person1.email());\n\n        // \u6e2c\u8a66 equals \u548c hashCode\n        Person person3 = new Person(\"\u5f35\u5c0f\u660e\", 25, \"zhang@email.com\");\n        System.out.println(\"person1.equals(person3): \" + person1.equals(person3));\n        System.out.println(\"person1 hashCode: \" + person1.hashCode());\n        System.out.println(\"person3 hashCode: \" + person3.hashCode());\n\n        System.out.println(\"\\n=== Student Record \u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u5b78\u751f Record\n        List&lt;Student&gt; students = new ArrayList&lt;&gt;();\n\n        try {\n            students.add(new Student(\"S001\", \"\u738b\u540c\u5b78\", 20, 3.8));\n            students.add(new Student(\"S002\", \"\u9673\u540c\u5b78\", 19, 3.2));\n            students.add(Student.createWithDefaults(\"S003\", \"\u6797\u540c\u5b78\"));\n\n            // \u5617\u8a66\u5efa\u7acb\u7121\u6548\u5b78\u751f\uff08\u6703\u62cb\u51fa\u4f8b\u5916\uff09\n            students.add(new Student(\"S004\", \"\", -5, 5.0));\n\n        } catch (IllegalArgumentException e) {\n            System.out.println(\"\u5efa\u7acb\u5b78\u751f\u6642\u767c\u751f\u932f\u8aa4: \" + e.getMessage());\n        }\n\n        // \u986f\u793a\u5b78\u751f\u8cc7\u8a0a\n        System.out.println(\"\u5b78\u751f\u5217\u8868:\");\n        for (Student student : students) {\n            System.out.printf(\"%-6s %-8s (\u5e74\u9f61:%d, GPA:%.1f) - %s%s%n\",\n                            student.studentId(), student.name(), student.age(), \n                            student.gpa(), student.getGradeLevel(),\n                            student.isAdult() ? \" [\u6210\u5e74]\" : \" [\u672a\u6210\u5e74]\");\n        }\n\n        System.out.println(\"\\n=== BankAccount Record \u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u9280\u884c\u5e33\u6236\n        List&lt;BankAccount&gt; accounts = new ArrayList&lt;&gt;();\n\n        accounts.add(new BankAccount(\"1234567890\", \"\u5f35\u5bcc\u8c6a\", 50000.0, \n                    BankAccount.AccountType.SAVINGS, LocalDate.of(2020, 1, 15)));\n\n        accounts.add(new BankAccount(\"9876543210\", \"\u674e\u5c0f\u5eb7\", \n                    BankAccount.AccountType.CHECKING));\n\n        accounts.add(new BankAccount(\"5555666677\", \"\u738b\u8ca0\u50b5\", -1000.0, \n                    BankAccount.AccountType.CREDIT, LocalDate.of(2022, 6, 1)));\n\n        // \u986f\u793a\u5e33\u6236\u8cc7\u8a0a\n        System.out.println(\"\u9280\u884c\u5e33\u6236\u5217\u8868:\");\n        for (BankAccount account : accounts) {\n            System.out.println(account.getAccountInfo());\n            System.out.println(\"  \u958b\u6236\u5e74\u6578: \" + account.getAccountAge() + \" \u5e74\");\n            System.out.println(\"  \u662f\u5426\u900f\u652f: \" + (account.isOverdrawn() ? \"\u662f\" : \"\u5426\"));\n            System.out.println(\"  \u5b8c\u6574\u8cc7\u8a0a: \" + account);\n            System.out.println();\n        }\n\n        // Record \u4f5c\u70ba Map \u7684 key\n        System.out.println(\"=== Record \u4f5c\u70ba Map Key ===\");\n        java.util.Map&lt;Person, String&gt; personRoles = new java.util.HashMap&lt;&gt;();\n        personRoles.put(person1, \"\u8edf\u9ad4\u5de5\u7a0b\u5e2b\");\n        personRoles.put(person2, \"\u5c08\u6848\u7d93\u7406\");\n\n        for (var entry : personRoles.entrySet()) {\n            System.out.println(entry.getKey().name() + \" -&gt; \" + entry.getValue());\n        }\n\n        // \u6e2c\u8a66 Record \u4e0d\u53ef\u8b8a\u6027\n        System.out.println(\"\\n=== Record \u4e0d\u53ef\u8b8a\u6027 ===\");\n        System.out.println(\"Records \u7684\u6b04\u4f4d\u90fd\u662f final\uff0c\u7121\u6cd5\u4fee\u6539\");\n        System.out.println(\"person1.name() = \" + person1.name());\n        // person1.name = \"\u65b0\u540d\u5b57\"; // \u7de8\u8b6f\u932f\u8aa4\uff1a\u6c92\u6709 setter \u65b9\u6cd5\n\n        // \u8981\u4fee\u6539 Record\uff0c\u5fc5\u9808\u5efa\u7acb\u65b0\u7684\u5be6\u4f8b\n        Person modifiedPerson = new Person(\"\u5f35\u5c0f\u660e_\u4fee\u6539\", person1.age(), person1.email());\n        System.out.println(\"\u4fee\u6539\u5f8c\u7684\u65b0 Person: \" + modifiedPerson);\n    }\n}\n</code></pre>"},{"location":"java/oop/06-inheritance-records/#records-vs","title":"Records vs \u50b3\u7d71\u985e\u5225","text":"Java<pre><code>public class RecordsVsClassesDemo {\n\n    // Record \u7248\u672c\uff1a\u5ea7\u6a19\u9ede\n    public record Point(double x, double y) {\n        public double distanceFromOrigin() {\n            return Math.sqrt(x * x + y * y);\n        }\n\n        public Point translate(double dx, double dy) {\n            return new Point(x + dx, y + dy);\n        }\n    }\n\n    // \u50b3\u7d71\u985e\u5225\u7248\u672c\uff1a\u5ea7\u6a19\u9ede\n    public static class TraditionalPoint {\n        private final double x;\n        private final double y;\n\n        public TraditionalPoint(double x, double y) {\n            this.x = x;\n            this.y = y;\n        }\n\n        public double getX() { return x; }\n        public double getY() { return y; }\n\n        public double distanceFromOrigin() {\n            return Math.sqrt(x * x + y * y);\n        }\n\n        public TraditionalPoint translate(double dx, double dy) {\n            return new TraditionalPoint(x + dx, y + dy);\n        }\n\n        @Override\n        public boolean equals(Object o) {\n            if (this == o) return true;\n            if (o == null || getClass() != o.getClass()) return false;\n            TraditionalPoint that = (TraditionalPoint) o;\n            return Double.compare(that.x, x) == 0 &amp;&amp; Double.compare(that.y, y) == 0;\n        }\n\n        @Override\n        public int hashCode() {\n            return java.util.Objects.hash(x, y);\n        }\n\n        @Override\n        public String toString() {\n            return \"TraditionalPoint{x=\" + x + \", y=\" + y + '}';\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== Records vs \u50b3\u7d71\u985e\u5225\u6bd4\u8f03 ===\");\n\n        // \u5efa\u7acb\u7269\u4ef6\n        Point recordPoint = new Point(3.0, 4.0);\n        TraditionalPoint traditionalPoint = new TraditionalPoint(3.0, 4.0);\n\n        // \u529f\u80fd\u6bd4\u8f03\n        System.out.println(\"Record Point: \" + recordPoint);\n        System.out.println(\"Traditional Point: \" + traditionalPoint);\n\n        System.out.println(\"Record \u5b58\u53d6: x=\" + recordPoint.x() + \", y=\" + recordPoint.y());\n        System.out.println(\"Traditional \u5b58\u53d6: x=\" + traditionalPoint.getX() + \n                          \", y=\" + traditionalPoint.getY());\n\n        // \u65b9\u6cd5\u547c\u53eb\n        System.out.println(\"Record \u8ddd\u96e2: \" + recordPoint.distanceFromOrigin());\n        System.out.println(\"Traditional \u8ddd\u96e2: \" + traditionalPoint.distanceFromOrigin());\n\n        // \u79fb\u52d5\u9ede\n        Point movedRecord = recordPoint.translate(1.0, 1.0);\n        TraditionalPoint movedTraditional = traditionalPoint.translate(1.0, 1.0);\n\n        System.out.println(\"\u79fb\u52d5\u5f8c Record: \" + movedRecord);\n        System.out.println(\"\u79fb\u52d5\u5f8c Traditional: \" + movedTraditional);\n\n        // equals \u6e2c\u8a66\n        Point anotherRecord = new Point(3.0, 4.0);\n        TraditionalPoint anotherTraditional = new TraditionalPoint(3.0, 4.0);\n\n        System.out.println(\"Record equals: \" + recordPoint.equals(anotherRecord));\n        System.out.println(\"Traditional equals: \" + traditionalPoint.equals(anotherTraditional));\n\n        // \u7a0b\u5f0f\u78bc\u9577\u5ea6\u6bd4\u8f03\n        System.out.println(\"\\n=== \u7a0b\u5f0f\u78bc\u7c21\u6f54\u5ea6\u6bd4\u8f03 ===\");\n        System.out.println(\"Record \u5b9a\u7fa9\uff1a1 \u884c + \u81ea\u5b9a\u7fa9\u65b9\u6cd5\");\n        System.out.println(\"Traditional \u5b9a\u7fa9\uff1a\u7d04 40 \u884c\u7a0b\u5f0f\u78bc\");\n        System.out.println(\"Record \u512a\u52e2\uff1a\u81ea\u52d5\u751f\u6210 constructor, getters, equals, hashCode, toString\");\n    }\n}\n</code></pre> <p>Records \u6700\u4f73\u5be6\u8e10</p> <ul> <li>\u7528\u65bc\u4e0d\u53ef\u8b8a\u7684\u8cc7\u6599\u627f\u8f09\u985e\u5225</li> <li>\u9069\u5408 DTO (Data Transfer Object) \u548c\u503c\u7269\u4ef6</li> <li>\u53ef\u4ee5\u5305\u542b\u81ea\u5b9a\u7fa9\u65b9\u6cd5\u548c\u975c\u614b\u65b9\u6cd5</li> <li>\u53ef\u4ee5\u5be6\u4f5c\u4ecb\u9762\u4f46\u4e0d\u80fd\u7e7c\u627f\u5176\u4ed6\u985e\u5225</li> <li>\u6240\u6709\u6b04\u4f4d\u90fd\u662f <code>private final</code></li> </ul>"},{"location":"java/oop/06-inheritance-records/#_7","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>\u7e7c\u627f\uff1a\u4f7f\u7528 <code>extends</code> \u5efa\u7acb is-a \u95dc\u4fc2\uff0c\u5b50\u985e\u5225\u7e7c\u627f\u7236\u985e\u5225\u7684\u5c6c\u6027\u548c\u65b9\u6cd5</li> <li>\u65b9\u6cd5\u8986\u5beb\uff1a\u5b50\u985e\u5225\u53ef\u4ee5\u91cd\u65b0\u5b9a\u7fa9\u7236\u985e\u5225\u7684\u65b9\u6cd5\uff0c\u4f7f\u7528 <code>@Override</code> \u8a3b\u89e3</li> <li>super \u95dc\u9375\u5b57\uff1a\u5b58\u53d6\u7236\u985e\u5225\u7684\u5efa\u69cb\u5b50\u3001\u65b9\u6cd5\u548c\u6b04\u4f4d</li> <li>final \u95dc\u9375\u5b57\uff1a\u9632\u6b62\u7e7c\u627f\u3001\u8986\u5beb\u6216\u91cd\u65b0\u6307\u6d3e</li> <li>Records\uff1aJava 14+ \u7684\u7c21\u6f54\u8cc7\u6599\u985e\u5225\u8a9e\u6cd5\uff0c\u81ea\u52d5\u63d0\u4f9b\u5e38\u7528\u65b9\u6cd5</li> </ol> <p>\u7e7c\u627f\u6ce8\u610f\u4e8b\u9805</p> <ul> <li>Java \u53ea\u652f\u63f4\u55ae\u4e00\u7e7c\u627f\uff08\u4e00\u500b\u985e\u5225\u53ea\u80fd\u7e7c\u627f\u4e00\u500b\u7236\u985e\u5225\uff09</li> <li>\u7e7c\u627f\u6703\u5efa\u7acb\u5f37\u8026\u5408\u95dc\u4fc2\uff0c\u8981\u8b39\u614e\u4f7f\u7528</li> <li>\u512a\u5148\u4f7f\u7528\u7d44\u5408\u800c\u975e\u7e7c\u627f</li> <li>Records \u4e0d\u80fd\u88ab\u7e7c\u627f\uff0c\u4e5f\u4e0d\u80fd\u7e7c\u627f\u5176\u4ed6\u985e\u5225</li> </ul>"},{"location":"java/oop/06-inheritance-records/#_8","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u57fa\u790e\u7df4\u7fd2</li> <li>\u5efa\u7acb Shape \u7236\u985e\u5225\u548c Circle\u3001Rectangle \u5b50\u985e\u5225</li> <li>\u5be6\u4f5c\u52d5\u7269\u7e7c\u627f\u9ad4\u7cfb\uff08Animal \u2192 Dog, Cat, Bird\uff09</li> <li> <p>\u4f7f\u7528 Records \u5efa\u7acb\u5b78\u751f\u3001\u8ab2\u7a0b\u3001\u6210\u7e3e\u7b49\u8cc7\u6599\u985e\u5225</p> </li> <li> <p>\u9032\u968e\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u54e1\u5de5\u7ba1\u7406\u7cfb\u7d71\uff08Employee \u2192 Manager, Developer, Designer\uff09</li> <li>\u5efa\u7acb\u4ea4\u901a\u5de5\u5177\u7e7c\u627f\u9ad4\u7cfb\uff0c\u5be6\u4f5c\u4e0d\u540c\u7684\u555f\u52d5\u65b9\u5f0f</li> <li> <p>\u4f7f\u7528 Records \u91cd\u69cb\u73fe\u6709\u7684\u8cc7\u6599\u985e\u5225</p> </li> <li> <p>\u7d9c\u5408\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u5716\u5f62\u7e6a\u88fd\u7cfb\u7d71\uff0c\u5305\u542b\u591a\u7a2e\u5f62\u72c0\u548c\u64cd\u4f5c</li> <li>\u5efa\u7acb\u904a\u6232\u89d2\u8272\u7cfb\u7d71\uff0c\u5305\u542b\u4e0d\u540c\u8077\u696d\u548c\u6280\u80fd</li> <li>\u5be6\u4f5c\u8a02\u55ae\u7ba1\u7406\u7cfb\u7d71\uff0c\u7d50\u5408\u7e7c\u627f\u548c Records</li> </ol> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2\u4ecb\u9762\u8207\u6cdb\u578b\uff0c\u63a2\u7d22 Java \u66f4\u9032\u968e\u7684\u985e\u578b\u7cfb\u7d71\uff01</p>"},{"location":"java/oop/07-interface-generics/","title":"\u4ecb\u9762\u8207\u6cdb\u578b(Generics)","text":""},{"location":"java/oop/07-interface-generics/#interface","title":"\u4ecb\u9762 (Interface) \u57fa\u790e","text":"<p>\u4ecb\u9762\u662f Java \u4e2d\u5b9a\u7fa9\u5951\u7d04\u7684\u6a5f\u5236\uff0c\u5b83\u6307\u5b9a\u4e00\u500b\u985e\u5225\u5fc5\u9808\u5be6\u4f5c\u54ea\u4e9b\u65b9\u6cd5\uff0c\u4f46\u4e0d\u63d0\u4f9b\u5be6\u4f5c\u7d30\u7bc0\u3002\u4ecb\u9762\u652f\u63f4\u591a\u91cd\u5be6\u4f5c\uff0c\u89e3\u6c7a\u4e86 Java \u55ae\u4e00\u7e7c\u627f\u7684\u9650\u5236\u3002</p>"},{"location":"java/oop/07-interface-generics/#_1","title":"\u57fa\u672c\u4ecb\u9762\u5b9a\u7fa9","text":"Java<pre><code>// \u57fa\u672c\u4ecb\u9762\uff1a\u53ef\u7e6a\u88fd\u7684\u7269\u4ef6\ninterface Drawable {\n    // \u62bd\u8c61\u65b9\u6cd5\uff08\u4ecb\u9762\u4e2d\u65b9\u6cd5\u9810\u8a2d\u662f public abstract\uff09\n    void draw();\n    void erase();\n\n    // \u4ecb\u9762\u4e2d\u53ef\u4ee5\u6709\u5e38\u6578\uff08\u9810\u8a2d\u662f public static final\uff09\n    String DEFAULT_COLOR = \"BLACK\";\n    int MAX_SIZE = 1000;\n}\n\n// \u53ef\u79fb\u52d5\u7684\u4ecb\u9762\ninterface Movable {\n    void move(int x, int y);\n    void rotate(double angle);\n\n    // \u9810\u8a2d\u65b9\u6cd5\uff08Java 8+\uff09\n    default void resetPosition() {\n        move(0, 0);\n        rotate(0);\n        System.out.println(\"\u7269\u4ef6\u5df2\u91cd\u8a2d\u5230\u539f\u9ede\");\n    }\n}\n\n// \u53ef\u7e2e\u653e\u7684\u4ecb\u9762\ninterface Scalable {\n    void scale(double factor);\n\n    // \u975c\u614b\u65b9\u6cd5\uff08Java 8+\uff09\n    static void validateScaleFactor(double factor) {\n        if (factor &lt;= 0) {\n            throw new IllegalArgumentException(\"\u7e2e\u653e\u56e0\u5b50\u5fc5\u9808\u5927\u65bc 0\");\n        }\n    }\n\n    // \u9810\u8a2d\u65b9\u6cd5\n    default void doubleSize() {\n        scale(2.0);\n    }\n\n    default void halfSize() {\n        scale(0.5);\n    }\n}\n\n// \u53ef\u8a08\u7b97\u9762\u7a4d\u7684\u4ecb\u9762\ninterface AreaCalculable {\n    double calculateArea();\n\n    // \u9810\u8a2d\u65b9\u6cd5\u63d0\u4f9b\u984d\u5916\u529f\u80fd\n    default String getAreaInfo() {\n        return String.format(\"\u9762\u7a4d: %.2f \u5e73\u65b9\u55ae\u4f4d\", calculateArea());\n    }\n\n    default boolean isLargeArea() {\n        return calculateArea() &gt; 100.0;\n    }\n}\n</code></pre>"},{"location":"java/oop/07-interface-generics/#_2","title":"\u5be6\u4f5c\u4ecb\u9762","text":"Java<pre><code>// \u5713\u5f62\u985e\u5225\u5be6\u4f5c\u591a\u500b\u4ecb\u9762\nclass Circle implements Drawable, Movable, Scalable, AreaCalculable {\n    private double x, y;      // \u4f4d\u7f6e\n    private double radius;    // \u534a\u5f91\n    private String color;\n\n    public Circle(double x, double y, double radius, String color) {\n        this.x = x;\n        this.y = y;\n        this.radius = radius;\n        this.color = color;\n    }\n\n    // \u5be6\u4f5c Drawable \u4ecb\u9762\n    @Override\n    public void draw() {\n        System.out.printf(\"\u7e6a\u88fd%s\u5713\u5f62\uff1a\u4e2d\u5fc3(%.1f, %.1f), \u534a\u5f91%.1f%n\", \n                         color, x, y, radius);\n    }\n\n    @Override\n    public void erase() {\n        System.out.printf(\"\u64e6\u9664\u4f4d\u65bc(%.1f, %.1f)\u7684\u5713\u5f62%n\", x, y);\n    }\n\n    // \u5be6\u4f5c Movable \u4ecb\u9762\n    @Override\n    public void move(int newX, int newY) {\n        System.out.printf(\"\u5713\u5f62\u5f9e(%.1f, %.1f)\u79fb\u52d5\u5230(%d, %d)%n\", x, y, newX, newY);\n        this.x = newX;\n        this.y = newY;\n    }\n\n    @Override\n    public void rotate(double angle) {\n        System.out.printf(\"\u5713\u5f62\u65cb\u8f49 %.1f \u5ea6\uff08\u5713\u5f62\u65cb\u8f49\u7121\u8996\u89ba\u8b8a\u5316\uff09%n\", angle);\n    }\n\n    // \u5be6\u4f5c Scalable \u4ecb\u9762\n    @Override\n    public void scale(double factor) {\n        Scalable.validateScaleFactor(factor); // \u547c\u53eb\u4ecb\u9762\u7684\u975c\u614b\u65b9\u6cd5\n        System.out.printf(\"\u5713\u5f62\u534a\u5f91\u5f9e %.1f \u7e2e\u653e\u5230 %.1f%n\", radius, radius * factor);\n        this.radius *= factor;\n    }\n\n    // \u5be6\u4f5c AreaCalculable \u4ecb\u9762\n    @Override\n    public double calculateArea() {\n        return Math.PI * radius * radius;\n    }\n\n    // Getter \u65b9\u6cd5\n    public double getX() { return x; }\n    public double getY() { return y; }\n    public double getRadius() { return radius; }\n    public String getColor() { return color; }\n\n    @Override\n    public String toString() {\n        return String.format(\"Circle{\u4f4d\u7f6e:(%.1f,%.1f), \u534a\u5f91:%.1f, \u984f\u8272:%s}\", \n                           x, y, radius, color);\n    }\n}\n\n// \u77e9\u5f62\u985e\u5225\nclass Rectangle implements Drawable, Movable, Scalable, AreaCalculable {\n    private double x, y;        // \u4f4d\u7f6e\n    private double width, height; // \u5bec\u9ad8\n    private String color;\n\n    public Rectangle(double x, double y, double width, double height, String color) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.color = color;\n    }\n\n    @Override\n    public void draw() {\n        System.out.printf(\"\u7e6a\u88fd%s\u77e9\u5f62\uff1a\u4f4d\u7f6e(%.1f, %.1f), \u5927\u5c0f%.1f\u00d7%.1f%n\", \n                         color, x, y, width, height);\n    }\n\n    @Override\n    public void erase() {\n        System.out.printf(\"\u64e6\u9664\u4f4d\u65bc(%.1f, %.1f)\u7684\u77e9\u5f62%n\", x, y);\n    }\n\n    @Override\n    public void move(int newX, int newY) {\n        System.out.printf(\"\u77e9\u5f62\u5f9e(%.1f, %.1f)\u79fb\u52d5\u5230(%d, %d)%n\", x, y, newX, newY);\n        this.x = newX;\n        this.y = newY;\n    }\n\n    @Override\n    public void rotate(double angle) {\n        System.out.printf(\"\u77e9\u5f62\u65cb\u8f49 %.1f \u5ea6%n\", angle);\n        // \u7c21\u5316\u5be6\u4f5c\uff0c\u5be6\u969b\u61c9\u8a72\u8a08\u7b97\u65cb\u8f49\u5f8c\u7684\u5ea7\u6a19\n    }\n\n    @Override\n    public void scale(double factor) {\n        Scalable.validateScaleFactor(factor);\n        System.out.printf(\"\u77e9\u5f62\u5f9e %.1f\u00d7%.1f \u7e2e\u653e\u5230 %.1f\u00d7%.1f%n\", \n                         width, height, width * factor, height * factor);\n        this.width *= factor;\n        this.height *= factor;\n    }\n\n    @Override\n    public double calculateArea() {\n        return width * height;\n    }\n\n    // Getter \u65b9\u6cd5\n    public double getWidth() { return width; }\n    public double getHeight() { return height; }\n\n    @Override\n    public String toString() {\n        return String.format(\"Rectangle{\u4f4d\u7f6e:(%.1f,%.1f), \u5927\u5c0f:%.1f\u00d7%.1f, \u984f\u8272:%s}\", \n                           x, y, width, height, color);\n    }\n}\n</code></pre>"},{"location":"java/oop/07-interface-generics/#_3","title":"\u4ecb\u9762\u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class InterfaceDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u4ecb\u9762\u57fa\u790e\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u4e0d\u540c\u5f62\u72c0\u7684\u7269\u4ef6\n        Circle circle = new Circle(10, 20, 5, \"\u7d05\u8272\");\n        Rectangle rectangle = new Rectangle(0, 0, 10, 8, \"\u85cd\u8272\");\n\n        System.out.println(\"\u521d\u59cb\u7269\u4ef6:\");\n        System.out.println(circle);\n        System.out.println(rectangle);\n\n        System.out.println(\"\\n=== \u6e2c\u8a66 Drawable \u529f\u80fd ===\");\n        // \u591a\u578b\u6027\uff1a\u7528\u4ecb\u9762\u53c3\u8003\u6307\u5411\u4e0d\u540c\u5be6\u4f5c\n        Drawable[] drawables = {circle, rectangle};\n\n        for (Drawable drawable : drawables) {\n            drawable.draw();\n        }\n\n        System.out.println(\"\\n=== \u6e2c\u8a66 Movable \u529f\u80fd ===\");\n        List&lt;Movable&gt; movables = new ArrayList&lt;&gt;();\n        movables.add(circle);\n        movables.add(rectangle);\n\n        for (Movable movable : movables) {\n            movable.move(50, 30);\n            movable.resetPosition(); // \u4f7f\u7528\u9810\u8a2d\u65b9\u6cd5\n        }\n\n        System.out.println(\"\\n=== \u6e2c\u8a66 Scalable \u529f\u80fd ===\");\n        List&lt;Scalable&gt; scalables = List.of(circle, rectangle);\n\n        for (Scalable scalable : scalables) {\n            try {\n                scalable.doubleSize(); // \u4f7f\u7528\u9810\u8a2d\u65b9\u6cd5\n                scalable.halfSize();   // \u4f7f\u7528\u9810\u8a2d\u65b9\u6cd5\n                scalable.scale(1.5);\n            } catch (IllegalArgumentException e) {\n                System.out.println(\"\u7e2e\u653e\u932f\u8aa4: \" + e.getMessage());\n            }\n        }\n\n        System.out.println(\"\\n=== \u6e2c\u8a66 AreaCalculable \u529f\u80fd ===\");\n        List&lt;AreaCalculable&gt; calculables = List.of(circle, rectangle);\n\n        double totalArea = 0;\n        for (AreaCalculable calculable : calculables) {\n            System.out.println(calculable.getAreaInfo()); // \u4f7f\u7528\u9810\u8a2d\u65b9\u6cd5\n            System.out.println(\"\u662f\u5426\u70ba\u5927\u9762\u7a4d: \" + calculable.isLargeArea());\n            totalArea += calculable.calculateArea();\n        }\n        System.out.printf(\"\u7e3d\u9762\u7a4d: %.2f%n\", totalArea);\n\n        // \u6e2c\u8a66\u975c\u614b\u65b9\u6cd5\n        System.out.println(\"\\n=== \u6e2c\u8a66\u4ecb\u9762\u975c\u614b\u65b9\u6cd5 ===\");\n        try {\n            Scalable.validateScaleFactor(2.0); // \u6709\u6548\n            System.out.println(\"\u7e2e\u653e\u56e0\u5b50 2.0 \u6709\u6548\");\n\n            Scalable.validateScaleFactor(-1.0); // \u7121\u6548\n        } catch (IllegalArgumentException e) {\n            System.out.println(\"\u975c\u614b\u9a57\u8b49\u5931\u6557: \" + e.getMessage());\n        }\n\n        // \u6e2c\u8a66\u5e38\u6578\n        System.out.println(\"\\n=== \u4ecb\u9762\u5e38\u6578 ===\");\n        System.out.println(\"\u9810\u8a2d\u984f\u8272: \" + Drawable.DEFAULT_COLOR);\n        System.out.println(\"\u6700\u5927\u5c3a\u5bf8: \" + Drawable.MAX_SIZE);\n\n        System.out.println(\"\\n=== \u6700\u7d42\u72c0\u614b ===\");\n        System.out.println(circle);\n        System.out.println(rectangle);\n    }\n}\n</code></pre> <p>\u4ecb\u9762\u91cd\u9ede\u6982\u5ff5</p> <ul> <li>\u4ecb\u9762\u5b9a\u7fa9\u5951\u7d04\uff0c\u985e\u5225\u5fc5\u9808\u5be6\u4f5c\u6240\u6709\u62bd\u8c61\u65b9\u6cd5</li> <li>\u4e00\u500b\u985e\u5225\u53ef\u4ee5\u5be6\u4f5c\u591a\u500b\u4ecb\u9762</li> <li>\u4ecb\u9762\u652f\u63f4\u9810\u8a2d\u65b9\u6cd5\uff08default\uff09\u548c\u975c\u614b\u65b9\u6cd5\uff08static\uff09</li> <li>\u4ecb\u9762\u4e2d\u7684\u6b04\u4f4d\u81ea\u52d5\u662f <code>public static final</code></li> </ul>"},{"location":"java/oop/07-interface-generics/#default-methods","title":"\u9810\u8a2d\u65b9\u6cd5 (Default Methods) \u8207\u591a\u91cd\u5be6\u4f5c","text":"<p>Java 8 \u5f15\u5165\u9810\u8a2d\u65b9\u6cd5\uff0c\u5141\u8a31\u5728\u4ecb\u9762\u4e2d\u63d0\u4f9b\u65b9\u6cd5\u7684\u9810\u8a2d\u5be6\u4f5c\uff0c\u9019\u89e3\u6c7a\u4e86\u4ecb\u9762\u6f14\u5316\u7684\u554f\u984c\u3002</p>"},{"location":"java/oop/07-interface-generics/#_4","title":"\u9810\u8a2d\u65b9\u6cd5\u885d\u7a81\u89e3\u6c7a","text":"Java<pre><code>// \u4ecb\u9762 A\ninterface InterfaceA {\n    default void commonMethod() {\n        System.out.println(\"InterfaceA \u7684 commonMethod\");\n    }\n\n    default void methodA() {\n        System.out.println(\"InterfaceA \u7684 methodA\");\n    }\n}\n\n// \u4ecb\u9762 B\ninterface InterfaceB {\n    default void commonMethod() {\n        System.out.println(\"InterfaceB \u7684 commonMethod\");\n    }\n\n    default void methodB() {\n        System.out.println(\"InterfaceB \u7684 methodB\");\n    }\n}\n\n// \u4ecb\u9762 C \u7e7c\u627f InterfaceA\ninterface InterfaceC extends InterfaceA {\n    @Override\n    default void commonMethod() {\n        System.out.println(\"InterfaceC \u8986\u5beb\u7684 commonMethod\");\n        InterfaceA.super.commonMethod(); // \u547c\u53eb\u7236\u4ecb\u9762\u7684\u9810\u8a2d\u65b9\u6cd5\n    }\n\n    default void methodC() {\n        System.out.println(\"InterfaceC \u7684 methodC\");\n    }\n}\n\n// \u5be6\u4f5c\u591a\u500b\u4ecb\u9762\u7684\u985e\u5225\nclass MultiInterfaceImplementation implements InterfaceA, InterfaceB {\n    // \u5fc5\u9808\u8986\u5beb\u885d\u7a81\u7684\u9810\u8a2d\u65b9\u6cd5\n    @Override\n    public void commonMethod() {\n        System.out.println(\"MultiInterfaceImplementation \u89e3\u6c7a\u885d\u7a81\u7684 commonMethod\");\n\n        // \u53ef\u4ee5\u9078\u64c7\u547c\u53eb\u7279\u5b9a\u4ecb\u9762\u7684\u9810\u8a2d\u65b9\u6cd5\n        InterfaceA.super.commonMethod();\n        InterfaceB.super.commonMethod();\n    }\n}\n\n// \u7e7c\u627f\u548c\u5be6\u4f5c\u7684\u885d\u7a81\nclass BaseClass {\n    public void conflictMethod() {\n        System.out.println(\"BaseClass \u7684 conflictMethod\");\n    }\n}\n\ninterface ConflictInterface {\n    default void conflictMethod() {\n        System.out.println(\"ConflictInterface \u7684 conflictMethod\");\n    }\n}\n\nclass ConflictResolution extends BaseClass implements ConflictInterface {\n    // \u985e\u5225\u7684\u65b9\u6cd5\u512a\u5148\u65bc\u4ecb\u9762\u7684\u9810\u8a2d\u65b9\u6cd5\n    // \u9019\u88e1\u4e0d\u9700\u8981\u8986\u5beb\uff0c\u6703\u4f7f\u7528 BaseClass \u7684\u65b9\u6cd5\n\n    public void testConflict() {\n        conflictMethod(); // \u4f7f\u7528 BaseClass \u7684\u65b9\u6cd5\n        ConflictInterface.super.conflictMethod(); // \u660e\u78ba\u4f7f\u7528\u4ecb\u9762\u7684\u65b9\u6cd5\n    }\n}\n</code></pre>"},{"location":"java/oop/07-interface-generics/#_5","title":"\u51fd\u6578\u5f0f\u4ecb\u9762\u7bc4\u4f8b","text":"Java<pre><code>// \u81ea\u5b9a\u7fa9\u51fd\u6578\u5f0f\u4ecb\u9762\n@FunctionalInterface\ninterface Calculator {\n    double calculate(double a, double b);\n\n    // \u51fd\u6578\u5f0f\u4ecb\u9762\u53ef\u4ee5\u6709\u9810\u8a2d\u65b9\u6cd5\n    default void printResult(double a, double b) {\n        System.out.printf(\"\u8a08\u7b97\u7d50\u679c: %.2f%n\", calculate(a, b));\n    }\n\n    // \u975c\u614b\u65b9\u6cd5\n    static Calculator add() {\n        return (a, b) -&gt; a + b;\n    }\n\n    static Calculator multiply() {\n        return (a, b) -&gt; a * b;\n    }\n}\n\n// \u66f4\u8907\u96dc\u7684\u51fd\u6578\u5f0f\u4ecb\u9762\n@FunctionalInterface\ninterface StringProcessor {\n    String process(String input);\n\n    // \u7d44\u5408\u65b9\u6cd5\n    default StringProcessor andThen(StringProcessor after) {\n        return input -&gt; after.process(this.process(input));\n    }\n\n    // \u975c\u614b\u5de5\u5ee0\u65b9\u6cd5\n    static StringProcessor uppercase() {\n        return String::toUpperCase;\n    }\n\n    static StringProcessor addPrefix(String prefix) {\n        return input -&gt; prefix + input;\n    }\n\n    static StringProcessor addSuffix(String suffix) {\n        return input -&gt; input + suffix;\n    }\n}\n\n// \u51fd\u6578\u5f0f\u4ecb\u9762\u4f7f\u7528\u7bc4\u4f8b\npublic class FunctionalInterfaceDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u51fd\u6578\u5f0f\u4ecb\u9762\u793a\u7bc4 ===\");\n\n        // \u4f7f\u7528 Lambda \u8868\u9054\u5f0f\n        Calculator add = (a, b) -&gt; a + b;\n        Calculator subtract = (a, b) -&gt; a - b;\n        Calculator multiply = (a, b) -&gt; a * b;\n        Calculator divide = (a, b) -&gt; b != 0 ? a / b : 0;\n\n        double x = 10, y = 3;\n\n        // \u6e2c\u8a66\u8a08\u7b97\u5668\n        System.out.printf(\"%.1f + %.1f = %.2f%n\", x, y, add.calculate(x, y));\n        System.out.printf(\"%.1f - %.1f = %.2f%n\", x, y, subtract.calculate(x, y));\n        System.out.printf(\"%.1f \u00d7 %.1f = %.2f%n\", x, y, multiply.calculate(x, y));\n        System.out.printf(\"%.1f \u00f7 %.1f = %.2f%n\", x, y, divide.calculate(x, y));\n\n        // \u4f7f\u7528\u9810\u8a2d\u65b9\u6cd5\n        add.printResult(x, y);\n\n        // \u4f7f\u7528\u975c\u614b\u5de5\u5ee0\u65b9\u6cd5\n        Calculator staticAdd = Calculator.add();\n        Calculator staticMultiply = Calculator.multiply();\n        staticAdd.printResult(5, 3);\n        staticMultiply.printResult(4, 6);\n\n        System.out.println(\"\\n=== \u5b57\u4e32\u8655\u7406\u5668\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb\u4e0d\u540c\u7684\u5b57\u4e32\u8655\u7406\u5668\n        StringProcessor upperCase = StringProcessor.uppercase();\n        StringProcessor addHello = StringProcessor.addPrefix(\"Hello \");\n        StringProcessor addExclamation = StringProcessor.addSuffix(\"!\");\n\n        String input = \"world\";\n        System.out.println(\"\u539f\u59cb\u5b57\u4e32: \" + input);\n        System.out.println(\"\u5927\u5beb: \" + upperCase.process(input));\n        System.out.println(\"\u52a0\u524d\u7db4: \" + addHello.process(input));\n        System.out.println(\"\u52a0\u5f8c\u7db4: \" + addExclamation.process(input));\n\n        // \u7d44\u5408\u8655\u7406\u5668\n        StringProcessor combined = addHello\n            .andThen(StringProcessor.uppercase())\n            .andThen(addExclamation);\n\n        System.out.println(\"\u7d44\u5408\u8655\u7406: \" + combined.process(input));\n\n        // \u4f7f\u7528\u65b9\u6cd5\u53c3\u8003\n        List&lt;String&gt; words = List.of(\"java\", \"python\", \"javascript\");\n        System.out.println(\"\\n\u539f\u59cb\u55ae\u8a5e: \" + words);\n\n        // \u4f7f\u7528 map \u548c\u65b9\u6cd5\u53c3\u8003\n        List&lt;String&gt; processedWords = words.stream()\n            .map(upperCase::process)\n            .collect(java.util.stream.Collectors.toList());\n        System.out.println(\"\u5927\u5beb\u55ae\u8a5e: \" + processedWords);\n    }\n}\n</code></pre>"},{"location":"java/oop/07-interface-generics/#generics_1","title":"\u6cdb\u578b (Generics) \u57fa\u790e","text":"<p>\u6cdb\u578b\u5141\u8a31\u5728\u7de8\u5beb\u7a0b\u5f0f\u6642\u4f7f\u7528\u578b\u614b\u53c3\u6578\uff0c\u63d0\u4f9b\u578b\u614b\u5b89\u5168\u548c\u7a0b\u5f0f\u78bc\u91cd\u7528\u6027\u3002</p>"},{"location":"java/oop/07-interface-generics/#_6","title":"\u57fa\u672c\u6cdb\u578b\u985e\u5225","text":"Java<pre><code>// \u6cdb\u578b\u985e\u5225\uff1a\u81ea\u5b9a\u7fa9\u5bb9\u5668\npublic class Box&lt;T&gt; {\n    private T content;\n\n    public Box() {\n        this.content = null;\n    }\n\n    public Box(T content) {\n        this.content = content;\n    }\n\n    public void set(T content) {\n        this.content = content;\n    }\n\n    public T get() {\n        return content;\n    }\n\n    public boolean isEmpty() {\n        return content == null;\n    }\n\n    public void clear() {\n        this.content = null;\n    }\n\n    @Override\n    public String toString() {\n        return \"Box{\" + (isEmpty() ? \"empty\" : \"content=\" + content) + \"}\";\n    }\n\n    // \u6cdb\u578b\u65b9\u6cd5\n    public &lt;U&gt; Box&lt;U&gt; map(java.util.function.Function&lt;T, U&gt; mapper) {\n        if (isEmpty()) {\n            return new Box&lt;&gt;();\n        }\n        return new Box&lt;&gt;(mapper.apply(content));\n    }\n}\n\n// \u591a\u578b\u5225\u53c3\u6578\u7684\u6cdb\u578b\u985e\u5225\npublic class Pair&lt;T, U&gt; {\n    private T first;\n    private U second;\n\n    public Pair(T first, U second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public T getFirst() { return first; }\n    public U getSecond() { return second; }\n\n    public void setFirst(T first) { this.first = first; }\n    public void setSecond(U second) { this.second = second; }\n\n    // \u4ea4\u63db\u5169\u500b\u503c\uff08\u5982\u679c\u985e\u578b\u76f8\u540c\uff09\n    @SuppressWarnings(\"unchecked\")\n    public void swap() {\n        if (first.getClass().equals(second.getClass())) {\n            T temp = first;\n            first = (T) second;\n            second = (U) temp;\n        } else {\n            throw new IllegalStateException(\"\u7121\u6cd5\u4ea4\u63db\u4e0d\u540c\u985e\u578b\u7684\u503c\");\n        }\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"Pair{first=%s, second=%s}\", first, second);\n    }\n\n    // \u975c\u614b\u6cdb\u578b\u65b9\u6cd5\n    public static &lt;T, U&gt; Pair&lt;T, U&gt; of(T first, U second) {\n        return new Pair&lt;&gt;(first, second);\n    }\n}\n\n// \u6709\u754c\u6cdb\u578b\u985e\u5225\uff08\u7e7c\u627f Number \u7684\u985e\u578b\uff09\npublic class NumberBox&lt;T extends Number&gt; {\n    private T value;\n\n    public NumberBox(T value) {\n        this.value = value;\n    }\n\n    public T getValue() { return value; }\n    public void setValue(T value) { this.value = value; }\n\n    // \u53ef\u4ee5\u547c\u53eb Number \u7684\u65b9\u6cd5\n    public double getDoubleValue() {\n        return value.doubleValue();\n    }\n\n    public int getIntValue() {\n        return value.intValue();\n    }\n\n    // \u6bd4\u8f03\u6578\u5b57\u5927\u5c0f\n    public boolean isGreaterThan(NumberBox&lt;? extends Number&gt; other) {\n        return this.getDoubleValue() &gt; other.getDoubleValue();\n    }\n\n    // \u8a08\u7b97\u8207\u53e6\u4e00\u500b\u6578\u5b57\u7684\u548c\n    public double add(NumberBox&lt;? extends Number&gt; other) {\n        return this.getDoubleValue() + other.getDoubleValue();\n    }\n\n    @Override\n    public String toString() {\n        return String.format(\"NumberBox{value=%s, type=%s}\", \n                           value, value.getClass().getSimpleName());\n    }\n}\n</code></pre>"},{"location":"java/oop/07-interface-generics/#_7","title":"\u6cdb\u578b\u65b9\u6cd5","text":"Java<pre><code>public class GenericMethods {\n\n    // \u6cdb\u578b\u65b9\u6cd5\uff1a\u4ea4\u63db\u9663\u5217\u4e2d\u7684\u5169\u500b\u5143\u7d20\n    public static &lt;T&gt; void swap(T[] array, int i, int j) {\n        if (i &gt;= 0 &amp;&amp; i &lt; array.length &amp;&amp; j &gt;= 0 &amp;&amp; j &lt; array.length) {\n            T temp = array[i];\n            array[i] = array[j];\n            array[j] = temp;\n        }\n    }\n\n    // \u6cdb\u578b\u65b9\u6cd5\uff1a\u5c0b\u627e\u6700\u5927\u503c\uff08\u8981\u6c42\u5143\u7d20\u53ef\u6bd4\u8f03\uff09\n    public static &lt;T extends Comparable&lt;T&gt;&gt; T findMax(T[] array) {\n        if (array == null || array.length == 0) {\n            return null;\n        }\n\n        T max = array[0];\n        for (int i = 1; i &lt; array.length; i++) {\n            if (array[i].compareTo(max) &gt; 0) {\n                max = array[i];\n            }\n        }\n        return max;\n    }\n\n    // \u6cdb\u578b\u65b9\u6cd5\uff1a\u8f49\u63db List\n    public static &lt;T, U&gt; java.util.List&lt;U&gt; mapList(java.util.List&lt;T&gt; source, \n                                                   java.util.function.Function&lt;T, U&gt; mapper) {\n        java.util.List&lt;U&gt; result = new java.util.ArrayList&lt;&gt;();\n        for (T item : source) {\n            result.add(mapper.apply(item));\n        }\n        return result;\n    }\n\n    // \u6cdb\u578b\u65b9\u6cd5\uff1a\u904e\u6ffe List\n    public static &lt;T&gt; java.util.List&lt;T&gt; filterList(java.util.List&lt;T&gt; source,\n                                                   java.util.function.Predicate&lt;T&gt; predicate) {\n        java.util.List&lt;T&gt; result = new java.util.ArrayList&lt;&gt;();\n        for (T item : source) {\n            if (predicate.test(item)) {\n                result.add(item);\n            }\n        }\n        return result;\n    }\n\n    // \u591a\u578b\u5225\u53c3\u6578\u7684\u6cdb\u578b\u65b9\u6cd5\n    public static &lt;T, U, R&gt; R combine(T first, U second, \n                                     java.util.function.BiFunction&lt;T, U, R&gt; combiner) {\n        return combiner.apply(first, second);\n    }\n\n    // \u6709\u754c\u6cdb\u578b\u65b9\u6cd5\n    public static &lt;T extends Number&gt; double calculateAverage(java.util.List&lt;T&gt; numbers) {\n        if (numbers.isEmpty()) {\n            return 0.0;\n        }\n\n        double sum = 0.0;\n        for (T number : numbers) {\n            sum += number.doubleValue();\n        }\n        return sum / numbers.size();\n    }\n}\n</code></pre>"},{"location":"java/oop/07-interface-generics/#_8","title":"\u6cdb\u578b\u4f7f\u7528\u7bc4\u4f8b","text":"Java<pre><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class GenericsDemo {\n    public static void main(String[] args) {\n        System.out.println(\"=== \u57fa\u672c\u6cdb\u578b\u4f7f\u7528 ===\");\n\n        // \u4f7f\u7528 Box \u6cdb\u578b\u985e\u5225\n        Box&lt;String&gt; stringBox = new Box&lt;&gt;(\"Hello Generics\");\n        Box&lt;Integer&gt; intBox = new Box&lt;&gt;(42);\n        Box&lt;Double&gt; emptyBox = new Box&lt;&gt;();\n\n        System.out.println(\"String Box: \" + stringBox);\n        System.out.println(\"Integer Box: \" + intBox);\n        System.out.println(\"Empty Box: \" + emptyBox);\n\n        // \u6e2c\u8a66 Box \u65b9\u6cd5\n        System.out.println(\"String Box \u5167\u5bb9: \" + stringBox.get());\n        System.out.println(\"Integer Box \u662f\u5426\u70ba\u7a7a: \" + intBox.isEmpty());\n\n        intBox.set(100);\n        System.out.println(\"\u4fee\u6539\u5f8c Integer Box: \" + intBox);\n\n        // \u6e2c\u8a66\u6cdb\u578b\u65b9\u6cd5 map\n        Box&lt;String&gt; mappedBox = intBox.map(i -&gt; \"\u6578\u5b57: \" + i);\n        System.out.println(\"\u5c0d\u61c9\u5f8c\u7684 Box: \" + mappedBox);\n\n        System.out.println(\"\\n=== Pair \u6cdb\u578b\u985e\u5225 ===\");\n\n        // \u4f7f\u7528 Pair\n        Pair&lt;String, Integer&gt; nameAge = new Pair&lt;&gt;(\"\u5f35\u5c0f\u660e\", 25);\n        Pair&lt;Double, Double&gt; coordinates = Pair.of(10.5, 20.3);\n\n        System.out.println(\"\u59d3\u540d\u5e74\u9f61: \" + nameAge);\n        System.out.println(\"\u5ea7\u6a19: \" + coordinates);\n\n        // \u4fee\u6539 Pair \u5167\u5bb9\n        nameAge.setSecond(26);\n        System.out.println(\"\u4fee\u6539\u5e74\u9f61\u5f8c: \" + nameAge);\n\n        // \u6e2c\u8a66\u540c\u985e\u578b Pair \u7684\u4ea4\u63db\n        Pair&lt;Integer, Integer&gt; numbers = new Pair&lt;&gt;(5, 10);\n        System.out.println(\"\u4ea4\u63db\u524d: \" + numbers);\n        numbers.swap();\n        System.out.println(\"\u4ea4\u63db\u5f8c: \" + numbers);\n\n        System.out.println(\"\\n=== NumberBox \u6709\u754c\u6cdb\u578b ===\");\n\n        // \u4f7f\u7528\u6709\u754c\u6cdb\u578b\n        NumberBox&lt;Integer&gt; intNumberBox = new NumberBox&lt;&gt;(42);\n        NumberBox&lt;Double&gt; doubleNumberBox = new NumberBox&lt;&gt;(3.14);\n        NumberBox&lt;Float&gt; floatNumberBox = new NumberBox&lt;&gt;(2.5f);\n\n        System.out.println(\"Integer NumberBox: \" + intNumberBox);\n        System.out.println(\"Double NumberBox: \" + doubleNumberBox);\n        System.out.println(\"Float NumberBox: \" + floatNumberBox);\n\n        // \u6e2c\u8a66\u6578\u5b57\u64cd\u4f5c\n        System.out.println(\"Int \u7684 double \u503c: \" + intNumberBox.getDoubleValue());\n        System.out.println(\"Double \u7684 int \u503c: \" + doubleNumberBox.getIntValue());\n\n        // \u6bd4\u8f03\u548c\u8a08\u7b97\n        System.out.println(\"Int &gt; Double: \" + intNumberBox.isGreaterThan(doubleNumberBox));\n        System.out.println(\"Int + Double: \" + intNumberBox.add(doubleNumberBox));\n        System.out.println(\"Double + Float: \" + doubleNumberBox.add(floatNumberBox));\n\n        System.out.println(\"\\n=== \u6cdb\u578b\u65b9\u6cd5\u6e2c\u8a66 ===\");\n\n        // \u6e2c\u8a66 swap \u65b9\u6cd5\n        String[] strings = {\"Apple\", \"Banana\", \"Cherry\"};\n        System.out.println(\"\u4ea4\u63db\u524d: \" + Arrays.toString(strings));\n        GenericMethods.swap(strings, 0, 2);\n        System.out.println(\"\u4ea4\u63db\u5f8c: \" + Arrays.toString(strings));\n\n        Integer[] integers = {3, 1, 4, 1, 5, 9};\n        System.out.println(\"\u6578\u5b57\u9663\u5217: \" + Arrays.toString(integers));\n        System.out.println(\"\u6700\u5927\u503c: \" + GenericMethods.findMax(integers));\n\n        // \u6e2c\u8a66 List \u8f49\u63db\n        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5);\n        List&lt;String&gt; numberStrings = GenericMethods.mapList(numbers, \n            num -&gt; \"\u6578\u5b57\" + num);\n        System.out.println(\"\u539f\u59cb\u6578\u5b57: \" + numbers);\n        System.out.println(\"\u8f49\u63db\u5f8c: \" + numberStrings);\n\n        // \u6e2c\u8a66 List \u904e\u6ffe\n        List&lt;Integer&gt; evenNumbers = GenericMethods.filterList(numbers, \n            num -&gt; num % 2 == 0);\n        System.out.println(\"\u5076\u6578: \" + evenNumbers);\n\n        // \u6e2c\u8a66\u7d44\u5408\u65b9\u6cd5\n        String combined = GenericMethods.combine(\"Hello\", 123, \n            (str, num) -&gt; str + \" \" + num);\n        System.out.println(\"\u7d44\u5408\u7d50\u679c: \" + combined);\n\n        // \u6e2c\u8a66\u5e73\u5747\u503c\u8a08\u7b97\n        List&lt;Double&gt; doubles = Arrays.asList(1.5, 2.5, 3.5, 4.5, 5.5);\n        double average = GenericMethods.calculateAverage(doubles);\n        System.out.println(\"\u6578\u5b57: \" + doubles);\n        System.out.println(\"\u5e73\u5747\u503c: \" + average);\n\n        System.out.println(\"\\n=== \u578b\u614b\u5b89\u5168\u793a\u7bc4 ===\");\n\n        // \u7de8\u8b6f\u671f\u578b\u614b\u6aa2\u67e5\n        Box&lt;String&gt; stringOnlyBox = new Box&lt;&gt;(\"\u53ea\u80fd\u653e\u5b57\u4e32\");\n        // stringOnlyBox.set(123); // \u7de8\u8b6f\u932f\u8aa4\uff1a\u578b\u614b\u4e0d\u7b26\n\n        List&lt;Integer&gt; integerList = new ArrayList&lt;&gt;();\n        integerList.add(1);\n        integerList.add(2);\n        // integerList.add(\"string\"); // \u7de8\u8b6f\u932f\u8aa4\uff1a\u578b\u614b\u4e0d\u7b26\n\n        System.out.println(\"\u6cdb\u578b\u63d0\u4f9b\u7de8\u8b6f\u671f\u578b\u614b\u5b89\u5168\u6aa2\u67e5\");\n        System.out.println(\"\u907f\u514d ClassCastException \u57f7\u884c\u671f\u932f\u8aa4\");\n    }\n}\n</code></pre> <p>\u6cdb\u578b\u6700\u4f73\u5be6\u8e10</p> <ul> <li>\u4f7f\u7528\u6709\u610f\u7fa9\u7684\u578b\u5225\u53c3\u6578\u540d\u7a31\uff08T, E, K, V\uff09</li> <li>\u512a\u5148\u4f7f\u7528\u6709\u754c\u6cdb\u578b\u4f86\u9650\u5236\u578b\u5225</li> <li>\u907f\u514d\u4f7f\u7528\u539f\u59cb\u578b\u5225\uff08raw types\uff09</li> <li>\u4f7f\u7528\u842c\u7528\u5b57\u5143\u8655\u7406\u4e0d\u78ba\u5b9a\u7684\u578b\u5225</li> </ul>"},{"location":"java/oop/07-interface-generics/#_9","title":"\u6cdb\u578b\u985e\u5225\u8207\u65b9\u6cd5","text":""},{"location":"java/oop/07-interface-generics/#_10","title":"\u6cdb\u578b\u96c6\u5408\u5305\u88dd\u5668","text":"Java<pre><code>import java.util.*;\nimport java.util.function.*;\n\n// \u589e\u5f37\u7248\u6cdb\u578b\u5217\u8868\npublic class EnhancedList&lt;T&gt; {\n    private List&lt;T&gt; items;\n\n    public EnhancedList() {\n        this.items = new ArrayList&lt;&gt;();\n    }\n\n    public EnhancedList(Collection&lt;T&gt; collection) {\n        this.items = new ArrayList&lt;&gt;(collection);\n    }\n\n    // \u57fa\u672c\u64cd\u4f5c\n    public void add(T item) {\n        items.add(item);\n    }\n\n    public void addAll(T... items) {\n        this.items.addAll(Arrays.asList(items));\n    }\n\n    public T get(int index) {\n        return items.get(index);\n    }\n\n    public int size() {\n        return items.size();\n    }\n\n    public boolean isEmpty() {\n        return items.isEmpty();\n    }\n\n    // \u6cdb\u578b\u65b9\u6cd5\uff1a\u8f49\u63db\u5217\u8868\n    public &lt;U&gt; EnhancedList&lt;U&gt; map(Function&lt;T, U&gt; mapper) {\n        EnhancedList&lt;U&gt; result = new EnhancedList&lt;&gt;();\n        for (T item : items) {\n            result.add(mapper.apply(item));\n        }\n        return result;\n    }\n\n    // \u904e\u6ffe\u5217\u8868\n    public EnhancedList&lt;T&gt; filter(Predicate&lt;T&gt; predicate) {\n        EnhancedList&lt;T&gt; result = new EnhancedList&lt;&gt;();\n        for (T item : items) {\n            if (predicate.test(item)) {\n                result.add(item);\n            }\n        }\n        return result;\n    }\n\n    // \u6b78\u7d04\u64cd\u4f5c\n    public &lt;U&gt; U reduce(U initial, BiFunction&lt;U, T, U&gt; accumulator) {\n        U result = initial;\n        for (T item : items) {\n            result = accumulator.apply(result, item);\n        }\n        return result;\n    }\n\n    // \u5c0b\u627e\u7b2c\u4e00\u500b\u7b26\u5408\u689d\u4ef6\u7684\u5143\u7d20\n    public Optional&lt;T&gt; find(Predicate&lt;T&gt; predicate) {\n        for (T item : items) {\n            if (predicate.test(item)) {\n                return Optional.of(item);\n            }\n        }\n        return Optional.empty();\n    }\n\n    // \u6aa2\u67e5\u662f\u5426\u6240\u6709\u5143\u7d20\u90fd\u7b26\u5408\u689d\u4ef6\n    public boolean allMatch(Predicate&lt;T&gt; predicate) {\n        for (T item : items) {\n            if (!predicate.test(item)) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    // \u6aa2\u67e5\u662f\u5426\u6709\u4efb\u4f55\u5143\u7d20\u7b26\u5408\u689d\u4ef6\n    public boolean anyMatch(Predicate&lt;T&gt; predicate) {\n        for (T item : items) {\n            if (predicate.test(item)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    // \u5c0d\u6bcf\u500b\u5143\u7d20\u57f7\u884c\u64cd\u4f5c\n    public void forEach(Consumer&lt;T&gt; action) {\n        for (T item : items) {\n            action.accept(item);\n        }\n    }\n\n    // \u6392\u5e8f\uff08\u8981\u6c42\u5143\u7d20\u53ef\u6bd4\u8f03\uff09\n    @SuppressWarnings(\"unchecked\")\n    public EnhancedList&lt;T&gt; sorted() {\n        if (!items.isEmpty() &amp;&amp; items.get(0) instanceof Comparable) {\n            List&lt;T&gt; sortedItems = new ArrayList&lt;&gt;(items);\n            sortedItems.sort((Comparator&lt;T&gt;) Comparator.naturalOrder());\n            return new EnhancedList&lt;&gt;(sortedItems);\n        }\n        throw new IllegalStateException(\"\u5143\u7d20\u5fc5\u9808\u5be6\u4f5c Comparable \u4ecb\u9762\");\n    }\n\n    // \u4f7f\u7528\u81ea\u5b9a\u7fa9\u6bd4\u8f03\u5668\u6392\u5e8f\n    public EnhancedList&lt;T&gt; sorted(Comparator&lt;T&gt; comparator) {\n        List&lt;T&gt; sortedItems = new ArrayList&lt;&gt;(items);\n        sortedItems.sort(comparator);\n        return new EnhancedList&lt;&gt;(sortedItems);\n    }\n\n    // \u8f49\u70ba\u4e00\u822c List\n    public List&lt;T&gt; toList() {\n        return new ArrayList&lt;&gt;(items);\n    }\n\n    // \u8f49\u70ba\u9663\u5217\n    @SuppressWarnings(\"unchecked\")\n    public T[] toArray(T[] array) {\n        return items.toArray(array);\n    }\n\n    @Override\n    public String toString() {\n        return items.toString();\n    }\n}\n\n// \u6cdb\u578b\u5de5\u5177\u985e\u5225\npublic class GenericUtils {\n\n    // \u5b89\u5168\u7684\u578b\u5225\u8f49\u63db\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; T safeCast(Object obj, Class&lt;T&gt; targetType) {\n        if (targetType.isInstance(obj)) {\n            return (T) obj;\n        }\n        return null;\n    }\n\n    // \u5efa\u7acb\u6307\u5b9a\u5927\u5c0f\u7684\u9663\u5217\n    @SuppressWarnings(\"unchecked\")\n    public static &lt;T&gt; T[] createArray(Class&lt;T&gt; componentType, int size) {\n        return (T[]) java.lang.reflect.Array.newInstance(componentType, size);\n    }\n\n    // \u5408\u4f75\u591a\u500b\u5217\u8868\n    @SafeVarargs\n    public static &lt;T&gt; List&lt;T&gt; merge(List&lt;T&gt;... lists) {\n        List&lt;T&gt; result = new ArrayList&lt;&gt;();\n        for (List&lt;T&gt; list : lists) {\n            result.addAll(list);\n        }\n        return result;\n    }\n\n    // \u5efa\u7acb\u4e0d\u53ef\u8b8a\u5217\u8868\n    @SafeVarargs\n    public static &lt;T&gt; List&lt;T&gt; immutableList(T... elements) {\n        return Collections.unmodifiableList(Arrays.asList(elements));\n    }\n\n    // \u5206\u7d44\u64cd\u4f5c\n    public static &lt;T, K&gt; Map&lt;K, List&lt;T&gt;&gt; groupBy(List&lt;T&gt; list, Function&lt;T, K&gt; keyExtractor) {\n        Map&lt;K, List&lt;T&gt;&gt; groups = new HashMap&lt;&gt;();\n        for (T item : list) {\n            K key = keyExtractor.apply(item);\n            groups.computeIfAbsent(key, k -&gt; new ArrayList&lt;&gt;()).add(item);\n        }\n        return groups;\n    }\n\n    // \u5efa\u7acb Pair\n    public static &lt;T, U&gt; Pair&lt;T, U&gt; pair(T first, U second) {\n        return new Pair&lt;&gt;(first, second);\n    }\n}\n</code></pre>"},{"location":"java/oop/07-interface-generics/#_11","title":"\u6cdb\u578b\u4f7f\u7528\u9032\u968e\u7bc4\u4f8b","text":"Java<pre><code>import java.util.*;\nimport java.util.function.*;\n\npublic class AdvancedGenericsDemo {\n\n    // \u5b9a\u7fa9\u4e00\u4e9b\u6e2c\u8a66\u985e\u5225\n    static class Person {\n        private String name;\n        private int age;\n        private String department;\n\n        public Person(String name, int age, String department) {\n            this.name = name;\n            this.age = age;\n            this.department = department;\n        }\n\n        // Getters\n        public String getName() { return name; }\n        public int getAge() { return age; }\n        public String getDepartment() { return department; }\n\n        @Override\n        public String toString() {\n            return String.format(\"Person{name='%s', age=%d, dept='%s'}\", \n                               name, age, department);\n        }\n    }\n\n    public static void main(String[] args) {\n        System.out.println(\"=== \u9032\u968e\u6cdb\u578b\u793a\u7bc4 ===\");\n\n        // \u5efa\u7acb EnhancedList\n        EnhancedList&lt;Integer&gt; numbers = new EnhancedList&lt;&gt;();\n        numbers.addAll(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);\n\n        System.out.println(\"\u539f\u59cb\u6578\u5b57: \" + numbers);\n\n        // \u6e2c\u8a66 map \u8f49\u63db\n        EnhancedList&lt;String&gt; numberStrings = numbers.map(n -&gt; \"\u6578\u5b57\" + n);\n        System.out.println(\"\u8f49\u63db\u70ba\u5b57\u4e32: \" + numberStrings);\n\n        EnhancedList&lt;Integer&gt; squares = numbers.map(n -&gt; n * n);\n        System.out.println(\"\u5e73\u65b9\u6578: \" + squares);\n\n        // \u6e2c\u8a66 filter \u904e\u6ffe\n        EnhancedList&lt;Integer&gt; evenNumbers = numbers.filter(n -&gt; n % 2 == 0);\n        EnhancedList&lt;Integer&gt; bigNumbers = numbers.filter(n -&gt; n &gt; 5);\n\n        System.out.println(\"\u5076\u6578: \" + evenNumbers);\n        System.out.println(\"\u5927\u65bc5\u7684\u6578: \" + bigNumbers);\n\n        // \u6e2c\u8a66 reduce \u6b78\u7d04\n        Integer sum = numbers.reduce(0, Integer::sum);\n        Integer product = numbers.reduce(1, (a, b) -&gt; a * b);\n        String concatenated = numbers.reduce(\"\", (str, num) -&gt; str + num + \" \");\n\n        System.out.println(\"\u7e3d\u548c: \" + sum);\n        System.out.println(\"\u4e58\u7a4d: \" + product);\n        System.out.println(\"\u4e32\u806f: \" + concatenated.trim());\n\n        // \u6e2c\u8a66\u67e5\u627e\n        Optional&lt;Integer&gt; firstEven = numbers.find(n -&gt; n % 2 == 0);\n        Optional&lt;Integer&gt; firstNegative = numbers.find(n -&gt; n &lt; 0);\n\n        System.out.println(\"\u7b2c\u4e00\u500b\u5076\u6578: \" + firstEven.orElse(-1));\n        System.out.println(\"\u7b2c\u4e00\u500b\u8ca0\u6578: \" + firstNegative.orElse(-1));\n\n        // \u6e2c\u8a66\u689d\u4ef6\u6aa2\u67e5\n        boolean allPositive = numbers.allMatch(n -&gt; n &gt; 0);\n        boolean anyBigger = numbers.anyMatch(n -&gt; n &gt; 8);\n\n        System.out.println(\"\u5168\u90e8\u70ba\u6b63\u6578: \" + allPositive);\n        System.out.println(\"\u6709\u5927\u65bc8\u7684\u6578: \" + anyBigger);\n\n        // \u6e2c\u8a66\u6392\u5e8f\n        EnhancedList&lt;Integer&gt; shuffledNumbers = new EnhancedList&lt;&gt;();\n        shuffledNumbers.addAll(5, 2, 8, 1, 9, 3);\n        System.out.println(\"\u6253\u4e82\u7684\u6578\u5b57: \" + shuffledNumbers);\n        System.out.println(\"\u6392\u5e8f\u5f8c: \" + shuffledNumbers.sorted());\n        System.out.println(\"\u9006\u5e8f\u6392\u5e8f: \" + shuffledNumbers.sorted(Comparator.reverseOrder()));\n\n        System.out.println(\"\\n=== \u8907\u96dc\u7269\u4ef6\u8655\u7406 ===\");\n\n        // \u5efa\u7acb\u4eba\u54e1\u5217\u8868\n        EnhancedList&lt;Person&gt; people = new EnhancedList&lt;&gt;();\n        people.addAll(\n            new Person(\"\u5f35\u4e09\", 25, \"IT\"),\n            new Person(\"\u674e\u56db\", 30, \"HR\"),\n            new Person(\"\u738b\u4e94\", 22, \"IT\"),\n            new Person(\"\u8d99\u516d\", 35, \"Finance\"),\n            new Person(\"\u5468\u4e03\", 28, \"IT\")\n        );\n\n        System.out.println(\"\u6240\u6709\u4eba\u54e1:\");\n        people.forEach(System.out::println);\n\n        // \u6309\u90e8\u9580\u904e\u6ffe\n        EnhancedList&lt;Person&gt; itPeople = people.filter(p -&gt; \"IT\".equals(p.getDepartment()));\n        System.out.println(\"\\nIT \u90e8\u9580\u4eba\u54e1: \" + itPeople);\n\n        // \u6309\u5e74\u9f61\u6392\u5e8f\n        EnhancedList&lt;Person&gt; sortedByAge = people.sorted(\n            Comparator.comparingInt(Person::getAge));\n        System.out.println(\"\\n\u6309\u5e74\u9f61\u6392\u5e8f:\");\n        sortedByAge.forEach(System.out::println);\n\n        // \u63d0\u53d6\u59d3\u540d\n        EnhancedList&lt;String&gt; names = people.map(Person::getName);\n        System.out.println(\"\\n\u6240\u6709\u59d3\u540d: \" + names);\n\n        // \u8a08\u7b97\u5e73\u5747\u5e74\u9f61\n        double avgAge = people.reduce(0.0, (avg, person) -&gt; avg + person.getAge()) / people.size();\n        System.out.println(\"\u5e73\u5747\u5e74\u9f61: \" + String.format(\"%.1f\", avgAge));\n\n        System.out.println(\"\\n=== \u5de5\u5177\u985e\u5225\u6e2c\u8a66 ===\");\n\n        // \u6e2c\u8a66\u5206\u7d44\n        Map&lt;String, List&lt;Person&gt;&gt; groupedByDept = GenericUtils.groupBy(\n            people.toList(), Person::getDepartment);\n\n        System.out.println(\"\u6309\u90e8\u9580\u5206\u7d44:\");\n        groupedByDept.forEach((dept, peopleList) -&gt; \n            System.out.println(dept + \": \" + peopleList.size() + \" \u4eba\"));\n\n        // \u6e2c\u8a66\u5408\u4f75\u5217\u8868\n        List&lt;Integer&gt; list1 = Arrays.asList(1, 2, 3);\n        List&lt;Integer&gt; list2 = Arrays.asList(4, 5, 6);\n        List&lt;Integer&gt; list3 = Arrays.asList(7, 8, 9);\n\n        List&lt;Integer&gt; merged = GenericUtils.merge(list1, list2, list3);\n        System.out.println(\"\u5408\u4f75\u5217\u8868: \" + merged);\n\n        // \u6e2c\u8a66\u4e0d\u53ef\u8b8a\u5217\u8868\n        List&lt;String&gt; immutable = GenericUtils.immutableList(\"Apple\", \"Banana\", \"Cherry\");\n        System.out.println(\"\u4e0d\u53ef\u8b8a\u5217\u8868: \" + immutable);\n\n        // \u6e2c\u8a66\u578b\u5225\u8f49\u63db\n        Object obj = \"Hello World\";\n        String str = GenericUtils.safeCast(obj, String.class);\n        Integer num = GenericUtils.safeCast(obj, Integer.class);\n\n        System.out.println(\"\u5b89\u5168\u8f49\u63db\u70ba String: \" + str);\n        System.out.println(\"\u5b89\u5168\u8f49\u63db\u70ba Integer: \" + num);\n\n        // \u6e2c\u8a66 Pair\n        Pair&lt;String, Integer&gt; nameAge = GenericUtils.pair(\"Alice\", 25);\n        System.out.println(\"Pair: \" + nameAge);\n    }\n}\n</code></pre> <p>\u6cdb\u578b\u9032\u968e\u6982\u5ff5</p> <ul> <li>\u578b\u5225\u64e6\u9664: \u6cdb\u578b\u8cc7\u8a0a\u5728\u7de8\u8b6f\u5f8c\u88ab\u79fb\u9664</li> <li>\u842c\u7528\u5b57\u5143: <code>?</code>, <code>? extends T</code>, <code>? super T</code></li> <li>PECS \u539f\u5247: Producer extends, Consumer super</li> <li>\u6cdb\u578b\u9650\u5236: \u4e0d\u80fd\u5efa\u7acb\u6cdb\u578b\u9663\u5217\u3001\u4e0d\u80fd\u7528\u65bc\u975c\u614b\u6b04\u4f4d</li> </ul>"},{"location":"java/oop/07-interface-generics/#_12","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>\u4ecb\u9762\uff1a\u5b9a\u7fa9\u5951\u7d04\uff0c\u652f\u63f4\u591a\u91cd\u5be6\u4f5c\uff0c\u53ef\u5305\u542b\u9810\u8a2d\u65b9\u6cd5\u548c\u975c\u614b\u65b9\u6cd5</li> <li>\u9810\u8a2d\u65b9\u6cd5\uff1a\u89e3\u6c7a\u4ecb\u9762\u6f14\u5316\u554f\u984c\uff0c\u63d0\u4f9b\u9810\u8a2d\u5be6\u4f5c</li> <li>\u51fd\u6578\u5f0f\u4ecb\u9762\uff1a\u53ea\u6709\u4e00\u500b\u62bd\u8c61\u65b9\u6cd5\u7684\u4ecb\u9762\uff0c\u652f\u63f4 Lambda \u8868\u9054\u5f0f</li> <li>\u6cdb\u578b\uff1a\u63d0\u4f9b\u7de8\u8b6f\u671f\u578b\u5225\u5b89\u5168\uff0c\u907f\u514d\u578b\u5225\u8f49\u63db\u932f\u8aa4</li> <li>\u6cdb\u578b\u65b9\u6cd5\uff1a\u5728\u65b9\u6cd5\u5c64\u7d1a\u4f7f\u7528\u578b\u5225\u53c3\u6578\uff0c\u66f4\u9748\u6d3b\u7684\u578b\u5225\u8655\u7406</li> </ol> <p>\u6700\u4f73\u5be6\u8e10\u5efa\u8b70</p> <ul> <li>\u512a\u5148\u4f7f\u7528\u4ecb\u9762\u800c\u975e\u62bd\u8c61\u985e\u5225</li> <li>\u5584\u7528\u9810\u8a2d\u65b9\u6cd5\u907f\u514d\u7834\u58de\u73fe\u6709\u5be6\u4f5c</li> <li>\u4f7f\u7528\u6cdb\u578b\u63d0\u4f9b\u578b\u5225\u5b89\u5168</li> <li>\u907f\u514d\u4f7f\u7528\u539f\u59cb\u578b\u5225</li> <li>\u5408\u7406\u4f7f\u7528\u6709\u754c\u6cdb\u578b\u9650\u5236\u578b\u5225</li> </ul>"},{"location":"java/oop/07-interface-generics/#_13","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u57fa\u790e\u7df4\u7fd2</li> <li>\u8a2d\u8a08\u5f62\u72c0\u4ecb\u9762\u7cfb\u7d71\uff08Shape, Drawable, Movable\uff09</li> <li>\u5efa\u7acb\u6cdb\u578b\u5806\u758a\uff08Stack\uff09\u548c\u4f47\u5217\uff08Queue\uff09\u985e\u5225</li> <li> <p>\u5be6\u4f5c\u51fd\u6578\u5f0f\u4ecb\u9762\u9032\u884c\u8cc7\u6599\u8655\u7406</p> </li> <li> <p>\u9032\u968e\u7df4\u7fd2</p> </li> <li>\u8a2d\u8a08\u5b8c\u6574\u7684\u96c6\u5408\u6846\u67b6\uff08List, Set, Map \u4ecb\u9762\uff09</li> <li>\u5efa\u7acb\u6cdb\u578b\u6a39\u72c0\u7d50\u69cb\uff08Tree\uff09 <li> <p>\u5be6\u4f5c\u89c0\u5bdf\u8005\u6a21\u5f0f\u4f7f\u7528\u4ecb\u9762\u548c\u6cdb\u578b</p> </li> <li> <p>\u7d9c\u5408\u7df4\u7fd2</p> </li> <li>\u5efa\u7acb\u901a\u7528\u7684 Repository \u4ecb\u9762\u7cfb\u7d71</li> <li>\u8a2d\u8a08\u4e8b\u4ef6\u8655\u7406\u7cfb\u7d71\u4f7f\u7528\u51fd\u6578\u5f0f\u4ecb\u9762</li> <li>\u5be6\u4f5c\u985e\u578b\u5b89\u5168\u7684\u5efa\u69cb\u8005\u6a21\u5f0f</li> <p>\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2\u9663\u5217\u8207\u8ff4\u5708\u7684\u9032\u968e\u4f7f\u7528\u6280\u5de7\uff01</p>"},{"location":"java-class/","title":"Java SE 21\u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08","text":"<p>\u73ed\u6b21: 2025/11/24 \u7db2\u7ad9: https://www.uuu.com.tw/Course/Show/2131/Java-SE-21%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80%E8%A8%AD%E8%A8%88</p>"},{"location":"java-class/#_1","title":"\u8ab2\u7a0b\u5927\u7db1","text":"<ol> <li>Java\u6280\u8853\u6982\u8ad6<ul> <li>\u4e86\u89e3 Java \u5e73\u53f0\u7684\u904b\u4f5c\u539f\u7406 (JVM, JRE, JDK)</li> <li>\u8a8d\u8b58 Java SE \u7248\u672c\u6f14\u9032\u8207\u7279\u8272</li> <li>\u64b0\u5beb\u4e26\u57f7\u884c\u7b2c\u4e00\u500b Java \u7a0b\u5f0f</li> </ul> </li> <li>\u57fa\u672c\u8cc7\u6599\u578b\u614b\u3001\u904b\u7b97\u5b50\u8207\u6d41\u7a0b\u63a7\u5236\u6558\u8ff0<ul> <li>\u638c\u63e1\u516b\u5927\u57fa\u672c\u8cc7\u6599\u578b\u614b (Primitive Types)</li> <li>\u719f\u6089\u8b8a\u6578\u5ba3\u544a\u8207\u7bc4\u7587 (Scope)</li> <li>\u904b\u7528\u7b97\u8853\u3001\u6bd4\u8f03\u3001\u908f\u8f2f\u8207\u4f4d\u5143\u904b\u7b97\u5b50</li> <li>\u4f7f\u7528 if-else, switch, for, while \u7b49\u6d41\u7a0b\u63a7\u5236</li> </ul> </li> <li>\u6587\u5b57\u3001\u65e5\u671f\u3001\u6642\u9593\u8207\u6578\u5b57\u7269\u4ef6<ul> <li>\u4f7f\u7528 String, StringBuilder \u8655\u7406\u6587\u5b57</li> <li>\u904b\u7528 Java Date/Time API (LocalDate, LocalDateTime, ZonedDateTime)</li> <li>\u6578\u5b57\u683c\u5f0f\u5316\u8207 BigDecimal \u7cbe\u78ba\u904b\u7b97</li> </ul> </li> <li>\u985e\u5225\u8207\u7269\u4ef6<ul> <li>\u7406\u89e3\u7269\u4ef6\u5c0e\u5411\u6838\u5fc3\u6982\u5ff5 (Class vs Object)</li> <li>\u5b9a\u7fa9\u985e\u5225\u3001\u5c6c\u6027 (Field) \u8207\u65b9\u6cd5 (Method)</li> <li>\u4f7f\u7528\u5efa\u69cb\u5b50 (Constructor) \u521d\u59cb\u5316\u7269\u4ef6</li> <li>\u95dc\u9375\u5b57 this \u7684\u4f7f\u7528</li> </ul> </li> <li>\u8a2d\u8a08\u985e\u5225\u8207\u5217\u8209(enum)<ul> <li>\u5c01\u88dd (Encapsulation) \u8207\u5b58\u53d6\u4fee\u98fe\u5b50 (Access Modifiers)</li> <li>\u975c\u614b\u6210\u54e1 (static) \u8207\u5be6\u4f8b\u6210\u54e1\u7684\u5340\u5225</li> <li>\u5b9a\u7fa9\u8207\u4f7f\u7528 Enum \u5217\u8209\u578b\u614b</li> </ul> </li> <li>\u5be6\u4f5c\u7e7c\u627f\u8207\u4f7f\u7528\u7d00\u9304<ul> <li>\u7e7c\u627f (Inheritance) \u7684\u8a9e\u6cd5\u8207\u61c9\u7528 (extends)</li> <li>\u65b9\u6cd5\u8986\u5beb (Overriding) \u8207 super \u95dc\u9375\u5b57</li> <li>\u4f7f\u7528 Java 14+ \u7684 Record \u985e\u5225\u7c21\u5316\u8cc7\u6599\u8f09\u9ad4</li> </ul> </li> <li>\u4ecb\u9762\u8207\u6cdb\u578b(Generics)<ul> <li>\u5b9a\u7fa9\u8207\u5be6\u4f5c\u4ecb\u9762 (Interface)</li> <li>\u4ecb\u9762\u7684\u9810\u8a2d\u65b9\u6cd5 (Default Methods) \u8207\u975c\u614b\u65b9\u6cd5</li> <li>\u6cdb\u578b\u985e\u5225\u8207\u6cdb\u578b\u65b9\u6cd5\u7684\u57fa\u790e\u61c9\u7528</li> </ul> </li> <li>\u9663\u5217\u8207\u8ff4\u5708<ul> <li>\u4e00\u7dad\u8207\u591a\u7dad\u9663\u5217\u7684\u5ba3\u544a\u8207\u64cd\u4f5c</li> <li>\u4f7f\u7528 Enhanced for-loop \u8d70\u8a2a\u9663\u5217</li> <li>\u9663\u5217\u8907\u88fd\u8207 Arrays \u5de5\u5177\u985e\u5225</li> </ul> </li> <li>\u96c6\u5408(Collections)<ul> <li>List, Set, Map \u4ecb\u9762\u7684\u7279\u6027\u8207\u9078\u64c7</li> <li>ArrayList, HashSet, HashMap \u7684\u5be6\u4f5c\u8207\u61c9\u7528</li> <li>\u96c6\u5408\u7684\u8d70\u8a2a\u8207\u6392\u5e8f (Comparable/Comparator)</li> </ul> </li> <li>\u5de2\u72c0\u985e\u5225\u8207Lambda\u904b\u7b97\u5f0f<ul> <li>\u5167\u90e8\u985e\u5225 (Inner Class) \u8207\u533f\u540d\u5167\u90e8\u985e\u5225</li> <li>Lambda \u8868\u9054\u5f0f\u7684\u8a9e\u6cd5\u8207\u61c9\u7528\u5834\u666f</li> <li>\u65b9\u6cd5\u53c3\u8003 (Method Reference)</li> </ul> </li> <li>Java 8\u4e32\u6d41API<ul> <li>Stream API \u7684\u5efa\u7acb\u8207\u64cd\u4f5c (Intermediate vs Terminal operations)</li> <li>\u5e38\u898b\u64cd\u4f5c\uff1afilter, map, reduce, collect</li> <li>\u5e73\u884c\u4e32\u6d41 (Parallel Stream) \u7684\u6982\u5ff5</li> </ul> </li> <li>\u4f8b\u5916\u63a7\u5236\u3001\u8a18\u9304(Records)\u8207\u9664\u932f<ul> <li>try-catch-finally \u5340\u584a\u7684\u4f7f\u7528</li> <li>Checked vs Unchecked Exception</li> <li>\u81ea\u5b9a\u7fa9\u4f8b\u5916\u8207 throw/throws</li> <li>\u4f7f\u7528\u65b7\u8a00 (Assertion) \u8207\u9664\u932f\u6280\u5de7</li> </ul> </li> <li>\u6a19\u8a18(Annotations)<ul> <li>\u5167\u5efa\u8a3b\u89e3 (@Override, @Deprecated, @SuppressWarnings)</li> <li>\u81ea\u5b9a\u7fa9\u8a3b\u89e3\u7684\u5b9a\u7fa9\u8207\u4f7f\u7528</li> <li>\u4e86\u89e3\u8a3b\u89e3\u5728\u6846\u67b6\u4e2d\u7684\u61c9\u7528\u539f\u7406</li> </ul> </li> <li>\u958b\u767c\u8cc7\u6599\u5eab\u61c9\u7528\u7a0b\u5f0f<ul> <li>JDBC \u6838\u5fc3 API \u4ecb\u7d39 (Connection, Statement, ResultSet)</li> <li>\u57f7\u884c SQL \u67e5\u8a62\u8207\u66f4\u65b0</li> <li>PreparedStatement \u7684\u4f7f\u7528\u8207 SQL Injection \u9632\u8b77</li> </ul> </li> <li>\u5b89\u5168\u6027<ul> <li>Java \u5b89\u5168\u6a21\u578b\u6982\u8ad6</li> <li>\u57fa\u790e\u52a0\u5bc6\u8207\u89e3\u5bc6\u6982\u5ff5</li> <li>\u5b89\u5168\u7de8\u78bc\u5be6\u52d9 (Secure Coding Practices)</li> </ul> </li> <li>\u9032\u968e\u6cdb\u578b(Generics)<ul> <li>\u6cdb\u578b\u901a\u914d\u7b26 (Wildcards: ?, ? extends T, ? super T)</li> <li>\u6cdb\u578b\u908a\u754c (Bounded Type Parameters)</li> <li>\u6cdb\u578b\u64e6\u9664 (Type Erasure) \u7684\u5f71\u97ff</li> </ul> </li> <li>\u8a2d\u8a08\u6a21\u5f0f\u3001\u5e38\u5f0f\u904b\u7b97\u5f0f\u8207IO watch\u670d\u52d9<ul> <li>\u5e38\u898b\u8a2d\u8a08\u6a21\u5f0f (Singleton, Factory, Observer \u7b49)</li> <li>\u6b63\u898f\u8868\u793a\u5f0f (Regular Expressions) \u7684\u8a9e\u6cd5\u8207 Pattern/Matcher</li> <li>NIO.2 Path \u8207 WatchService \u76e3\u63a7\u6a94\u6848\u7cfb\u7d71\u8b8a\u66f4</li> </ul> </li> </ol>"},{"location":"java-class/#_2","title":"\u5b78\u7fd2\u91cd\u9ede\u8207\u76ee\u6a19","text":""},{"location":"java-class/#_3","title":"\u8ab2\u7a0b\u76ee\u6a19","text":"<p>\u672c\u8ab2\u7a0b\u4f7f\u7528\u6700\u65b0\u7684Java SE 21\u5be6\u4f5cJava SE\u61c9\u7528\u7a0b\u5f0f\uff0c\u8ab2\u7a0b\u5167\u5bb9\u6db5\u84cb\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a2d\u8a08\u3001Java\u7a0b\u5f0f\u8a2d\u8a08\u8a9e\u8a00\u7684\u8a9e\u6cd5\u8207\u7a0b\u5f0f\u8a2d\u8a08\u6280\u5de7\u3001\u4f7f\u7528Java\u7a0b\u5f0f\u8a9e\u8a00\u7d50\u69cb\u8207\u904b\u7b97\u5b50\u3001\u4f7f\u7528Java\u6838\u5fc3API\uff0c\u4f8b\u5982\u96c6\u5408\u3001\u4e32\u6d41\u3001\u8f38\u51fa\u5165\u8207\u57f7\u884c\u7dd2\u3001\u4f48\u7f72Java SE\u61c9\u7528\u7a0b\u5f0f\u3002</p>"},{"location":"java-class/#_4","title":"\u5b78\u6703\u6280\u80fd","text":"<ol> <li>\u5b78\u6703Java\u7a0b\u5f0f\u8a9e\u8a00\u57fa\u672c\u8a9e\u6cd5</li> <li>\u5b78\u6703Java\u61c9\u7528\u7a0b\u5f0f\u958b\u767c</li> <li>\u5b78\u6703\u7269\u4ef6\u5c0e\u5411\u539f\u7406\u5982\u4f55\u61c9\u7528\u5230Java\u7a0b\u5f0f\u958b\u767c</li> <li>\u8a8d\u8b58Java\u7a0b\u5f0f\u7684\u8cc7\u6599\u7d50\u69cb</li> <li>\u900f\u904eJava\u7a0b\u5f0f\u5b58\u53d6\u6a94\u6848\u8cc7\u6599</li> <li>\u900f\u904eJava\u7a0b\u5f0f\u5b58\u53d6\u8cc7\u6599\u5eab\u8cc7\u6599</li> <li>\u4f7f\u7528Java\u8a9e\u8a00\u64b0\u5beb\u591a\u57f7\u884c\u7dd2\u61c9\u7528\u7a0b\u5f0f</li> <li>\u4f7f\u7528Lambda\u904b\u7b97\u5f0f\u8655\u7406\u96c6\u5408\u7269\u4ef6</li> <li>\u958b\u767c\u5177\u5099\u5b89\u5168\u6027\u7684Java\u7a0b\u5f0f</li> </ol>"},{"location":"java-class/appendix-a/","title":"Appendix A: Annotations (\u8a3b\u91cb)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/appendix-a/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3 Annotations \u7684\u7528\u9014\u8207\u539f\u7406 - \u4f7f\u7528 Java \u5167\u5efa\u7684 Annotations (\u5982 <code>@Override</code>, <code>@Deprecated</code>) - \u5b9a\u7fa9\u81ea\u8a02 Annotations (Custom Annotations) - \u4f7f\u7528 Reflection API \u5728\u57f7\u884c\u6642\u671f\u8b80\u53d6 Annotation \u8cc7\u8a0a</p>"},{"location":"java-class/appendix-a/#1-annotations","title":"1. Annotations \u6982\u89c0","text":"<p>Annotations (\u8a3b\u91cb) \u662f\u7a0b\u5f0f\u78bc\u7684 Metadata (\u5143\u8cc7\u6599)\uff0c\u63d0\u4f9b\u8cc7\u8a0a\u7d66\u7de8\u8b6f\u5668\u6216\u57f7\u884c\u74b0\u5883\uff0c\u4f46\u4e0d\u76f4\u63a5\u5f71\u97ff\u7a0b\u5f0f\u908f\u8f2f\u3002\u5b83\u5011\u4ee5 <code>@</code> \u7b26\u865f\u958b\u982d\u3002</p>"},{"location":"java-class/appendix-a/#_2","title":"\u7528\u9014","text":"<ol> <li>\u7de8\u8b6f\u5668\u6aa2\u67e5: \u5982 <code>@Override</code> \u8b93\u7de8\u8b6f\u5668\u6aa2\u67e5\u65b9\u6cd5\u7c3d\u7ae0\u662f\u5426\u6b63\u78ba\u3002</li> <li>\u7a0b\u5f0f\u78bc\u5206\u6790: IDE \u6216 Lint \u5de5\u5177\u4f7f\u7528 Annotation \u9032\u884c\u975c\u614b\u5206\u6790\u3002</li> <li>\u57f7\u884c\u6642\u671f\u8655\u7406: \u6846\u67b6 (\u5982 Spring, Hibernate, JUnit) \u5728\u57f7\u884c\u6642\u671f\u900f\u904e Reflection \u8b80\u53d6 Annotation \u4f86\u6c7a\u5b9a\u7a0b\u5f0f\u884c\u70ba (\u5982\u4f9d\u8cf4\u6ce8\u5165\u3001\u8cc7\u6599\u5eab\u6620\u5c04)\u3002</li> </ol>"},{"location":"java-class/appendix-a/#2-annotations","title":"2. \u5b9a\u7fa9\u81ea\u8a02 Annotations","text":"<p>\u4f7f\u7528 <code>@interface</code> \u95dc\u9375\u5b57\u5b9a\u7fa9\u3002\u901a\u5e38\u6703\u642d\u914d Meta-Annotations \u4f86\u8a2d\u5b9a\u5176\u884c\u70ba\u3002</p>"},{"location":"java-class/appendix-a/#meta-annotations","title":"Meta-Annotations","text":"<ul> <li><code>@Retention</code>: \u5b9a\u7fa9\u4fdd\u7559\u7b56\u7565 (\u751f\u547d\u9031\u671f)\u3002<ul> <li><code>SOURCE</code>: \u50c5\u4fdd\u7559\u5728\u539f\u59cb\u78bc\uff0c\u7de8\u8b6f\u5f8c\u4e1f\u68c4 (e.g., <code>@Override</code>).</li> <li><code>CLASS</code>: \u4fdd\u7559\u5728 .class \u6a94\uff0c\u4f46 JVM \u57f7\u884c\u6642\u5ffd\u7565 (\u9810\u8a2d\u503c).</li> <li><code>RUNTIME</code>: \u4fdd\u7559\u5728 .class \u6a94\uff0c\u4e14 JVM \u57f7\u884c\u6642\u53ef\u8b80\u53d6 (Reflection).</li> </ul> </li> <li><code>@Target</code>: \u5b9a\u7fa9\u9069\u7528\u76ee\u6a19\u3002<ul> <li><code>TYPE</code> (\u985e\u5225\u3001\u4ecb\u9762), <code>METHOD</code>, <code>FIELD</code>, <code>PARAMETER</code>, <code>CONSTRUCTOR</code> \u7b49.</li> </ul> </li> <li><code>@Documented</code>: \u6307\u793a Javadoc \u61c9\u5305\u542b\u6b64 Annotation.</li> <li><code>@Inherited</code>: \u6307\u793a\u5b50\u985e\u5225\u53ef\u7e7c\u627f\u6b64 Annotation.</li> <li><code>@Repeatable</code>: \u5141\u8a31\u5728\u540c\u4e00\u5143\u7d20\u4e0a\u91cd\u8907\u4f7f\u7528\u591a\u6b21.</li> </ul>"},{"location":"java-class/appendix-a/#_3","title":"\u7bc4\u4f8b\uff1a\u5b9a\u7fa9\u8207\u4f7f\u7528","text":"BusinessPolicy.java<pre><code>import java.lang.annotation.*;\n\n@Retention(RetentionPolicy.RUNTIME) // \u57f7\u884c\u6642\u671f\u53ef\u8b80\u53d6\n@Target(ElementType.TYPE)           // \u53ea\u80fd\u7528\u65bc\u985e\u5225/\u4ecb\u9762\n@Repeatable(BusinessPolicies.class) // \u652f\u63f4\u91cd\u8907\u4f7f\u7528\npublic @interface BusinessPolicy {\n    String name() default \"Standard\"; // \u5c6c\u6027 (\u6709\u9810\u8a2d\u503c)\n    String[] countries();             // \u9663\u5217\u5c6c\u6027\n    String value();                   // \u7279\u6b8a\u5c6c\u6027\u540d\uff0c\u4f7f\u7528\u6642\u82e5\u53ea\u586b\u6b64\u503c\u53ef\u7701\u7565 \"value=\"\n}\n</code></pre> BusinessPolicies.java<pre><code>// \u5bb9\u5668 Annotation (\u7528\u65bc\u5b58\u653e\u91cd\u8907\u7684 BusinessPolicy)\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.TYPE)\npublic @interface BusinessPolicies {\n    BusinessPolicy[] value();\n}\n</code></pre> Shop.java<pre><code>// \u5957\u7528 Annotation\n@BusinessPolicy(name=\"Returns\", countries=\"GB\", value=\"4 weeks\")\n@BusinessPolicy(countries={\"US\", \"CA\"}, value=\"Ship via FedEx\")\npublic class Shop {\n    // ...\n}\n</code></pre>"},{"location":"java-class/appendix-a/#3-annotations-reflection","title":"3. \u52d5\u614b\u63a2\u7d22 Annotations (Reflection)","text":"<p>\u4f7f\u7528 Reflection API (<code>getAnnotations</code>, <code>getAnnotation</code>) \u5728\u57f7\u884c\u6642\u671f\u8b80\u53d6\u8cc7\u8a0a\u3002</p> DynamicallyDiscover.java<pre><code>Class&lt;?&gt; clazz = Shop.class;\n\n// \u6aa2\u67e5\u662f\u5426\u6709\u7279\u5b9a Annotation\nif (clazz.isAnnotationPresent(BusinessPolicies.class)) {\n    // \u53d6\u5f97 Annotation \u5be6\u4f8b\n    BusinessPolicy[] policies = clazz.getAnnotationsByType(BusinessPolicy.class);\n\n    for (BusinessPolicy p : policies) {\n        System.out.println(\"Policy: \" + p.name());\n        System.out.println(\"Value: \" + p.value());\n        System.out.println(\"Countries: \" + Arrays.toString(p.countries()));\n    }\n}\n</code></pre>"},{"location":"java-class/appendix-a/#4-java-annotations","title":"4. \u5e38\u7528 Java \u5167\u5efa Annotations","text":""},{"location":"java-class/appendix-a/#javalang","title":"<code>java.lang</code>","text":"<ul> <li><code>@Override</code>: \u78ba\u4fdd\u65b9\u6cd5\u6b63\u78ba\u8986\u5beb\u7236\u985e\u5225\u65b9\u6cd5\u3002</li> <li><code>@Deprecated</code>: \u6a19\u793a\u5df2\u904e\u6642\uff0c\u4e0d\u5efa\u8b70\u4f7f\u7528\u3002<ul> <li><code>@Deprecated(since=\"1.2\", forRemoval=true)</code></li> </ul> </li> <li><code>@SuppressWarnings</code>: \u6291\u5236\u7de8\u8b6f\u5668\u8b66\u544a\u3002<ul> <li><code>@SuppressWarnings(\"unchecked\")</code></li> </ul> </li> <li><code>@SafeVarargs</code>: \u6291\u5236 Varargs \u7684 Heap Pollution \u8b66\u544a\u3002</li> <li><code>@FunctionalInterface</code>: \u78ba\u4fdd\u4ecb\u9762\u53ea\u6709\u4e00\u500b\u62bd\u8c61\u65b9\u6cd5 (\u7528\u65bc Lambda)\u3002</li> </ul>"},{"location":"java-class/appendix-a/#5","title":"5. \u7e3d\u7d50","text":"<ul> <li>Annotations \u63d0\u4f9b\u4e86\u4e00\u7a2e\u6a19\u6e96\u5316\u7684\u65b9\u5f0f\u4f86\u70ba\u7a0b\u5f0f\u78bc\u6dfb\u52a0 Metadata\u3002</li> <li>\u900f\u904e <code>@Retention(RUNTIME)</code> \u8207 Reflection\uff0c\u53ef\u4ee5\u5be6\u73fe\u5f37\u5927\u7684\u52d5\u614b\u529f\u80fd\uff0c\u9019\u662f\u73fe\u4ee3 Java \u6846\u67b6\u7684\u57fa\u790e\u3002</li> <li>\u5584\u7528\u5167\u5efa Annotations (\u5982 <code>@Override</code>) \u53ef\u4ee5\u63d0\u9ad8\u7a0b\u5f0f\u78bc\u7684\u5b89\u5168\u6027\u8207\u53ef\u8b80\u6027\u3002</li> </ul>"},{"location":"java-class/appendix-a/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5b9a\u7fa9\u4e00\u500b <code>@Test</code> Annotation (Retention=RUNTIME, Target=METHOD)\u3002</li> <li>\u64b0\u5beb\u4e00\u500b\u6e2c\u8a66\u57f7\u884c\u5668 (Test Runner)\uff0c\u6383\u63cf\u6307\u5b9a\u985e\u5225\u4e2d\u6240\u6709\u6a19\u8a3b <code>@Test</code> \u7684\u65b9\u6cd5\u4e26\u57f7\u884c\u5b83\u5011\u3002</li> <li>\u70ba <code>@Test</code> \u589e\u52a0 <code>enabled</code> \u5c6c\u6027 (boolean, default true)\uff0c\u82e5\u70ba false \u5247\u4e0d\u57f7\u884c\u8a72\u6e2c\u8a66\u65b9\u6cd5\u3002</li> </ol>"},{"location":"java-class/appendix-b/","title":"Appendix B: Java Database Connectivity (JDBC)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/appendix-b/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3 JDBC \u67b6\u69cb\u8207\u9a45\u52d5\u7a0b\u5f0f\u985e\u578b - \u4f7f\u7528 <code>DriverManager</code> \u5efa\u7acb\u8cc7\u6599\u5eab\u9023\u7dda - \u4f7f\u7528 <code>Statement</code> \u8207 <code>PreparedStatement</code> \u57f7\u884c SQL \u67e5\u8a62\u8207\u66f4\u65b0 - \u8655\u7406 <code>ResultSet</code> \u67e5\u8a62\u7d50\u679c - \u7ba1\u7406\u8cc7\u6599\u5eab\u4ea4\u6613 (Transactions)</p>"},{"location":"java-class/appendix-b/#1-jdbc","title":"1. JDBC \u6982\u89c0","text":"<p>JDBC (Java Database Connectivity) \u662f Java \u5b58\u53d6\u95dc\u806f\u5f0f\u8cc7\u6599\u5eab\u7684\u6a19\u6e96 API\u3002\u5b83\u63d0\u4f9b\u4e86\u4e00\u7d44\u4ecb\u9762 (<code>java.sql</code> \u5957\u4ef6)\uff0c\u7531\u8cc7\u6599\u5eab\u5ee0\u5546\u63d0\u4f9b\u5be6\u4f5c (JDBC Driver)\u3002</p>"},{"location":"java-class/appendix-b/#_2","title":"\u6838\u5fc3\u4ecb\u9762","text":"<ul> <li>DriverManager: \u7ba1\u7406 JDBC \u9a45\u52d5\u7a0b\u5f0f\uff0c\u5efa\u7acb\u9023\u7dda\u3002</li> <li>Connection: \u4ee3\u8868\u8207\u8cc7\u6599\u5eab\u7684\u9023\u7dda\u3002</li> <li>Statement: \u7528\u65bc\u57f7\u884c SQL \u6558\u8ff0\u3002</li> <li>ResultSet: \u4ee3\u8868 SQL \u67e5\u8a62\u7684\u7d50\u679c\u96c6\u3002</li> <li>DataSource: (\u5efa\u8b70) \u8f03\u65b0\u7684\u9023\u7dda\u53d6\u5f97\u65b9\u5f0f\uff0c\u652f\u63f4 Connection Pooling\u3002</li> </ul>"},{"location":"java-class/appendix-b/#2","title":"2. \u5efa\u7acb\u9023\u7dda","text":"<p>\u4f7f\u7528 <code>DriverManager.getConnection()</code> \u50b3\u5165\u8cc7\u6599\u5eab URL\u3001\u4f7f\u7528\u8005\u540d\u7a31\u8207\u5bc6\u78bc\u3002</p> ConnectionInfo.java<pre><code>String url = \"jdbc:mysql://localhost:3306/EmployeeDB\"; // JDBC URL \u683c\u5f0f\u56e0\u8cc7\u6599\u5eab\u800c\u7570\nString user = \"root\";\nString password = \"password\";\n\ntry (Connection con = DriverManager.getConnection(url, user, password)) {\n    System.out.println(\"Connected to database successfully!\");\n} catch (SQLException e) {\n    System.err.println(\"Connection failed: \" + e.getMessage());\n}\n</code></pre>"},{"location":"java-class/appendix-b/#3-sql","title":"3. \u57f7\u884c SQL","text":""},{"location":"java-class/appendix-b/#31-statement","title":"3.1 Statement (\u57fa\u672c\u6558\u8ff0)","text":"<p>\u9069\u7528\u65bc\u975c\u614b SQL\uff0c\u4f46\u6709 SQL Injection \u98a8\u96aa\uff0c\u4e14\u6548\u80fd\u8f03\u5dee (\u7121\u6cd5\u91cd\u8907\u4f7f\u7528\u57f7\u884c\u8a08\u756b)\u3002</p> SelectDemo.java<pre><code>try (Statement stmt = con.createStatement();\n     ResultSet rs = stmt.executeQuery(\"SELECT * FROM Employees\")) {\n\n    while (rs.next()) {\n        int id = rs.getInt(\"ID\");\n        String name = rs.getString(\"Name\");\n        System.out.println(id + \": \" + name);\n    }\n}\n</code></pre>"},{"location":"java-class/appendix-b/#32-preparedstatement","title":"3.2 PreparedStatement (\u9810\u7de8\u8b6f\u6558\u8ff0)","text":"<p>\u5f37\u70c8\u5efa\u8b70\u4f7f\u7528\u3002\u4f7f\u7528 <code>?</code> \u4f5c\u70ba\u53c3\u6578\u4f54\u4f4d\u7b26\u3002 -   \u5b89\u5168\u6027: \u9632\u6b62 SQL Injection \u653b\u64ca\u3002 -   \u6548\u80fd: \u8cc7\u6599\u5eab\u53ef\u5feb\u53d6\u9810\u7de8\u8b6f\u7684\u57f7\u884c\u8a08\u756b\u3002 -   \u53ef\u8b80\u6027: \u53c3\u6578\u5316\u67e5\u8a62\u66f4\u6613\u8b80\u3002</p> PreparedStatementDemo.java<pre><code>String sql = \"UPDATE Employees SET Salary = ? WHERE ID = ?\";\n\ntry (PreparedStatement pstmt = con.prepareStatement(sql)) {\n    // \u8a2d\u5b9a\u53c3\u6578 (\u7d22\u5f15\u5f9e 1 \u958b\u59cb)\n    pstmt.setBigDecimal(1, new BigDecimal(\"50000\"));\n    pstmt.setInt(2, 101);\n\n    int rowsAffected = pstmt.executeUpdate(); // \u57f7\u884c\u66f4\u65b0 (INSERT, UPDATE, DELETE)\n    System.out.println(\"Rows updated: \" + rowsAffected);\n}\n</code></pre>"},{"location":"java-class/appendix-b/#4-transactions","title":"4. \u4ea4\u6613\u7ba1\u7406 (Transactions)","text":"<p>JDBC \u9810\u8a2d\u70ba Auto-commit \u6a21\u5f0f (\u6bcf\u689d SQL \u57f7\u884c\u5b8c\u7acb\u5373\u63d0\u4ea4)\u3002\u82e5\u9700\u57f7\u884c\u4e00\u7d44\u539f\u5b50\u64cd\u4f5c (Atomic Operations)\uff0c\u9700\u624b\u52d5\u7ba1\u7406\u4ea4\u6613\u3002</p> Java<pre><code>try {\n    con.setAutoCommit(false); // 1. \u95dc\u9589\u81ea\u52d5\u63d0\u4ea4 (\u958b\u555f\u4ea4\u6613)\n\n    // \u57f7\u884c\u591a\u500b SQL \u64cd\u4f5c\n    pstmt1.executeUpdate();\n    pstmt2.executeUpdate();\n\n    con.commit(); // 2. \u6210\u529f\u5247\u63d0\u4ea4\n\n} catch (SQLException e) {\n    try {\n        con.rollback(); // 3. \u5931\u6557\u5247\u56de\u6efe\n    } catch (SQLException ex) {\n        ex.printStackTrace();\n    }\n} finally {\n    con.setAutoCommit(true); // \u6062\u5fa9\u9810\u8a2d\u72c0\u614b\n}\n</code></pre>"},{"location":"java-class/appendix-b/#5","title":"5. \u6700\u4f73\u5be6\u52d9","text":"<ol> <li>\u4f7f\u7528 try-with-resources: \u78ba\u4fdd <code>Connection</code>, <code>Statement</code>, <code>ResultSet</code> \u7b49\u8cc7\u6e90\u88ab\u6b63\u78ba\u95dc\u9589\u3002</li> <li>\u4f7f\u7528 PreparedStatement: \u907f\u514d SQL Injection\u3002</li> <li>\u4f7f\u7528 Connection Pool: \u5982 HikariCP, Apache DBCP\uff0c\u907f\u514d\u983b\u7e41\u5efa\u7acb\u9023\u7dda\u7684\u958b\u92b7 (\u751f\u7522\u74b0\u5883\u5fc5\u5099)\u3002</li> <li>\u8655\u7406 SQLException: \u59a5\u5584\u8a18\u9304\u932f\u8aa4\u4ee3\u78bc\u8207\u8a0a\u606f\u3002</li> </ol>"},{"location":"java-class/appendix-b/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5efa\u7acb\u4e00\u500b <code>Employee</code> \u8cc7\u6599\u8868\uff0c\u4e26\u64b0\u5beb Java \u7a0b\u5f0f\u63d2\u5165 3 \u7b46\u8cc7\u6599\u3002</li> <li>\u64b0\u5beb\u4e00\u500b\u67e5\u8a62\u7a0b\u5f0f\uff0c\u8b93\u4f7f\u7528\u8005\u8f38\u5165\u85aa\u8cc7\u7bc4\u570d\uff0c\u5217\u51fa\u7b26\u5408\u689d\u4ef6\u7684\u54e1\u5de5 (\u4f7f\u7528 <code>PreparedStatement</code>)\u3002</li> <li>\u6a21\u64ec\u8f49\u5e33\u529f\u80fd\uff1a\u5f9e A \u5e33\u6236\u6263\u6b3e\u4e26\u5b58\u5165 B \u5e33\u6236\uff0c\u4f7f\u7528\u4ea4\u6613\u63a7\u5236\u78ba\u4fdd\u8cc7\u6599\u4e00\u81f4\u6027 (\u82e5 B \u5e33\u6236\u4e0d\u5b58\u5728\u5247\u56de\u6efe)\u3002</li> </ol>"},{"location":"java-class/appendix-c/","title":"Appendix C: Java Security (Java \u5b89\u5168\u6027)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/appendix-c/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u8b58\u5225\u5e38\u898b\u7684\u5b89\u5168\u6027\u5a01\u8105 (DoS, Injection, Data Leak) - \u5be6\u4f5c\u5b89\u5168\u7de8\u78bc\u539f\u5247 (Secure Coding Practices) - \u4f7f\u7528 Java Cryptography Architecture (JCA) \u9032\u884c\u96dc\u6e4a\u8207\u52a0\u5bc6 - \u9632\u6b62\u5e38\u898b\u7684\u6ce8\u5165\u653b\u64ca (SQL Injection, XSS)</p>"},{"location":"java-class/appendix-c/#1","title":"1. \u5b89\u5168\u6027\u5a01\u8105\u6982\u89c0","text":"<ul> <li>Denial of Service (DoS): \u653b\u64ca\u8005\u8017\u76e1\u7cfb\u7d71\u8cc7\u6e90 (CPU, Memory, Network)\uff0c\u5c0e\u81f4\u670d\u52d9\u7121\u6cd5\u904b\u4f5c\u3002</li> <li>Injection Attacks: \u6ce8\u5165\u60e1\u610f\u7a0b\u5f0f\u78bc\u6216\u6307\u4ee4 (\u5982 SQL Injection, Command Injection)\u3002</li> <li>Sensitive Data Exposure: \u654f\u611f\u8cc7\u6599 (\u5bc6\u78bc\u3001\u500b\u8cc7) \u672a\u52a0\u5bc6\u6216\u52a0\u5bc6\u5f37\u5ea6\u4e0d\u8db3\u5c0e\u81f4\u5916\u6d29\u3002</li> <li>Broken Access Control: \u6b0a\u9650\u63a7\u7ba1\u4e0d\u7576\uff0c\u5c0e\u81f4\u672a\u6388\u6b0a\u5b58\u53d6\u3002</li> </ul>"},{"location":"java-class/appendix-c/#2","title":"2. \u5b89\u5168\u7de8\u78bc\u539f\u5247","text":"<ol> <li>\u6700\u5c0f\u6b0a\u9650\u539f\u5247 (Least Privilege): \u7a0b\u5f0f\u78bc\u53ea\u61c9\u64c1\u6709\u5b8c\u6210\u5de5\u4f5c\u6240\u9700\u7684\u6700\u5c0f\u6b0a\u9650\u3002</li> <li>\u8f38\u5165\u9a57\u8b49 (Input Validation): \u6c38\u9060\u4e0d\u8981\u4fe1\u4efb\u5916\u90e8\u8f38\u5165\uff0c\u5fc5\u9808\u9a57\u8b49\u9577\u5ea6\u3001\u683c\u5f0f\u3001\u7bc4\u570d\u3002</li> <li>\u5c01\u88dd (Encapsulation): \u96b1\u85cf\u5167\u90e8\u5be6\u4f5c\uff0c\u907f\u514d\u5916\u90e8\u76f4\u63a5\u4fee\u6539\u7269\u4ef6\u72c0\u614b\u3002</li> <li>\u4e0d\u53ef\u8b8a\u6027 (Immutability): \u4f7f\u7528\u4e0d\u53ef\u8b8a\u7269\u4ef6 (Immutable Objects) \u6e1b\u5c11\u72c0\u614b\u88ab\u7be1\u6539\u7684\u98a8\u96aa\u3002</li> </ol>"},{"location":"java-class/appendix-c/#_2","title":"\u6578\u503c\u9a57\u8b49\u7bc4\u4f8b","text":"ErroneousValue.java<pre><code>// \u9632\u6b62\u6574\u6578\u6ea2\u4f4d (Integer Overflow)\ntry {\n    int result = Math.addExact(Integer.MAX_VALUE, 1);\n} catch (ArithmeticException e) {\n    System.err.println(\"Overflow detected!\");\n}\n\n// \u6aa2\u67e5\u6d6e\u9ede\u6578\u7570\u5e38\ndouble value = 1.0 / 0.0;\nif (Double.isInfinite(value) || Double.isNaN(value)) {\n    // \u8655\u7406\u932f\u8aa4\uff0c\u907f\u514d\u50b3\u64ad\u7121\u6548\u6578\u503c\n}\n</code></pre>"},{"location":"java-class/appendix-c/#3-cryptography","title":"3. \u5bc6\u78bc\u5b78 (Cryptography)","text":"<p>Java Cryptography Architecture (JCA) \u63d0\u4f9b\u4e86\u4e00\u7d44 API \u7528\u65bc\u52a0\u5bc6\u3001\u89e3\u5bc6\u3001\u96dc\u6e4a\u8207\u7c3d\u7ae0\u3002</p>"},{"location":"java-class/appendix-c/#31-hashing","title":"3.1 \u96dc\u6e4a (Hashing)","text":"<p>\u55ae\u5411\u52a0\u5bc6\uff0c\u5c07\u4efb\u610f\u9577\u5ea6\u7684\u8cc7\u6599\u8f49\u63db\u70ba\u56fa\u5b9a\u9577\u5ea6\u7684\u96dc\u6e4a\u503c (Digest)\u3002\u5e38\u7528\u65bc\u5132\u5b58\u5bc6\u78bc\u6216\u9a57\u8b49\u6a94\u6848\u5b8c\u6574\u6027\u3002 -   \u6f14\u7b97\u6cd5: SHA-256 (\u63a8\u85a6), SHA-3 (\u63a8\u85a6), MD5 (\u4e0d\u5b89\u5168\uff0c\u52ff\u7528)\u3002</p> ProtectSensitiveData.java<pre><code>import java.security.MessageDigest;\nimport java.math.BigInteger;\n\npublic String hashPassword(String password) throws Exception {\n    MessageDigest md = MessageDigest.getInstance(\"SHA-256\");\n    byte[] digest = md.digest(password.getBytes(\"UTF-8\"));\n\n    // \u8f49\u70ba 16 \u9032\u4f4d\u5b57\u4e32\n    return String.format(\"%064x\", new BigInteger(1, digest));\n}\n</code></pre>"},{"location":"java-class/appendix-c/#32-symmetric-encryption","title":"3.2 \u5c0d\u7a31\u5f0f\u52a0\u5bc6 (Symmetric Encryption)","text":"<p>\u4f7f\u7528\u540c\u4e00\u628a\u91d1\u9470\u9032\u884c\u52a0\u5bc6\u8207\u89e3\u5bc6\u3002 -   \u6f14\u7b97\u6cd5: AES (Advanced Encryption Standard)\u3002 -   \u6a21\u5f0f: GCM (Galois/Counter Mode) \u63a8\u85a6\u4f7f\u7528\uff0c\u63d0\u4f9b\u8a8d\u8b49\u52a0\u5bc6 (Authenticated Encryption)\u3002</p> Java<pre><code>import javax.crypto.*;\nimport javax.crypto.spec.GCMParameterSpec;\n\n// 1. \u7522\u751f\u91d1\u9470\nKeyGenerator keyGen = KeyGenerator.getInstance(\"AES\");\nkeyGen.init(256); // Key size\nSecretKey key = keyGen.generateKey();\n\n// 2. \u52a0\u5bc6\nCipher cipher = Cipher.getInstance(\"AES/GCM/NoPadding\");\ncipher.init(Cipher.ENCRYPT_MODE, key);\nbyte[] iv = cipher.getIV(); // \u521d\u59cb\u5316\u5411\u91cf (\u9700\u5132\u5b58\u4ee5\u4fbf\u89e3\u5bc6)\nbyte[] encrypted = cipher.doFinal(\"Secret Data\".getBytes());\n\n// 3. \u89e3\u5bc6\nGCMParameterSpec spec = new GCMParameterSpec(128, iv); // Tag length 128\ncipher.init(Cipher.DECRYPT_MODE, key, spec);\nbyte[] decrypted = cipher.doFinal(encrypted);\nSystem.out.println(new String(decrypted));\n</code></pre>"},{"location":"java-class/appendix-c/#4","title":"4. \u9632\u6b62\u6ce8\u5165\u653b\u64ca","text":""},{"location":"java-class/appendix-c/#sql-injection","title":"SQL Injection","text":"<p>\u4f7f\u7528 <code>PreparedStatement</code> \u53d6\u4ee3\u5b57\u4e32\u4e32\u63a5\u3002</p> Java<pre><code>// \u4e0d\u5b89\u5168 (Vulnerable)\nString query = \"SELECT * FROM Users WHERE name = '\" + input + \"'\";\n\n// \u5b89\u5168 (Secure)\nString query = \"SELECT * FROM Users WHERE name = ?\";\nPreparedStatement pstmt = con.prepareStatement(query);\npstmt.setString(1, input);\n</code></pre>"},{"location":"java-class/appendix-c/#xml-external-entity-xxe-injection","title":"XML External Entity (XXE) Injection","text":"<p>\u8a2d\u5b9a XML Parser \u7981\u6b62\u8f09\u5165\u5916\u90e8\u5be6\u9ad4\u3002</p> Java<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n// \u505c\u7528 DTD \u8207\u5916\u90e8\u5be6\u9ad4\ndbf.setFeature(\"http://apache.org/xml/features/disallow-doctype-decl\", true);\ndbf.setXIncludeAware(false);\ndbf.setExpandEntityReferences(false);\n</code></pre>"},{"location":"java-class/appendix-c/#5","title":"5. \u7e3d\u7d50","text":"<ul> <li>\u5b89\u5168\u6027\u662f\u8edf\u9ad4\u958b\u767c\u7684\u95dc\u9375\u74b0\u7bc0\uff0c\u61c9\u5f9e\u8a2d\u8a08\u968e\u6bb5\u5c31\u7d0d\u5165\u8003\u91cf (Security by Design)\u3002</li> <li>\u9a57\u8b49\u6240\u6709\u8f38\u5165\uff0c\u7de8\u78bc\u6240\u6709\u8f38\u51fa\u3002</li> <li>\u4f7f\u7528\u6a19\u6e96\u4e14\u7d93\u904e\u9a57\u8b49\u7684\u52a0\u5bc6\u6f14\u7b97\u6cd5 (\u5982 AES, SHA-256)\uff0c\u5207\u52ff\u81ea\u5275\u52a0\u5bc6\u6f14\u7b97\u6cd5\u3002</li> <li>\u5b9a\u671f\u66f4\u65b0\u4f9d\u8cf4\u5957\u4ef6\u4ee5\u4fee\u88dc\u5df2\u77e5\u6f0f\u6d1e\u3002</li> </ul>"},{"location":"java-class/appendix-c/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u64b0\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u8b93\u4f7f\u7528\u8005\u8f38\u5165\u5bc6\u78bc\uff0c\u4e26\u5c07\u5176 SHA-256 \u96dc\u6e4a\u503c\u5370\u51fa\u3002</li> <li>\u5be6\u4f5c\u4e00\u500b\u7c21\u55ae\u7684\u6a94\u6848\u52a0\u5bc6\u5de5\u5177\uff0c\u4f7f\u7528 AES \u5c0d\u6587\u5b57\u6a94\u9032\u884c\u52a0\u5bc6\u8207\u89e3\u5bc6\u3002</li> <li>\u6aa2\u8996\u4e00\u6bb5\u5305\u542b SQL Injection \u6f0f\u6d1e\u7684\u7a0b\u5f0f\u78bc\uff0c\u4e26\u5c07\u5176\u91cd\u69cb\u70ba\u4f7f\u7528 <code>PreparedStatement</code> \u7684\u5b89\u5168\u7248\u672c\u3002</li> </ol>"},{"location":"java-class/appendix-d/","title":"Appendix D: Advanced Generics (\u9032\u968e\u6cdb\u578b)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/appendix-d/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3\u6cdb\u578b\u64e6\u9664 (Type Erasure) \u53ca\u5176\u5f71\u97ff - \u4f7f\u7528\u842c\u7528\u5b57\u5143 (Wildcards) <code>?</code>, <code>? extends</code>, <code>? super</code> - \u61c9\u7528 PECS \u539f\u5247 (Producer Extends, Consumer Super) - \u8655\u7406\u6cdb\u578b\u8207\u9663\u5217\u7684\u4e92\u901a\u6027\u554f\u984c</p>"},{"location":"java-class/appendix-d/#1-type-erasure","title":"1. \u6cdb\u578b\u64e6\u9664 (Type Erasure)","text":"<p>Java \u7684\u6cdb\u578b\u662f**\u7de8\u8b6f\u6642\u671f**\u7684\u6a5f\u5236\u3002\u70ba\u4e86\u8207\u820a\u7248 Java \u76f8\u5bb9\uff0c\u7de8\u8b6f\u5668\u5728\u7de8\u8b6f\u6642\u6703\u79fb\u9664 (\u64e6\u9664) \u6240\u6709\u6cdb\u578b\u578b\u5225\u8cc7\u8a0a\u3002 -   <code>List&lt;String&gt;</code> \u548c <code>List&lt;Integer&gt;</code> \u5728\u57f7\u884c\u6642\u671f (Runtime) \u90fd\u6703\u8b8a\u6210\u539f\u59cb\u578b\u5225 (Raw Type) <code>List</code>\u3002 -   \u7de8\u8b6f\u5668\u6703\u81ea\u52d5\u63d2\u5165\u5fc5\u8981\u7684\u8f49\u578b (Casting) \u6307\u4ee4\u3002</p>"},{"location":"java-class/appendix-d/#_2","title":"\u64e6\u9664\u7684\u5f71\u97ff","text":"<ol> <li>\u4e0d\u80fd\u4f7f\u7528 <code>instanceof</code>: <code>if (list instanceof List&lt;String&gt;)</code> \u662f\u975e\u6cd5\u7684\uff0c\u53ea\u80fd\u6aa2\u67e5 <code>if (list instanceof List)</code>.</li> <li>\u4e0d\u80fd\u5efa\u7acb\u6cdb\u578b\u9663\u5217: <code>new List&lt;String&gt;[10]</code> \u662f\u975e\u6cd5\u7684.</li> <li>\u4e0d\u80fd\u5be6\u4f8b\u5316\u6cdb\u578b\u578b\u5225: <code>new T()</code> \u662f\u975e\u6cd5\u7684 (\u56e0\u70ba\u57f7\u884c\u6642\u4e0d\u77e5\u9053 T \u662f\u4ec0\u9ebc).</li> </ol>"},{"location":"java-class/appendix-d/#2-wildcards","title":"2. \u842c\u7528\u5b57\u5143 (Wildcards)","text":"<p>\u7576\u6211\u5011\u4e0d\u95dc\u5fc3\u5177\u9ad4\u7684\u6cdb\u578b\u578b\u5225\uff0c\u6216\u8005\u53ea\u95dc\u5fc3\u5b83\u662f\u67d0\u500b\u985e\u5225\u7684\u5b50\u985e\u6216\u7236\u985e\u6642\uff0c\u53ef\u4ee5\u4f7f\u7528\u842c\u7528\u5b57\u5143 <code>?</code>\u3002</p>"},{"location":"java-class/appendix-d/#21-unbounded-wildcard","title":"2.1 Unbounded Wildcard <code>&lt;?&gt;</code>","text":"<p>\u8868\u793a\u300c\u67d0\u7a2e\u672a\u77e5\u7684\u578b\u5225\u300d\u3002 -   \u8996\u70ba <code>List&lt;Object&gt;</code> \u8b80\u53d6\u3002 -   \u552f\u8b80 (\u9664\u4e86 <code>null</code>\uff0c\u4e0d\u80fd\u5beb\u5165\u4efb\u4f55\u5143\u7d20\uff0c\u56e0\u70ba\u4e0d\u77e5\u9053\u5177\u9ad4\u578b\u5225)\u3002</p> Java<pre><code>public void printList(List&lt;?&gt; list) {\n    for (Object elem : list) {\n        System.out.println(elem);\n    }\n    // list.add(\"Hello\"); // \u7de8\u8b6f\u932f\u8aa4\n}\n</code></pre>"},{"location":"java-class/appendix-d/#22-upper-bound-wildcard-extends-t","title":"2.2 Upper Bound Wildcard <code>&lt;? extends T&gt;</code>","text":"<p>\u8868\u793a\u300cT \u6216 T \u7684\u5b50\u985e\u5225\u300d\u3002 -   Producer (\u751f\u7522\u8005): \u7528\u65bc\u5f9e\u96c6\u5408\u4e2d**\u8b80\u53d6**\u8cc7\u6599\u3002 -   \u53ef\u4ee5\u8b80\u53d6\u70ba <code>T</code>\u3002 -   \u4e0d\u80fd\u5beb\u5165 (\u9664\u4e86 <code>null</code>)\uff0c\u56e0\u70ba\u7121\u6cd5\u78ba\u5b9a\u5177\u9ad4\u5b50\u985e\u5225 (\u53ef\u80fd\u662f T \u7684\u4efb\u610f\u5b50\u985e)\u3002</p> UpperBound.java<pre><code>public void processProducts(List&lt;? extends Product&gt; products) {\n    for (Product p : products) { // \u5b89\u5168\u8b80\u53d6\n        p.prepare();\n    }\n    // products.add(new Product(...)); // \u7de8\u8b6f\u932f\u8aa4\n}\n</code></pre>"},{"location":"java-class/appendix-d/#23-lower-bound-wildcard-super-t","title":"2.3 Lower Bound Wildcard <code>&lt;? super T&gt;</code>","text":"<p>\u8868\u793a\u300cT \u6216 T \u7684\u7236\u985e\u5225\u300d\u3002 -   Consumer (\u6d88\u8cbb\u8005): \u7528\u65bc\u5c07\u8cc7\u6599**\u5beb\u5165**\u96c6\u5408\u3002 -   \u53ef\u4ee5\u5beb\u5165 <code>T</code> \u6216 <code>T</code> \u7684\u5b50\u985e\u5225\u3002 -   \u8b80\u53d6\u6642\u53ea\u80fd\u8996\u70ba <code>Object</code>\u3002</p> LowerBound.java<pre><code>public void addFood(List&lt;? super Food&gt; list) {\n    list.add(new Food(\"Cake\")); // \u5b89\u5168\u5beb\u5165\n    // Food f = list.get(0); // \u7de8\u8b6f\u932f\u8aa4\uff0c\u53ea\u80fd\u8b80\u53d6\u70ba Object\n}\n</code></pre>"},{"location":"java-class/appendix-d/#3-pecs","title":"3. PECS \u539f\u5247","text":"<p>**P**roducer **E**xtends, **C**onsumer **S**uper. \u9019\u662f\u9078\u64c7\u4f7f\u7528\u54ea\u7a2e\u842c\u7528\u5b57\u5143\u7684\u9ec3\u91d1\u6cd5\u5247\u3002</p> <ul> <li>Producer (\u751f\u7522\u8005): \u5982\u679c\u4f60\u9700\u8981\u5f9e\u96c6\u5408\u4e2d**\u8b80\u53d6**\u8cc7\u6599 (\u5b83\u751f\u7522\u8cc7\u6599\u7d66\u4f60)\uff0c\u4f7f\u7528 <code>&lt;? extends T&gt;</code>\u3002</li> <li>Consumer (\u6d88\u8cbb\u8005): \u5982\u679c\u4f60\u9700\u8981\u5c07\u8cc7\u6599**\u5beb\u5165**\u96c6\u5408 (\u5b83\u6d88\u8cbb\u4f60\u7684\u8cc7\u6599)\uff0c\u4f7f\u7528 <code>&lt;? super T&gt;</code>\u3002</li> <li>Both: \u5982\u679c\u4f60\u9700\u8981\u540c\u6642\u8b80\u5beb\uff0c\u5247\u4e0d\u8981\u4f7f\u7528\u842c\u7528\u5b57\u5143 (\u4f7f\u7528\u5177\u9ad4\u578b\u5225 <code>T</code>)\u3002</li> </ul> Java<pre><code>// \u7bc4\u4f8b\uff1a\u5c07 src (\u751f\u7522\u8005) \u7684\u5167\u5bb9\u8907\u88fd\u5230 dest (\u6d88\u8cbb\u8005)\npublic static &lt;T&gt; void copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src) {\n    for (T item : src) {\n        dest.add(item);\n    }\n}\n</code></pre>"},{"location":"java-class/appendix-d/#4","title":"4. \u6cdb\u578b\u8207\u9663\u5217","text":"<ul> <li>\u9663\u5217\u662f Covariant (\u5171\u8b8a): <code>String[]</code> \u662f <code>Object[]</code> \u7684\u5b50\u985e\u5225\u3002\u9019\u53ef\u80fd\u5c0e\u81f4\u57f7\u884c\u6642\u671f\u7684 <code>ArrayStoreException</code>\u3002</li> <li>\u6cdb\u578b\u662f Invariant (\u4e0d\u8b8a): <code>List&lt;String&gt;</code> \u4e0d\u662f <code>List&lt;Object&gt;</code> \u7684\u5b50\u985e\u5225\u3002\u9019\u4fdd\u8b49\u4e86\u7de8\u8b6f\u6642\u671f\u7684\u578b\u5225\u5b89\u5168\u3002</li> </ul> Java<pre><code>// \u9663\u5217 (\u57f7\u884c\u6642\u932f\u8aa4)\nObject[] objects = new String[10];\nobjects[0] = 100; // ArrayStoreException\n\n// \u6cdb\u578b (\u7de8\u8b6f\u6642\u932f\u8aa4)\n// List&lt;Object&gt; list = new ArrayList&lt;String&gt;(); // \u7de8\u8b6f\u932f\u8aa4\uff0c\u9632\u6b62\u4e86\u5f8c\u7e8c\u7684\u932f\u8aa4\n</code></pre>"},{"location":"java-class/appendix-d/#5","title":"5. \u7e3d\u7d50","text":"<ul> <li>\u6cdb\u578b\u63d0\u4f9b\u4e86\u7de8\u8b6f\u6642\u671f\u7684\u578b\u5225\u5b89\u5168\u6aa2\u67e5\u3002</li> <li>\u7406\u89e3\u578b\u5225\u64e6\u9664\u6709\u52a9\u65bc\u89e3\u91cb\u6cdb\u578b\u7684\u4e00\u4e9b\u9650\u5236\u3002</li> <li>\u719f\u7df4\u4f7f\u7528 <code>extends</code> \u8207 <code>super</code> \u842c\u7528\u5b57\u5143\uff0c\u4e26\u9075\u5faa PECS \u539f\u5247\uff0c\u53ef\u4ee5\u8b93\u4f60\u7684 API \u66f4\u9748\u6d3b\u3001\u66f4\u901a\u7528\u3002</li> </ul>"},{"location":"java-class/appendix-d/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5be6\u4f5c\u4e00\u500b <code>Stack&lt;T&gt;</code> \u985e\u5225\uff0c\u4e26\u63d0\u4f9b <code>pushAll(Iterable&lt;? extends T&gt; src)</code> \u8207 <code>popAll(Collection&lt;? super T&gt; dst)</code> \u65b9\u6cd5\u3002</li> <li>\u64b0\u5beb\u4e00\u500b\u65b9\u6cd5 <code>swap(List&lt;?&gt; list, int i, int j)</code>\uff0c\u4ea4\u63db List \u4e2d\u5169\u500b\u5143\u7d20\u7684\u4f4d\u7f6e (\u63d0\u793a\uff1a\u53ef\u80fd\u9700\u8981\u4e00\u500b private helper method \u4f86\u6355\u6349\u901a\u914d\u7b26)\u3002</li> <li>\u5617\u8a66\u5efa\u7acb\u4e00\u500b\u6cdb\u578b\u9663\u5217 <code>new ArrayList&lt;String&gt;[10]</code>\uff0c\u89c0\u5bdf\u7de8\u8b6f\u5668\u932f\u8aa4\uff0c\u4e26\u601d\u8003\u66ff\u4ee3\u65b9\u6848 (\u5982 <code>ArrayList&lt;ArrayList&lt;String&gt;&gt;</code>)\u3002</li> </ol>"},{"location":"java-class/appendix-e/","title":"Appendix E: Java Applications on Oracle Cloud (Oracle Cloud \u4e0a\u7684 Java \u61c9\u7528\u7a0b\u5f0f)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/appendix-e/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3\u96f2\u7aef\u539f\u751f (Cloud Native) \u61c9\u7528\u7a0b\u5f0f\u7684\u8a2d\u8a08\u539f\u5247 - \u63cf\u8ff0\u5fae\u670d\u52d9\u67b6\u69cb (Microservices Architecture) - \u8a8d\u8b58 Java \u5728\u96f2\u7aef\u7684\u57f7\u884c\u74b0\u5883 (Docker, Kubernetes) - \u4f7f\u7528 Helidon SE \u5efa\u7acb\u7c21\u55ae\u7684 RESTful Web Service - \u4e86\u89e3 GraalVM Native Image \u7684\u512a\u52e2</p>"},{"location":"java-class/appendix-e/#1-cloud-native-applications","title":"1. \u96f2\u7aef\u539f\u751f\u61c9\u7528\u7a0b\u5f0f (Cloud Native Applications)","text":"<p>\u96f2\u7aef\u539f\u751f\u61c9\u7528\u7a0b\u5f0f\u662f\u5c08\u70ba\u96f2\u7aef\u74b0\u5883\u8a2d\u8a08\u7684\uff0c\u901a\u5e38\u5177\u5099\u4ee5\u4e0b\u7279\u5fb5 (\u53c3\u898b The Twelve-Factor App)\uff1a 1.  Codebase: \u7248\u672c\u63a7\u5236 (Git)\u3002 2.  Dependencies: \u660e\u78ba\u5ba3\u544a\u4f9d\u8cf4 (Maven/Gradle)\u3002 3.  Config: \u8a2d\u5b9a\u8207\u7a0b\u5f0f\u78bc\u5206\u96e2 (Environment Variables)\u3002 4.  Backing Services: \u5c07\u8cc7\u6599\u5eab\u3001\u5feb\u53d6\u8996\u70ba\u9644\u52a0\u8cc7\u6e90\u3002 5.  Build, Release, Run: \u56b4\u683c\u5206\u96e2\u5efa\u7f6e\u8207\u57f7\u884c\u968e\u6bb5 (CI/CD)\u3002 6.  Processes: \u7121\u72c0\u614b (Stateless) \u4e14\u7121\u5171\u4eab (Share-nothing)\u3002 7.  Port Binding: \u81ea\u5305\u542b\u670d\u52d9\uff0c\u76f4\u63a5\u7d81\u5b9a Port (\u4e0d\u4f9d\u8cf4\u5916\u90e8 Web Server)\u3002 8.  Concurrency: \u900f\u904e Process \u6a21\u578b\u9032\u884c\u6c34\u5e73\u64f4\u5c55 (Scale out)\u3002 9.  Disposability: \u5feb\u901f\u555f\u52d5\u8207\u512a\u96c5\u95dc\u9589 (Graceful Shutdown)\u3002 10. Dev/Prod Parity: \u958b\u767c\u8207\u751f\u7522\u74b0\u5883\u76e1\u91cf\u4e00\u81f4\u3002 11. Logs: \u5c07 Log \u8996\u70ba\u4e8b\u4ef6\u4e32\u6d41 (Stream)\u3002 12. Admin Processes: \u7ba1\u7406\u4efb\u52d9\u4f5c\u70ba\u4e00\u6b21\u6027 Process \u57f7\u884c\u3002</p>"},{"location":"java-class/appendix-e/#2-java","title":"2. Java \u5fae\u670d\u52d9\u6846\u67b6","text":"<p>\u50b3\u7d71 Java EE (Jakarta EE) Application Server (\u5982 WebLogic) \u5c0d\u65bc\u5fae\u670d\u52d9\u4f86\u8aaa\u904e\u65bc\u7b28\u91cd\u3002\u73fe\u4ee3 Java \u5fae\u670d\u52d9\u6846\u67b6\u5f37\u8abf\u8f15\u91cf\u3001\u5feb\u901f\u555f\u52d5\u8207\u4f4e\u8a18\u61b6\u9ad4\u6d88\u8017\u3002</p> <ul> <li>Helidon (Oracle): \u5206\u70ba SE (Reactive, Microframework) \u8207 MP (MicroProfile \u6a19\u6e96)\u3002</li> <li>Quarkus (Red Hat): \"Supersonic Subatomic Java\"\uff0c\u91dd\u5c0d GraalVM \u8207 K8s \u512a\u5316\u3002</li> <li>Micronaut: \u7de8\u8b6f\u6642\u4f9d\u8cf4\u6ce8\u5165\uff0c\u555f\u52d5\u901f\u5ea6\u6975\u5feb\u3002</li> <li>Spring Boot: \u6700\u6d41\u884c\u7684 Java \u5fae\u670d\u52d9\u6846\u67b6\u3002</li> </ul>"},{"location":"java-class/appendix-e/#3-helidon-se","title":"3. Helidon SE \u7bc4\u4f8b","text":"<p>Helidon SE \u662f\u4e00\u500b Reactive\u3001Non-blocking \u7684\u5fae\u6846\u67b6\uff0c\u4e0d\u4f7f\u7528 Annotation Magic\uff0c\u6548\u80fd\u6975\u9ad8\u3002</p>"},{"location":"java-class/appendix-e/#rest-service","title":"\u5efa\u7acb REST Service","text":"Java<pre><code>import io.helidon.webserver.Routing;\nimport io.helidon.webserver.ServerConfiguration;\nimport io.helidon.webserver.WebServer;\nimport io.helidon.common.http.Http;\n\npublic class Main {\n    public static void main(String[] args) {\n        // 1. \u8a2d\u5b9a Routing (\u8def\u7531)\n        Routing routing = Routing.builder()\n            .get(\"/greet\", (req, res) -&gt; res.send(\"Hello World!\"))\n            .get(\"/greet/{name}\", (req, res) -&gt; {\n                String name = req.path().param(\"name\");\n                res.send(\"Hello \" + name + \"!\");\n            })\n            .build();\n\n        // 2. \u8a2d\u5b9a Server\n        ServerConfiguration config = ServerConfiguration.builder()\n            .port(8080)\n            .build();\n\n        // 3. \u555f\u52d5 WebServer\n        WebServer.create(config, routing)\n            .start()\n            .thenAccept(ws -&gt; System.out.println(\"Server running at: http://localhost:\" + ws.port()));\n    }\n}\n</code></pre>"},{"location":"java-class/appendix-e/#4-containerization-orchestration","title":"4. \u5bb9\u5668\u5316\u8207\u7de8\u6392 (Containerization &amp; Orchestration)","text":"<ul> <li>Docker: \u5c07\u61c9\u7528\u7a0b\u5f0f\u53ca\u5176\u4f9d\u8cf4 (JRE, Libraries) \u6253\u5305\u6210\u4e00\u500b Image\uff0c\u78ba\u4fdd\u5728\u4efb\u4f55\u74b0\u5883\u57f7\u884c\u7d50\u679c\u4e00\u81f4\u3002</li> <li>Kubernetes (K8s): \u7ba1\u7406 Docker \u5bb9\u5668\u7684\u81ea\u52d5\u5316\u90e8\u7f72\u3001\u64f4\u5c55\u8207\u7ba1\u7406\u7cfb\u7d71\u3002</li> </ul>"},{"location":"java-class/appendix-e/#dockerfile","title":"Dockerfile \u7bc4\u4f8b","text":"Docker<pre><code># \u7b2c\u4e00\u968e\u6bb5\uff1a\u5efa\u7f6e\nFROM maven:3.8-openjdk-17 as build\nWORKDIR /app\nCOPY pom.xml .\nCOPY src ./src\nRUN mvn package -DskipTests\n\n# \u7b2c\u4e8c\u968e\u6bb5\uff1a\u57f7\u884c (\u4f7f\u7528\u7cbe\u7c21\u7248 JRE)\nFROM openjdk:17-jdk-slim\nWORKDIR /app\nCOPY --from=build /app/target/my-app.jar .\nCMD [\"java\", \"-jar\", \"my-app.jar\"]\n</code></pre>"},{"location":"java-class/appendix-e/#5-graalvm-native-image","title":"5. GraalVM Native Image","text":"<p>GraalVM \u53ef\u4ee5\u5c07 Java \u61c9\u7528\u7a0b\u5f0f\u7de8\u8b6f\u6210 Native Binary (\u539f\u751f\u57f7\u884c\u6a94)\u3002 -   \u512a\u9ede:     -   \u555f\u52d5\u901f\u5ea6\u6975\u5feb (\u6beb\u79d2\u7d1a)\u3002     -   \u8a18\u61b6\u9ad4\u4f54\u7528\u6975\u4f4e\u3002     -   \u975e\u5e38\u9069\u5408 Serverless Functions (\u5982 AWS Lambda) \u8207 Kubernetes \u90e8\u7f72\u3002 -   \u7f3a\u9ede:     -   \u5efa\u7f6e\u6642\u9593\u9577\u3002     -   Reflection \u8207 Dynamic Proxy \u9700\u984d\u5916\u8a2d\u5b9a (Configuration)\u3002</p>"},{"location":"java-class/appendix-e/#6","title":"6. \u7e3d\u7d50","text":"<ul> <li>\u96f2\u7aef\u539f\u751f\u61c9\u7528\u7a0b\u5f0f\u5f37\u8abf\u7121\u72c0\u614b\u3001\u53ef\u64f4\u5c55\u8207\u81ea\u52d5\u5316\u3002</li> <li>\u73fe\u4ee3 Java \u6846\u67b6 (Helidon, Quarkus) \u8207 GraalVM \u8b93 Java \u6210\u70ba\u96f2\u7aef\u74b0\u5883\u7684\u4e00\u7b49\u516c\u6c11\u3002</li> <li>\u638c\u63e1 Docker \u8207 Kubernetes \u662f\u73fe\u4ee3 Java \u958b\u767c\u8005\u7684\u5fc5\u5099\u6280\u80fd\u3002</li> </ul>"},{"location":"java-class/appendix-e/#7","title":"7. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u4f7f\u7528 Helidon SE \u6216 Spring Boot \u5efa\u7acb\u4e00\u500b\u7c21\u55ae\u7684 REST API (\u5982 CRUD \u7522\u54c1)\u3002</li> <li>\u64b0\u5beb Dockerfile \u5c07\u4e0a\u8ff0\u61c9\u7528\u7a0b\u5f0f\u5bb9\u5668\u5316\uff0c\u4e26\u5728\u672c\u5730 Docker \u74b0\u5883\u57f7\u884c\u3002</li> <li>(\u9032\u968e) \u5617\u8a66\u5c07\u61c9\u7528\u7a0b\u5f0f\u7de8\u8b6f\u70ba GraalVM Native Image \u4e26\u6bd4\u8f03\u555f\u52d5\u6642\u9593\u8207\u8a18\u61b6\u9ad4\u4f7f\u7528\u91cf\u3002</li> </ol>"},{"location":"java-class/appendix-f/","title":"Appendix F: Miscellaneous Java Topics (\u5176\u4ed6 Java \u4e3b\u984c)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/appendix-f/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u5be6\u4f5c\u5e38\u898b\u8a2d\u8a08\u6a21\u5f0f (Builder, Singleton) - \u4f7f\u7528\u6b63\u898f\u8868\u9054\u5f0f (Regular Expressions) \u9032\u884c\u5b57\u4e32\u8655\u7406 - \u4f7f\u7528 Java NIO.2 Watch Service \u76e3\u63a7\u6a94\u6848\u7cfb\u7d71\u8b8a\u66f4</p>"},{"location":"java-class/appendix-f/#1-design-patterns","title":"1. \u8a2d\u8a08\u6a21\u5f0f (Design Patterns)","text":"<p>\u8a2d\u8a08\u6a21\u5f0f\u662f\u91dd\u5c0d\u8edf\u9ad4\u8a2d\u8a08\u4e2d\u5e38\u898b\u554f\u984c\u7684\u901a\u7528\u89e3\u6c7a\u65b9\u6848\u3002</p>"},{"location":"java-class/appendix-f/#11-builder-pattern","title":"1.1 Builder Pattern (\u5efa\u9020\u8005\u6a21\u5f0f)","text":"<p>\u7528\u65bc\u5206\u6b65\u9a5f\u5efa\u7acb\u8907\u96dc\u7269\u4ef6\uff0c\u7279\u5225\u662f\u7576\u7269\u4ef6\u6709\u8a31\u591a\u53c3\u6578 (\u5305\u542b\u9078\u586b\u53c3\u6578) \u6642\u3002\u5b83\u80fd\u4fdd\u6301\u7269\u4ef6\u7684\u4e0d\u53ef\u8b8a\u6027 (Immutability) \u4e26\u63d0\u5347\u7a0b\u5f0f\u78bc\u53ef\u8b80\u6027\u3002</p> Product.java<pre><code>public class Product {\n    private final String name;  // final: \u4e0d\u53ef\u8b8a\n    private final double price;\n    private final String category;\n\n    // \u79c1\u6709\u5efa\u69cb\u5b50\uff0c\u5f37\u5236\u900f\u904e Builder \u5efa\u7acb\n    private Product(Builder builder) {\n        this.name = builder.name;\n        this.price = builder.price;\n        this.category = builder.category;\n    }\n\n    // \u975c\u614b\u5167\u90e8\u985e\u5225 Builder\n    public static class Builder {\n        private String name;\n        private double price;\n        private String category = \"General\"; // \u9810\u8a2d\u503c\n\n        public Builder name(String name) {\n            this.name = name;\n            return this; // \u56de\u50b3 this \u4ee5\u652f\u63f4\u93c8\u5f0f\u547c\u53eb (Fluent API)\n        }\n\n        public Builder price(double price) {\n            this.price = price;\n            return this;\n        }\n\n        public Builder category(String category) {\n            this.category = category;\n            return this;\n        }\n\n        public Product build() {\n            // \u53ef\u4ee5\u5728\u6b64\u9032\u884c\u9a57\u8b49\n            if (name == null) throw new IllegalStateException(\"Name required\");\n            return new Product(this);\n        }\n    }\n}\n\n// \u4f7f\u7528\u65b9\u5f0f\nProduct p = new Product.Builder()\n    .name(\"Coffee\")\n    .price(3.99)\n    .build();\n</code></pre>"},{"location":"java-class/appendix-f/#12-singleton-pattern","title":"1.2 Singleton Pattern (\u55ae\u4f8b\u6a21\u5f0f)","text":"<p>\u78ba\u4fdd\u4e00\u500b\u985e\u5225\u53ea\u6709\u4e00\u500b\u5be6\u4f8b\uff0c\u4e26\u63d0\u4f9b\u5168\u57df\u5b58\u53d6\u9ede\u3002</p> Application.java<pre><code>public class Application {\n    // 1. \u79c1\u6709\u975c\u614b\u5be6\u4f8b (Eager Initialization)\n    private static final Application INSTANCE = new Application();\n\n    // 2. \u79c1\u6709\u5efa\u69cb\u5b50 (\u9632\u6b62\u5916\u90e8 new)\n    private Application() { }\n\n    // 3. \u516c\u958b\u975c\u614b\u5b58\u53d6\u65b9\u6cd5\n    public static Application getInstance() {\n        return INSTANCE;\n    }\n}\n</code></pre>"},{"location":"java-class/appendix-f/#2-regular-expressions","title":"2. \u6b63\u898f\u8868\u9054\u5f0f (Regular Expressions)","text":"<p>Java \u5728 <code>java.util.regex</code> \u5957\u4ef6\u63d0\u4f9b\u6b63\u898f\u8868\u9054\u5f0f\u652f\u63f4\u3002</p>"},{"location":"java-class/appendix-f/#_2","title":"\u6838\u5fc3\u985e\u5225","text":"<ul> <li>Pattern: \u7de8\u8b6f\u5f8c\u7684\u6b63\u898f\u8868\u9054\u5f0f (\u4e0d\u53ef\u8b8a\uff0cThread-safe)\u3002</li> <li>Matcher: \u7528\u65bc\u5c0d\u8f38\u5165\u5b57\u4e32\u9032\u884c\u6bd4\u5c0d\u7684\u5f15\u64ce (Stateful\uff0c\u975e Thread-safe)\u3002</li> </ul>"},{"location":"java-class/appendix-f/#_3","title":"\u5e38\u7528\u8a9e\u6cd5\u901f\u67e5","text":"\u7b26\u865f \u610f\u7fa9 \u7bc4\u4f8b <code>.</code> \u4efb\u610f\u5b57\u5143 <code>a.c</code> (abc, aoc) <code>\\d</code> \u6578\u5b57 [0-9] <code>\\d\\d</code> (12, 09) <code>\\w</code> \u5b57\u8a5e\u5b57\u5143 [a-zA-Z0-9_] <code>\\w+</code> (hello_1) <code>\\s</code> \u7a7a\u767d\u5b57\u5143 (\u7a7a\u767d, tab, \u63db\u884c) <code>Hello\\sWorld</code> <code>*</code> 0 \u6b21\u6216\u591a\u6b21 <code>ab*</code> (a, ab, abb) <code>+</code> 1 \u6b21\u6216\u591a\u6b21 <code>ab+</code> (ab, abb) <code>?</code> 0 \u6b21\u6216 1 \u6b21 <code>https?</code> (http, https) <code>[]</code> \u5b57\u5143\u96c6\u5408 <code>[aeiou]</code> (\u6bcd\u97f3) <code>()</code> \u7fa4\u7d44 (Capturing Group) <code>(\\d{3})-(\\d{4})</code>"},{"location":"java-class/appendix-f/#_4","title":"\u7bc4\u4f8b","text":"RegularExpression.java<pre><code>String text = \"Order IDs: #1234, #5678, #9012\";\nPattern pattern = Pattern.compile(\"#(\\\\d{4})\"); // \u5c0b\u627e # \u63a5 4 \u500b\u6578\u5b57\nMatcher matcher = pattern.matcher(text);\n\n// \u5c0b\u627e\u6240\u6709\u7b26\u5408\u7684\u5b50\u5b57\u4e32\nwhile (matcher.find()) {\n    System.out.println(\"Found ID: \" + matcher.group(1)); // \u53d6\u5f97\u7fa4\u7d44 1 (\u6578\u5b57\u90e8\u5206)\n}\n\n// \u66ff\u63db\nString masked = matcher.replaceAll(\"#****\");\nSystem.out.println(masked); // Order IDs: #****, #****, #****\n</code></pre>"},{"location":"java-class/appendix-f/#3-file-watch-service","title":"3. File Watch Service","text":"<p>\u7528\u65bc\u76e3\u63a7\u76ee\u9304\u4e2d\u7684\u6a94\u6848\u8b8a\u66f4 (\u5efa\u7acb\u3001\u4fee\u6539\u3001\u522a\u9664)\uff0c\u9069\u5408\u7528\u65bc\u5be6\u4f5c\u71b1\u8f09\u5165 (Hot Reloading) \u8a2d\u5b9a\u6a94\u7b49\u529f\u80fd\u3002</p> JavaIOWatchService.java<pre><code>Path dir = Path.of(\"./config\");\n// \u53d6\u5f97 WatchService\ntry (WatchService watcher = FileSystems.getDefault().newWatchService()) {\n    // \u8a3b\u518a\u76e3\u807d\u4e8b\u4ef6\n    dir.register(watcher, StandardWatchEventKinds.ENTRY_MODIFY);\n\n    System.out.println(\"Watching \" + dir + \" for changes...\");\n\n    while (true) {\n        WatchKey key;\n        try {\n            key = watcher.take(); // \u963b\u585e\u76f4\u5230\u6709\u4e8b\u4ef6\u767c\u751f\n        } catch (InterruptedException x) {\n            return;\n        }\n\n        for (WatchEvent&lt;?&gt; event : key.pollEvents()) {\n            WatchEvent.Kind&lt;?&gt; kind = event.kind();\n            Path filename = (Path) event.context();\n\n            System.out.println(kind + \": \" + filename);\n\n            if (filename.toString().equals(\"app.properties\")) {\n                System.out.println(\"Reloading configuration...\");\n            }\n        }\n\n        // \u91cd\u7f6e key\uff0c\u82e5\u56de\u50b3 false \u8868\u793a\u76ee\u9304\u5df2\u7121\u6cd5\u5b58\u53d6 (\u5982\u88ab\u522a\u9664)\n        boolean valid = key.reset();\n        if (!valid) break;\n    }\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>"},{"location":"java-class/appendix-f/#4","title":"4. \u7e3d\u7d50","text":"<ul> <li>Builder Pattern \u89e3\u6c7a\u4e86\u8907\u96dc\u7269\u4ef6\u5efa\u69cb\u7684\u554f\u984c\u3002</li> <li>Singleton Pattern \u78ba\u4fdd\u5168\u57df\u552f\u4e00\u5be6\u4f8b\u3002</li> <li>Regular Expressions \u662f\u5f37\u5927\u7684\u6587\u5b57\u8655\u7406\u5de5\u5177\u3002</li> <li>Watch Service \u63d0\u4f9b\u4e86\u6a94\u6848\u7cfb\u7d71\u4e8b\u4ef6\u7684\u5373\u6642\u76e3\u63a7\u80fd\u529b\u3002</li> </ul>"},{"location":"java-class/appendix-f/#5","title":"5. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u70ba\u4e00\u500b\u5305\u542b\u591a\u500b\u5c6c\u6027 (\u5982 <code>User</code>: id, name, email, address, phone...) \u7684\u985e\u5225\u5be6\u4f5c Builder Pattern\u3002</li> <li>\u64b0\u5beb\u4e00\u500b\u6b63\u898f\u8868\u9054\u5f0f\u4f86\u9a57\u8b49 Email \u683c\u5f0f (\u7c21\u55ae\u7248\u5373\u53ef\uff0c\u5982 <code>^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$</code>)\u3002</li> <li>\u64b0\u5beb\u4e00\u500b\u7a0b\u5f0f\u76e3\u63a7\u7279\u5b9a\u8cc7\u6599\u593e\uff0c\u7576\u6709\u65b0\u7684 <code>.txt</code> \u6a94\u6848\u5efa\u7acb\u6642\uff0c\u81ea\u52d5\u8b80\u53d6\u5176\u5167\u5bb9\u4e26\u5370\u51fa\u3002</li> </ol>"},{"location":"java-class/d1-class/","title":"Java\u8ab2\u7a0b Day 1","text":""},{"location":"java-class/d1-class/#1-java","title":"1. JAVA\u7248\u672c\u4ecb\u7d39","text":"<p>Java \u662f\u4e00\u500b\u8de8\u5e73\u53f0\u7684\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a9e\u8a00\u3002\u81ea 1995 \u5e74\u767c\u5e03\u4ee5\u4f86\uff0c\u5df2\u7d93\u767c\u5c55\u51fa\u591a\u500b\u7248\u672c\u3002</p>"},{"location":"java-class/d1-class/#java","title":"Java \u5e73\u53f0\u7248\u672c","text":"<ul> <li>Java SE (Standard Edition): \u6a19\u6e96\u7248\uff0c\u5305\u542b Java \u6838\u5fc3\u985e\u5225\u5eab\uff0c\u9069\u7528\u65bc\u684c\u9762\u61c9\u7528\u7a0b\u5f0f\u958b\u767c\u3002\u9019\u662f\u6211\u5011\u5b78\u7fd2\u7684\u57fa\u790e\u3002</li> <li>Java EE (Enterprise Edition): \u4f01\u696d\u7248 (\u73fe\u7a31\u70ba Jakarta EE)\uff0c\u5efa\u7acb\u5728 SE \u4e4b\u4e0a\uff0c\u5305\u542b Web \u61c9\u7528\u3001EJB \u7b49\u4f01\u696d\u7d1a\u529f\u80fd\u3002</li> <li>Java ME (Micro Edition): \u5fae\u578b\u7248\uff0c\u9069\u7528\u65bc\u5d4c\u5165\u5f0f\u7cfb\u7d71\u548c\u884c\u52d5\u88dd\u7f6e (\u73fe\u5728\u8f03\u5c11\u4f7f\u7528\uff0cAndroid \u958b\u767c\u4e3b\u8981\u4f7f\u7528 Android SDK)\u3002</li> </ul>"},{"location":"java-class/d1-class/#lts","title":"\u9577\u671f\u652f\u63f4\u7248\u672c (LTS)","text":"<p>Oracle \u6bcf\u9694\u5e7e\u5e74\u6703\u767c\u5e03\u4e00\u500b\u9577\u671f\u652f\u63f4 (Long-Term Support) \u7248\u672c\uff0c\u9069\u5408\u4f01\u696d\u9577\u671f\u4f7f\u7528\u3002 *   Java 8 (\u7d93\u5178\u7248\u672c\uff0c\u4ecd\u6709\u5927\u91cf\u820a\u5c08\u6848\u4f7f\u7528) *   Java 11 *   Java 17 *   Java 21 (\u76ee\u524d\u7684\u6700\u65b0 LTS \u7248\u672c)</p>"},{"location":"java-class/d1-class/#2-java21-jdk","title":"2. JAVA21 JDK","text":"<p>JDK (Java Development Kit) \u662f\u958b\u767c Java \u7a0b\u5f0f\u5fc5\u5099\u7684\u5de5\u5177\u5305\uff0c\u5305\u542b\u7de8\u8b6f\u5668 (javac)\u3001\u57f7\u884c\u74b0\u5883 (JRE) \u548c\u76f8\u95dc\u5de5\u5177\u3002</p>"},{"location":"java-class/d1-class/#java-21","title":"\u70ba\u4ec0\u9ebc\u9078\u64c7 Java 21?","text":"<p>Java 21 \u662f 2023 \u5e74 9 \u6708\u767c\u5e03\u7684\u6700\u65b0 LTS \u7248\u672c\uff0c\u63d0\u4f9b\u4e86\u8a31\u591a\u65b0\u7279\u6027\uff08\u5982\u865b\u64ec\u57f7\u884c\u7dd2 Virtual Threads\uff09\u548c\u6548\u80fd\u6539\u9032\u3002</p>"},{"location":"java-class/d1-class/#_1","title":"\u4e0b\u8f09\u8207\u5b89\u88dd","text":"<p>\u60a8\u53ef\u4ee5\u5f9e\u4ee5\u4e0b\u4f86\u6e90\u4e0b\u8f09 JDK 21\uff1a *   Oracle JDK: Oracle \u5b98\u65b9\u7db2\u7ad9 (\u500b\u4eba\u958b\u767c\u514d\u8cbb) *   OpenJDK: Adoptium (Eclipse Temurin) (\u5b8c\u5168\u958b\u6e90\u514d\u8cbb\uff0c\u63a8\u85a6)</p> <p>\u5b89\u88dd\u6b65\u9a5f (Windows): 1.  \u4e0b\u8f09 <code>.msi</code> \u6216 <code>.exe</code> \u5b89\u88dd\u6a94\u3002 2.  \u57f7\u884c\u5b89\u88dd\u7a0b\u5f0f\uff0c\u4f9d\u6307\u793a\u6309 \"Next\"\u3002 3.  \u5b89\u88dd\u5b8c\u6210\u5f8c\uff0c\u958b\u555f\u547d\u4ee4\u63d0\u793a\u5b57\u5143 (cmd)\uff0c\u8f38\u5165 <code>java -version</code> \u78ba\u8a8d\u5b89\u88dd\u6210\u529f\u3002</p>"},{"location":"java-class/d1-class/#3-eclipse-ide","title":"3. Eclipse IDE \u5b89\u88dd","text":"<p>Eclipse \u662f\u4e00\u500b\u8001\u724c\u4e14\u958b\u6e90\u7684 Java \u6574\u5408\u958b\u767c\u74b0\u5883 (IDE)\u3002</p> <ul> <li>\u4e0b\u8f09: Eclipse Packages</li> <li>\u9078\u64c7\u7248\u672c: \u5efa\u8b70\u4e0b\u8f09 \"Eclipse IDE for Enterprise Java and Web Developers\" \u6216 \"Eclipse IDE for Java Developers\"\u3002</li> <li>\u5b89\u88dd: \u4e0b\u8f09\u5f8c\u89e3\u58d3\u7e2e\u5373\u53ef\u4f7f\u7528\uff0c\u6216\u4f7f\u7528 Installer \u5b89\u88dd\u3002</li> <li>\u7279\u9ede: \u5916\u639b\u8c50\u5bcc\uff0c\u5b8c\u5168\u514d\u8cbb\uff0c\u4f46\u4ecb\u9762\u8f03\u50b3\u7d71\u3002</li> </ul>"},{"location":"java-class/d1-class/#4-netbeans-ide","title":"4. NetBeans IDE \u5b89\u88dd","text":"<p>NetBeans \u662f\u7531 Apache \u57fa\u91d1\u6703\u7dad\u8b77\u7684 IDE\uff0c\u5c0d Java \u65b0\u7279\u6027\u652f\u63f4\u76f8\u7576\u5feb\u3002</p> <ul> <li>\u4e0b\u8f09: Apache NetBeans</li> <li>\u5b89\u88dd: \u4e0b\u8f09\u5b89\u88dd\u6a94\u4e26\u57f7\u884c\u3002 Java<pre><code>// \u7bc4\u4f8b\uff1a\u5b9a\u7fa9\u4e00\u500b\u985e\u5225\npublic class Car {\n    String color; // \u5c6c\u6027\n\n    void run() { // \u65b9\u6cd5\n        System.out.println(\"\u8eca\u5b50\u5728\u8dd1\");\n    }\n}\n</code></pre></li> </ul>"},{"location":"java-class/d1-class/#7-java","title":"7. JAVA \u7df4\u7fd2","text":"<p>\u8b93\u6211\u5011\u4f86\u64b0\u5beb\u7b2c\u4e00\u500b Java \u7a0b\u5f0f\uff1aHello World\u3002</p> Java<pre><code>public class HelloWorld {\n    public static void main(String[] args) { \n        System.out.println(\"Hello Java\"); \n    }\n}\n</code></pre>"},{"location":"java-class/d1-class/#_2","title":"\u7a0b\u5f0f\u78bc\u89e3\u6790","text":"<ol> <li> <p><code>public class HelloWorld</code>:</p> <ul> <li>\u9019\u662f\u985e\u5225 (Class) \u7684\u5b9a\u7fa9\u3002</li> <li>\u5728 Java \u4e2d\uff0c\u6240\u6709\u7a0b\u5f0f\u78bc\u90fd\u5fc5\u9808\u653e\u5728\u985e\u5225\u88e1\u9762\u3002</li> <li><code>HelloWorld</code> \u662f\u985e\u5225\u540d\u7a31\uff0c\u5fc5\u9808\u8207\u6a94\u540d (<code>HelloWorld.java</code>) \u5b8c\u5168\u4e00\u81f4 (\u5927\u5c0f\u5beb\u654f\u611f)\u3002</li> <li><code>public</code> \u662f\u5b58\u53d6\u4fee\u98fe\u5b50\uff0c\u8868\u793a\u9019\u500b\u985e\u5225\u662f\u516c\u958b\u7684\u3002</li> </ul> </li> <li> <p><code>public static void main(String[] args)</code>:</p> <ul> <li>\u9019\u662f Java \u7a0b\u5f0f\u7684**\u9032\u5165\u9ede (Entry Point)**\uff0c\u7a0b\u5f0f\u57f7\u884c\u6642\u6703\u5f9e\u9019\u88e1\u958b\u59cb\u3002</li> <li><code>public</code>: \u8868\u793a\u6b64\u65b9\u6cd5\u53ef\u4ee5\u88ab\u5916\u90e8\u547c\u53eb\u3002</li> <li><code>static</code>: \u8868\u793a\u6b64\u65b9\u6cd5\u662f\u975c\u614b\u7684\uff0c\u4e0d\u9700\u8981\u5efa\u7acb\u7269\u4ef6\u5c31\u53ef\u4ee5\u57f7\u884c\u3002</li> <li><code>void</code>: \u8868\u793a\u6b64\u65b9\u6cd5\u57f7\u884c\u5b8c\u5f8c\u4e0d\u56de\u50b3\u4efb\u4f55\u6578\u503c\u3002</li> <li><code>main</code>: \u65b9\u6cd5\u540d\u7a31\uff0cJava \u865b\u64ec\u6a5f (JVM) \u8a8d\u5b9a\u7684\u56fa\u5b9a\u540d\u7a31\u3002</li> <li><code>String[] args</code>: \u63a5\u6536\u547d\u4ee4\u5217\u50b3\u5165\u7684\u53c3\u6578 (\u5b57\u4e32\u9663\u5217)\u3002</li> </ul> </li> <li> <p><code>System.out.println(\"Hello Java\");</code>:</p> <ul> <li>\u9019\u662f\u8f38\u51fa\u7684\u6307\u4ee4\u3002</li> <li><code>System</code>: Java \u5167\u5efa\u7684\u5de5\u5177\u985e\u5225\u3002</li> <li><code>out</code>: \u6a19\u6e96\u8f38\u51fa\u4e32\u6d41 (\u901a\u5e38\u662f\u87a2\u5e55/\u63a7\u5236\u53f0)\u3002</li> <li><code>println</code>: \u5370\u51fa\u5167\u5bb9\u4e26\u63db\u884c (Print Line)\u3002</li> <li><code>\"Hello Java\"</code>: \u8981\u5370\u51fa\u7684\u5b57\u4e32\u5167\u5bb9\u3002</li> <li><code>;</code>: \u6bcf\u4e00\u884c\u7a0b\u5f0f\u78bc\u7d50\u675f\u90fd\u5fc5\u9808\u52a0\u4e0a\u5206\u865f\u3002 ```</li> </ul> </li> </ol>"},{"location":"java-class/d2-basics/","title":"Java \u57fa\u790e\u8a9e\u6cd5\u6559\u5b78","text":"<p>\u6b61\u8fce\u4f86\u5230 Java \u57fa\u790e\u8a9e\u6cd5\u8ab2\u7a0b\uff01\u672c\u7ae0\u7bc0\u5c07\u5e36\u9818\u60a8\u5b78\u7fd2 Java \u7a0b\u5f0f\u8a2d\u8a08\u7684\u57fa\u77f3\u3002</p>"},{"location":"java-class/d2-basics/#1-comments","title":"1. \u8a3b\u89e3 (Comments)","text":"<p>\u8a3b\u89e3\u662f\u7a0b\u5f0f\u78bc\u4e2d\u4e0d\u6703\u88ab\u57f7\u884c\u7684\u6587\u5b57\uff0c\u4e3b\u8981\u7528\u65bc\u8aaa\u660e\u7a0b\u5f0f\u78bc\u7684\u529f\u80fd\uff0c\u589e\u52a0\u53ef\u8b80\u6027\u3002</p> <p>\u70ba\u4ec0\u9ebc\u8981\u5beb\u8a3b\u89e3\uff1f</p> <p>\u826f\u597d\u7684\u8a3b\u89e3\u7fd2\u6163\u53ef\u4ee5\u5e6b\u52a9\u81ea\u5df1\u548c\u4ed6\u4eba\u66f4\u5feb\u7406\u89e3\u7a0b\u5f0f\u78bc\u908f\u8f2f\uff0c\u7279\u5225\u662f\u5728\u7dad\u8b77\u5927\u578b\u5c08\u6848\u6642\u975e\u5e38\u91cd\u8981\u3002</p> <p>Java \u652f\u63f4\u4e09\u7a2e\u8a3b\u89e3\u65b9\u5f0f\uff1a</p> Java<pre><code>// \u9019\u662f\u55ae\u884c\u8a3b\u89e3\n\n/*\n * \u9019\u662f\u591a\u884c\u8a3b\u89e3\n * \u53ef\u4ee5\u8de8\u8d8a\u591a\u884c\n */\n\n/**\n * \u9019\u662f\u6587\u6a94\u8a3b\u89e3 (Javadoc)\n * \u901a\u5e38\u7528\u65bc\u985e\u5225\u6216\u65b9\u6cd5\u7684\u8aaa\u660e\uff0c\u53ef\u4ee5\u81ea\u52d5\u7522\u751f API \u6587\u4ef6\n */\npublic class CommentDemo {\n    // ...\n}\n</code></pre>"},{"location":"java-class/d2-basics/#2-variables-data-types","title":"2. \u8b8a\u6578\u8207\u8cc7\u6599\u578b\u614b (Variables &amp; Data Types)","text":"<p>\u8b8a\u6578\u662f\u7528\u4f86\u5132\u5b58\u8cc7\u6599\u7684\u5bb9\u5668\u3002\u5728 Java \u4e2d\uff0c\u6bcf\u500b\u8b8a\u6578\u90fd\u5fc5\u9808\u5148\u5ba3\u544a\u5176\u300c\u8cc7\u6599\u578b\u614b\u300d\u3002</p>"},{"location":"java-class/d2-basics/#primitive-data-types","title":"\u57fa\u672c\u8cc7\u6599\u578b\u614b (Primitive Data Types)","text":"<p>Java \u6709 8 \u7a2e\u57fa\u672c\u8cc7\u6599\u578b\u614b\uff0c\u6211\u5011\u4e3b\u8981\u95dc\u6ce8\u6700\u5e38\u7528\u7684\u5e7e\u7a2e\uff1a</p> \u985e\u578b \u95dc\u9375\u5b57 \u63cf\u8ff0 \u7bc4\u4f8b \u6574\u6578 <code>int</code> \u4e00\u822c\u6574\u6578 <code>int age = 25;</code> \u9577\u6574\u6578 <code>long</code> \u8f03\u5927\u7684\u6574\u6578 (\u9700\u52a0 L) <code>long population = 7000000000L;</code> \u6d6e\u9ede\u6578 <code>double</code> \u96d9\u500d\u7cbe\u5ea6\u5c0f\u6578 (\u9810\u8a2d) <code>double price = 19.99;</code> \u5b57\u5143 <code>char</code> \u55ae\u4e00\u5b57\u5143 (\u55ae\u5f15\u865f) <code>char grade = 'A';</code> \u5e03\u6797\u503c <code>boolean</code> \u771f\u6216\u5047 <code>boolean isHappy = true;</code> <p>\u6ce8\u610f\u578b\u614b\u7bc4\u570d</p> <p><code>int</code> \u7684\u7bc4\u570d\u7d04\u70ba -21 \u5104\u5230 21 \u5104\u3002\u5982\u679c\u6578\u503c\u8d85\u904e\u9019\u500b\u7bc4\u570d\uff0c\u8acb\u4f7f\u7528 <code>long</code>\u3002</p>"},{"location":"java-class/d2-basics/#reference-data-types","title":"\u53c3\u8003\u8cc7\u6599\u578b\u614b (Reference Data Types)","text":"<p>\u6700\u5e38\u898b\u7684\u662f\u5b57\u4e32 (<code>String</code>)\u3002</p> Java<pre><code>String name = \"Java\"; // \u5b57\u4e32\u5fc5\u9808\u4f7f\u7528\u96d9\u5f15\u865f\nString message = \"Hello, \" + name; // \u5b57\u4e32\u53ef\u4ee5\u4f7f\u7528 + \u865f\u9023\u63a5\n</code></pre>"},{"location":"java-class/d2-basics/#3-operators","title":"3. \u904b\u7b97\u5b50 (Operators)","text":"<p>\u7528\u4f86\u5c0d\u8b8a\u6578\u548c\u6578\u503c\u9032\u884c\u904b\u7b97\u3002</p>"},{"location":"java-class/d2-basics/#_1","title":"\u7b97\u8853\u904b\u7b97\u5b50","text":"<ul> <li><code>+</code> (\u52a0), <code>-</code> (\u6e1b), <code>*</code> (\u4e58), <code>/</code> (\u9664), <code>%</code> (\u53d6\u9918\u6578)</li> </ul> Java<pre><code>int a = 10;\nint b = 3;\nSystem.out.println(a / b); // \u7d50\u679c\u70ba 3 (\u6574\u6578\u9664\u6cd5\u6703\u7121\u689d\u4ef6\u6368\u53bb\u5c0f\u6578)\nSystem.out.println(a % b); // \u7d50\u679c\u70ba 1 (10 \u9664\u4ee5 3 \u9918 1)\n</code></pre>"},{"location":"java-class/d2-basics/#_2","title":"\u6bd4\u8f03\u904b\u7b97\u5b50","text":"<p>\u7528\u65bc\u6bd4\u8f03\u5169\u500b\u503c\uff0c\u7d50\u679c\u70ba <code>boolean</code> (true/false)\u3002</p> <ul> <li><code>&gt;</code> (\u5927\u65bc), <code>&lt;</code> (\u5c0f\u65bc), <code>&gt;=</code> (\u5927\u65bc\u7b49\u65bc), <code>&lt;=</code> (\u5c0f\u65bc\u7b49\u65bc)</li> <li><code>==</code> (\u7b49\u65bc), <code>!=</code> (\u4e0d\u7b49\u65bc)</li> </ul> <p>\u5e38\u898b\u932f\u8aa4\uff1a\u4f7f\u7528 <code>=</code> \u6bd4\u8f03</p> <p>\u8acb\u8a18\u4f4f\uff0c<code>=</code> \u662f**\u8ce6\u503c** (Assignment)\uff0c<code>==</code> \u624d\u662f**\u6bd4\u8f03** (Comparison)\u3002</p>"},{"location":"java-class/d2-basics/#_3","title":"\u908f\u8f2f\u904b\u7b97\u5b50","text":"<ul> <li><code>&amp;&amp;</code> (\u4e14 AND): \u5169\u908a\u90fd\u70ba true\uff0c\u7d50\u679c\u624d\u70ba true\u3002</li> <li><code>||</code> (\u6216 OR): \u53ea\u8981\u6709\u4e00\u908a\u70ba true\uff0c\u7d50\u679c\u5c31\u70ba true\u3002</li> <li><code>!</code> (\u975e NOT): \u5c07 true \u8b8a false\uff0cfalse \u8b8a true\u3002</li> </ul>"},{"location":"java-class/d2-basics/#4-control-flow","title":"4. \u6d41\u7a0b\u63a7\u5236 (Control Flow)","text":"<p>\u63a7\u5236\u7a0b\u5f0f\u57f7\u884c\u7684\u9806\u5e8f\u3002</p>"},{"location":"java-class/d2-basics/#if-else","title":"\u689d\u4ef6\u5224\u65b7 (if-else)","text":"Java<pre><code>int score = 85;\n\nif (score &gt;= 90) {\n    System.out.println(\"\u512a\u79c0\");\n} else if (score &gt;= 60) {\n    System.out.println(\"\u53ca\u683c\");\n} else {\n    System.out.println(\"\u4e0d\u53ca\u683c\");\n}\n</code></pre>"},{"location":"java-class/d2-basics/#loops","title":"\u8ff4\u5708 (Loops)","text":"<p>\u8b93\u7a0b\u5f0f\u91cd\u8907\u57f7\u884c\u67d0\u6bb5\u4ee3\u78bc\u3002</p>"},{"location":"java-class/d2-basics/#for","title":"for \u8ff4\u5708","text":"<p>\u7576\u4f60\u77e5\u9053\u8981\u57f7\u884c\u5e7e\u6b21\u6642\u4f7f\u7528\u3002</p> Java<pre><code>// \u5370\u51fa 0 \u5230 4\nfor (int i = 0; i &lt; 5; i++) {\n    System.out.println(\"Count: \" + i);\n}\n</code></pre>"},{"location":"java-class/d2-basics/#while","title":"while \u8ff4\u5708","text":"<p>\u7576\u689d\u4ef6\u6210\u7acb\u6642\u6301\u7e8c\u57f7\u884c\u3002</p> Java<pre><code>int i = 0;\nwhile (i &lt; 5) {\n    System.out.println(\"While Count: \" + i);\n    i++; // \u8a18\u5f97\u8981\u66f4\u65b0\u689d\u4ef6\uff0c\u5426\u5247\u6703\u8b8a\u6210\u7121\u7aae\u8ff4\u5708\n}\n</code></pre> <p>\u7df4\u7fd2\u6642\u9593</p> <p>\u8a66\u8457\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u8a08\u7b97 1 \u5230 100 \u7684\u7e3d\u548c\uff0c\u4e26\u5370\u51fa\u7d50\u679c\u3002</p>"},{"location":"java-class/module-01/","title":"Module 01: Java \u7c21\u4ecb (Introduction to Java)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-01/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u4e86\u89e3 Java \u8a9e\u8a00\u7684\u8d77\u6e90\u3001\u7248\u672c\u6f14\u9032\u8207\u4e3b\u8981\u7279\u6027 - \u5340\u5206 JVM, JRE, JDK \u7684\u529f\u80fd\u8207\u5dee\u7570 - \u5b8c\u6210 Java \u958b\u767c\u74b0\u5883\u7684\u8a2d\u5b9a - \u64b0\u5beb\u4e26\u57f7\u884c\u7b2c\u4e00\u500b Java \u7a0b\u5f0f (Hello World) - \u7406\u89e3\u7269\u4ef6\u5c0e\u5411 (Object-Oriented) \u7684\u57fa\u672c\u6982\u5ff5 (\u985e\u5225\u3001\u7269\u4ef6\u3001\u7e7c\u627f)</p>"},{"location":"java-class/module-01/#1-java","title":"1. \u4ec0\u9ebc\u662f Java\uff1f","text":"<p>Java \u662f\u7531 Sun Microsystems\uff08\u73fe\u70ba Oracle\uff09\u65bc 1995 \u5e74\u958b\u767c\u7684\u7269\u4ef6\u5c0e\u5411\u7a0b\u5f0f\u8a9e\u8a00\u3002Java \u7684\u6838\u5fc3\u8a2d\u8a08\u7406\u5ff5\u662f\u300c\u4e00\u6b21\u64b0\u5beb\uff0c\u5230\u8655\u57f7\u884c\u300d\uff08Write Once, Run Anywhere, WORA\uff09\uff0c\u9019\u4f7f\u5f97 Java \u7a0b\u5f0f\u5177\u6709\u6975\u9ad8\u7684\u8de8\u5e73\u53f0\u7279\u6027\u3002</p>"},{"location":"java-class/module-01/#java","title":"Java \u7684\u4e3b\u8981\u7279\u8272","text":"<ol> <li>\u8de8\u5e73\u53f0\u6027 (Platform Independent)\uff1aJava \u539f\u59cb\u78bc\u7de8\u8b6f\u5f8c\u7522\u751f Bytecode (\u4f4d\u5143\u7d44\u78bc)\uff0c\u53ef\u5728\u4efb\u4f55\u5b89\u88dd\u4e86 JVM \u7684\u5e73\u53f0\u4e0a\u57f7\u884c\u3002</li> <li>\u7269\u4ef6\u5c0e\u5411 (Object-Oriented)\uff1aJava \u662f\u7d14\u7269\u4ef6\u5c0e\u5411\u8a9e\u8a00\uff0c\u652f\u63f4\u5c01\u88dd\u3001\u7e7c\u627f\u3001\u591a\u578b\u7b49\u7279\u6027\u3002</li> <li>\u81ea\u52d5\u8a18\u61b6\u9ad4\u7ba1\u7406\uff1a\u900f\u904e\u5783\u573e\u56de\u6536\u6a5f\u5236 (Garbage Collection, GC) \u81ea\u52d5\u7ba1\u7406\u8a18\u61b6\u9ad4\uff0c\u6e1b\u5c11\u8a18\u61b6\u9ad4\u6d29\u6f0f\u98a8\u96aa\u3002</li> <li>\u5b89\u5168\u6027\uff1aJava \u63d0\u4f9b\u6c99\u7bb1\u6a5f\u5236\u8207\u5f37\u578b\u5225\u6aa2\u67e5\uff0c\u78ba\u4fdd\u7a0b\u5f0f\u57f7\u884c\u7684\u5b89\u5168\u6027\u3002</li> <li>\u8c50\u5bcc\u7684 API\uff1a\u64c1\u6709\u9f90\u5927\u7684\u6a19\u6e96\u985e\u5225\u5eab\uff0c\u6db5\u84cb\u7db2\u8def\u3001IO\u3001\u4e26\u767c\u3001\u8cc7\u6599\u5eab\u7b49\u9818\u57df\u3002</li> </ol>"},{"location":"java-class/module-01/#java_1","title":"Java \u7248\u672c","text":"<ul> <li>Java SE (Standard Edition)\uff1a\u6a19\u6e96\u7248\uff0cJava \u7684\u6838\u5fc3\uff0c\u4e5f\u662f\u672c\u8ab2\u7a0b\u7684\u91cd\u9ede\u3002</li> <li>Java EE (Jakarta EE)\uff1a\u4f01\u696d\u7248\uff0c\u7528\u65bc\u958b\u767c\u5927\u578b\u4f01\u696d\u61c9\u7528\u7a0b\u5f0f\u3002</li> <li>Java ME (Micro Edition)\uff1a\u5fae\u578b\u7248\uff0c\u7528\u65bc\u5d4c\u5165\u5f0f\u88dd\u7f6e\u3002</li> <li>LTS (Long Term Support)\uff1a\u9577\u671f\u652f\u63f4\u7248\u672c\uff08\u5982 Java 8, 11, 17, 21\uff09\uff0c\u9069\u5408\u4f01\u696d\u9577\u671f\u4f7f\u7528\u3002\u672c\u8ab2\u7a0b\u4f7f\u7528\u6700\u65b0\u7684 Java 21\u3002</li> </ul>"},{"location":"java-class/module-01/#2-java-jvm-jre-jdk","title":"2. Java \u904b\u4f5c\u539f\u7406 (JVM, JRE, JDK)","text":""},{"location":"java-class/module-01/#jvm-java-virtual-machine","title":"JVM (Java Virtual Machine)","text":"<ul> <li>Java \u865b\u64ec\u6a5f\u5668\uff1a\u8ca0\u8cac\u57f7\u884c Java Bytecode\u3002</li> <li>\u8de8\u5e73\u53f0\u6838\u5fc3\uff1a\u4e0d\u540c\u4f5c\u696d\u7cfb\u7d71 (Windows, Linux, macOS) \u6709\u5c0d\u61c9\u7684 JVM \u5be6\u4f5c\uff0c\u4f46\u5b83\u5011\u90fd\u80fd\u57f7\u884c\u76f8\u540c\u7684 Bytecode\u3002</li> </ul>"},{"location":"java-class/module-01/#jre-java-runtime-environment","title":"JRE (Java Runtime Environment)","text":"<ul> <li>Java \u57f7\u884c\u74b0\u5883\uff1a\u5305\u542b JVM + Java \u6a19\u6e96\u985e\u5225\u5eab\u3002</li> <li>\u7528\u9014\uff1a\u50c5\u9700\u57f7\u884c Java \u7a0b\u5f0f\u7684\u4f7f\u7528\u8005\u5b89\u88dd JRE \u5373\u53ef\u3002</li> </ul>"},{"location":"java-class/module-01/#jdk-java-development-kit","title":"JDK (Java Development Kit)","text":"<ul> <li>Java \u958b\u767c\u5de5\u5177\u5305\uff1a\u5305\u542b JRE + \u958b\u767c\u5de5\u5177 (\u7de8\u8b6f\u5668 <code>javac</code>, \u9664\u932f\u5668 <code>jdb</code> \u7b49)\u3002</li> <li>\u7528\u9014\uff1a\u958b\u767c\u8005\u5fc5\u9808\u5b89\u88dd JDK\u3002</li> </ul> <pre><code>graph TD\n    subgraph JDK [JDK (Java Development Kit)]\n        direction TB\n        Tools[\u958b\u767c\u5de5\u5177 (javac, jdb...)]\n        subgraph JRE [JRE (Java Runtime Environment)]\n            Libs[Java \u6a19\u6e96\u985e\u5225\u5eab]\n            subgraph JVM [JVM (Java Virtual Machine)]\n                Exec[Bytecode \u57f7\u884c\u5f15\u64ce]\n                GC[\u5783\u573e\u56de\u6536\u5668]\n            end\n        end\n    end</code></pre>"},{"location":"java-class/module-01/#3-java","title":"3. \u7b2c\u4e00\u500b Java \u7a0b\u5f0f","text":""},{"location":"java-class/module-01/#helloworldjava","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b\uff1aHelloWorld.java","text":"<p>\u9019\u662f\u6700\u7c21\u55ae\u7684 Java \u7a0b\u5f0f\uff0c\u7528\u65bc\u8f38\u51fa\u4e00\u6bb5\u6587\u5b57\u3002</p> HelloWorld.java<pre><code>public class HelloWorld {\n    public static void main(String[] args){\n        System.out.println(\"Hello Java\");\n    }\n}\n</code></pre>"},{"location":"java-class/module-01/#_2","title":"\u7a0b\u5f0f\u78bc\u89e3\u6790","text":"<ol> <li><code>public class HelloWorld</code>\uff1a<ul> <li>\u5b9a\u7fa9\u4e00\u500b\u516c\u958b\u7684\u985e\u5225 (Class) \u540d\u70ba <code>HelloWorld</code>\u3002</li> <li>\u6ce8\u610f\uff1a\u5728 Java \u4e2d\uff0c\u82e5\u985e\u5225\u662f <code>public</code> \u7684\uff0c\u6a94\u540d\u5fc5\u9808\u8207\u985e\u5225\u540d\u7a31\u5b8c\u5168\u76f8\u540c (\u5927\u5c0f\u5beb\u654f\u611f)\uff0c\u5373 <code>HelloWorld.java</code>\u3002</li> </ul> </li> <li><code>public static void main(String[] args)</code>\uff1a<ul> <li>\u9019\u662f Java \u7a0b\u5f0f\u7684 \u9032\u5165\u9ede (Entry Point)\u3002\u7576\u7a0b\u5f0f\u57f7\u884c\u6642\uff0cJVM \u6703\u5c0b\u627e\u4e26\u57f7\u884c\u9019\u500b\u65b9\u6cd5\u3002</li> <li><code>public</code>\uff1a\u8868\u793a\u6b64\u65b9\u6cd5\u53ef\u88ab\u5916\u90e8 (JVM) \u547c\u53eb\u3002</li> <li><code>static</code>\uff1a\u8868\u793a\u6b64\u65b9\u6cd5\u5c6c\u65bc\u985e\u5225\u672c\u8eab\uff0c\u4e0d\u9700\u8981\u5efa\u7acb\u7269\u4ef6\u5373\u53ef\u57f7\u884c\u3002</li> <li><code>void</code>\uff1a\u8868\u793a\u6b64\u65b9\u6cd5\u4e0d\u56de\u50b3\u4efb\u4f55\u503c\u3002</li> <li><code>String[] args</code>\uff1a\u63a5\u6536\u547d\u4ee4\u5217\u53c3\u6578 (Command Line Arguments)\u3002</li> </ul> </li> <li><code>System.out.println(\"Hello Java\");</code>\uff1a<ul> <li>\u5c07\u5b57\u4e32 <code>\"Hello Java\"</code> \u8f38\u51fa\u5230\u63a7\u5236\u53f0 (Console) \u4e26\u63db\u884c\u3002</li> </ul> </li> </ol>"},{"location":"java-class/module-01/#_3","title":"\u7de8\u8b6f\u8207\u57f7\u884c","text":"<ol> <li> <p>\u7de8\u8b6f (Compile)\uff1a\u5c07\u539f\u59cb\u78bc (.java) \u8f49\u63db\u70ba\u4f4d\u5143\u7d44\u78bc (.class)\u3002     Bash<pre><code>javac HelloWorld.java\n</code></pre>     \u6210\u529f\u5f8c\u6703\u7522\u751f <code>HelloWorld.class</code> \u6a94\u6848\u3002</p> </li> <li> <p>\u57f7\u884c (Run)\uff1a\u555f\u52d5 JVM \u57f7\u884c\u4f4d\u5143\u7d44\u78bc\u3002     Bash<pre><code>java HelloWorld\n</code></pre> \u6ce8\u610f\uff1a\u57f7\u884c\u6642\u4f7f\u7528\u7684\u662f \u985e\u5225\u540d\u7a31\uff0c\u4e0d\u9700\u8981\u52a0\u4e0a <code>.class</code> \u526f\u6a94\u540d\u3002</p> </li> </ol>"},{"location":"java-class/module-01/#4-object-oriented-concepts","title":"4. \u7269\u4ef6\u5c0e\u5411\u6982\u5ff5 (Object-Oriented Concepts)","text":"<p>Java \u7a0b\u5f0f\u8a2d\u8a08\u7684\u6838\u5fc3\u662f\u7269\u4ef6\u5c0e\u5411\u3002\u6211\u5011\u900f\u904e\u5b9a\u7fa9 \u985e\u5225 (Class) \u4f86\u63cf\u8ff0\u4e8b\u7269\u7684\u7279\u5fb5\uff0c\u4e26\u900f\u904e\u5efa\u7acb \u7269\u4ef6 (Object) \u4f86\u4f7f\u7528\u9019\u4e9b\u529f\u80fd\u3002</p>"},{"location":"java-class/module-01/#_4","title":"\u6838\u5fc3\u6982\u5ff5","text":"<ul> <li>\u985e\u5225 (Class)\uff1a\u7269\u4ef6\u7684\u85cd\u5716\u6216\u6a21\u677f\u3002\u5b9a\u7fa9\u4e86\u7269\u4ef6\u64c1\u6709\u7684 \u5c6c\u6027 (Fields/Attributes) \u548c \u884c\u70ba (Methods)\u3002<ul> <li>\u4f8b\u5982\uff1a\u300c\u72d7\u300d\u9019\u500b\u6982\u5ff5\uff0c\u6709\u540d\u5b57 (\u5c6c\u6027)\uff0c\u6703\u63a5\u7403 (\u884c\u70ba)\u3002</li> </ul> </li> <li>\u7269\u4ef6 (Object)\uff1a\u985e\u5225\u7684\u5be6\u4f8b (Instance)\u3002\u662f\u8a18\u61b6\u9ad4\u4e2d\u5be6\u969b\u5b58\u5728\u7684\u500b\u9ad4\u3002<ul> <li>\u4f8b\u5982\uff1a\u300c\u4f60\u5bb6\u990a\u7684\u90a3\u96bb\u53eb Rex \u7684\u72d7\u300d\u3002</li> </ul> </li> </ul>"},{"location":"java-class/module-01/#_5","title":"\u7bc4\u4f8b\u60c5\u5883","text":"<p>\u6211\u5011\u6a21\u64ec\u4e00\u500b\u60c5\u5883\uff1a\u4e00\u500b\u4eba (<code>Person</code>) \u548c\u4e00\u96bb\u72d7 (<code>Dog</code>) \u73a9\u7403 (<code>Ball</code>)\u3002</p>"},{"location":"java-class/module-01/#1-animaljava","title":"1. \u5b9a\u7fa9\u57fa\u790e\u985e\u5225 (Animal.java)","text":"<p>\u9019\u662f\u4e00\u500b\u7236\u985e\u5225\uff0c\u4ee3\u8868\u6240\u6709\u52d5\u7269\u7684\u901a\u7528\u7279\u5fb5\u3002</p> <p>Animal.java<pre><code>class Animal extends LivingOrganism {\n    // generic attributes and behaviours\n    // \u9019\u88e1\u53ef\u4ee5\u5b9a\u7fa9\u6240\u6709\u52d5\u7269\u5171\u6709\u7684\u5c6c\u6027\u8207\u884c\u70ba\n}\n</code></pre> \u8a3b\uff1a<code>LivingOrganism</code> \u5047\u8a2d\u662f\u53e6\u4e00\u500b\u66f4\u57fa\u790e\u7684\u985e\u5225\u3002</p>"},{"location":"java-class/module-01/#2-balljava","title":"2. \u5b9a\u7fa9\u7403\u985e\u5225 (Ball.java)","text":"<p>\u5b9a\u7fa9\u7403\u7684\u884c\u70ba\u3002</p> Ball.java<pre><code>public class Ball {\n    // \u7403\u88ab\u627e\u5230\u7684\u884c\u70ba\n    void find() { \n        System.out.println(\"Ball found!\");\n    }\n\n    // \u7403\u88ab\u54ac\u7684\u884c\u70ba\n    void chew() { \n        System.out.println(\"Ball chewed!\");\n    }\n}\n</code></pre>"},{"location":"java-class/module-01/#3-dogjava","title":"3. \u5b9a\u7fa9\u72d7\u985e\u5225 (Dog.java)","text":"<p>\u72d7\u662f\u4e00\u7a2e\u52d5\u7269\uff0c\u6240\u4ee5\u7e7c\u627f\u81ea <code>Animal</code>\u3002</p> <p>Dog.java<pre><code>public class Dog extends Animal {\n    String name; // \u5c6c\u6027\uff1a\u540d\u5b57\n\n    // \u884c\u70ba\uff1a\u63a5\u7403\n    void fetch(Ball ball) {\n        System.out.println(name + \" is fetching the ball...\");\n        ball.find(); // \u547c\u53eb\u7403\u7684\u65b9\u6cd5\n        ball.chew();\n    }\n}\n</code></pre> -   <code>extends Animal</code>\uff1a\u8868\u793a\u7e7c\u627f\u3002<code>Dog</code> \u64c1\u6709 <code>Animal</code> \u7684\u6240\u6709\u7279\u5fb5\u3002 -   <code>fetch(Ball ball)</code>\uff1a\u5b9a\u7fa9\u4e86\u4e00\u500b\u65b9\u6cd5\uff0c\u63a5\u6536\u4e00\u500b <code>Ball</code> \u7269\u4ef6\u4f5c\u70ba\u53c3\u6578\u3002</p>"},{"location":"java-class/module-01/#4-personjava","title":"4. \u5b9a\u7fa9\u4eba\u985e\u5225 (Person.java)","text":"<p>\u4eba\u8ca0\u8cac\u767c\u8d77\u904a\u6232\u3002</p> <p>Person.java<pre><code>public class Person {\n    void play() {\n        // 1. \u5efa\u7acb Dog \u7269\u4ef6 (\u5be6\u4f8b\u5316)\n        Dog dog = new Dog();\n        dog.name = \"Rex\"; // \u8a2d\u5b9a\u5c6c\u6027\n\n        // 2. \u5efa\u7acb Ball \u7269\u4ef6\n        Ball ball = new Ball();\n\n        // 3. \u547c\u53eb\u65b9\u6cd5 (\u4e92\u52d5)\n        dog.fetch(ball);\n    }\n}\n</code></pre> -   <code>new Dog()</code>\uff1a\u4f7f\u7528 <code>new</code> \u95dc\u9375\u5b57\u5efa\u7acb\u4e00\u500b <code>Dog</code> \u985e\u5225\u7684\u65b0\u5be6\u4f8b (\u7269\u4ef6)\u3002 -   <code>dog.name = \"Rex\"</code>\uff1a\u5b58\u53d6\u4e26\u8a2d\u5b9a\u7269\u4ef6\u7684\u5c6c\u6027\u3002 -   <code>dog.fetch(ball)</code>\uff1a\u547c\u53eb\u7269\u4ef6\u7684\u65b9\u6cd5\uff0c\u4e26\u5c07\u53e6\u4e00\u500b\u7269\u4ef6 (<code>ball</code>) \u50b3\u905e\u9032\u53bb\u3002</p>"},{"location":"java-class/module-01/#5","title":"5. \u7e3d\u7d50","text":"<ul> <li>Java \u662f\u4e00\u7a2e\u8de8\u5e73\u53f0\u3001\u7269\u4ef6\u5c0e\u5411\u7684\u5f37\u578b\u5225\u8a9e\u8a00\u3002</li> <li>\u958b\u767c Java \u9700\u8981 JDK\uff0c\u57f7\u884c Java \u9700\u8981 JRE\u3002</li> <li>Java \u7a0b\u5f0f\u57f7\u884c\u6d41\u7a0b\uff1a<code>.java</code> (\u539f\u59cb\u78bc) -&gt; <code>javac</code> (\u7de8\u8b6f) -&gt; <code>.class</code> (Bytecode) -&gt; <code>java</code> (JVM \u57f7\u884c)\u3002</li> <li>\u985e\u5225\u662f\u85cd\u5716\uff0c\u7269\u4ef6\u662f\u5be6\u4f8b\u3002\u900f\u904e\u65b9\u6cd5\u547c\u53eb\u8b93\u7269\u4ef6\u4e4b\u9593\u9032\u884c\u4e92\u52d5\u3002</li> </ul>"},{"location":"java-class/module-01/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u78ba\u8a8d\u5df2\u5b89\u88dd JDK 21 \u4e26\u8a2d\u5b9a\u597d\u74b0\u5883\u8b8a\u6578 (<code>JAVA_HOME</code>, <code>PATH</code>)\u3002</li> <li>\u4f7f\u7528\u6587\u5b57\u7de8\u8f2f\u5668\u64b0\u5beb <code>HelloWorld.java</code> \u4e26\u5728\u7d42\u7aef\u6a5f\u7de8\u8b6f\u57f7\u884c\u3002</li> <li>\u5617\u8a66\u4fee\u6539 <code>HelloWorld.java</code>\uff0c\u8f38\u51fa\u4f60\u7684\u540d\u5b57\u3002</li> <li>\u5efa\u7acb <code>Dog</code>, <code>Ball</code>, <code>Person</code> \u985e\u5225\uff0c\u4e26\u64b0\u5beb\u4e00\u500b\u5305\u542b <code>main</code> \u65b9\u6cd5\u7684\u6e2c\u8a66\u985e\u5225\u4f86\u57f7\u884c <code>Person</code> \u7684 <code>play</code> \u65b9\u6cd5\u3002</li> </ol>"},{"location":"java-class/module-02/","title":"Module 02: \u57fa\u672c\u8cc7\u6599\u578b\u614b\u8207\u904b\u7b97\u5b50 (Data Types and Operators)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-02/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u638c\u63e1 Java \u7684\u516b\u5927\u57fa\u672c\u8cc7\u6599\u578b\u614b (Primitive Types) \u53ca\u5176\u7bc4\u570d - \u6b63\u78ba\u5ba3\u544a\u8207\u521d\u59cb\u5316\u8b8a\u6578\uff0c\u4e26\u7406\u89e3\u8b8a\u6578\u7bc4\u7587 (Scope) - \u719f\u7df4\u4f7f\u7528\u7b97\u8853\u3001\u6bd4\u8f03\u3001\u908f\u8f2f\u8207\u4f4d\u5143\u904b\u7b97\u5b50 - \u904b\u7528\u6d41\u7a0b\u63a7\u5236\u6558\u8ff0 (if-else, switch) \u8207\u8ff4\u5708 (for, while) \u63a7\u5236\u7a0b\u5f0f\u6d41\u7a0b</p>"},{"location":"java-class/module-02/#1-primitive-data-types","title":"1. \u57fa\u672c\u8cc7\u6599\u578b\u614b (Primitive Data Types)","text":"<p>Java \u63d0\u4f9b 8 \u7a2e\u57fa\u672c\u8cc7\u6599\u578b\u614b\uff0c\u76f4\u63a5\u5132\u5b58\u5728\u8a18\u61b6\u9ad4 (Stack) \u4e2d\uff0c\u6548\u7387\u6975\u9ad8\u3002</p> \u985e\u5225 \u578b\u614b \u5927\u5c0f (Bit) \u7bc4\u570d \u9810\u8a2d\u503c \u8aaa\u660e \u6574\u6578 <code>byte</code> 8 -128 ~ 127 0 \u7bc0\u7701\u8a18\u61b6\u9ad4\u7684\u5c0f\u6574\u6578 <code>short</code> 16 -32,768 ~ 32,767 0 \u8f03\u5c11\u4f7f\u7528 <code>int</code> 32 -2^31 ~ 2^31-1 0 \u6700\u5e38\u7528\u7684\u6574\u6578\u578b\u614b <code>long</code> 64 -2^63 ~ 2^63-1 0L \u5927\u6574\u6578\uff0c\u5b57\u9762\u503c\u9700\u52a0 <code>L</code> \u6d6e\u9ede\u6578 <code>float</code> 32 \u7d04 7 \u4f4d\u5c0f\u6578 0.0f \u55ae\u7cbe\u5ea6\uff0c\u5b57\u9762\u503c\u9700\u52a0 <code>F</code> <code>double</code> 64 \u7d04 15 \u4f4d\u5c0f\u6578 0.0 \u9810\u8a2d\u6d6e\u9ede\u6578\u578b\u614b \u5b57\u5143 <code>char</code> 16 0 ~ 65,535 '\\u0000' \u5132\u5b58\u55ae\u4e00 Unicode \u5b57\u5143 \u5e03\u6797 <code>boolean</code> - true / false false \u908f\u8f2f\u5224\u65b7"},{"location":"java-class/module-02/#primitivedemo01java","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b\uff1a\u57fa\u672c\u578b\u614b\u7bc4\u570d (PrimitiveDemo01.java)","text":"<p>\u6b64\u7bc4\u4f8b\u5c55\u793a\u4e86\u5404\u578b\u614b\u7684\u6700\u5c0f\u503c\u8207\u6700\u5927\u503c\u3002</p> PrimitiveDemo01.java<pre><code>public class PrimitiveDemo01 {\n    public static void main(String[] args) {\n        // \u6574\u6578\u578b\u614b\u7bc4\u570d\n        System.out.printf(\"byte:  %d ~ %d%n\", Byte.MIN_VALUE, Byte.MAX_VALUE);\n        System.out.printf(\"short: %d ~ %d%n\", Short.MIN_VALUE, Short.MAX_VALUE);\n        System.out.printf(\"int:   %d ~ %d%n\", Integer.MIN_VALUE, Integer.MAX_VALUE);\n        System.out.printf(\"long:  %d ~ %d%n\", Long.MIN_VALUE, Long.MAX_VALUE);\n\n        // \u6d6e\u9ede\u6578\u578b\u614b\u7bc4\u570d\n        System.out.println(\"float:  \" + Float.MIN_VALUE + \" ~ \" + Float.MAX_VALUE);\n        System.out.println(\"double: \" + Double.MIN_VALUE + \" ~ \" + Double.MAX_VALUE);\n\n        // \u5b57\u5143\u578b\u614b\u7bc4\u570d (\u8f49\u70ba int \u986f\u793a)\n        System.out.println(\"char:  \" + (int)Character.MIN_VALUE + \" ~ \" + (int)Character.MAX_VALUE);\n    }\n}\n</code></pre>"},{"location":"java-class/module-02/#2-operators","title":"2. \u904b\u7b97\u5b50 (Operators)","text":""},{"location":"java-class/module-02/#arithmetic-operators","title":"\u7b97\u8853\u904b\u7b97\u5b50 (Arithmetic Operators)","text":"<ul> <li><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> (\u9664\u6cd5), <code>%</code> (\u53d6\u9918\u6578)</li> <li><code>++</code> (\u905e\u589e), <code>--</code> (\u905e\u6e1b)</li> </ul>"},{"location":"java-class/module-02/#type-promotion","title":"\u578b\u614b\u63d0\u5347 (Type Promotion)","text":"<p>\u7576\u4e0d\u540c\u578b\u614b\u9032\u884c\u904b\u7b97\u6642\uff0c\u5c0f\u7bc4\u570d\u578b\u614b\u6703\u81ea\u52d5\u63d0\u5347\u70ba\u5927\u7bc4\u570d\u578b\u614b\u3002 \u898f\u5247\uff1a<code>byte</code>, <code>short</code>, <code>char</code> -&gt; <code>int</code> -&gt; <code>long</code> -&gt; <code>float</code> -&gt; <code>double</code></p> OperatorDemo01.java<pre><code>public class OperatorDemo01 {\n    public static void main(String[] args) {\n        byte v = 3;\n        byte v2 = 5;\n\n        // byte v3 = v + v2;   // \u7de8\u8b6f\u932f\u8aa4\uff01\u56e0\u70ba byte + byte \u6703\u63d0\u5347\u70ba int\n        // \u4fee\u6b63\u65b9\u5f0f 1: \u5f37\u5236\u8f49\u578b\n        // byte v4 = (byte) (v + v2);\n\n        // \u4fee\u6b63\u65b9\u5f0f 2: \u4f7f\u7528 int \u63a5\u6536\n        int v4 = v + v2;\n\n        // \u6df7\u5408\u904b\u7b97\n        int v5 = 3;\n        float v6 = 5.0F;\n        float v7 = v5 + v6; // int \u81ea\u52d5\u63d0\u5347\u70ba float\n\n        short v8 = 3;\n        double v9 = 5.0;\n        double v10 = v8 + v9; // short \u81ea\u52d5\u63d0\u5347\u70ba double\n    }\n}\n</code></pre>"},{"location":"java-class/module-02/#3-control-flow","title":"3. \u6d41\u7a0b\u63a7\u5236 (Control Flow)","text":""},{"location":"java-class/module-02/#if-else","title":"if-else \u689d\u4ef6\u5224\u65b7","text":"<p>\u6839\u64da\u689d\u4ef6\u7684\u771f\u5047\u57f7\u884c\u4e0d\u540c\u7684\u7a0b\u5f0f\u5340\u584a\u3002</p> IfDemo01.java<pre><code>public class IfDemo01 {\n    public static void main(String[] args) {\n        int age  = 19;\n        String message = \"\";\n\n        if (age &gt;= 20) {\n            message = \"Yes\"; // \u689d\u4ef6\u6210\u7acb\n        }\n        else {\n            message = \"No\";  // \u689d\u4ef6\u4e0d\u6210\u7acb\n        }\n\n        System.out.println(message);\n    }\n}\n</code></pre>"},{"location":"java-class/module-02/#switch","title":"switch \u591a\u91cd\u9078\u64c7","text":"<p>\u9069\u7528\u65bc\u55ae\u4e00\u8b8a\u6578\u7684\u591a\u7a2e\u6578\u503c\u5224\u65b7\u3002Java 14+ \u652f\u63f4\u66f4\u7c21\u6f54\u7684 switch \u8868\u9054\u5f0f\u3002</p> SwitchDemo01.java<pre><code>public class SwitchDemo01 {\n    public static void main(String[] args) {\n        // \u7bc4\u4f8b\uff1a\u6210\u7e3e\u7b49\u7d1a\u8f49\u63db\n        // 10: A, 9~7: B, 6~2: C, 1: D\n        int score = 7;\n        String level = \"\";\n\n        switch (score) {\n            case 10:\n                level = \"A\";\n                break; // \u8a18\u5f97 break\uff0c\u5426\u5247\u6703\u7e7c\u7e8c\u57f7\u884c\u4e0b\u4e00\u500b case (Fall-through)\n            case 9, 8, 7: // Java 14+ \u652f\u63f4\u591a\u500b\u503c\u5408\u4f75\n                level = \"B\";\n                break;\n            case 6, 5, 4, 3, 2:\n                level = \"C\";\n                break;\n            case 1:\n                level = \"D\";\n                break;\n            default: // \u8655\u7406\u672a\u5339\u914d\u7684\u60c5\u6cc1\n                level = \"N/A\";\n        }\n\n        System.out.printf(\"Score: %d, Level: %s\\n\", score, level);\n    }\n}\n</code></pre>"},{"location":"java-class/module-02/#4","title":"4. \u7e3d\u7d50","text":"<ul> <li>\u57fa\u672c\u578b\u614b\uff1a\u719f\u8a18 8 \u7a2e\u578b\u614b\u53ca\u5176\u9069\u7528\u5834\u666f\u3002<code>int</code> \u548c <code>double</code> \u662f\u6700\u5e38\u7528\u7684\u3002</li> <li>\u904b\u7b97\u5b50\uff1a\u6ce8\u610f\u6574\u6578\u9664\u6cd5 (<code>5/2=2</code>) \u8207\u578b\u614b\u63d0\u5347\u898f\u5247\u3002</li> <li>\u6d41\u7a0b\u63a7\u5236\uff1a<ul> <li><code>if-else</code> \u7528\u65bc\u7bc4\u570d\u6216\u8907\u96dc\u689d\u4ef6\u5224\u65b7\u3002</li> <li><code>switch</code> \u7528\u65bc\u55ae\u4e00\u8b8a\u6578\u7684\u7279\u5b9a\u503c\u5224\u65b7\uff0c\u6ce8\u610f <code>break</code> \u7684\u4f7f\u7528\u3002</li> </ul> </li> </ul>"},{"location":"java-class/module-02/#5","title":"5. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u64b0\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u8a08\u7b97\u5713\u7684\u9762\u7a4d (\u4f7f\u7528 <code>double</code> \u548c <code>Math.PI</code>)\u3002</li> <li>\u4f7f\u7528 <code>if-else</code> \u5224\u65b7\u4e00\u500b\u5e74\u4efd\u662f\u5426\u70ba\u958f\u5e74\u3002</li> <li>\u4f7f\u7528 <code>switch</code> \u5be6\u4f5c\u4e00\u500b\u7c21\u55ae\u7684\u8a08\u7b97\u6a5f (\u52a0\u6e1b\u4e58\u9664)\u3002</li> </ol>"},{"location":"java-class/module-03/","title":"Module 03: \u5b57\u4e32\u3001\u65e5\u671f\u8207\u6578\u5b57 (Strings, Dates, and Numbers)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-03/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3 String \u7684\u4e0d\u53ef\u8b8a\u6027 (Immutability) \u8207 String Pool \u6a5f\u5236 - \u4f7f\u7528 StringBuilder \u9032\u884c\u9ad8\u6548\u7684\u5b57\u4e32\u64cd\u4f5c - \u904b\u7528 Java 8 \u5f15\u5165\u7684 <code>java.time</code> \u5957\u4ef6\u8655\u7406\u65e5\u671f\u8207\u6642\u9593 - \u4f7f\u7528 BigDecimal \u9032\u884c\u7cbe\u78ba\u7684\u6578\u503c\u904b\u7b97</p>"},{"location":"java-class/module-03/#1-string-string-class","title":"1. String \u985e\u5225 (String Class)","text":"<p>String \u662f Java \u4e2d\u6700\u5e38\u7528\u7684\u985e\u5225\uff0c\u4ee3\u8868\u5b57\u4e32\u3002\u5b83\u662f \u4e0d\u53ef\u8b8a\u7684 (Immutable)\uff0c\u9019\u610f\u5473\u8457\u4e00\u65e6\u5efa\u7acb\uff0c\u5176\u5167\u5bb9\u5c31\u4e0d\u80fd\u88ab\u4fee\u6539\u3002</p>"},{"location":"java-class/module-03/#string-pool","title":"String Pool \u8207\u8a18\u61b6\u9ad4","text":"<p>Java \u70ba\u4e86\u7bc0\u7701\u8a18\u61b6\u9ad4\uff0c\u7dad\u8b77\u4e86\u4e00\u500b String Pool (\u5b57\u4e32\u6c60)\u3002</p> StringInitialization.java<pre><code>public class StringInitialization {\n    public static void main(String[] args) {\n        char[] text = {'H', 'e', 'l', 'l', 'o'};\n        String a = new String(text);      // \u5efa\u7acb\u65b0\u7269\u4ef6\n        String b = new String(\"Hello\");   // \u5efa\u7acb\u65b0\u7269\u4ef6\n\n        System.out.println(a == b);       // false (\u4e0d\u540c\u7269\u4ef6)\n\n        // intern() \u65b9\u6cd5\u6703\u5f9e String Pool \u4e2d\u53d6\u5f97\u53c3\u8003\n        String c = a.intern();\n        String d = b.intern();\n\n        System.out.println(c == d);       // true (\u6307\u5411 Pool \u4e2d\u7684\u540c\u4e00\u500b\u7269\u4ef6)\n\n        // \u5b57\u9762\u503c (Literal) \u6703\u81ea\u52d5\u4f7f\u7528 String Pool\n        String e = \"Hello\";\n        System.out.println(c == e);       // true\n    }\n}\n</code></pre>"},{"location":"java-class/module-03/#_2","title":"\u5e38\u7528\u5b57\u4e32\u64cd\u4f5c","text":"<p>String \u63d0\u4f9b\u4e86\u8c50\u5bcc\u7684\u65b9\u6cd5\u4f86\u8655\u7406\u6587\u5b57\u3002</p> StringOperations.java<pre><code>public class StringOperations {\n    public static void main(String[] args) {\n        String a = \" Hello \";\n        a = a.trim();              // \u53bb\u9664\u524d\u5f8c\u7a7a\u767d -&gt; \"Hello\"\n        String b = a.concat(\"World\"); // \u4e32\u63a5 -&gt; \"HelloWorld\"\n        String c = a + \"World\";       // \u4f7f\u7528 + \u4e32\u63a5 -&gt; \"HelloWorld\"\n        String d = c.toLowerCase();   // \u8f49\u5c0f\u5beb -&gt; \"helloworld\"\n\n        // \u5b57\u4e32\u4e32\u63a5\u7684\u9677\u9631\n        String s = \"\";\n        s = 1 + 1 + \"u\";    // \u5148\u8a08\u7b97 1+1=2\uff0c\u518d\u4e32\u63a5 \"u\" -&gt; \"2u\"\n        s = \"u\" + 1 + 1;    // \u5148\u4e32\u63a5 \"u\"+1=\"u1\"\uff0c\u518d\u4e32\u63a5 1 -&gt; \"u11\"\n        s = \"u\" + (1 + 1);  // \u5148\u8a08\u7b97\u62ec\u865f 1+1=2\uff0c\u518d\u4e32\u63a5 -&gt; \"u2\"\n    }\n}\n</code></pre>"},{"location":"java-class/module-03/#2-stringbuilder","title":"2. StringBuilder \u985e\u5225","text":"<p>\u7576\u9700\u8981\u983b\u7e41\u4fee\u6539\u5b57\u4e32\u6642\uff0c\u61c9\u4f7f\u7528 <code>StringBuilder</code>\uff0c\u56e0\u70ba\u5b83\u662f \u53ef\u8b8a\u7684 (Mutable)\uff0c\u6548\u7387\u6bd4 String \u9ad8\u5f97\u591a\u3002</p> MutableTextObjects.java<pre><code>public class MutableTextObjects {\n    public static void main(String[] args) {\n        StringBuilder a = new StringBuilder();\n        a.append(\"tea\");        // \"tea\"\n        a.append('s');          // \"teas\"\n        a.insert(3, 'm');       // \u5728\u7d22\u5f15 3 \u63d2\u5165 'm' -&gt; \"teams\"\n        a.delete(2, 4);         // \u522a\u9664\u7d22\u5f15 2 \u5230 4 (\u4e0d\u542b) -&gt; \"tes\" (\u522a\u9664 'a', 'm')\n        a.reverse();            // \u53cd\u8f49 -&gt; \"set\"\n\n        int length = a.length();\n        int capacity = a.capacity(); \n    }\n}\n</code></pre>"},{"location":"java-class/module-03/#3-date-and-time","title":"3. \u65e5\u671f\u8207\u6642\u9593 (Date and Time)","text":"<p>Java 8 \u5f15\u5165\u4e86\u5168\u65b0\u7684 <code>java.time</code> \u5957\u4ef6\uff0c\u89e3\u6c7a\u4e86\u820a\u7248 <code>Date</code> \u7684\u554f\u984c\u3002\u4e3b\u8981\u985e\u5225\u5305\u62ec\uff1a -   <code>LocalDate</code>: \u50c5\u65e5\u671f (\u5e74-\u6708-\u65e5) -   <code>LocalTime</code>: \u50c5\u6642\u9593 (\u6642:\u5206:\u79d2) -   <code>LocalDateTime</code>: \u65e5\u671f + \u6642\u9593</p>"},{"location":"java-class/module-03/#localdate","title":"LocalDate \u7bc4\u4f8b","text":"LocalDateDemo.java<pre><code>import java.time.LocalDate;\nimport java.time.Month;\nimport java.time.temporal.ChronoUnit;\n\npublic class LocalDateDemo {\n    public static void main(String[] args) {\n        // \u5efa\u7acb\u65e5\u671f\n        LocalDate date = LocalDate.now();                   // \u4eca\u5929\n        LocalDate date02 = LocalDate.of(2015, 8, 13);       // \u6307\u5b9a\u65e5\u671f\n        LocalDate date03 = LocalDate.of(2015, Month.AUGUST, 13); // \u4f7f\u7528 Month Enum\n\n        System.out.println(date);\n\n        // \u65e5\u671f\u904b\u7b97 (\u6ce8\u610f\uff1aLocalDate \u4e5f\u662f\u4e0d\u53ef\u8b8a\u7684\uff0c\u56de\u50b3\u65b0\u7269\u4ef6)\n        LocalDate date04 = date.plusDays(1)\n                               .plusWeeks(1)\n                               .plusMonths(1)\n                               .plusYears(1);\n        System.out.println(date04);\n\n        // \u53d6\u5f97\u8cc7\u8a0a\n        System.out.println(\"Year: \" + date.getYear());\n        System.out.println(\"Month: \" + date.getMonth());\n        System.out.println(\"Day: \" + date.getDayOfMonth());\n\n        // \u6bd4\u8f03\n        LocalDate date10 = LocalDate.of(1968, 11, 20);\n        LocalDate date11 = LocalDate.of(1976, 8, 13);\n        System.out.println(\"isBefore: \" + date10.isBefore(date11)); // true\n    }\n}\n</code></pre>"},{"location":"java-class/module-03/#4-numbers","title":"4. \u6578\u5b57\u8207\u7cbe\u78ba\u904b\u7b97 (Numbers)","text":""},{"location":"java-class/module-03/#bigdecimal","title":"BigDecimal","text":"<p>\u5728\u8655\u7406\u91d1\u878d\u6216\u9700\u8981\u9ad8\u7cbe\u78ba\u5ea6\u7684\u8a08\u7b97\u6642\uff0c\u4e0d\u80fd\u4f7f\u7528 <code>double</code> \u6216 <code>float</code> (\u6703\u6709\u6d6e\u9ede\u6578\u8aa4\u5dee)\uff0c\u5fc5\u9808\u4f7f\u7528 <code>BigDecimal</code>\u3002</p> BigDecimalClass.java<pre><code>import java.math.BigDecimal;\nimport java.math.RoundingMode;\n\npublic class BigDecimalClass {\n    public static void main(String[] args) {\n        // \u5efa\u8b70\u4f7f\u7528 String \u5efa\u69cb\u5b50\u6216 valueOf\n        BigDecimal price = BigDecimal.valueOf(12.99);\n        BigDecimal taxRate = BigDecimal.valueOf(0.2);\n\n        // \u904b\u7b97\u5fc5\u9808\u4f7f\u7528\u65b9\u6cd5\u547c\u53eb\n        BigDecimal tax = price.multiply(taxRate); // 12.99 * 0.2 = 2.598\n\n        // \u56db\u6368\u4e94\u5165\n        price = price.add(tax).setScale(2, RoundingMode.HALF_UP); // 15.588 -&gt; 15.59\n\n        System.out.println(\"Final Price: \" + price);\n    }\n}\n</code></pre>"},{"location":"java-class/module-03/#5","title":"5. \u7e3d\u7d50","text":"<ul> <li>String \u662f\u4e0d\u53ef\u8b8a\u7684\uff0c\u983b\u7e41\u4fee\u6539\u8acb\u7528 StringBuilder\u3002</li> <li>\u5b57\u4e32\u6bd4\u8f03\u5167\u5bb9\u8acb\u7528 <code>equals()</code>\uff0c\u4e0d\u8981\u7528 <code>==</code>\u3002</li> <li>\u65e5\u671f\u8655\u7406\u8acb\u512a\u5148\u4f7f\u7528 <code>java.time</code> \u5957\u4ef6 (<code>LocalDate</code>, <code>LocalDateTime</code>)\u3002</li> <li>\u6d89\u53ca\u91d1\u9322\u8a08\u7b97\u8acb\u52d9\u5fc5\u4f7f\u7528 BigDecimal\u3002</li> </ul>"},{"location":"java-class/module-03/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u64b0\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u63a5\u6536\u4f7f\u7528\u8005\u8f38\u5165\u7684\u5b57\u4e32\u4e26\u53cd\u8f49\u8f38\u51fa (\u4f7f\u7528 StringBuilder)\u3002</li> <li>\u8a08\u7b97\u4f60\u8ddd\u96e2\u4e0b\u4e00\u500b\u751f\u65e5\u9084\u6709\u5e7e\u5929 (\u4f7f\u7528 LocalDate \u548c until)\u3002</li> <li>\u8a08\u7b97\u4e00\u7b46\u542b\u7a05\u91d1\u984d\uff0c\u7a05\u7387\u70ba 5%\uff0c\u9700\u7cbe\u78ba\u5230\u5c0f\u6578\u9ede\u5f8c\u5169\u4f4d (\u4f7f\u7528 BigDecimal)\u3002</li> </ol>"},{"location":"java-class/module-04/","title":"Module 04: \u985e\u5225\u8207\u7269\u4ef6 (Classes and Objects)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-04/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u5b9a\u7fa9\u985e\u5225 (Class) \u53ca\u5176\u5c6c\u6027 (Fields) \u8207\u65b9\u6cd5 (Methods) - \u4f7f\u7528 <code>new</code> \u95dc\u9375\u5b57\u5efa\u7acb\u7269\u4ef6 (Object) - \u7406\u89e3\u5c01\u88dd (Encapsulation) \u539f\u5247\u8207\u5b58\u53d6\u4fee\u98fe\u5b50 (Access Modifiers) - \u5340\u5206\u5be6\u4f8b\u6210\u54e1 (Instance Members) \u8207\u975c\u614b\u6210\u54e1 (Static Members)</p>"},{"location":"java-class/module-04/#1-defining-classes","title":"1. \u985e\u5225\u5b9a\u7fa9 (Defining Classes)","text":"<p>\u985e\u5225\u662f\u7269\u4ef6\u7684\u85cd\u5716\uff0c\u5b9a\u7fa9\u4e86\u7269\u4ef6\u7684\u72c0\u614b (\u5c6c\u6027) \u8207\u884c\u70ba (\u65b9\u6cd5)\u3002</p>"},{"location":"java-class/module-04/#product","title":"\u7bc4\u4f8b\uff1aProduct \u985e\u5225","text":"<p>\u6211\u5011\u5b9a\u7fa9\u4e00\u500b <code>Product</code> \u985e\u5225\u4f86\u4ee3\u8868\u5546\u5e97\u4e2d\u7684\u5546\u54c1\u3002</p> Product.java<pre><code>package demos.shop;\n\nimport java.math.BigDecimal;\nimport java.time.LocalDate;\nimport java.time.Period;\n\npublic class Product {\n    // \u5be6\u4f8b\u8b8a\u6578 (Instance Variables) - \u6bcf\u500b\u7269\u4ef6\u64c1\u6709\u4e00\u4efd\n    private int id;\n    private String name;\n    private BigDecimal price;\n    private LocalDate bestBefore = LocalDate.now().plusDays(3); // \u9810\u8a2d\u503c\n\n    // \u975c\u614b\u8b8a\u6578 (Static Variables) - \u6240\u6709\u7269\u4ef6\u5171\u7528\u4e00\u4efd\n    private static Period defaultExpiryPeriod = Period.ofDays(3);\n    public static final int MAX_EXPIRY_PERIOD = 5; // \u5e38\u6578\n\n    // Getter \u8207 Setter \u65b9\u6cd5 (\u5c01\u88dd)\n    public int getId() { return id; }\n    public void setId(int id) { this.id = id; }\n\n    public String getName() { return name; }\n    public void setName(String name) { this.name = name; }\n\n    public BigDecimal getPrice() { return price; }\n\n    // \u900f\u904e\u65b9\u6cd5\u63a7\u5236\u8cc7\u6599\u7684\u4fee\u6539 (\u4f8b\u5982\u8f49\u578b)\n    public void setPrice(double value) {\n        this.price = BigDecimal.valueOf(value);\n    }\n\n    // \u975c\u614b\u65b9\u6cd5 (Static Methods)\n    public static void setExpiryPeriod(int days) {\n        defaultExpiryPeriod = Period.ofDays(days);\n    }\n}\n</code></pre>"},{"location":"java-class/module-04/#encapsulation","title":"\u5c01\u88dd (Encapsulation)","text":"<ul> <li><code>private</code> \u5c6c\u6027\uff1a\u5c07\u8cc7\u6599\u96b1\u85cf\u5728\u985e\u5225\u5167\u90e8\uff0c\u9632\u6b62\u5916\u90e8\u76f4\u63a5\u4fee\u6539\u3002</li> <li><code>public</code> \u65b9\u6cd5\uff1a\u63d0\u4f9b Getter/Setter \u4f5c\u70ba\u5b58\u53d6\u8cc7\u6599\u7684\u552f\u4e00\u7a97\u53e3\uff0c\u53ef\u4ee5\u5728\u5176\u4e2d\u52a0\u5165\u908f\u8f2f\u9a57\u8b49\u3002</li> </ul>"},{"location":"java-class/module-04/#2-creating-and-using-objects","title":"2. \u5efa\u7acb\u8207\u4f7f\u7528\u7269\u4ef6 (Creating and Using Objects)","text":"<p>\u4f7f\u7528 <code>new</code> \u95dc\u9375\u5b57\u6839\u64da\u985e\u5225\u5efa\u7acb\u7269\u4ef6\u5be6\u4f8b\u3002</p> CreatingObjects.java<pre><code>package demos.shop;\n\nimport java.math.BigDecimal;\n\npublic class CreatingObjects {\n    public static void main(String[] args) {\n        // 1. \u5efa\u7acb\u7269\u4ef6\n        Product p1 = new Product();\n\n        // 2. \u8a2d\u5b9a\u5c6c\u6027 (\u900f\u904e Setter)\n        p1.setName(\"Tea\");\n        p1.setPrice(1.99);\n\n        // 3. \u53d6\u5f97\u5c6c\u6027 (\u900f\u904e Getter)\n        System.out.println(\"Product: \" + p1.getName());\n        System.out.println(\"Price: \" + p1.getPrice());\n    }\n}\n</code></pre>"},{"location":"java-class/module-04/#3","title":"3. \u7269\u4ef6\u53c3\u8003\u8207\u8a18\u61b6\u9ad4","text":"Shop.java<pre><code>public class Shop {\n    public static void main(String[] args) {\n        Product p1 = new Product();\n        p1.setName(\"Tea\");\n\n        Product p2 = new Product();\n        p2.setName(\"Cake\");\n\n        Product p3 = p2; // p3 \u53c3\u8003\u6307\u5411 p2 \u6307\u5411\u7684\u540c\u4e00\u500b\u7269\u4ef6\n\n        System.out.println(p3.getName()); // \u8f38\u51fa \"Cake\"\n\n        p3.setName(\"Cheese Cake\");\n        System.out.println(p2.getName()); // \u8f38\u51fa \"Cheese Cake\" (\u56e0\u70ba\u662f\u540c\u4e00\u500b\u7269\u4ef6)\n    }\n}\n</code></pre>"},{"location":"java-class/module-04/#4-static-members","title":"4. \u975c\u614b\u6210\u54e1 (Static Members)","text":"<p><code>static</code> \u6210\u54e1\u5c6c\u65bc\u985e\u5225\u672c\u8eab\uff0c\u800c\u975e\u500b\u5225\u7269\u4ef6\u3002</p> <ul> <li>\u975c\u614b\u8b8a\u6578\uff1a\u6240\u6709\u5be6\u4f8b\u5171\u7528\u540c\u4e00\u500b\u8b8a\u6578 (\u4f8b\u5982 <code>defaultExpiryPeriod</code>)\u3002</li> <li>\u975c\u614b\u65b9\u6cd5\uff1a\u4e0d\u9700\u8981\u5efa\u7acb\u7269\u4ef6\u5373\u53ef\u547c\u53eb (\u4f8b\u5982 <code>Product.setExpiryPeriod(5)</code> )\u3002</li> <li>\u975c\u614b\u5e38\u6578\uff1a\u901a\u5e38\u642d\u914d <code>final</code> \u4f7f\u7528\uff0c\u5982 <code>MAX_EXPIRY_PERIOD</code>\u3002</li> </ul> Java<pre><code>// \u547c\u53eb\u975c\u614b\u65b9\u6cd5\nProduct.setExpiryPeriod(4);\n\n// \u5b58\u53d6\u975c\u614b\u5e38\u6578\nint maxDays = Product.MAX_EXPIRY_PERIOD;\n</code></pre>"},{"location":"java-class/module-04/#5","title":"5. \u7e3d\u7d50","text":"<ul> <li>**\u985e\u5225**\u662f\u5b9a\u7fa9\uff0c**\u7269\u4ef6**\u662f\u5be6\u4f8b\u3002</li> <li>\u4f7f\u7528 <code>private</code> \u4fdd\u8b77\u8cc7\u6599\uff0c\u900f\u904e <code>public</code> \u65b9\u6cd5\u5b58\u53d6 (\u5c01\u88dd)\u3002</li> <li><code>static</code> \u6210\u54e1\u5c6c\u65bc\u985e\u5225\uff0c\u7531\u6240\u6709\u7269\u4ef6\u5171\u4eab\u3002</li> <li>\u7269\u4ef6\u8b8a\u6578\u5132\u5b58\u7684\u662f \u53c3\u8003 (Reference)\uff0c\u800c\u975e\u7269\u4ef6\u672c\u8eab\u3002</li> </ul>"},{"location":"java-class/module-04/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5efa\u7acb\u4e00\u500b <code>Customer</code> \u985e\u5225\uff0c\u5305\u542b <code>name</code> (String) \u548c <code>loyaltyPoints</code> (int) \u5c6c\u6027\u3002</li> <li>\u70ba <code>Customer</code> \u52a0\u5165 Getter/Setter\uff0c\u4e26\u5728 <code>setLoyaltyPoints</code> \u4e2d\u52a0\u5165\u6aa2\u67e5\uff0c\u78ba\u4fdd\u9ede\u6578\u4e0d\u80fd\u70ba\u8ca0\u6578\u3002</li> <li>\u64b0\u5beb\u4e00\u500b <code>ShopApp</code> \u985e\u5225\uff0c\u5728 <code>main</code> \u65b9\u6cd5\u4e2d\u5efa\u7acb\u5e7e\u500b <code>Customer</code> \u7269\u4ef6\u4e26\u6e2c\u8a66\u3002</li> </ol>"},{"location":"java-class/module-05/","title":"Module 05: \u985e\u5225\u8a2d\u8a08\u8207\u5217\u8209 (Class Design and Enums)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-05/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u904b\u7528\u65b9\u6cd5\u591a\u8f09 (Method Overloading) \u63d0\u4f9b\u9748\u6d3b\u7684 API - \u8a2d\u8a08\u591a\u500b\u5efa\u69cb\u5b50 (Constructors) \u4e26\u4f7f\u7528 <code>this</code> \u9032\u884c\u5efa\u69cb\u5b50\u93c8\u63a5 - \u9078\u64c7\u9069\u7576\u7684\u5b58\u53d6\u4fee\u98fe\u5b50 (Access Modifiers) \u9032\u884c\u5c01\u88dd - \u5b9a\u7fa9\u8207\u4f7f\u7528\u5217\u8209 (Enums) \u4f86\u7ba1\u7406\u5e38\u6578\u96c6\u5408</p>"},{"location":"java-class/module-05/#1-method-overloading","title":"1. \u65b9\u6cd5\u591a\u8f09 (Method Overloading)","text":"<p>\u65b9\u6cd5\u591a\u8f09\u5141\u8a31\u5728\u540c\u4e00\u500b\u985e\u5225\u4e2d\u5b9a\u7fa9\u591a\u500b\u540d\u7a31\u76f8\u540c\u4f46\u53c3\u6578\u5217\u8868 (\u53c3\u6578\u500b\u6578\u3001\u578b\u614b\u6216\u9806\u5e8f) \u4e0d\u540c\u7684\u65b9\u6cd5\u3002</p>"},{"location":"java-class/module-05/#product","title":"\u7bc4\u4f8b\uff1aProduct \u985e\u5225\u7684\u591a\u8f09\u65b9\u6cd5","text":"<p>\u6211\u5011\u70ba <code>Product</code> \u985e\u5225\u63d0\u4f9b\u591a\u7a2e\u8a2d\u5b9a\u50f9\u683c\u7684\u65b9\u5f0f\u3002</p> <p>Product.java<pre><code>public class Product {\n    private BigDecimal price;\n\n    // 1. \u63a5\u6536 double \u578b\u614b\n    public void setPrice(double price) {\n        this.price = BigDecimal.valueOf(price);\n    }\n\n    // 2. \u63a5\u6536 BigDecimal \u578b\u614b\n    public void setPrice(BigDecimal price) {\n        this.price = price;\n        calculateTax(); // \u984d\u5916\u908f\u8f2f\n    }\n\n    // 3. \u540c\u6642\u8a2d\u5b9a\u50f9\u683c\u8207\u6298\u6263\n    public void setPrice(BigDecimal price, BigDecimal discount) {\n        this.price = price;\n        this.discount = discount;\n    }\n}\n</code></pre> \u6ce8\u610f\uff1a\u56de\u50b3\u578b\u614b\u4e0d\u540c\u4e0d\u8db3\u4ee5\u69cb\u6210\u591a\u8f09\u3002</p>"},{"location":"java-class/module-05/#2-constructor-design","title":"2. \u5efa\u69cb\u5b50\u8a2d\u8a08 (Constructor Design)","text":"<p>\u5efa\u69cb\u5b50\u7528\u65bc\u521d\u59cb\u5316\u7269\u4ef6\u3002\u6211\u5011\u53ef\u4ee5\u5b9a\u7fa9\u591a\u500b\u5efa\u69cb\u5b50\uff0c\u4e26\u4f7f\u7528 <code>this(...)</code> \u4e92\u76f8\u547c\u53eb (Constructor Chaining) \u4ee5\u6e1b\u5c11\u91cd\u8907\u7a0b\u5f0f\u78bc\u3002</p> Product.java<pre><code>public class Product {\n    private String name;\n    private BigDecimal price;\n\n    // 1. \u9810\u8a2d\u5efa\u69cb\u5b50\n    public Product() {\n        // \u4ec0\u9ebc\u90fd\u4e0d\u505a\uff0c\u6216\u7d66\u4e88\u9810\u8a2d\u503c\n    }\n\n    // 2. \u53ea\u6709\u540d\u7a31\u7684\u5efa\u69cb\u5b50\n    public Product(String name) {\n        this.name = name;\n        this.price = BigDecimal.ZERO; // \u9810\u8a2d\u50f9\u683c\u70ba 0\n    }\n\n    // 3. \u540d\u7a31\u8207\u50f9\u683c (double) \u7684\u5efa\u69cb\u5b50\n    public Product(String name, double price) {\n        this(name); // \u547c\u53eb\u5efa\u69cb\u5b50 2\n        this.price = BigDecimal.valueOf(price);\n    }\n\n    // 4. \u540d\u7a31\u8207\u50f9\u683c (BigDecimal) \u7684\u5efa\u69cb\u5b50\n    public Product(String name, BigDecimal price) {\n        this(name); // \u547c\u53eb\u5efa\u69cb\u5b50 2\n        this.price = price;\n    }\n}\n</code></pre>"},{"location":"java-class/module-05/#3-access-modifiers","title":"3. \u5b58\u53d6\u4fee\u98fe\u5b50 (Access Modifiers)","text":"<p>Java \u63d0\u4f9b\u56db\u7a2e\u5b58\u53d6\u5c64\u7d1a\uff0c\u63a7\u5236\u985e\u5225\u6210\u54e1\u7684\u53ef\u898b\u6027\u3002</p> \u4fee\u98fe\u5b50 \u95dc\u9375\u5b57 \u540c\u4e00\u985e\u5225 \u540c\u4e00\u5957\u4ef6 \u5b50\u985e\u5225 \u5168\u57df Private <code>private</code> Yes Package (default) Yes Yes Protected <code>protected</code> Yes Yes Yes Public <code>public</code> Yes Yes Yes Yes"},{"location":"java-class/module-05/#_2","title":"\u6700\u4f73\u5be6\u8e10","text":"<ul> <li>\u5c6c\u6027 (Fields)\uff1a\u901a\u5e38\u8a2d\u70ba <code>private</code>\u3002</li> <li>\u65b9\u6cd5 (Methods)\uff1a\u516c\u958b API \u8a2d\u70ba <code>public</code>\uff0c\u5167\u90e8\u8f14\u52a9\u65b9\u6cd5\u8a2d\u70ba <code>private</code>\u3002</li> <li>\u5e38\u6578\uff1a\u901a\u5e38\u8a2d\u70ba <code>public static final</code>\u3002</li> </ul>"},{"location":"java-class/module-05/#4-enums","title":"4. \u5217\u8209 (Enums)","text":"<p>\u5217\u8209\u7528\u65bc\u5b9a\u7fa9\u4e00\u7d44\u56fa\u5b9a\u7684\u5e38\u6578\uff0c\u6bd4\u4f7f\u7528 <code>int</code> \u6216 <code>String</code> \u5e38\u6578\u66f4\u5b89\u5168\u4e14\u8a9e\u610f\u66f4\u6e05\u6670\u3002</p>"},{"location":"java-class/module-05/#_3","title":"\u5b9a\u7fa9\u5217\u8209","text":"Condition.java<pre><code>public enum Condition {\n    HOT, WARM, COLD\n}\n</code></pre>"},{"location":"java-class/module-05/#_4","title":"\u4f7f\u7528\u5217\u8209","text":"<p>\u5217\u8209\u53ef\u4ee5\u642d\u914d <code>switch</code> \u4f7f\u7528\u3002</p> Product.java<pre><code>public class Product {\n    private Condition condition;\n    private String name;\n\n    public Product(String name, Condition condition) {\n        this.name = name;\n        this.condition = condition;\n    }\n\n    public Product serve() {\n        switch (condition) {\n            case HOT:\n                addCaution(\"Warning HOT!\");\n                break;\n            case WARM:\n                addCaution(\"Just right\");\n                break;\n            case COLD:\n                addCaution(\"Warning COLD!\");\n                break;\n        }\n        return this;\n    }\n\n    private void addCaution(String msg) {\n        System.out.println(name + \": \" + msg);\n    }\n}\n</code></pre>"},{"location":"java-class/module-05/#_5","title":"\u6e2c\u8a66\u7bc4\u4f8b","text":"Shop.java<pre><code>public class Shop {\n    public static void main(String[] args) {\n        Product tea = new Product(\"Tea\", Condition.HOT);\n        tea.serve(); // \u8f38\u51fa: Tea: Warning HOT!\n\n        Product iceCream = new Product(\"Ice Cream\", Condition.COLD);\n        iceCream.serve(); // \u8f38\u51fa: Ice Cream: Warning COLD!\n    }\n}\n</code></pre>"},{"location":"java-class/module-05/#5","title":"5. \u7e3d\u7d50","text":"<ul> <li>**\u65b9\u6cd5\u591a\u8f09**\u63d0\u4f9b\u66f4\u76f4\u89ba\u7684 API\u3002</li> <li>\u5efa\u69cb\u5b50\u93c8\u63a5 (<code>this(...)</code>) \u6e1b\u5c11\u521d\u59cb\u5316\u908f\u8f2f\u7684\u91cd\u8907\u3002</li> <li>\u5584\u7528 \u5b58\u53d6\u4fee\u98fe\u5b50 \u4fdd\u8b77\u7269\u4ef6\u72c0\u614b\u3002</li> <li>\u4f7f\u7528 Enum \u53d6\u4ee3\u9b54\u6cd5\u6578\u5b57\u6216\u5b57\u4e32\u5e38\u6578\uff0c\u63d0\u9ad8\u7a0b\u5f0f\u78bc\u53ef\u8b80\u6027\u8207\u5b89\u5168\u6027\u3002</li> </ul>"},{"location":"java-class/module-05/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u4fee\u6539 <code>Product</code> \u985e\u5225\uff0c\u52a0\u5165\u4e00\u500b <code>Currency</code> \u5217\u8209 (USD, EUR, GBP)\u3002</li> <li>\u70ba <code>Product</code> \u52a0\u5165\u591a\u8f09\u7684 <code>displayPrice</code> \u65b9\u6cd5\uff1a<ul> <li><code>displayPrice()</code>: \u986f\u793a\u9810\u8a2d\u5e63\u5225\u50f9\u683c\u3002</li> <li><code>displayPrice(Currency currency)</code>: \u986f\u793a\u6307\u5b9a\u5e63\u5225\u50f9\u683c (\u5047\u8a2d\u532f\u7387)\u3002</li> </ul> </li> <li>\u5728 <code>Shop</code> \u985e\u5225\u4e2d\u6e2c\u8a66\u9019\u4e9b\u65b0\u529f\u80fd\u3002</li> </ol>"},{"location":"java-class/module-06/","title":"Module 06: \u7e7c\u627f\u8207\u7d00\u9304 (Inheritance and Records)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-06/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u4f7f\u7528 <code>extends</code> \u5efa\u7acb\u985e\u5225\u7e7c\u627f\u95dc\u4fc2 - \u7406\u89e3 <code>super</code> \u95dc\u9375\u5b57\u8207\u5efa\u69cb\u5b50\u547c\u53eb\u9806\u5e8f - \u4f7f\u7528 <code>@Override</code> \u8986\u5beb\u7236\u985e\u5225\u65b9\u6cd5 - \u8a8d\u8b58 Java 14+ \u5f15\u5165\u7684 <code>record</code> (\u7d00\u9304) \u578b\u614b - \u4e86\u89e3 Sealed Classes (\u5bc6\u5c01\u985e\u5225) \u7684\u57fa\u672c\u6982\u5ff5</p>"},{"location":"java-class/module-06/#1-inheritance","title":"1. \u7e7c\u627f (Inheritance)","text":"<p>\u7e7c\u627f\u5141\u8a31\u6211\u5011\u5efa\u7acb\u4e00\u500b\u901a\u7528\u985e\u5225 (\u7236\u985e\u5225)\uff0c\u4e26\u8b93\u5176\u4ed6\u985e\u5225 (\u5b50\u985e\u5225) \u7e7c\u627f\u5176\u5c6c\u6027\u8207\u65b9\u6cd5\uff0c\u4ee5\u9054\u5230\u7a0b\u5f0f\u78bc\u91cd\u7528\u8207\u64f4\u5145\u7684\u76ee\u7684\u3002</p>"},{"location":"java-class/module-06/#_2","title":"\u7bc4\u4f8b\u67b6\u69cb","text":"<ul> <li><code>Product</code>: \u7236\u985e\u5225 (\u5546\u54c1)</li> <li><code>Food</code>: \u5b50\u985e\u5225 (\u98df\u54c1)\uff0c\u589e\u52a0\u4fdd\u5b58\u671f\u9650</li> <li><code>Drink</code>: \u5b50\u985e\u5225 (\u98f2\u6599)</li> </ul> Product.java<pre><code>// sealed \u95dc\u9375\u5b57\u9650\u5236\u53ea\u6709\u6307\u5b9a\u7684\u985e\u5225\u53ef\u4ee5\u7e7c\u627f (Java 15+)\npublic sealed class Product permits Food, Drink {\n    private String name;\n    private BigDecimal price;\n\n    public Product(String name, BigDecimal price) {\n        this.name = name;\n        this.price = price;\n    }\n\n    public BigDecimal getPrice() {\n        return price;\n    }\n\n    // ... getters and setters\n}\n</code></pre>"},{"location":"java-class/module-06/#_3","title":"\u5b50\u985e\u5225\u5be6\u4f5c","text":"Food.java<pre><code>// final \u8868\u793a\u4e0d\u80fd\u518d\u88ab\u7e7c\u627f\npublic final class Food extends Product {\n    private LocalDate bestBefore;\n\n    public Food(String name, BigDecimal price, LocalDate bestBefore) {\n        super(name, price); // \u547c\u53eb\u7236\u985e\u5225\u5efa\u69cb\u5b50\n        this.bestBefore = bestBefore;\n    }\n\n    public LocalDate getBestBefore() {\n        return bestBefore;\n    }\n}\n</code></pre>"},{"location":"java-class/module-06/#2-method-overriding","title":"2. \u65b9\u6cd5\u8986\u5beb (Method Overriding)","text":"<p>\u5b50\u985e\u5225\u53ef\u4ee5\u91cd\u65b0\u5b9a\u7fa9\u7236\u985e\u5225\u7684\u65b9\u6cd5\uff0c\u4ee5\u63d0\u4f9b\u7279\u5b9a\u7684\u5be6\u4f5c\u3002</p> Drink.java<pre><code>// non-sealed \u8868\u793a\u958b\u653e\u88ab\u5176\u4ed6\u985e\u5225\u7e7c\u627f\npublic non-sealed class Drink extends Product {\n    public Drink(String name, BigDecimal price) {\n        super(name, price);\n    }\n\n    @Override\n    public BigDecimal getPrice() {\n        LocalTime now = LocalTime.now();\n        // \u5feb\u6a02\u6642\u5149 (17:30 - 18:30) \u6253\u516b\u6298\n        if (now.isAfter(LocalTime.of(17, 30)) &amp;&amp; now.isBefore(LocalTime.of(18, 30))) {\n            return super.getPrice().multiply(BigDecimal.valueOf(0.8));\n        }\n        return super.getPrice();\n    }\n}\n</code></pre>"},{"location":"java-class/module-06/#3-records","title":"3. \u7d00\u9304 (Records)","text":"<p>Java 14 \u5f15\u5165\u4e86 <code>record</code>\uff0c\u9019\u662f\u4e00\u7a2e\u7c21\u6f54\u7684\u8a9e\u6cd5\uff0c\u7528\u65bc\u5b9a\u7fa9 \u4e0d\u53ef\u8b8a (Immutable) \u7684\u8cc7\u6599\u8f09\u9ad4\u985e\u5225\u3002</p>"},{"location":"java-class/module-06/#vs-record","title":"\u50b3\u7d71\u985e\u5225 vs Record","text":"<p>\u50b3\u7d71\u5beb\u6cd5\uff1a Java<pre><code>public class ProductData {\n    private final String name;\n    private final double price;\n\n    public ProductData(String name, double price) {\n        this.name = name;\n        this.price = price;\n    }\n    // \u9084\u9700\u8981\u5beb getters, equals, hashCode, toString...\n}\n</code></pre></p> <p>Record \u5beb\u6cd5\uff1a records/Product.java<pre><code>public record Product(String name, double price) {\n    // \u81ea\u52d5\u7522\u751f\uff1a\n    // 1. private final \u6b04\u4f4d\n    // 2. \u516c\u958b\u5efa\u69cb\u5b50 (Canonical Constructor)\n    // 3. \u5b58\u53d6\u65b9\u6cd5 name(), price() (\u6ce8\u610f\u4e0d\u662f getName)\n    // 4. equals(), hashCode(), toString()\n\n    // \u4e5f\u53ef\u4ee5\u81ea\u8a02\u9a57\u8b49\u908f\u8f2f (Compact Constructor)\n    public Product {\n        if (price &lt; 0) {\n            throw new IllegalArgumentException(\"Price cannot be negative\");\n        }\n        name = name.toUpperCase(); // \u53ef\u4ee5\u4fee\u6539\u53c3\u6578\n    }\n}\n</code></pre></p>"},{"location":"java-class/module-06/#record","title":"\u4f7f\u7528 Record","text":"records/ProductDemo.java<pre><code>public class ProductDemo {\n    public static void main(String[] args) {\n        Product p1 = new Product(\"Tea\", 1.99);\n\n        System.out.println(p1.name());  // \u5b58\u53d6\u5c6c\u6027\n        System.out.println(p1);         // Product[name=TEA, price=1.99]\n\n        // Record \u662f\u4e0d\u53ef\u8b8a\u7684\uff0c\u7121\u6cd5\u4fee\u6539\u5c6c\u6027\n        // p1.price = 2.99; // Error\n    }\n}\n</code></pre>"},{"location":"java-class/module-06/#4","title":"4. \u7e3d\u7d50","text":"<ul> <li>\u7e7c\u627f\uff1a<code>extends</code> \u95dc\u9375\u5b57\uff0c<code>super</code> \u547c\u53eb\u7236\u985e\u5225\u3002</li> <li>\u8986\u5beb\uff1a<code>@Override</code> \u78ba\u4fdd\u6b63\u78ba\u8986\u5beb\u7236\u985e\u5225\u65b9\u6cd5\u3002</li> <li>Sealed Classes\uff1a\u7cbe\u78ba\u63a7\u5236\u7e7c\u627f\u968e\u5c64 (<code>sealed</code>, <code>permits</code>, <code>final</code>, <code>non-sealed</code>)\u3002</li> <li>Records\uff1a\u7c21\u6f54\u7684\u4e0d\u53ef\u8b8a\u8cc7\u6599\u985e\u5225\uff0c\u81ea\u52d5\u751f\u6210\u6a23\u677f\u7a0b\u5f0f\u78bc\u3002</li> </ul>"},{"location":"java-class/module-06/#5","title":"5. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5efa\u7acb\u4e00\u500b <code>Employee</code> record\uff0c\u5305\u542b <code>id</code>, <code>name</code>, <code>salary</code>\u3002</li> <li>\u5efa\u7acb\u4e00\u500b <code>Manager</code> \u985e\u5225\u7e7c\u627f\u81ea\u4e00\u500b\u666e\u901a\u7684 <code>Worker</code> \u985e\u5225\uff0c\u4e26\u8986\u5beb <code>work()</code> \u65b9\u6cd5\u3002</li> <li>\u5617\u8a66\u5728 <code>Manager</code> \u7684\u5efa\u69cb\u5b50\u4e2d\u4f7f\u7528 <code>super</code> \u547c\u53eb <code>Worker</code> \u7684\u5efa\u69cb\u5b50\u3002</li> </ol>"},{"location":"java-class/module-07/","title":"Module 07: \u4ecb\u9762\u8207\u6cdb\u578b (Interfaces and Generics)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-07/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u5b9a\u7fa9\u8207\u5be6\u4f5c\u4ecb\u9762 (Interface) - \u7406\u89e3\u4ecb\u9762\u4e2d\u7684\u9810\u8a2d\u65b9\u6cd5 (Default Methods) - \u4f7f\u7528\u6cdb\u578b (Generics) \u63d0\u9ad8\u578b\u5225\u5b89\u5168 - \u5be6\u4f5c <code>Comparable</code> \u4ecb\u9762\u9032\u884c\u7269\u4ef6\u6392\u5e8f</p>"},{"location":"java-class/module-07/#1-interfaces","title":"1. \u4ecb\u9762 (Interfaces)","text":"<p>\u4ecb\u9762\u5b9a\u7fa9\u4e86\u4e00\u7d44\u884c\u70ba\u5951\u7d04\uff0c\u985e\u5225\u5fc5\u9808\u5be6\u4f5c\u9019\u4e9b\u884c\u70ba\u3002</p>"},{"location":"java-class/module-07/#_2","title":"\u5b9a\u7fa9\u4ecb\u9762","text":"Consumable.java<pre><code>public interface Consumable {\n    // \u62bd\u8c61\u65b9\u6cd5 (\u9810\u8a2d\u70ba public abstract)\n    void consume();\n\n    // \u5e38\u6578 (\u9810\u8a2d\u70ba public static final)\n    String ACTION = \"Eat/Drink\";\n}\n</code></pre>"},{"location":"java-class/module-07/#_3","title":"\u5be6\u4f5c\u4ecb\u9762","text":"Java<pre><code>public class Food implements Consumable {\n    @Override\n    public void consume() {\n        System.out.println(\"Eating food...\");\n    }\n}\n</code></pre>"},{"location":"java-class/module-07/#default-methods","title":"\u9810\u8a2d\u65b9\u6cd5 (Default Methods)","text":"<p>Java 8 \u5141\u8a31\u5728\u4ecb\u9762\u4e2d\u63d0\u4f9b\u9810\u8a2d\u5be6\u4f5c\u3002</p> Java<pre><code>public interface Consumable {\n    void consume();\n\n    // \u9810\u8a2d\u65b9\u6cd5\uff0c\u5be6\u4f5c\u985e\u5225\u53ef\u4ee5\u9078\u64c7\u662f\u5426\u8986\u5beb\n    default void dispose() {\n        System.out.println(\"Disposing wrapper...\");\n    }\n}\n</code></pre>"},{"location":"java-class/module-07/#2-generics","title":"2. \u6cdb\u578b (Generics)","text":"<p>\u6cdb\u578b\u5141\u8a31\u6211\u5011\u5728\u5b9a\u7fa9\u985e\u5225\u3001\u4ecb\u9762\u6216\u65b9\u6cd5\u6642\u4f7f\u7528\u578b\u5225\u53c3\u6578 (Type Parameters)\uff0c\u5f9e\u800c\u5be6\u73fe\u4ee3\u78bc\u91cd\u7528\u4e26\u78ba\u4fdd\u7de8\u8b6f\u6642\u671f\u7684\u578b\u5225\u5b89\u5168\u3002</p>"},{"location":"java-class/module-07/#_4","title":"\u6cdb\u578b\u985e\u5225","text":"SomeGenerics.java<pre><code>public class SomeGenerics&lt;T&gt; {\n    private T value;\n\n    public void setValue(T value) {\n        this.value = value;\n    }\n\n    public T getValue() {\n        return value;\n    }\n}\n</code></pre>"},{"location":"java-class/module-07/#_5","title":"\u4f7f\u7528\u6cdb\u578b","text":"TestGenerics.java<pre><code>public class TestGenerics {\n    public static void main(String[] args) {\n        // \u6307\u5b9a T \u70ba Product\n        SomeGenerics&lt;Product&gt; box = new SomeGenerics&lt;&gt;();\n\n        box.setValue(new Product(\"Tea\", 1.99));\n\n        // \u4e0d\u9700\u8981\u5f37\u5236\u8f49\u578b\uff0c\u4e14\u7de8\u8b6f\u5668\u6703\u6aa2\u67e5\u578b\u5225\n        Product p = box.getValue();\n\n        // box.setValue(\"String\"); // \u7de8\u8b6f\u932f\u8aa4\uff01\n    }\n}\n</code></pre>"},{"location":"java-class/module-07/#3-comparable-vs-comparator","title":"3. \u7269\u4ef6\u6392\u5e8f (Comparable vs Comparator)","text":"<p>\u8981\u8b93\u7269\u4ef6\u5177\u6709\u53ef\u6392\u5e8f\u6027\uff0c\u901a\u5e38\u5be6\u4f5c <code>Comparable</code> \u4ecb\u9762\u3002</p>"},{"location":"java-class/module-07/#comparable","title":"Comparable \u4ecb\u9762","text":"Product.java<pre><code>public class Product implements Comparable&lt;Product&gt; {\n    private String name;\n    private double price;\n\n    // ... \u5efa\u69cb\u5b50\u8207 getters\n\n    @Override\n    public int compareTo(Product other) {\n        // \u4f9d\u540d\u7a31\u6392\u5e8f\n        return this.name.compareTo(other.name);\n\n        // \u82e5\u8981\u4f9d\u50f9\u683c\u6392\u5e8f\uff1a\n        // return Double.compare(this.price, other.price);\n    }\n}\n</code></pre>"},{"location":"java-class/module-07/#_6","title":"\u4f7f\u7528\u6392\u5e8f","text":"Java<pre><code>List&lt;Product&gt; products = new ArrayList&lt;&gt;();\nproducts.add(new Product(\"Tea\", 1.99));\nproducts.add(new Product(\"Coffee\", 2.99));\n\nCollections.sort(products); // \u6703\u547c\u53eb compareTo\n</code></pre>"},{"location":"java-class/module-07/#4","title":"4. \u7e3d\u7d50","text":"<ul> <li>**\u4ecb\u9762**\u5b9a\u7fa9\u884c\u70ba\uff0c\u652f\u63f4\u591a\u91cd\u5be6\u4f5c\u3002</li> <li>**\u6cdb\u578b**\u63d0\u4f9b\u7de8\u8b6f\u671f\u578b\u5225\u6aa2\u67e5\uff0c\u907f\u514d <code>ClassCastException</code>\u3002</li> <li>Comparable \u7528\u65bc\u5b9a\u7fa9\u7269\u4ef6\u7684\u81ea\u7136\u6392\u5e8f\u898f\u5247\u3002</li> </ul>"},{"location":"java-class/module-07/#5","title":"5. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5efa\u7acb\u4e00\u500b <code>Box&lt;T&gt;</code> \u6cdb\u578b\u985e\u5225\uff0c\u5305\u542b <code>put(T item)</code> \u548c <code>T take()</code> \u65b9\u6cd5\u3002</li> <li>\u8b93 <code>Product</code> \u985e\u5225\u5be6\u4f5c <code>Comparable</code>\uff0c\u6539\u70ba\u4f9d\u50f9\u683c\u7531\u9ad8\u5230\u4f4e\u6392\u5e8f\u3002</li> <li>\u64b0\u5beb\u4e00\u500b\u6e2c\u8a66\u7a0b\u5f0f\uff0c\u5c07\u591a\u500b <code>Product</code> \u653e\u5165 <code>List</code> \u4e26\u6392\u5e8f\u8f38\u51fa\u3002</li> </ol>"},{"location":"java-class/module-08/","title":"Module 08: \u9663\u5217\u8207\u8ff4\u5708 (Arrays and Loops)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-08/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u5ba3\u544a\u3001\u5be6\u4f8b\u5316\u8207\u521d\u59cb\u5316\u4e00\u7dad\u8207\u591a\u7dad\u9663\u5217 - \u4f7f\u7528 <code>for</code>\u3001<code>while</code> \u8207 <code>do-while</code> \u8ff4\u5708\u63a7\u5236\u7a0b\u5f0f\u6d41\u7a0b - \u4f7f\u7528\u589e\u5f37\u578b <code>for</code> \u8ff4\u5708 (Enhanced for-loop) \u8d70\u8a2a\u9663\u5217 - \u904b\u7528 <code>break</code> \u8207 <code>continue</code> (\u542b\u6a19\u7c64) \u63a7\u5236\u8ff4\u5708\u57f7\u884c</p>"},{"location":"java-class/module-08/#1-arrays","title":"1. \u9663\u5217 (Arrays)","text":"<p>\u9663\u5217\u662f\u7528\u65bc\u5132\u5b58\u56fa\u5b9a\u5927\u5c0f\u7684\u540c\u578b\u5225\u8cc7\u6599\u7684\u5bb9\u5668\u3002</p>"},{"location":"java-class/module-08/#_2","title":"\u5ba3\u544a\u8207\u521d\u59cb\u5316","text":"ArrayDemo01.java<pre><code>public class ArrayDemo01 {\n    public static void main(String[] args) {\n        // 1. \u5ba3\u544a\u4e26\u914d\u7f6e\u7a7a\u9593 (\u9810\u8a2d\u503c\u70ba 0)\n        int[] primes = new int[4];\n        primes[0] = 2;\n        primes[1] = 3;\n\n        // 2. \u5ba3\u544a\u4e26\u76f4\u63a5\u7d66\u503c (\u533f\u540d\u9663\u5217)\n        int[] primes02 = new int[]{2, 3, 5};\n\n        // 3. \u7c21\u5beb\u6cd5 (\u50c5\u9650\u5ba3\u544a\u6642\u4f7f\u7528)\n        int[] primes03 = {2, 3, 5};\n\n        System.out.println(\"\u9577\u5ea6: \" + primes.length); // \u53d6\u5f97\u9663\u5217\u9577\u5ea6\n    }\n}\n</code></pre>"},{"location":"java-class/module-08/#_3","title":"\u591a\u7dad\u9663\u5217","text":"Java<pre><code>// 2D \u9663\u5217 (\u77e9\u9663)\nint[][] matrix = {\n    {1, 2, 3},\n    {4, 5, 6},\n    {7, 8, 9}\n};\nSystem.out.println(matrix[1][1]); // \u8f38\u51fa 5\n</code></pre>"},{"location":"java-class/module-08/#2-loops","title":"2. \u8ff4\u5708 (Loops)","text":"<p>Java \u63d0\u4f9b\u591a\u7a2e\u8ff4\u5708\u7d50\u69cb\u4f86\u91cd\u8907\u57f7\u884c\u7a0b\u5f0f\u78bc\u3002</p>"},{"location":"java-class/module-08/#for","title":"\u6a19\u6e96 for \u8ff4\u5708","text":"<p>\u9069\u7528\u65bc\u5df2\u77e5\u57f7\u884c\u6b21\u6578\u7684\u60c5\u6cc1\u3002</p> Java<pre><code>int[] values = {10, 20, 30};\nfor (int i = 0; i &lt; values.length; i++) {\n    System.out.println(\"Index \" + i + \": \" + values[i]);\n}\n</code></pre>"},{"location":"java-class/module-08/#for-enhanced-for-loop","title":"\u589e\u5f37\u578b for \u8ff4\u5708 (Enhanced for-loop)","text":"<p>\u9069\u7528\u65bc\u8d70\u8a2a\u9663\u5217\u6216\u96c6\u5408\uff0c\u8a9e\u6cd5\u66f4\u7c21\u6f54\u3002</p> Java<pre><code>for (int value : values) {\n    System.out.println(\"Value: \" + value);\n}\n</code></pre>"},{"location":"java-class/module-08/#while-do-while","title":"while \u8207 do-while \u8ff4\u5708","text":"<p>\u9069\u7528\u65bc\u672a\u77e5\u57f7\u884c\u6b21\u6578\uff0c\u4f9d\u689d\u4ef6\u5224\u65b7\u7684\u60c5\u6cc1\u3002</p> Java<pre><code>int i = 0;\nwhile (i &lt; 5) {\n    System.out.println(i++);\n}\n\n// do-while \u4fdd\u8b49\u81f3\u5c11\u57f7\u884c\u4e00\u6b21\ndo {\n    System.out.println(\"At least once\");\n} while (false);\n</code></pre>"},{"location":"java-class/module-08/#3-loop-control","title":"3. \u8ff4\u5708\u63a7\u5236 (Loop Control)","text":"<ul> <li><code>break</code>: \u7acb\u5373\u8df3\u51fa\u8ff4\u5708\u3002</li> <li><code>continue</code>: \u8df3\u904e\u672c\u6b21\u8fed\u4ee3\uff0c\u7e7c\u7e8c\u4e0b\u4e00\u6b21\u3002</li> <li>\u6a19\u7c64 (Labels): \u7528\u65bc\u8df3\u51fa\u591a\u5c64\u5de2\u72c0\u8ff4\u5708\u3002</li> </ul> ArrayDemo07.java<pre><code>public class ArrayDemo07 {\n    public static void main(String[] args) {\n        char[][] matrix = {\n            {'A', 'B', 'C'},\n            {'D', 'E', 'F'}\n        };\n\n        outerLoop: // \u5b9a\u7fa9\u6a19\u7c64\n        for (char[] row : matrix) {\n            for (char value : row) {\n                if (value == 'C') {\n                    continue; // \u8df3\u904e\u672c\u6b21\u5167\u5c64\u8ff4\u5708\n                }\n                if (value == 'E') {\n                    break outerLoop; // \u76f4\u63a5\u8df3\u51fa\u5916\u5c64\u8ff4\u5708\n                }\n                System.out.print(value);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>"},{"location":"java-class/module-08/#4","title":"4. \u7e3d\u7d50","text":"<ul> <li>\u9663\u5217\u7d22\u5f15\u5f9e 0 \u958b\u59cb\uff0c\u9577\u5ea6\u56fa\u5b9a (<code>length</code> \u5c6c\u6027)\u3002</li> <li>\u512a\u5148\u4f7f\u7528 \u589e\u5f37\u578b for \u8ff4\u5708 \u4f86\u8b80\u53d6\u9663\u5217\u8cc7\u6599\u3002</li> <li>\u4f7f\u7528 \u6a19\u7c64 \u53ef\u4ee5\u63a7\u5236\u5de2\u72c0\u8ff4\u5708\u7684\u8df3\u8f49\u3002</li> <li>\u82e5\u9700\u8981\u52d5\u614b\u5927\u5c0f\u7684\u5bb9\u5668\uff0c\u8acb\u6539\u7528 <code>ArrayList</code> (Module 09)\u3002</li> </ul>"},{"location":"java-class/module-08/#5","title":"5. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5ba3\u544a\u4e00\u500b\u6574\u6578\u9663\u5217\uff0c\u8a08\u7b97\u6240\u6709\u5143\u7d20\u7684\u7e3d\u548c\u8207\u5e73\u5747\u503c\u3002</li> <li>\u4f7f\u7528\u5de2\u72c0\u8ff4\u5708\u5370\u51fa\u4e5d\u4e5d\u4e58\u6cd5\u8868\u3002</li> <li>\u7d66\u5b9a\u4e00\u500b\u5b57\u4e32\u9663\u5217\uff0c\u627e\u51fa\u5176\u4e2d\u9577\u5ea6\u6700\u9577\u7684\u5b57\u4e32\u3002</li> </ol>"},{"location":"java-class/module-09/","title":"Module 09: \u96c6\u5408\u6846\u67b6 (Collections Framework)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-09/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3 Java \u96c6\u5408\u6846\u67b6 (Collections Framework) \u7684\u67b6\u69cb - \u4f7f\u7528 <code>List</code> (\u5982 ArrayList) \u5132\u5b58\u6709\u5e8f\u8cc7\u6599 - \u4f7f\u7528 <code>Set</code> (\u5982 HashSet) \u5132\u5b58\u4e0d\u91cd\u8907\u8cc7\u6599 - \u4f7f\u7528 <code>Map</code> (\u5982 HashMap) \u5132\u5b58\u9375\u503c\u5c0d (Key-Value Pairs) - \u4f7f\u7528 <code>Deque</code> \u5be6\u4f5c\u5806\u758a (Stack) \u8207\u4f47\u5217 (Queue)</p>"},{"location":"java-class/module-09/#1","title":"1. \u96c6\u5408\u6846\u67b6\u6982\u89c0","text":"<p>Java \u96c6\u5408\u6846\u67b6\u63d0\u4f9b\u4e86\u4e00\u7d44\u6a19\u6e96\u7684\u4ecb\u9762\u8207\u985e\u5225\u4f86\u5132\u5b58\u548c\u64cd\u4f5c\u7fa4\u7d44\u8cc7\u6599\u3002</p> <ul> <li>Collection: \u96c6\u5408\u7684\u6839\u4ecb\u9762<ul> <li>List: \u6709\u5e8f\u3001\u53ef\u91cd\u8907 (e.g., <code>ArrayList</code>, <code>LinkedList</code>)</li> <li>Set: \u7121\u5e8f\u3001\u4e0d\u53ef\u91cd\u8907 (e.g., <code>HashSet</code>, <code>TreeSet</code>)</li> <li>Deque: \u96d9\u7aef\u4f47\u5217 (e.g., <code>ArrayDeque</code>)</li> </ul> </li> <li>Map: \u9375\u503c\u5c0d\u6620\u5c04\uff0c\u4e0d\u7e7c\u627f Collection (e.g., <code>HashMap</code>, <code>TreeMap</code>)</li> </ul>"},{"location":"java-class/module-09/#2-list","title":"2. List (\u4e32\u5217)","text":"<p><code>List</code> \u662f\u6709\u5e8f\u7684\u96c6\u5408\uff0c\u5141\u8a31\u91cd\u8907\u5143\u7d20\uff0c\u53ef\u4ee5\u900f\u904e\u7d22\u5f15 (Index) \u5b58\u53d6\u3002</p> ListDemo01.java<pre><code>import java.util.*;\n\npublic class ListDemo01 {\n    public static void main(String[] args) {\n        // \u5efa\u7acb ArrayList\n        List&lt;String&gt; menu = new ArrayList&lt;&gt;();\n\n        // \u65b0\u589e\u5143\u7d20\n        menu.add(\"Cake\");\n        menu.add(\"Tea\");\n        menu.add(\"Cookie\");\n        menu.add(\"Tea\"); // \u5141\u8a31\u91cd\u8907\n\n        // \u63d2\u5165\u5143\u7d20\n        menu.add(1, \"Coffee\");\n\n        // \u4fee\u6539\u5143\u7d20\n        menu.set(0, \"Cheesecake\");\n\n        // \u79fb\u9664\u5143\u7d20\n        menu.remove(\"Cookie\"); // \u4f9d\u7269\u4ef6\u79fb\u9664\n        menu.remove(2);        // \u4f9d\u7d22\u5f15\u79fb\u9664\n\n        // \u53d6\u5f97\u5143\u7d20\n        System.out.println(\"First item: \" + menu.get(0));\n\n        // \u8d70\u8a2a\n        for (String item : menu) {\n            System.out.println(item);\n        }\n\n        // \u4e0d\u53ef\u8b8a List (Java 9+)\n        List&lt;String&gt; fixedList = List.of(\"A\", \"B\", \"C\");\n        // fixedList.add(\"D\"); // \u6703\u62cb\u51fa UnsupportedOperationException\n    }\n}\n</code></pre>"},{"location":"java-class/module-09/#3-set","title":"3. Set (\u96c6\u5408)","text":"<p><code>Set</code> \u662f\u4e0d\u5141\u8a31\u91cd\u8907\u5143\u7d20\u7684\u96c6\u5408\uff0c\u901a\u5e38\u7121\u7279\u5b9a\u9806\u5e8f\u3002</p> SetDemo02.java<pre><code>import java.util.*;\n\npublic class SetDemo02 {\n    public static void main(String[] args) {\n        Set&lt;String&gt; uniqueNames = new HashSet&lt;&gt;();\n\n        uniqueNames.add(\"Alice\");\n        uniqueNames.add(\"Bob\");\n        boolean added = uniqueNames.add(\"Alice\"); // \u56de\u50b3 false\uff0c\u56e0\u70ba\u5df2\u5b58\u5728\n\n        System.out.println(\"Size: \" + uniqueNames.size()); // 2\n\n        // \u6aa2\u67e5\u662f\u5426\u5b58\u5728\n        if (uniqueNames.contains(\"Bob\")) {\n            System.out.println(\"Bob is in the set\");\n        }\n\n        // \u8f49\u63db List \u5230 Set (\u53bb\u9664\u91cd\u8907)\n        List&lt;Integer&gt; nums = List.of(1, 2, 2, 3, 3, 3);\n        Set&lt;Integer&gt; uniqueNums = new HashSet&lt;&gt;(nums);\n        System.out.println(uniqueNums); // [1, 2, 3] (\u9806\u5e8f\u4e0d\u4fdd\u8b49)\n    }\n}\n</code></pre>"},{"location":"java-class/module-09/#4-map","title":"4. Map (\u6620\u5c04)","text":"<p><code>Map</code> \u5132\u5b58\u9375\u503c\u5c0d (Key-Value)\uff0cKey \u4e0d\u53ef\u91cd\u8907\uff0cValue \u53ef\u91cd\u8907\u3002</p> HashMapDemo01.java<pre><code>import java.util.*;\n\npublic class HashMapDemo01 {\n    public static void main(String[] args) {\n        Map&lt;String, Integer&gt; scores = new HashMap&lt;&gt;();\n\n        // \u65b0\u589e/\u66f4\u65b0\n        scores.put(\"Alice\", 95);\n        scores.put(\"Bob\", 80);\n        scores.put(\"Alice\", 98); // \u66f4\u65b0 Alice \u7684\u5206\u6578\n\n        // \u53d6\u5f97\u503c\n        Integer aliceScore = scores.get(\"Alice\"); // 98\n        Integer charlieScore = scores.get(\"Charlie\"); // null\n\n        // \u6aa2\u67e5 Key\n        if (scores.containsKey(\"Bob\")) {\n            System.out.println(\"Bob's score: \" + scores.get(\"Bob\"));\n        }\n\n        // \u8d70\u8a2a\n        for (String key : scores.keySet()) {\n            System.out.println(key + \": \" + scores.get(key));\n        }\n\n        // \u4f7f\u7528 entrySet \u8d70\u8a2a (\u6548\u7387\u8f03\u4f73)\n        for (Map.Entry&lt;String, Integer&gt; entry : scores.entrySet()) {\n            System.out.println(entry.getKey() + \" -&gt; \" + entry.getValue());\n        }\n    }\n}\n</code></pre>"},{"location":"java-class/module-09/#5-deque","title":"5. Deque (\u96d9\u7aef\u4f47\u5217)","text":"<p><code>Deque</code> (Double Ended Queue) \u53ef\u7528\u65bc\u5be6\u4f5c Stack (\u5f8c\u9032\u5148\u51fa) \u6216 Queue (\u5148\u9032\u5148\u51fa)\u3002</p> Java<pre><code>Deque&lt;String&gt; stack = new ArrayDeque&lt;&gt;();\nstack.push(\"First\");\nstack.push(\"Second\");\nSystem.out.println(stack.pop()); // Second\n\nDeque&lt;String&gt; queue = new ArrayDeque&lt;&gt;();\nqueue.offer(\"First\");\nqueue.offer(\"Second\");\nSystem.out.println(queue.poll()); // First\n</code></pre>"},{"location":"java-class/module-09/#6","title":"6. \u7e3d\u7d50","text":"<ul> <li>List: \u6709\u5e8f\uff0c\u53ef\u91cd\u8907 -&gt; <code>ArrayList</code> (\u5e38\u7528), <code>LinkedList</code>.</li> <li>Set: \u7121\u5e8f\uff0c\u4e0d\u91cd\u8907 -&gt; <code>HashSet</code> (\u5e38\u7528), <code>TreeSet</code> (\u6392\u5e8f).</li> <li>Map: Key-Value -&gt; <code>HashMap</code> (\u5e38\u7528), <code>TreeMap</code> (\u4f9d Key \u6392\u5e8f).</li> <li>Deque: Stack/Queue -&gt; <code>ArrayDeque</code>.</li> <li>\u4f7f\u7528 <code>Collections</code> \u5de5\u5177\u985e\u5225\u9032\u884c\u6392\u5e8f (<code>sort</code>)\u3001\u53cd\u8f49 (<code>reverse</code>) \u7b49\u64cd\u4f5c\u3002</li> </ul>"},{"location":"java-class/module-09/#7","title":"7. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u4f7f\u7528 <code>ArrayList</code> \u5132\u5b58 10 \u500b\u96a8\u6a5f\u6574\u6578\uff0c\u4e26\u8a08\u7b97\u5e73\u5747\u503c\u3002</li> <li>\u8f38\u5165\u4e00\u6bb5\u6587\u5b57\uff0c\u4f7f\u7528 <code>HashMap</code> \u7d71\u8a08\u6bcf\u500b\u55ae\u5b57\u51fa\u73fe\u7684\u6b21\u6578\u3002</li> <li>\u4f7f\u7528 <code>HashSet</code> \u7522\u751f\u4e00\u7d44\u4e0d\u91cd\u8907\u7684\u5927\u6a02\u900f\u865f\u78bc (1-49 \u53d6 6 \u500b)\u3002</li> </ol>"},{"location":"java-class/module-10/","title":"Module 10: \u5de2\u72c0\u985e\u5225\u8207 Lambda \u8868\u9054\u5f0f (Nested Classes and Lambda Expressions)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-10/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3\u4e26\u4f7f\u7528\u56db\u7a2e\u5de2\u72c0\u985e\u5225\uff1aStatic Nested Class, Member Inner Class, Local Inner Class, Anonymous Inner Class - \u7406\u89e3 Lambda \u8868\u9054\u5f0f\u7684\u8a9e\u6cd5\u8207\u7528\u9014 - \u4f7f\u7528 Functional Interfaces (\u5982 <code>Predicate</code>, <code>Comparator</code>) - \u4f7f\u7528 Method References (\u65b9\u6cd5\u53c3\u8003) \u7c21\u5316\u7a0b\u5f0f\u78bc</p>"},{"location":"java-class/module-10/#1-nested-classes","title":"1. \u5de2\u72c0\u985e\u5225 (Nested Classes)","text":"<p>\u5de2\u72c0\u985e\u5225\u662f\u5b9a\u7fa9\u5728\u53e6\u4e00\u500b\u985e\u5225\u5167\u90e8\u7684\u985e\u5225\u3002\u4f7f\u7528\u5de2\u72c0\u985e\u5225\u7684\u4e3b\u8981\u539f\u56e0\u5305\u62ec\uff1a -   \u908f\u8f2f\u5206\u7d44: \u5982\u679c\u4e00\u500b\u985e\u5225\u53ea\u88ab\u53e6\u4e00\u500b\u985e\u5225\u4f7f\u7528\uff0c\u5c07\u5176\u5d4c\u5165\u53ef\u4ee5\u4f7f\u7a0b\u5f0f\u78bc\u66f4\u7dca\u6e4a\u3002 -   \u5c01\u88dd\u6027: \u5de2\u72c0\u985e\u5225\u53ef\u4ee5\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u79c1\u6709\u6210\u54e1 (\u5305\u62ec private)\u3002 -   \u53ef\u8b80\u6027\u8207\u7dad\u8b77\u6027: \u5c07\u76f8\u95dc\u7684\u985e\u5225\u653e\u5728\u4e00\u8d77\u3002</p>"},{"location":"java-class/module-10/#11-static-nested-class","title":"1.1 Static Nested Class (\u975c\u614b\u5de2\u72c0\u985e\u5225)","text":"<ul> <li>\u5ba3\u544a\u70ba <code>static</code> \u7684\u5de2\u72c0\u985e\u5225\u3002</li> <li>\u884c\u70ba\u985e\u4f3c\u65bc\u4e00\u822c\u7684\u9802\u5c64\u985e\u5225 (Top-level class)\uff0c\u53ea\u662f\u88ab\u5305\u88dd\u5728\u53e6\u4e00\u500b\u985e\u5225\u4e2d\u3002</li> <li>\u53ea\u80fd\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u975c\u614b\u6210\u54e1\u3002</li> <li>\u53ef\u4ee5\u76f4\u63a5\u5be6\u4f8b\u5316\uff0c\u4e0d\u9700\u8981\u5916\u90e8\u985e\u5225\u7684\u5be6\u4f8b\u3002</li> </ul> Outer.java<pre><code>public class Outer {\n    // \u975c\u614b\u5de2\u72c0\u985e\u5225\n    public static class StaticNested { \n        public void print() {\n            System.out.println(\"Inside StaticNested class\");\n        }\n    }\n}\n\n// \u5be6\u4f8b\u5316\u65b9\u5f0f\nOuter.StaticNested nested = new Outer.StaticNested();\nnested.print();\n</code></pre>"},{"location":"java-class/module-10/#12-member-inner-class","title":"1.2 Member Inner Class (\u6210\u54e1\u5167\u90e8\u985e\u5225)","text":"<ul> <li>\u5b9a\u7fa9\u5728\u985e\u5225\u4e2d\uff0c\u4f46\u4e0d\u662f static \u7684\u3002</li> <li>\u5c6c\u65bc\u5916\u90e8\u985e\u5225\u7684**\u5be6\u4f8b (Instance)** \u6210\u54e1\u3002</li> <li>\u53ef\u4ee5\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u6240\u6709\u6210\u54e1 (\u5305\u542b private)\u3002</li> <li>\u5fc5\u9808\u5148\u5efa\u7acb\u5916\u90e8\u985e\u5225\u7684\u5be6\u4f8b\uff0c\u624d\u80fd\u5efa\u7acb\u6210\u54e1\u5167\u90e8\u985e\u5225\u7684\u5be6\u4f8b\u3002</li> </ul> Order.java<pre><code>public class Order {\n    private int orderId = 101;\n\n    // \u6210\u54e1\u5167\u90e8\u985e\u5225\n    public class Item {\n        public void printOrderId() {\n            // \u53ef\u4ee5\u76f4\u63a5\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684 private \u6210\u54e1\n            System.out.println(\"Order ID: \" + orderId);\n        }\n    }\n\n    public void createItem() {\n        Item item = new Item();\n        item.printOrderId();\n    }\n}\n\n// \u5916\u90e8\u5be6\u4f8b\u5316\u65b9\u5f0f\nOrder order = new Order();\nOrder.Item item = order.new Item(); // \u6ce8\u610f\u8a9e\u6cd5: instance.new\n</code></pre>"},{"location":"java-class/module-10/#13-local-inner-class","title":"1.3 Local Inner Class (\u5340\u57df\u5167\u90e8\u985e\u5225)","text":"<ul> <li>\u5b9a\u7fa9\u5728**\u65b9\u6cd5 (Method)** \u5167\u90e8\u7684\u985e\u5225\u3002</li> <li>\u7bc4\u570d\u50c5\u9650\u65bc\u8a72\u65b9\u6cd5\u5167\u90e8\u3002</li> <li>\u53ef\u4ee5\u5b58\u53d6\u5916\u90e8\u985e\u5225\u7684\u6210\u54e1\uff0c\u4ee5\u53ca\u65b9\u6cd5\u5167\u7684 <code>final</code> \u6216 effectively final (\u8ce6\u503c\u5f8c\u4e0d\u518d\u6539\u8b8a) \u7684\u5340\u57df\u8b8a\u6578\u3002</li> </ul> Java<pre><code>public void manageTax(String region) {\n    final double taxRate = 0.05;\n\n    class TaxCalculator {\n        public double calculate(double price) {\n            // \u53ef\u4ee5\u5b58\u53d6 region (effectively final) \u548c taxRate\n            System.out.println(\"Calculating tax for \" + region);\n            return price * taxRate;\n        }\n    }\n\n    TaxCalculator calc = new TaxCalculator();\n    System.out.println(calc.calculate(100));\n}\n</code></pre>"},{"location":"java-class/module-10/#14-anonymous-inner-class","title":"1.4 Anonymous Inner Class (\u533f\u540d\u5167\u90e8\u985e\u5225)","text":"<ul> <li>\u6c92\u6709\u540d\u7a31\u7684\u5167\u90e8\u985e\u5225\u3002</li> <li>\u901a\u5e38\u7528\u65bc**\u7e7c\u627f\u4e00\u500b\u985e\u5225**\u6216**\u5be6\u4f5c\u4e00\u500b\u4ecb\u9762**\uff0c\u4e26\u540c\u6642\u5efa\u7acb\u5176\u5be6\u4f8b\u3002</li> <li>\u5e38\u7528\u65bc\u4e8b\u4ef6\u76e3\u807d\u5668 (Event Listeners) \u6216\u56de\u547c (Callbacks)\u3002</li> </ul> AnonymousDemo01.java<pre><code>// \u5047\u8a2d Order \u662f\u4e00\u500b\u985e\u5225\u6216\u4ecb\u9762\nOrder specialOrder = new Order() {\n    @Override\n    public BigDecimal getDiscount() {\n        return BigDecimal.valueOf(0.25); // \u8986\u5beb\u65b9\u6cd5\n    }\n};\n</code></pre>"},{"location":"java-class/module-10/#2-lambda-lambda-expressions","title":"2. Lambda \u8868\u9054\u5f0f (Lambda Expressions)","text":"<p>Java 8 \u5f15\u5165\u7684\u91cd\u5927\u7279\u6027\uff0c\u7528\u65bc\u7c21\u5316 Functional Interface (\u53ea\u6709\u4e00\u500b\u62bd\u8c61\u65b9\u6cd5\u7684\u4ecb\u9762) \u7684\u5be6\u4f5c\u3002</p>"},{"location":"java-class/module-10/#21","title":"2.1 \u8a9e\u6cd5","text":"<p>Java<pre><code>(parameters) -&gt; { body }\n</code></pre> -   \u53c3\u6578: \u53ef\u4ee5\u7701\u7565\u578b\u5225 (Type Inference)\u3002\u5982\u679c\u53ea\u6709\u4e00\u500b\u53c3\u6578\uff0c\u62ec\u865f <code>()</code> \u53ef\u4ee5\u7701\u7565\u3002 -   \u7bad\u982d: <code>-&gt;</code> \u5206\u9694\u53c3\u6578\u8207\u4e3b\u9ad4\u3002 -   \u4e3b\u9ad4: \u5982\u679c\u53ea\u6709\u4e00\u884c\u7a0b\u5f0f\u78bc\uff0c\u5927\u62ec\u865f <code>{}</code> \u548c <code>return</code> \u95dc\u9375\u5b57\u53ef\u4ee5\u7701\u7565\u3002</p>"},{"location":"java-class/module-10/#22-comparator","title":"2.2 \u7bc4\u4f8b\uff1aComparator","text":"<p>\u6bd4\u8f03\u50b3\u7d71\u533f\u540d\u985e\u5225\u8207 Lambda \u7684\u5beb\u6cd5\u3002</p> <p>\u4f7f\u7528\u533f\u540d\u985e\u5225: Java<pre><code>Comparator&lt;String&gt; byLength = new Comparator&lt;String&gt;() {\n    @Override\n    public int compare(String s1, String s2) {\n        return Integer.compare(s1.length(), s2.length());\n    }\n};\n</code></pre></p> <p>\u4f7f\u7528 Lambda: ComparatorDemo01.java<pre><code>// \u5b8c\u6574\u5beb\u6cd5\nComparator&lt;String&gt; byLength = (String s1, String s2) -&gt; {\n    return Integer.compare(s1.length(), s2.length());\n};\n\n// \u7c21\u6f54\u5beb\u6cd5\nComparator&lt;String&gt; byLengthSimple = (s1, s2) -&gt; Integer.compare(s1.length(), s2.length());\n</code></pre></p>"},{"location":"java-class/module-10/#23-functional-interfaces","title":"2.3 \u5e38\u7528\u7684 Functional Interfaces","text":"<p>Java \u5728 <code>java.util.function</code> \u5957\u4ef6\u4e2d\u63d0\u4f9b\u4e86\u8a31\u591a\u6a19\u6e96\u4ecb\u9762\uff1a</p> <ul> <li><code>Predicate&lt;T&gt;</code>: \u63a5\u6536\u4e00\u500b\u53c3\u6578\uff0c\u56de\u50b3 <code>boolean</code>\u3002\u7528\u65bc\u6e2c\u8a66\u689d\u4ef6\u3002     Java<pre><code>Predicate&lt;String&gt; isEmpty = s -&gt; s.isEmpty();\n</code></pre></li> <li><code>Consumer&lt;T&gt;</code>: \u63a5\u6536\u4e00\u500b\u53c3\u6578\uff0c\u4e0d\u56de\u50b3\u503c (<code>void</code>)\u3002\u7528\u65bc\u57f7\u884c\u52d5\u4f5c\u3002     Java<pre><code>Consumer&lt;String&gt; printer = s -&gt; System.out.println(s);\n</code></pre></li> <li><code>Function&lt;T, R&gt;</code>: \u63a5\u6536\u53c3\u6578 T\uff0c\u56de\u50b3\u7d50\u679c R\u3002\u7528\u65bc\u8f49\u63db\u3002     Java<pre><code>Function&lt;String, Integer&gt; lengthFunc = s -&gt; s.length();\n</code></pre></li> <li><code>Supplier&lt;T&gt;</code>: \u4e0d\u63a5\u6536\u53c3\u6578\uff0c\u63d0\u4f9b\u4e00\u500b\u56de\u50b3\u503c T\u3002\u7528\u65bc\u7522\u751f\u8cc7\u6599\u3002     Java<pre><code>Supplier&lt;Double&gt; random = () -&gt; Math.random();\n</code></pre></li> </ul>"},{"location":"java-class/module-10/#24-predicate","title":"2.4 Predicate \u7bc4\u4f8b","text":"PredicateDemo01.java<pre><code>List&lt;Product&gt; menu = new ArrayList&lt;&gt;();\n// ... \u52a0\u5165\u7522\u54c1\n\n// \u5b9a\u7fa9\u904e\u6ffe\u689d\u4ef6\nPredicate&lt;Product&gt; isFood = p -&gt; p instanceof Food;\nPredicate&lt;Product&gt; isCheap = p -&gt; p.getPrice().compareTo(BigDecimal.valueOf(2)) &lt; 0;\n\n// \u79fb\u9664\u7b26\u5408\u689d\u4ef6\u7684\u5143\u7d20 (removeIf \u4f7f\u7528 Predicate)\n// \u79fb\u9664: \u662f\u98df\u7269 OR \u50f9\u683c\u4f4e\u65bc 2\nmenu.removeIf(isFood.or(isCheap)); \n</code></pre>"},{"location":"java-class/module-10/#3-method-references","title":"3. Method References (\u65b9\u6cd5\u53c3\u8003)","text":"<p>\u7576 Lambda \u8868\u9054\u5f0f\u53ea\u662f\u76f4\u63a5\u547c\u53eb\u4e00\u500b\u73fe\u6709\u7684\u65b9\u6cd5\u6642\uff0c\u53ef\u4ee5\u4f7f\u7528\u65b9\u6cd5\u53c3\u8003\u4f86\u8b93\u7a0b\u5f0f\u78bc\u66f4\u7c21\u6f54\u3002\u8a9e\u6cd5\u70ba <code>Class::method</code>\u3002</p> \u985e\u578b Lambda Method Reference Static Method <code>args -&gt; Class.staticMethod(args)</code> <code>Class::staticMethod</code> Instance Method (\u7279\u5b9a\u7269\u4ef6) <code>args -&gt; obj.instanceMethod(args)</code> <code>obj::instanceMethod</code> Instance Method (\u4efb\u610f\u7269\u4ef6) <code>(obj, args) -&gt; obj.instanceMethod(args)</code> <code>Class::instanceMethod</code> Constructor <code>args -&gt; new Class(args)</code> <code>Class::new</code> <p>\u7bc4\u4f8b: Java<pre><code>List&lt;String&gt; names = Arrays.asList(\"Alice\", \"Bob\", \"Charlie\");\n\n// Lambda\nnames.forEach(s -&gt; System.out.println(s));\n\n// Method Reference\nnames.forEach(System.out::println);\n\n// Lambda (\u6392\u5e8f)\nnames.sort((s1, s2) -&gt; s1.compareToIgnoreCase(s2));\n\n// Method Reference (\u6392\u5e8f)\nnames.sort(String::compareToIgnoreCase);\n</code></pre></p>"},{"location":"java-class/module-10/#4","title":"4. \u7e3d\u7d50","text":"<ul> <li>**\u5de2\u72c0\u985e\u5225**\u7528\u65bc\u908f\u8f2f\u5206\u7d44\u8207\u5c01\u88dd\uff0c\u5206\u70ba Static, Member, Local, Anonymous \u56db\u7a2e\u3002</li> <li>**Lambda \u8868\u9054\u5f0f**\u7c21\u5316\u4e86 Functional Interface \u7684\u5be6\u4f5c\uff0c\u4f7f\u7a0b\u5f0f\u78bc\u66f4\u7c21\u6f54\u3001\u6613\u8b80\u3002</li> <li>Functional Interfaces (\u5982 <code>Predicate</code>, <code>Consumer</code>, <code>Function</code>) \u662f Lambda \u7684\u57fa\u790e\u3002</li> <li>Method References \u63d0\u4f9b\u4e86\u66f4\u9032\u4e00\u6b65\u7684\u7c21\u5316\u8a9e\u6cd5\u3002</li> </ul>"},{"location":"java-class/module-10/#5","title":"5. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5efa\u7acb\u4e00\u500b <code>Student</code> \u985e\u5225\uff0c\u4e26\u4f7f\u7528 <code>Comparator</code> \u8207 Lambda \u8868\u9054\u5f0f\u4f9d\u64da\u6210\u7e3e\u6392\u5e8f\u3002</li> <li>\u4f7f\u7528 <code>Predicate</code> \u904e\u6ffe\u4e00\u500b\u6574\u6578 List\uff0c\u53ea\u4fdd\u7559\u5076\u6578\u3002</li> <li>\u4f7f\u7528 <code>Function</code> \u5c07\u4e00\u500b\u5b57\u4e32 List \u5168\u90e8\u8f49\u63db\u70ba\u5927\u5beb\u3002</li> </ol>"},{"location":"java-class/module-11/","title":"Module 11: Java Stream API","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-11/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3 Stream API \u7684\u6838\u5fc3\u6982\u5ff5 (Lazy Evaluation, Pipelining) - \u4f7f\u7528 Stream \u8655\u7406\u96c6\u5408\u8cc7\u6599 (Filter, Map, Reduce) - \u4f7f\u7528 <code>Optional</code> \u985e\u5225\u8655\u7406\u53ef\u80fd\u70ba\u7a7a\u7684\u503c - \u4f7f\u7528 <code>Collectors</code> \u9032\u884c\u8cc7\u6599\u6536\u96c6\u8207\u5206\u7d44 - \u7406\u89e3\u5e73\u884c\u4e32\u6d41 (Parallel Streams) \u7684\u4f7f\u7528\u6642\u6a5f</p>"},{"location":"java-class/module-11/#1-stream-api","title":"1. Stream API \u7c21\u4ecb","text":"<p>Stream \u662f\u4e00\u7d44\u652f\u63f4\u51fd\u6578\u5f0f\u64cd\u4f5c\u7684\u5143\u7d20\u5e8f\u5217\uff0c\u5b83\u4e0d\u662f\u8cc7\u6599\u7d50\u69cb\uff0c\u4e0d\u5132\u5b58\u8cc7\u6599\uff0c\u800c\u662f\u5f9e\u4f86\u6e90 (\u5982 Collection, Array) \u53d6\u5f97\u8cc7\u6599\u4e26\u9032\u884c\u904b\u7b97\u3002</p>"},{"location":"java-class/module-11/#_2","title":"\u6838\u5fc3\u7279\u6027","text":"<ol> <li>\u4e0d\u5132\u5b58\u8cc7\u6599: Stream \u53ea\u662f\u8cc7\u6599\u7684\u642c\u904b\u5de5\u3002</li> <li>\u4e0d\u6539\u8b8a\u4f86\u6e90: \u64cd\u4f5c Stream \u4e0d\u6703\u4fee\u6539\u539f\u59cb\u8cc7\u6599\u4f86\u6e90\uff0c\u800c\u662f\u7522\u751f\u65b0\u7684\u7d50\u679c\u3002</li> <li>Lazy Evaluation (\u5ef6\u9072\u57f7\u884c): \u4e2d\u4ecb\u64cd\u4f5c (\u5982 filter, map) \u53ea\u6709\u5728\u7d42\u7aef\u64cd\u4f5c (\u5982 collect, forEach) \u88ab\u547c\u53eb\u6642\u624d\u6703\u771f\u6b63\u57f7\u884c\u3002\u9019\u80fd\u512a\u5316\u6548\u80fd\uff0c\u4f8b\u5982\u53ea\u8655\u7406\u9700\u8981\u7684\u5143\u7d20\u3002</li> <li>Internal Iteration (\u5167\u90e8\u8fed\u4ee3): \u7531 Stream API \u81ea\u52d5\u8655\u7406\u8fed\u4ee3\uff0c\u958b\u767c\u8005\u53ea\u9700\u95dc\u6ce8\u300c\u505a\u4ec0\u9ebc\u300d\u800c\u975e\u300c\u600e\u9ebc\u505a\u300d\u3002</li> </ol>"},{"location":"java-class/module-11/#stream","title":"\u5efa\u7acb Stream","text":"CreateStreams.java<pre><code>// 1. \u5f9e Collection \u5efa\u7acb\nList&lt;String&gt; list = List.of(\"A\", \"B\", \"C\");\nlist.stream().forEach(System.out::println);\n\n// 2. \u5f9e Array \u5efa\u7acb\nString[] array = {\"X\", \"Y\", \"Z\"};\nArrays.stream(array).forEach(System.out::println);\n\n// 3. \u4f7f\u7528 Stream.of\nStream.of(1, 2, 3).forEach(System.out::println);\n\n// 4. \u7522\u751f\u7121\u9650\u4e32\u6d41 (\u9700\u642d\u914d limit)\nStream.generate(Math::random).limit(5).forEach(System.out::println);\n</code></pre>"},{"location":"java-class/module-11/#2-stream","title":"2. Stream \u64cd\u4f5c","text":"<p>Stream \u64cd\u4f5c\u5206\u70ba\u5169\u985e\uff1a -   Intermediate Operations (\u4e2d\u4ecb\u64cd\u4f5c): \u56de\u50b3 Stream\uff0c\u53ef\u4e32\u63a5 (Chaining)\u3002 -   Terminal Operations (\u7d42\u7aef\u64cd\u4f5c): \u56de\u50b3\u7d50\u679c\u6216 void\uff0c\u89f8\u767c\u7ba1\u7dda\u57f7\u884c\u3002</p>"},{"location":"java-class/module-11/#21","title":"2.1 \u5e38\u7528\u4e2d\u4ecb\u64cd\u4f5c","text":"<ul> <li><code>filter(Predicate&lt;T&gt;)</code>: \u4fdd\u7559\u7b26\u5408\u689d\u4ef6\u7684\u5143\u7d20\u3002</li> <li><code>map(Function&lt;T, R&gt;)</code>: \u5c07\u5143\u7d20\u8f49\u63db\u70ba\u53e6\u4e00\u7a2e\u5f62\u5f0f\u3002</li> <li><code>flatMap(Function&lt;T, Stream&lt;R&gt;&gt;)</code>: \u5c07\u6bcf\u500b\u5143\u7d20\u8f49\u63db\u70ba Stream \u5f8c\u5408\u4f75 (\u6241\u5e73\u5316)\u3002</li> <li><code>distinct()</code>: \u53bb\u9664\u91cd\u8907\u5143\u7d20 (\u4f9d\u64da equals)\u3002</li> <li><code>sorted()</code>: \u6392\u5e8f (\u81ea\u7136\u6392\u5e8f\u6216\u4f9d Comparator)\u3002</li> <li><code>limit(long n)</code>: \u53d6\u524d n \u500b\u5143\u7d20\u3002</li> <li><code>skip(long n)</code>: \u8df3\u904e\u524d n \u500b\u5143\u7d20\u3002</li> </ul> PerformFiltering.java<pre><code>List&lt;Product&gt; menu = Product.getProducts();\n\nmenu.stream()\n    .filter(p -&gt; p.getPrice().compareTo(BigDecimal.TEN) &gt; 0) // \u50f9\u683c &gt; 10\n    .filter(p -&gt; !p.getName().startsWith(\"A\"))               // \u540d\u7a31\u4e0d\u4ee5 A \u958b\u982d\n    .map(Product::getName)                                   // \u53ea\u53d6\u540d\u7a31\n    .sorted()                                                // \u6392\u5e8f\n    .forEach(System.out::println);                           // \u5370\u51fa\n</code></pre>"},{"location":"java-class/module-11/#22-map-vs-flatmap","title":"2.2 map vs flatMap","text":"<ul> <li><code>map</code>: \u4e00\u5c0d\u4e00\u8f49\u63db (\u4f8b\u5982\uff1a\u5b57\u4e32 -&gt; \u9577\u5ea6)\u3002</li> <li><code>flatMap</code>: \u4e00\u5c0d\u591a\u8f49\u63db (\u4f8b\u5982\uff1a\u53e5\u5b50 -&gt; \u55ae\u5b57 Stream -&gt; \u5408\u4f75\u70ba\u55ae\u4e00 Stream)\u3002</li> </ul> Java<pre><code>List&lt;String&gt; sentences = List.of(\"Hello World\", \"Java Stream\");\n\n// map: \u56de\u50b3 List&lt;String[]&gt;\nsentences.stream()\n    .map(s -&gt; s.split(\" \"))\n    .forEach(arr -&gt; System.out.println(Arrays.toString(arr)));\n\n// flatMap: \u56de\u50b3 List&lt;String&gt; (\u6241\u5e73\u5316)\nsentences.stream()\n    .flatMap(s -&gt; Arrays.stream(s.split(\" \")))\n    .forEach(System.out::println); // Hello, World, Java, Stream\n</code></pre>"},{"location":"java-class/module-11/#23","title":"2.3 \u5e38\u7528\u7d42\u7aef\u64cd\u4f5c","text":"<ul> <li><code>forEach(Consumer&lt;T&gt;)</code>: \u5c0d\u6bcf\u500b\u5143\u7d20\u57f7\u884c\u52d5\u4f5c\u3002</li> <li><code>count()</code>: \u56de\u50b3\u5143\u7d20\u6578\u91cf\u3002</li> <li><code>collect(Collector)</code>: \u5c07\u7d50\u679c\u6536\u96c6\u70ba List, Set, Map \u7b49\u3002</li> <li><code>findFirst()</code>, <code>findAny()</code>: \u56de\u50b3 Optional\u3002 <li><code>anyMatch(Predicate)</code>, <code>allMatch(Predicate)</code>, <code>noneMatch(Predicate)</code>: \u56de\u50b3 boolean\u3002</li> <li><code>reduce(BinaryOperator)</code>: \u5c07\u6240\u6709\u5143\u7d20\u6b78\u7d0d\u70ba\u55ae\u4e00\u7d50\u679c\u3002</li>"},{"location":"java-class/module-11/#3-optional","title":"3. Optional \u985e\u5225","text":"<p><code>Optional&lt;T&gt;</code> \u662f\u4e00\u500b\u5bb9\u5668\u7269\u4ef6\uff0c\u53ef\u80fd\u5305\u542b\u6216\u4e0d\u5305\u542b\u975e null \u503c\u3002\u7528\u65bc\u907f\u514d <code>NullPointerException</code>\u3002</p> Java<pre><code>Optional&lt;Product&gt; result = menu.stream()\n    .filter(p -&gt; p.getName().equals(\"Tea\"))\n    .findFirst();\n\n// \u6b63\u78ba\u4f7f\u7528\u65b9\u5f0f\nresult.ifPresent(p -&gt; System.out.println(p.getPrice()));\n\n// \u53d6\u5f97\u503c\u6216\u9810\u8a2d\u503c\nProduct p = result.orElse(new Product(\"Default\", BigDecimal.ZERO));\n\n// \u62cb\u51fa\u4f8b\u5916\nProduct p2 = result.orElseThrow(() -&gt; new RuntimeException(\"Not found\"));\n</code></pre>"},{"location":"java-class/module-11/#4-collectors","title":"4. Collectors (\u6536\u96c6\u5668)","text":"<p><code>java.util.stream.Collectors</code> \u63d0\u4f9b\u4e86\u8c50\u5bcc\u7684\u6536\u96c6\u529f\u80fd\u3002</p> UsingBasicCollectors.java<pre><code>// \u8f49\u70ba List\nList&lt;String&gt; names = menu.stream().map(Product::getName).collect(Collectors.toList());\n\n// \u8f49\u70ba Set\nSet&lt;String&gt; uniqueNames = menu.stream().map(Product::getName).collect(Collectors.toSet());\n\n// \u8f49\u70ba Map (Key: Name, Value: Price)\nMap&lt;String, BigDecimal&gt; priceMap = menu.stream()\n    .collect(Collectors.toMap(Product::getName, Product::getPrice, (p1, p2) -&gt; p1)); // \u8655\u7406 Key \u91cd\u8907\n\n// \u5b57\u4e32\u9023\u63a5\nString allNames = menu.stream().map(Product::getName).collect(Collectors.joining(\", \"));\n</code></pre>"},{"location":"java-class/module-11/#grouping","title":"\u5206\u7d44 (Grouping)","text":"PerformGrouping.java<pre><code>// \u4f9d\u50f9\u683c\u5206\u7d44\nMap&lt;BigDecimal, List&lt;Product&gt;&gt; byPrice = menu.stream()\n    .collect(Collectors.groupingBy(Product::getPrice));\n\n// \u4f9d\u689d\u4ef6\u5206\u5340 (Partitioning) - Key \u70ba Boolean\nMap&lt;Boolean, List&lt;Product&gt;&gt; cheapFood = menu.stream()\n    .collect(Collectors.partitioningBy(p -&gt; p.getPrice().intValue() &lt; 5));\n</code></pre>"},{"location":"java-class/module-11/#5-parallel-streams","title":"5. \u5e73\u884c\u4e32\u6d41 (Parallel Streams)","text":"<p>\u4f7f\u7528 <code>parallelStream()</code> \u53ef\u4ee5\u5229\u7528\u591a\u6838\u5fc3 CPU \u52a0\u901f\u8655\u7406\u3002</p> <p>\u9069\u7528\u6642\u6a5f: -   \u8cc7\u6599\u91cf\u5f88\u5927\u3002 -   \u6bcf\u500b\u5143\u7d20\u7684\u8655\u7406\u5f88\u8017\u6642\u3002 -   \u64cd\u4f5c\u662f\u7121\u72c0\u614b (Stateless) \u4e14\u7121\u76f8\u4f9d\u6027 (Non-interfering)\u3002</p> <p>\u6ce8\u610f\u4e8b\u9805: -   \u5e73\u884c\u8655\u7406\u6709\u984d\u5916\u958b\u92b7 (\u5206\u5272\u8207\u5408\u4f75)\uff0c\u8cc7\u6599\u91cf\u5c0f\u53cd\u800c\u8b8a\u6162\u3002 -   \u907f\u514d\u5728\u5e73\u884c\u4e32\u6d41\u4e2d\u4f7f\u7528\u6703\u4fee\u6539\u5171\u4eab\u72c0\u614b\u7684\u64cd\u4f5c (Thread-safety issue)\u3002</p> ParallelStream.java<pre><code>double total = menu.parallelStream()\n    .mapToDouble(p -&gt; p.getPrice().doubleValue())\n    .sum();\n</code></pre>"},{"location":"java-class/module-11/#6","title":"6. \u7e3d\u7d50","text":"<ul> <li>Stream API \u63d0\u4f9b\u5ba3\u544a\u5f0f\u7684\u65b9\u5f0f\u8655\u7406\u8cc7\u6599\u96c6\u5408\u3002</li> <li>\u5584\u7528 <code>filter</code>, <code>map</code>, <code>collect</code> \u7d44\u5408\u51fa\u5f37\u5927\u7684\u8cc7\u6599\u8655\u7406\u7ba1\u7dda\u3002</li> <li><code>Optional</code> \u5e6b\u52a9\u512a\u96c5\u5730\u8655\u7406\u7a7a\u503c\u3002</li> <li><code>Collectors</code> \u63d0\u4f9b\u5f37\u5927\u7684\u8cc7\u6599\u6536\u96c6\u8207\u7d71\u8a08\u529f\u80fd\u3002</li> </ul>"},{"location":"java-class/module-11/#7","title":"7. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u7d66\u5b9a\u4e00\u500b\u5b57\u4e32 List\uff0c\u627e\u51fa\u6240\u6709\u9577\u5ea6\u5927\u65bc 5 \u7684\u5b57\u4e32\uff0c\u8f49\u70ba\u5927\u5beb\uff0c\u4e26\u6392\u5e8f\u3002</li> <li>\u8a08\u7b97\u6240\u6709\u7522\u54c1\u7684\u7e3d\u50f9\u683c (\u4f7f\u7528 <code>reduce</code> \u6216 <code>mapToBigDecimal</code> \u642d\u914d <code>sum</code>)\u3002</li> <li>\u5c07\u7522\u54c1\u4f9d\u64da\u985e\u5225 (Category) \u5206\u7d44\uff0c\u4e26\u8a08\u7b97\u6bcf\u4e00\u7d44\u7684\u5e73\u5747\u50f9\u683c\u3002</li> </ol>"},{"location":"java-class/module-12/","title":"Module 12: \u4f8b\u5916\u8655\u7406\u3001\u65e5\u8a8c\u8207\u9664\u932f (Exception Handling, Logging, and Debugging)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-12/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u5340\u5206 Checked Exception, Unchecked Exception \u8207 Error - \u4f7f\u7528 <code>try-catch-finally</code> \u8655\u7406\u4f8b\u5916 - \u4f7f\u7528 <code>try-with-resources</code> \u81ea\u52d5\u95dc\u9589\u8cc7\u6e90 - \u5efa\u7acb\u8207\u62cb\u51fa\u81ea\u8a02\u4f8b\u5916 - \u4f7f\u7528 Java Logging API \u8a18\u9304\u65e5\u8a8c - \u4f7f\u7528 Assertions \u9032\u884c\u7a0b\u5f0f\u78bc\u9a57\u8b49</p>"},{"location":"java-class/module-12/#1-exceptions","title":"1. \u4f8b\u5916 (Exceptions) \u6982\u89c0","text":"<p>\u4f8b\u5916\u662f\u7a0b\u5f0f\u57f7\u884c\u671f\u9593\u767c\u751f\u7684\u7570\u5e38\u4e8b\u4ef6\uff0c\u6703\u4e2d\u65b7\u6b63\u5e38\u7684\u6307\u4ee4\u6d41\u7a0b\u3002Java \u7684\u4f8b\u5916\u968e\u5c64\u5982\u4e0b\uff1a</p> <ul> <li>Throwable (\u6240\u6709\u932f\u8aa4\u8207\u4f8b\u5916\u7684\u7236\u985e\u5225)<ul> <li>Error: \u56b4\u91cd\u7684\u7cfb\u7d71\u932f\u8aa4\uff0c\u901a\u5e38\u7121\u6cd5\u5fa9\u539f (e.g., <code>OutOfMemoryError</code>, <code>StackOverflowError</code>)\u3002</li> <li>Exception: \u7a0b\u5f0f\u53ef\u4ee5\u8655\u7406\u7684\u7570\u5e38\u72c0\u6cc1\u3002<ul> <li>RuntimeException: \u7a0b\u5f0f\u908f\u8f2f\u932f\u8aa4 (e.g., <code>NullPointerException</code>)\u3002</li> </ul> </li> </ul> </li> </ul>"},{"location":"java-class/module-12/#checked-vs-unchecked-exceptions","title":"Checked vs Unchecked Exceptions","text":"\u7279\u6027 Checked Exceptions (\u53d7\u6aa2\u4f8b\u5916) Unchecked Exceptions (\u975e\u53d7\u6aa2\u4f8b\u5916) \u7e7c\u627f\u81ea <code>Exception</code> (\u4f46\u4e0d\u542b <code>RuntimeException</code>) <code>RuntimeException</code> \u7de8\u8b6f\u5668\u6aa2\u67e5 \u662f (\u5fc5\u9808\u8655\u7406) \u5426 (\u9078\u64c7\u6027\u8655\u7406) \u4ee3\u8868\u610f\u7fa9 \u5916\u90e8\u74b0\u5883\u5c0e\u81f4\u7684\u932f\u8aa4 (\u5982\u6a94\u6848\u907a\u5931\u3001\u7db2\u8def\u65b7\u7dda) \u7a0b\u5f0f\u908f\u8f2f\u932f\u8aa4 (Bug) \u8655\u7406\u65b9\u5f0f <code>try-catch</code> \u6216 <code>throws</code> \u4fee\u6b63\u7a0b\u5f0f\u78bc\u908f\u8f2f \u7bc4\u4f8b <code>IOException</code>, <code>SQLException</code> <code>NullPointerException</code>, <code>ArithmeticException</code>"},{"location":"java-class/module-12/#2","title":"2. \u8655\u7406\u4f8b\u5916","text":"<p>\u4f7f\u7528 <code>try-catch-finally</code> \u5340\u584a\u4f86\u6355\u6349\u4e26\u8655\u7406\u4f8b\u5916\u3002</p> HandlingExceptions.java<pre><code>BufferedReader in = null;\ntry {\n    // \u53ef\u80fd\u62cb\u51fa\u4f8b\u5916\u7684\u7a0b\u5f0f\u78bc\n    in = new BufferedReader(new FileReader(\"data.txt\"));\n    String line = in.readLine();\n} catch (FileNotFoundException e) {\n    // \u8655\u7406\u7279\u5b9a\u4f8b\u5916\n    System.err.println(\"\u6a94\u6848\u627e\u4e0d\u5230: \" + e.getMessage());\n} catch (IOException e) {\n    // \u8655\u7406\u5176\u4ed6 IO \u4f8b\u5916\n    System.err.println(\"\u8b80\u53d6\u932f\u8aa4: \" + e.getMessage());\n} finally {\n    // \u7121\u8ad6\u662f\u5426\u767c\u751f\u4f8b\u5916\uff0c\u90fd\u6703\u57f7\u884c\u7684\u5340\u584a (\u901a\u5e38\u7528\u65bc\u91cb\u653e\u8cc7\u6e90)\n    if (in != null) {\n        try {\n            in.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>"},{"location":"java-class/module-12/#try-with-resources","title":"Try-with-Resources (\u81ea\u52d5\u8cc7\u6e90\u7ba1\u7406)","text":"<p>Java 7 \u5f15\u5165\uff0c\u91dd\u5c0d\u5be6\u4f5c <code>AutoCloseable</code> \u4ecb\u9762\u7684\u8cc7\u6e90 (\u5982 IO Stream, JDBC Connection)\uff0c\u7d50\u675f\u6642\u6703\u81ea\u52d5\u547c\u53eb <code>close()</code>\u3002</p> ResourceAutoClosure.java<pre><code>// \u8cc7\u6e90\u5ba3\u544a\u5728 try(...) \u4e2d\ntry (BufferedReader in = new BufferedReader(new FileReader(\"data.txt\"));\n     PrintWriter out = new PrintWriter(new FileWriter(\"output.txt\"))) {\n\n    String line = in.readLine();\n    out.println(line);\n    // \u96e2\u958b\u5340\u584a\u6642\uff0cin \u548c out \u6703\u81ea\u52d5\u95dc\u9589\n\n} catch (IOException e) {\n    System.err.println(\"IO Error: \" + e.getMessage());\n}\n</code></pre>"},{"location":"java-class/module-12/#3","title":"3. \u62cb\u51fa\u8207\u81ea\u8a02\u4f8b\u5916","text":"<p>\u4f7f\u7528 <code>throw</code> \u95dc\u9375\u5b57\u62cb\u51fa\u4f8b\u5916\u3002\u82e5\u62cb\u51fa Checked Exception\uff0c\u65b9\u6cd5\u5fc5\u9808\u5ba3\u544a <code>throws</code>\u3002</p>"},{"location":"java-class/module-12/#_2","title":"\u62cb\u51fa\u4f8b\u5916","text":"Java<pre><code>public void readFile(String filename) throws IOException {\n    if (filename == null) {\n        throw new IllegalArgumentException(\"Filename cannot be null\"); // Unchecked\n    }\n    File f = new File(filename);\n    if (!f.exists()) {\n        throw new FileNotFoundException(\"File not found: \" + filename); // Checked\n    }\n}\n</code></pre>"},{"location":"java-class/module-12/#_3","title":"\u81ea\u8a02\u4f8b\u5916","text":"CustomException.java<pre><code>// \u81ea\u8a02 Checked Exception\npublic class InvalidOrderException extends Exception {\n    public InvalidOrderException(String message) {\n        super(message);\n    }\n}\n\n// \u81ea\u8a02 Unchecked Exception\npublic class ProductNotFoundException extends RuntimeException {\n    public ProductNotFoundException(String id) {\n        super(\"Product with ID \" + id + \" not found\");\n    }\n}\n</code></pre>"},{"location":"java-class/module-12/#4-java-logging-api","title":"4. Java Logging API","text":"<p>\u4f7f\u7528 <code>java.util.logging</code> \u8a18\u9304\u7a0b\u5f0f\u57f7\u884c\u8cc7\u8a0a\uff0c\u6bd4 <code>System.out.println</code> \u66f4\u5177\u5f48\u6027\u8207\u6548\u80fd\u3002</p> <ul> <li>Logger: \u8a18\u9304\u5668\u3002</li> <li>Level: \u56b4\u91cd\u7a0b\u5ea6 (SEVERE &gt; WARNING &gt; INFO &gt; CONFIG &gt; FINE &gt; FINER &gt; FINEST)\u3002</li> <li>Handler: \u8f38\u51fa\u76ee\u7684\u5730 (Console, File, Socket)\u3002</li> </ul> Java<pre><code>import java.util.logging.*;\n\npublic class LoggingDemo {\n    private static final Logger logger = Logger.getLogger(LoggingDemo.class.getName());\n\n    public static void main(String[] args) {\n        logger.info(\"Application started\");\n\n        try {\n            int result = 10 / 0;\n        } catch (ArithmeticException e) {\n            // \u8a18\u9304\u4f8b\u5916\u5806\u758a\n            logger.log(Level.SEVERE, \"Calculation error\", e);\n        }\n    }\n}\n</code></pre>"},{"location":"java-class/module-12/#5-assertions","title":"5. Assertions (\u65b7\u8a00)","text":"<p>\u7528\u65bc\u958b\u767c\u8207\u6e2c\u8a66\u968e\u6bb5\uff0c\u9a57\u8b49\u7a0b\u5f0f\u7684\u5047\u8a2d\u662f\u5426\u6210\u7acb\u3002 -   \u8a9e\u6cd5: <code>assert condition : message;</code> -   \u57f7\u884c\u6642\u9700\u52a0\u4e0a <code>-ea</code> (Enable Assertions) \u53c3\u6578\u624d\u6703\u751f\u6548\u3002</p> <p>Java<pre><code>public void setDiscount(double discount) {\n    // \u5047\u8a2d\u6298\u6263\u5fc5\u9808\u5728 0 \u5230 1 \u4e4b\u9593\n    assert discount &gt;= 0 &amp;&amp; discount &lt;= 1 : \"Discount must be between 0 and 1\";\n\n    this.discount = discount;\n}\n</code></pre> \u6ce8\u610f: \u4e0d\u8981\u7528 Assertions \u6aa2\u67e5 public \u65b9\u6cd5\u7684\u53c3\u6578 (\u61c9\u4f7f\u7528 <code>IllegalArgumentException</code>)\uff0c\u56e0\u70ba Assertions \u5728\u751f\u7522\u74b0\u5883\u901a\u5e38\u6703\u88ab\u95dc\u9589\u3002</p>"},{"location":"java-class/module-12/#6-best-practices","title":"6. \u6700\u4f73\u5be6\u52d9 (Best Practices)","text":"<ol> <li>\u4e0d\u8981\u541e\u6389\u4f8b\u5916 (Swallowing Exceptions): <code>catch</code> \u5340\u584a\u4e2d\u81f3\u5c11\u8981\u8a18\u9304 Log\uff0c\u4e0d\u8981\u7559\u7a7a\u3002</li> <li>\u4f7f\u7528\u5177\u9ad4\u7684\u4f8b\u5916: \u76e1\u91cf\u6355\u6349\u7279\u5b9a\u7684\u4f8b\u5916 (\u5982 <code>FileNotFoundException</code>) \u800c\u975e\u901a\u7528\u7684 <code>Exception</code>\u3002</li> <li>Fail Fast: \u5118\u65e9\u6aa2\u67e5\u932f\u8aa4 (\u5982\u53c3\u6578\u9a57\u8b49) \u4e26\u62cb\u51fa\u4f8b\u5916\u3002</li> <li>\u4fdd\u7559\u539f\u59cb\u4f8b\u5916: \u5305\u88dd\u4f8b\u5916\u6642 (Wrapping Exception)\uff0c\u8a18\u5f97\u5c07\u539f\u59cb\u4f8b\u5916\u50b3\u5165\u5efa\u69cb\u5b50\uff0c\u4ee5\u514d\u907a\u5931 Stack Trace\u3002</li> </ol>"},{"location":"java-class/module-12/#7","title":"7. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u64b0\u5beb\u4e00\u500b\u8b80\u53d6\u6a94\u6848\u7684\u7a0b\u5f0f\uff0c\u4f7f\u7528 <code>try-with-resources</code> \u78ba\u4fdd\u6a94\u6848\u95dc\u9589\uff0c\u4e26\u6355\u6349 <code>FileNotFoundException</code>\u3002</li> <li>\u5efa\u7acb\u4e00\u500b <code>BankAccount</code> \u985e\u5225\uff0c\u7576\u63d0\u6b3e\u91d1\u984d\u5927\u65bc\u9918\u984d\u6642\uff0c\u62cb\u51fa\u81ea\u8a02\u7684 <code>InsufficientFundsException</code> (Checked Exception)\u3002</li> <li>\u4fee\u6539\u4e0a\u8ff0\u7a0b\u5f0f\uff0c\u52a0\u5165 Logger \u8a18\u9304\u4ea4\u6613\u8cc7\u8a0a\u8207\u932f\u8aa4\u3002</li> </ol>"},{"location":"java-class/module-13/","title":"Module 13: Java IO \u8207 NIO.2 (Java IO and NIO.2)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-13/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3 Java IO \u4e32\u6d41 (Stream) \u7684\u6982\u5ff5 - \u4f7f\u7528 Byte Streams \u8207 Character Streams \u8b80\u5beb\u6a94\u6848 - \u4f7f\u7528 <code>try-with-resources</code> \u5b89\u5168\u5730\u95dc\u9589\u8cc7\u6e90 - \u5be6\u4f5c\u7269\u4ef6\u5e8f\u5217\u5316 (Serialization) - \u4f7f\u7528 NIO.2 (<code>Path</code>, <code>Files</code>) \u9032\u884c\u73fe\u4ee3\u5316\u7684\u6a94\u6848\u7cfb\u7d71\u64cd\u4f5c</p>"},{"location":"java-class/module-13/#1-java-io","title":"1. Java IO \u6982\u89c0","text":"<p>Java IO (Input/Output) \u4f7f\u7528 Stream (\u4e32\u6d41) \u7684\u6982\u5ff5\u4f86\u50b3\u8f38\u8cc7\u6599\u3002\u4e32\u6d41\u662f\u55ae\u5411\u7684\u8cc7\u6599\u901a\u9053\u3002</p>"},{"location":"java-class/module-13/#_2","title":"\u5169\u5927\u985e\u5225","text":"<ol> <li> <p>Byte Streams (\u4f4d\u5143\u7d44\u4e32\u6d41):</p> <ul> <li>\u8655\u7406 8-bit \u4f4d\u5143\u7d44\u8cc7\u6599 (\u5982\u5716\u7247\u3001\u5f71\u7247\u3001\u57f7\u884c\u6a94)\u3002</li> <li>\u57fa\u790e\u985e\u5225: <code>InputStream</code>, <code>OutputStream</code>\u3002</li> <li>\u5be6\u4f5c\u985e\u5225: <code>FileInputStream</code>, <code>FileOutputStream</code>, <code>BufferedInputStream</code>, <code>BufferedOutputStream</code>\u3002</li> </ul> </li> <li> <p>Character Streams (\u5b57\u5143\u4e32\u6d41):</p> <ul> <li>\u8655\u7406 16-bit Unicode \u5b57\u5143\u8cc7\u6599 (\u5982\u6587\u5b57\u6a94)\u3002</li> <li>\u81ea\u52d5\u8655\u7406\u5b57\u5143\u7de8\u78bc (Encoding)\u3002</li> <li>\u57fa\u790e\u985e\u5225: <code>Reader</code>, <code>Writer</code>\u3002</li> <li>\u5be6\u4f5c\u985e\u5225: <code>FileReader</code>, <code>FileWriter</code>, <code>BufferedReader</code>, <code>BufferedWriter</code>\u3002</li> </ul> </li> </ol>"},{"location":"java-class/module-13/#2","title":"2. \u6a94\u6848\u8b80\u5beb\u64cd\u4f5c","text":""},{"location":"java-class/module-13/#21-character-stream","title":"2.1 \u8b80\u5beb\u6587\u5b57\u6a94 (Character Stream)","text":"<p>\u5efa\u8b70\u4f7f\u7528 <code>BufferedReader</code> \u8207 <code>BufferedWriter</code> \u4ee5\u7372\u5f97\u8f03\u4f73\u6548\u80fd\uff0c\u4e26\u4f7f\u7528 <code>try-with-resources</code> \u81ea\u52d5\u95dc\u9589\u8cc7\u6e90\u3002</p> BasicCharacter.java<pre><code>// \u8b80\u53d6\u6a94\u6848\u4e26\u5beb\u5165\u53e6\u4e00\u500b\u6a94\u6848\ntry (BufferedReader in = new BufferedReader(new FileReader(\"input.txt\"));\n     BufferedWriter out = new BufferedWriter(new FileWriter(\"output.txt\"))) {\n\n    String line;\n    while ((line = in.readLine()) != null) { // \u4e00\u6b21\u8b80\u53d6\u4e00\u884c\n        out.write(line);\n        out.newLine(); // \u5beb\u5165\u63db\u884c\u7b26\u865f\n    }\n    System.out.println(\"File copied successfully.\");\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>"},{"location":"java-class/module-13/#22-byte-stream","title":"2.2 \u8b80\u5beb\u4e8c\u9032\u4f4d\u6a94 (Byte Stream)","text":"BasicBinary.java<pre><code>try (InputStream in = new FileInputStream(\"image.jpg\");\n     OutputStream out = new FileOutputStream(\"copy.jpg\")) {\n\n    byte[] buffer = new byte[1024]; // \u7de9\u885d\u5340\n    int length;\n    while ((length = in.read(buffer)) != -1) { // \u8b80\u53d6\u8cc7\u6599\u5230 buffer\n        out.write(buffer, 0, length); // \u5c07 buffer \u8cc7\u6599\u5beb\u5165\n    }\n\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>"},{"location":"java-class/module-13/#3-object-serialization","title":"3. \u7269\u4ef6\u5e8f\u5217\u5316 (Object Serialization)","text":"<p>\u5e8f\u5217\u5316\u662f\u5c07\u7269\u4ef6\u72c0\u614b\u8f49\u63db\u70ba\u4f4d\u5143\u7d44\u4e32\u6d41\u7684\u904e\u7a0b\uff0c\u4ee5\u4fbf\u5132\u5b58\u5230\u6a94\u6848\u6216\u900f\u904e\u7db2\u8def\u50b3\u8f38\u3002\u53cd\u5e8f\u5217\u5316\u5247\u662f\u76f8\u53cd\u7684\u904e\u7a0b\u3002</p> <ul> <li>\u985e\u5225\u5fc5\u9808\u5be6\u4f5c <code>java.io.Serializable</code> \u4ecb\u9762 (\u6a19\u8a18\u4ecb\u9762\uff0c\u7121\u65b9\u6cd5)\u3002</li> <li>\u4f7f\u7528 <code>ObjectOutputStream</code> \u5beb\u5165\uff0c<code>ObjectInputStream</code> \u8b80\u53d6\u3002</li> <li>\u4f7f\u7528 <code>transient</code> \u95dc\u9375\u5b57\u6a19\u793a**\u4e0d\u53c3\u8207\u5e8f\u5217\u5316**\u7684\u654f\u611f\u6216\u66ab\u6642\u6027\u6b04\u4f4d\u3002</li> </ul> ObjectSerialization.java<pre><code>// \u5b9a\u7fa9\u53ef\u5e8f\u5217\u5316\u985e\u5225\nclass Product implements Serializable {\n    private String name;\n    private transient double tempValue; // \u4e0d\u6703\u88ab\u5e8f\u5217\u5316\n    // ...\n}\n\n// \u5e8f\u5217\u5316\ntry (ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream(\"product.ser\"))) {\n    Product p = new Product(\"Laptop\", 1000);\n    out.writeObject(p);\n}\n\n// \u53cd\u5e8f\u5217\u5316\ntry (ObjectInputStream in = new ObjectInputStream(new FileInputStream(\"product.ser\"))) {\n    Product p = (Product) in.readObject();\n}\n</code></pre>"},{"location":"java-class/module-13/#4-nio2-new-io-2","title":"4. NIO.2 (New IO 2)","text":"<p>Java 7 \u5f15\u5165 (<code>java.nio.file</code>)\uff0c\u63d0\u4f9b\u66f4\u73fe\u4ee3\u3001\u66f4\u5f37\u5927\u7684\u6a94\u6848\u7cfb\u7d71\u64cd\u4f5c API\uff0c\u4e3b\u8981\u7531 <code>Path</code> \u8207 <code>Files</code> \u7d44\u6210\u3002</p>"},{"location":"java-class/module-13/#41-path","title":"4.1 Path (\u8def\u5f91)","text":"<p>\u53d6\u4ee3\u820a\u6709\u7684 <code>java.io.File</code>\uff0c\u4ee3\u8868\u6a94\u6848\u7cfb\u7d71\u4e2d\u7684\u8def\u5f91\u3002</p> ConstructingFilesystemPaths.java<pre><code>// \u5efa\u7acb Path\nPath p1 = Path.of(\"C:\", \"Users\", \"Admin\", \"Documents\");\nPath p2 = Paths.get(\"C:/Users/Admin/Documents\");\n\n// \u8def\u5f91\u64cd\u4f5c\nSystem.out.println(p1.getFileName()); // Documents\nSystem.out.println(p1.getParent());   // C:\\Users\\Admin\nSystem.out.println(p1.resolve(\"report.txt\")); // C:\\Users\\Admin\\Documents\\report.txt\n</code></pre>"},{"location":"java-class/module-13/#42-files","title":"4.2 Files (\u6a94\u6848\u64cd\u4f5c)","text":"<p>\u63d0\u4f9b\u5927\u91cf\u975c\u614b\u65b9\u6cd5\u4f86\u64cd\u4f5c\u6a94\u6848\u8207\u76ee\u9304\u3002</p> CopyAndMove.java<pre><code>Path source = Path.of(\"source.txt\");\nPath target = Path.of(\"target.txt\");\n\n// \u6aa2\u67e5\u5b58\u5728\nboolean exists = Files.exists(source);\n\n// \u8907\u88fd (\u82e5\u5b58\u5728\u5247\u8986\u84cb)\nFiles.copy(source, target, StandardCopyOption.REPLACE_EXISTING);\n\n// \u79fb\u52d5\nFiles.move(source, target, StandardCopyOption.ATOMIC_MOVE);\n\n// \u522a\u9664\nFiles.deleteIfExists(target);\n\n// \u8b80\u53d6\u6240\u6709\u884c (\u9069\u7528\u65bc\u5c0f\u6a94\u6848)\nList&lt;String&gt; lines = Files.readAllLines(source);\n\n// \u5beb\u5165\u5b57\u4e32\nFiles.writeString(target, \"Hello NIO.2\", StandardOpenOption.CREATE);\n</code></pre>"},{"location":"java-class/module-13/#43","title":"4.3 \u8d70\u8a2a\u76ee\u9304","text":"<p>\u4f7f\u7528 <code>Files.walk()</code> \u6216 <code>Files.find()</code> \u7522\u751f Stream \u4f86\u8655\u7406\u76ee\u9304\u7d50\u69cb\u3002</p> NavigatingTheFilesystem.java<pre><code>Path start = Path.of(\".\");\n\ntry (Stream&lt;Path&gt; stream = Files.walk(start, 5)) { // \u6df1\u5ea6\u70ba 5\n    stream.filter(p -&gt; p.toString().endsWith(\".java\"))\n          .forEach(System.out::println);\n}\n</code></pre>"},{"location":"java-class/module-13/#5","title":"5. \u7e3d\u7d50","text":"<ul> <li>IO Stream: \u5206\u70ba Byte Stream (<code>InputStream</code>/<code>OutputStream</code>) \u8207 Character Stream (<code>Reader</code>/<code>Writer</code>)\u3002</li> <li>Serialization: \u5be6\u4f5c <code>Serializable</code> \u4ecb\u9762\u53ef\u8b93\u7269\u4ef6\u6301\u4e45\u5316\u3002</li> <li>NIO.2: \u4f7f\u7528 <code>Path</code> \u8207 <code>Files</code> \u985e\u5225\u9032\u884c\u66f4\u76f4\u89c0\u3001\u9ad8\u6548\u7684\u6a94\u6848\u64cd\u4f5c\uff0c\u662f\u73fe\u4ee3 Java \u6a94\u6848\u8655\u7406\u7684\u9996\u9078\u3002</li> </ul>"},{"location":"java-class/module-13/#6","title":"6. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u64b0\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u4f7f\u7528 <code>Files.readAllLines</code> \u8b80\u53d6\u6587\u5b57\u6a94\uff0c\u5c07\u6bcf\u4e00\u884c\u53cd\u8f49\u5f8c\uff0c\u5beb\u5165\u65b0\u6a94\u6848\u3002</li> <li>\u4f7f\u7528 <code>Files.walk</code> \u627e\u51fa\u6307\u5b9a\u76ee\u9304\u4e0b\u6240\u6709\u5927\u65bc 1MB \u7684\u6a94\u6848\u3002</li> <li>\u5efa\u7acb\u4e00\u500b <code>User</code> \u985e\u5225 (\u5305\u542b\u5e33\u865f\u3001\u5bc6\u78bc)\uff0c\u5be6\u4f5c\u5e8f\u5217\u5316\uff0c\u5c07\u7269\u4ef6\u5b58\u6a94\u5f8c\u518d\u8b80\u56de\uff0c\u4e26\u9a57\u8b49 <code>transient</code> \u5bc6\u78bc\u6b04\u4f4d\u662f\u5426\u70ba null\u3002</li> </ol>"},{"location":"java-class/module-14/","title":"Module 14: Java \u4e26\u884c\u8655\u7406\u8207\u591a\u57f7\u884c\u7dd2 (Concurrency and Multithreading)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-14/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3\u4e26\u884c (Concurrency) \u8207\u5e73\u884c (Parallelism) \u7684\u5340\u5225 - \u7ba1\u7406\u57f7\u884c\u7dd2\u751f\u547d\u9031\u671f (Thread Lifecycle) - \u4f7f\u7528 <code>synchronized</code> \u8207 <code>Lock</code> \u78ba\u4fdd\u57f7\u884c\u7dd2\u5b89\u5168 - \u4f7f\u7528 <code>Executors</code> \u6846\u67b6\u7ba1\u7406\u57f7\u884c\u7dd2\u6c60 - \u7406\u89e3\u4e26\u4f7f\u7528 Java 21 \u7684\u865b\u64ec\u57f7\u884c\u7dd2 (Virtual Threads)</p>"},{"location":"java-class/module-14/#1","title":"1. \u57f7\u884c\u7dd2\u57fa\u790e","text":"<ul> <li>Process (\u884c\u7a0b): \u4f5c\u696d\u7cfb\u7d71\u5206\u914d\u8cc7\u6e90\u7684\u55ae\u4f4d\uff0c\u64c1\u6709\u7368\u7acb\u7684\u8a18\u61b6\u9ad4\u7a7a\u9593\u3002</li> <li>Thread (\u57f7\u884c\u7dd2): CPU \u57f7\u884c\u7684\u55ae\u4f4d\uff0c\u540c\u4e00\u884c\u7a0b\u5167\u7684\u57f7\u884c\u7dd2\u5171\u4eab\u8a18\u61b6\u9ad4\u3002</li> </ul>"},{"location":"java-class/module-14/#_2","title":"\u5efa\u7acb\u57f7\u884c\u7dd2","text":"<p>Java \u900f\u904e <code>java.lang.Thread</code> \u985e\u5225\u8207 <code>java.lang.Runnable</code> \u4ecb\u9762\u4f86\u5be6\u4f5c\u3002</p> Test.java<pre><code>// \u5b9a\u7fa9\u4efb\u52d9 (Runnable)\nRunnable task = () -&gt; {\n    String name = Thread.currentThread().getName();\n    System.out.println(name + \" is running\");\n};\n\n// \u5efa\u7acb\u4e26\u555f\u52d5\u57f7\u884c\u7dd2\nThread t1 = new Thread(task, \"Worker-1\");\nt1.start(); // \u5fc5\u9808\u547c\u53eb start() \u624d\u6703\u555f\u52d5\u65b0\u57f7\u884c\u7dd2\uff0c\u547c\u53eb run() \u53ea\u662f\u5728\u7576\u524d\u57f7\u884c\u7dd2\u57f7\u884c\n</code></pre>"},{"location":"java-class/module-14/#2-thread-safety","title":"2. \u57f7\u884c\u7dd2\u5b89\u5168 (Thread Safety)","text":"<p>\u7576\u591a\u500b\u57f7\u884c\u7dd2\u540c\u6642\u5b58\u53d6\u4e26\u4fee\u6539\u5171\u4eab\u7684\u53ef\u8b8a\u8cc7\u6599\u6642\uff0c\u6703\u767c\u751f Race Condition (\u7af6\u722d\u689d\u4ef6)\uff0c\u5c0e\u81f4\u8cc7\u6599\u4e0d\u4e00\u81f4\u3002</p>"},{"location":"java-class/module-14/#_3","title":"\u89e3\u6c7a\u65b9\u6848","text":"<ol> <li>Synchronized (\u540c\u6b65): \u4f7f\u7528 Monitor Lock \u78ba\u4fdd\u4e92\u65a5\u5b58\u53d6\u3002</li> <li>Atomic Classes (\u539f\u5b50\u985e\u5225): \u4f7f\u7528 CAS (Compare-And-Swap) \u786c\u9ad4\u6307\u4ee4\uff0c\u975e\u963b\u585e\u4e14\u9ad8\u6548\u3002</li> <li>Volatile: \u78ba\u4fdd\u8b8a\u6578\u7684\u53ef\u898b\u6027 (Visibility)\uff0c\u4f46\u4e0d\u4fdd\u8b49\u539f\u5b50\u6027\u3002</li> </ol> EnsureExclusive.java<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n\nRunnable r = () -&gt; {\n    // \u4f7f\u7528 synchronized \u5340\u584a\u9396\u5b9a list \u7269\u4ef6\n    synchronized (list) {\n        list.add(Thread.currentThread().getName());\n    }\n};\n</code></pre> NonblockingAtomic.java<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\npublic class Shared {\n    // \u539f\u5b50\u6574\u6578\uff0c\u4fdd\u8b49\u57f7\u884c\u7dd2\u5b89\u5168\n    public AtomicInteger counter = new AtomicInteger(0);\n\n    public void increment() {\n        counter.incrementAndGet(); // \u539f\u5b50\u905e\u589e\n    }\n}\n</code></pre>"},{"location":"java-class/module-14/#3-executors","title":"3. Executors \u6846\u67b6","text":"<p>\u76f4\u63a5\u4f7f\u7528 <code>new Thread()</code> \u6210\u672c\u8f03\u9ad8\u4e14\u96e3\u4ee5\u7ba1\u7406\u3002\u5efa\u8b70\u4f7f\u7528 <code>ExecutorService</code> \u8207\u57f7\u884c\u7dd2\u6c60 (Thread Pool)\u3002</p> CreateExecutor.java<pre><code>// \u5efa\u7acb\u56fa\u5b9a\u5927\u5c0f\u7684\u57f7\u884c\u7dd2\u6c60 (3 \u500b\u57f7\u884c\u7dd2)\nExecutorService es = Executors.newFixedThreadPool(3);\n\n// \u63d0\u4ea4\u4efb\u52d9\nes.submit(() -&gt; System.out.println(\"Task 1\"));\nes.submit(() -&gt; System.out.println(\"Task 2\"));\n\n// \u95dc\u9589\u57f7\u884c\u7dd2\u6c60 (\u4e0d\u518d\u63a5\u6536\u65b0\u4efb\u52d9\uff0c\u7b49\u5f85\u5df2\u63d0\u4ea4\u4efb\u52d9\u5b8c\u6210)\nes.shutdown();\n</code></pre>"},{"location":"java-class/module-14/#_4","title":"\u6392\u7a0b\u57f7\u884c\u7dd2\u6c60","text":"Java<pre><code>ScheduledExecutorService ses = Executors.newScheduledThreadPool(1);\n\n// \u5ef6\u9072 1 \u79d2\u5f8c\u958b\u59cb\uff0c\u6bcf 5 \u79d2\u57f7\u884c\u4e00\u6b21\nses.scheduleAtFixedRate(() -&gt; System.out.println(\"Heartbeat\"), 1, 5, TimeUnit.SECONDS);\n</code></pre>"},{"location":"java-class/module-14/#4-virtual-threads-java-21","title":"4. \u865b\u64ec\u57f7\u884c\u7dd2 (Virtual Threads) - Java 21","text":"<p>Java 19 \u9810\u89bd\uff0cJava 21 \u6b63\u5f0f\u63a8\u51fa\u3002 -   Platform Thread (\u5e73\u53f0\u57f7\u884c\u7dd2): \u8207 OS \u57f7\u884c\u7dd2 1:1 \u5c0d\u61c9\uff0c\u6210\u672c\u9ad8\uff0c\u6578\u91cf\u53d7\u9650\u3002 -   Virtual Thread (\u865b\u64ec\u57f7\u884c\u7dd2): \u7531 JVM \u7ba1\u7406\uff0c\u6210\u672c\u6975\u4f4e\uff0c\u53ef\u4ee5\u5efa\u7acb\u6578\u767e\u842c\u500b\u3002\u9069\u5408\u9ad8\u4f75\u767c\u7684 IO \u5bc6\u96c6\u578b\u4efb\u52d9\u3002</p> Java<pre><code>// \u4f7f\u7528\u865b\u64ec\u57f7\u884c\u7dd2\u57f7\u884c\u4efb\u52d9\nThread.startVirtualThread(() -&gt; {\n    System.out.println(\"Running in virtual thread: \" + Thread.currentThread());\n});\n\n// \u4f7f\u7528\u865b\u64ec\u57f7\u884c\u7dd2\u6c60 (\u70ba\u6bcf\u500b\u4efb\u52d9\u5efa\u7acb\u4e00\u500b\u65b0\u7684\u865b\u64ec\u57f7\u884c\u7dd2)\ntry (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n    IntStream.range(0, 10_000).forEach(i -&gt; {\n        executor.submit(() -&gt; {\n            Thread.sleep(Duration.ofSeconds(1));\n            return i;\n        });\n    });\n} // try-with-resources \u6703\u81ea\u52d5\u7b49\u5f85\u6240\u6709\u4efb\u52d9\u5b8c\u6210 (Implicit join)\n</code></pre>"},{"location":"java-class/module-14/#5","title":"5. \u57f7\u884c\u7dd2\u751f\u547d\u9031\u671f","text":"<ul> <li>NEW: \u5efa\u7acb\u5f8c\u5c1a\u672a start\u3002</li> <li>RUNNABLE: \u57f7\u884c\u4e2d\u6216\u7b49\u5f85 CPU\u3002</li> <li>BLOCKED: \u7b49\u5f85\u9396 (synchronized)\u3002</li> <li>WAITING: \u7b49\u5f85\u8a0a\u865f (wait/join)\u3002</li> <li>TIMED_WAITING: \u7b49\u5f85\u7279\u5b9a\u6642\u9593 (sleep)\u3002</li> <li>TERMINATED: \u57f7\u884c\u7d50\u675f\u3002</li> </ul>"},{"location":"java-class/module-14/#6","title":"6. \u7e3d\u7d50","text":"<ul> <li>Thread Safety: \u512a\u5148\u4f7f\u7528 <code>java.util.concurrent</code> \u5957\u4ef6 (\u5982 <code>AtomicInteger</code>, <code>ConcurrentHashMap</code>)\uff0c\u5176\u6b21\u662f <code>synchronized</code>\u3002</li> <li>Executors: \u907f\u514d\u624b\u52d5\u5efa\u7acb Thread\uff0c\u61c9\u4f7f\u7528\u57f7\u884c\u7dd2\u6c60\u7ba1\u7406\u8cc7\u6e90\u3002</li> <li>Virtual Threads: Java 21 \u7684\u6bba\u624b\u7d1a\u529f\u80fd\uff0c\u5927\u5e45\u7c21\u5316\u9ad8\u4f75\u767c\u7a0b\u5f0f\u7684\u64b0\u5beb\uff0c\u7279\u5225\u662f IO \u5bc6\u96c6\u578b\u61c9\u7528\u3002</li> </ul>"},{"location":"java-class/module-14/#7","title":"7. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u64b0\u5beb\u4e00\u500b\u7a0b\u5f0f\uff0c\u4f7f\u7528\u5169\u500b\u57f7\u884c\u7dd2\u5206\u5225\u5217\u5370 1-100 \u7684\u5947\u6578\u8207\u5076\u6578\u3002</li> <li>\u4f7f\u7528 <code>ExecutorService</code> \u6a21\u64ec\u4e00\u500b\u4f3a\u670d\u5668\uff0c\u540c\u6642\u8655\u7406 10 \u500b\u5ba2\u6236\u7aef\u8acb\u6c42 (\u6bcf\u500b\u8acb\u6c42\u96a8\u6a5f sleep \u4e00\u6bb5\u6642\u9593)\u3002</li> <li>\u5617\u8a66\u4f7f\u7528 <code>Executors.newVirtualThreadPerTaskExecutor()</code> \u555f\u52d5 10 \u842c\u500b\u865b\u64ec\u57f7\u884c\u7dd2\uff0c\u89c0\u5bdf\u7cfb\u7d71\u8cc7\u6e90\u6d88\u8017\u8207\u57f7\u884c\u901f\u5ea6\u3002</li> </ol>"},{"location":"java-class/module-15/","title":"Module 15: \u6a21\u7d44\u8207\u90e8\u7f72 (Modules and Deployment)","text":"<p>Java SE 21 \u7a0b\u5f0f\u8a9e\u8a00\u8a2d\u8a08</p>"},{"location":"java-class/module-15/#_1","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u7ae0\u7bc0\u5f8c\uff0c\u60a8\u5c07\u80fd\u5920\uff1a - \u7406\u89e3 Java \u6a21\u7d44\u7cfb\u7d71 (JPMS) \u7684\u76ee\u7684\u8207\u512a\u52e2 - \u5efa\u7acb\u6a21\u7d44\u63cf\u8ff0\u6a94 (<code>module-info.java</code>) - \u5b9a\u7fa9\u6a21\u7d44\u9593\u7684\u4f9d\u8cf4 (<code>requires</code>) \u8207\u532f\u51fa (<code>exports</code>) - \u4f7f\u7528 <code>jlink</code> \u5efa\u7acb\u81ea\u8a02\u7684 Runtime Image - \u90e8\u7f72\u6a21\u7d44\u5316\u61c9\u7528\u7a0b\u5f0f</p>"},{"location":"java-class/module-15/#1-java-jpms","title":"1. Java \u6a21\u7d44\u7cfb\u7d71 (JPMS)","text":"<p>Java 9 \u5f15\u5165\u7684\u91cd\u5927\u8b8a\u9769\uff0c\u65e8\u5728\u89e3\u6c7a\uff1a 1.  Classpath Hell: \u985e\u5225\u8def\u5f91\u4e0a\u7684 JAR \u6a94\u4f9d\u8cf4\u95dc\u4fc2\u4e0d\u660e\u78ba\uff0c\u5bb9\u6613\u767c\u751f\u885d\u7a81\u6216\u7f3a\u6f0f\u3002 2.  Strong Encapsulation (\u5f37\u5c01\u88dd): \u50b3\u7d71 JAR \u6a94\u4e2d\u7684 <code>public</code> \u985e\u5225\u5c0d\u6240\u6709\u4eba\u90fd\u53ef\u898b\uff0c\u7121\u6cd5\u96b1\u85cf\u5167\u90e8\u5be6\u4f5c\u7d30\u7bc0\u3002 3.  Monolithic JDK: JDK \u904e\u65bc\u9f90\u5927\uff0c\u96e3\u4ee5\u5728\u5c0f\u578b\u88dd\u7f6e\u4e0a\u90e8\u7f72\u3002</p>"},{"location":"java-class/module-15/#_2","title":"\u6a21\u7d44\u5316\u5c08\u6848\u7d50\u69cb","text":"<p>\u6a21\u7d44\u5316\u5c08\u6848\u901a\u5e38\u4ee5\u6a21\u7d44\u540d\u7a31\u4f5c\u70ba\u76ee\u9304\u540d\u7a31\uff0c\u4e26\u5728\u6839\u76ee\u9304\u5305\u542b <code>module-info.java</code>\u3002</p> Text Only<pre><code>src/\n  com.example.app/\n    module-info.java\n    com/example/app/Main.java\n  com.example.util/\n    module-info.java\n    com/example/util/Helper.java\n</code></pre>"},{"location":"java-class/module-15/#2-module-infojava","title":"2. \u6a21\u7d44\u63cf\u8ff0\u6a94 (module-info.java)","text":"<p>\u9019\u662f\u6a21\u7d44\u7684\u6838\u5fc3\uff0c\u5b9a\u7fa9\u4e86\u6a21\u7d44\u7684\u540d\u7a31\u3001\u4f9d\u8cf4\u8207\u516c\u958b\u7684\u5957\u4ef6\u3002</p> Java<pre><code>module com.example.app {\n    // 1. \u4f9d\u8cf4\u5176\u4ed6\u6a21\u7d44\n    requires java.logging;          // JDK \u5167\u5efa\u6a21\u7d44\n    requires com.example.util;      // \u81ea\u8a02\u6a21\u7d44\n    requires transitive java.sql;   // \u50b3\u905e\u4f9d\u8cf4 (\u4f9d\u8cf4\u6211\u7684\u6a21\u7d44\u4e5f\u80fd\u770b\u5230 java.sql)\n\n    // 2. \u532f\u51fa\u5957\u4ef6 (\u4f9b\u5916\u90e8\u4f7f\u7528)\n    exports com.example.app.api;\n\n    // 3. \u9650\u5236\u532f\u51fa (\u53ea\u7d66\u7279\u5b9a\u6a21\u7d44\u4f7f\u7528)\n    exports com.example.app.internal to com.example.test;\n\n    // 4. \u958b\u653e Reflection \u5b58\u53d6 (\u57f7\u884c\u6642\u671f)\n    opens com.example.app.config;   // \u5141\u8a31 Reflection \u5b58\u53d6\u6b64\u5957\u4ef6 (\u5982 Spring/Hibernate \u9700\u8981)\n\n    // 5. \u670d\u52d9 (Service)\n    uses com.example.service.MyService; // \u5ba3\u544a\u4f7f\u7528\u670d\u52d9\n}\n</code></pre>"},{"location":"java-class/module-15/#3-services","title":"3. \u670d\u52d9 (Services)","text":"<p>\u900f\u904e <code>ServiceLoader</code> \u5be6\u73fe\u9b06\u6563\u8026\u5408 (Loose Coupling)\u3002\u6a21\u7d44\u53ea\u9700\u4f9d\u8cf4\u4ecb\u9762\uff0c\u5be6\u4f5c\u53ef\u4ee5\u5728\u57f7\u884c\u6642\u671f\u52d5\u614b\u8f09\u5165\u3002</p>"},{"location":"java-class/module-15/#_3","title":"\u5b9a\u7fa9\u670d\u52d9\u4ecb\u9762","text":"Java<pre><code>package com.example.service;\npublic interface PrintService {\n    void print(String msg);\n}\n</code></pre>"},{"location":"java-class/module-15/#provider","title":"\u63d0\u4f9b\u670d\u52d9\u5be6\u4f5c (Provider)","text":"Java<pre><code>module com.example.provider {\n    requires com.example.service;\n    provides com.example.service.PrintService with com.example.provider.ConsolePrintService;\n}\n</code></pre>"},{"location":"java-class/module-15/#consumer","title":"\u4f7f\u7528\u670d\u52d9 (Consumer)","text":"Java<pre><code>module com.example.consumer {\n    requires com.example.service;\n    uses com.example.service.PrintService;\n}\n\n// \u7a0b\u5f0f\u78bc\u4e2d\u4f7f\u7528\nServiceLoader&lt;PrintService&gt; loader = ServiceLoader.load(PrintService.class);\nloader.findFirst().ifPresent(s -&gt; s.print(\"Hello Modules\"));\n</code></pre>"},{"location":"java-class/module-15/#4-jlink","title":"4. \u90e8\u7f72\u8207 JLink","text":"<p><code>jlink</code> \u662f JDK \u63d0\u4f9b\u7684\u5de5\u5177\uff0c\u7528\u65bc\u5efa\u7acb\u81ea\u8a02\u7684 Java Runtime Image (JRE)\u3002\u5b83\u53ea\u6703\u5305\u542b\u61c9\u7528\u7a0b\u5f0f\u5be6\u969b\u9700\u8981\u7684\u6a21\u7d44\uff0c\u5927\u5e45\u7e2e\u6e1b\u90e8\u7f72\u9ad4\u7a4d\u3002</p>"},{"location":"java-class/module-15/#custom-runtime","title":"\u5efa\u7acb Custom Runtime","text":"Bash<pre><code># \u5047\u8a2d\u6a21\u7d44\u7de8\u8b6f\u5728 mods \u76ee\u9304\u4e0b\njlink --module-path $JAVA_HOME/jmods:mods \\\n      --add-modules com.example.app \\\n      --output my-custom-jre \\\n      --strip-debug \\\n      --compress 2 \\\n      --no-header-files \\\n      --no-man-pages\n</code></pre>"},{"location":"java-class/module-15/#_4","title":"\u57f7\u884c\u61c9\u7528\u7a0b\u5f0f","text":"<p>\u4f7f\u7528\u81ea\u8a02 JRE \u4e2d\u7684 <code>java</code> \u6307\u4ee4\u57f7\u884c\uff1a Bash<pre><code>./my-custom-jre/bin/java -m com.example.app/com.example.app.Main\n</code></pre></p>"},{"location":"java-class/module-15/#5-migration","title":"5. \u9077\u79fb\u81f3\u6a21\u7d44 (Migration)","text":"<p>\u73fe\u6709\u5c08\u6848\u9077\u79fb\u81f3\u6a21\u7d44\u5316\u7cfb\u7d71\u7684\u7b56\u7565\uff1a 1.  Bottom-up (\u7531\u4e0b\u800c\u4e0a): \u5148\u5c07\u5e95\u5c64\u4f9d\u8cf4\u5eab\u6a21\u7d44\u5316\uff0c\u518d\u8655\u7406\u4e0a\u5c64\u61c9\u7528\u3002 2.  Top-down (\u7531\u4e0a\u800c\u4e0b): \u4f7f\u7528 Automatic Modules (\u5c07\u4e00\u822c JAR \u653e\u5165 Module Path\uff0c\u540d\u7a31\u81ea\u52d5\u884d\u751f) \u66ab\u6642\u8655\u7406\u672a\u6a21\u7d44\u5316\u7684\u4f9d\u8cf4\u3002</p>"},{"location":"java-class/module-15/#6","title":"6. \u7e3d\u7d50","text":"<ul> <li>JPMS \u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u5c01\u88dd\u6027\u8207\u660e\u78ba\u7684\u4f9d\u8cf4\u7ba1\u7406\u3002</li> <li>module-info.java \u662f\u6a21\u7d44\u7684\u63cf\u8ff0\u6a94\u3002</li> <li>jlink \u53ef\u4ee5\u5efa\u7acb\u8f15\u91cf\u7d1a\u7684\u81ea\u8a02 JRE\uff0c\u9069\u5408\u96f2\u7aef\u8207\u5bb9\u5668\u5316\u90e8\u7f72\u3002</li> </ul>"},{"location":"java-class/module-15/#7","title":"7. \u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5efa\u7acb\u5169\u500b\u6a21\u7d44\uff1a<code>com.greetings</code> (\u5305\u542b\u4e00\u500b\u5370\u51fa Hello \u7684\u985e\u5225) \u8207 <code>com.hello</code> (\u4f9d\u8cf4 <code>com.greetings</code> \u4e26\u547c\u53eb\u5176\u65b9\u6cd5)\u3002</li> <li>\u5617\u8a66\u4f7f\u7528 <code>jlink</code> \u70ba\u4e0a\u8ff0\u61c9\u7528\u7a0b\u5f0f\u5efa\u7acb\u4e00\u500b\u6700\u5c0f\u5316\u7684 Runtime Image\uff0c\u4e26\u89c0\u5bdf\u5176\u6a94\u6848\u5927\u5c0f\u3002</li> <li>\u5b9a\u7fa9\u4e00\u500b\u670d\u52d9\u4ecb\u9762\uff0c\u4e26\u5efa\u7acb\u5169\u500b\u4e0d\u540c\u7684\u5be6\u4f5c\u6a21\u7d44\uff0c\u4f7f\u7528 <code>ServiceLoader</code> \u5207\u63db\u5be6\u4f5c\u3002</li> </ol>"},{"location":"langchain/notebooks/01-langchain-basics/","title":"\u7df4\u7fd2 01 - LangChain \u57fa\u790e","text":"In\u00a0[\u00a0]: Copied! <pre># \u5b89\u88dd LangChain \u6838\u5fc3\u5957\u4ef6\n!pip install langchain==0.1.0\n!pip install langchain-openai==0.0.5\n!pip install langchain-core==0.1.10\n!pip install python-dotenv==1.0.0\n</pre> # \u5b89\u88dd LangChain \u6838\u5fc3\u5957\u4ef6 !pip install langchain==0.1.0 !pip install langchain-openai==0.0.5 !pip install langchain-core==0.1.10 !pip install python-dotenv==1.0.0 In\u00a0[\u00a0]: Copied! <pre># \u8f09\u5165\u74b0\u5883\u8b8a\u6578\nfrom dotenv import load_dotenv\nimport os\n\nload_dotenv()\nprint(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\")\nprint(f\"OpenAI API Key: {'\u5df2\u8a2d\u5b9a' if os.getenv('OPENAI_API_KEY') else '\u672a\u8a2d\u5b9a'}\")\n</pre> # \u8f09\u5165\u74b0\u5883\u8b8a\u6578 from dotenv import load_dotenv import os  load_dotenv() print(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\") print(f\"OpenAI API Key: {'\u5df2\u8a2d\u5b9a' if os.getenv('OPENAI_API_KEY') else '\u672a\u8a2d\u5b9a'}\") In\u00a0[\u00a0]: Copied! <pre>from langchain_openai import ChatOpenAI\nfrom langchain.schema import HumanMessage\n\n# \u521d\u59cb\u5316 ChatModel\nllm = ChatOpenAI(\n    model=\"gpt-4\",\n    temperature=0.7,  # \u63a7\u5236\u5275\u610f\u5ea6 (0-1)\n    max_tokens=500    # \u6700\u5927\u8f38\u51fa\u9577\u5ea6\n)\n\n# \u7c21\u55ae\u547c\u53eb\nresponse = llm.invoke([HumanMessage(content=\"\u4f60\u597d,\u8acb\u7c21\u77ed\u4ecb\u7d39\u570b\u6cf0\u4eba\u58fd\")])\n\nprint(\"\ud83e\udd16 AI \u56de\u61c9:\")\nprint(response.content)\n</pre> from langchain_openai import ChatOpenAI from langchain.schema import HumanMessage  # \u521d\u59cb\u5316 ChatModel llm = ChatOpenAI(     model=\"gpt-4\",     temperature=0.7,  # \u63a7\u5236\u5275\u610f\u5ea6 (0-1)     max_tokens=500    # \u6700\u5927\u8f38\u51fa\u9577\u5ea6 )  # \u7c21\u55ae\u547c\u53eb response = llm.invoke([HumanMessage(content=\"\u4f60\u597d,\u8acb\u7c21\u77ed\u4ecb\u7d39\u570b\u6cf0\u4eba\u58fd\")])  print(\"\ud83e\udd16 AI \u56de\u61c9:\") print(response.content) In\u00a0[\u00a0]: Copied! <pre>from langchain.schema import SystemMessage, HumanMessage, AIMessage\n\n# \u4f7f\u7528 ChatModel \u7684\u591a\u8f2a\u5c0d\u8a71\nmessages = [\n    SystemMessage(content=\"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5c08\u696d\u5ba2\u670d\u4eba\u54e1,\u8acb\u7528\u53cb\u5584\u4e14\u5c08\u696d\u7684\u614b\u5ea6\u56de\u7b54\u5ba2\u6236\u554f\u984c\u3002\"),\n    HumanMessage(content=\"\u8acb\u554f\u4f60\u5011\u6709\u54ea\u4e9b\u58fd\u96aa\u5546\u54c1?\"),\n    AIMessage(content=\"\u570b\u6cf0\u4eba\u58fd\u63d0\u4f9b\u591a\u5143\u58fd\u96aa\u5546\u54c1,\u5305\u62ec\u7d42\u8eab\u58fd\u96aa\u3001\u5b9a\u671f\u58fd\u96aa\u3001\u6295\u8cc7\u578b\u4fdd\u55ae\u7b49\u3002\"),\n    HumanMessage(content=\"\u7d42\u8eab\u58fd\u96aa\u7684\u4fdd\u969c\u7bc4\u570d\u662f\u4ec0\u9ebc?\")\n]\n\nresponse = llm.invoke(messages)\nprint(\"\ud83d\udcbc \u5ba2\u670d\u56de\u61c9:\")\nprint(response.content)\n</pre> from langchain.schema import SystemMessage, HumanMessage, AIMessage  # \u4f7f\u7528 ChatModel \u7684\u591a\u8f2a\u5c0d\u8a71 messages = [     SystemMessage(content=\"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5c08\u696d\u5ba2\u670d\u4eba\u54e1,\u8acb\u7528\u53cb\u5584\u4e14\u5c08\u696d\u7684\u614b\u5ea6\u56de\u7b54\u5ba2\u6236\u554f\u984c\u3002\"),     HumanMessage(content=\"\u8acb\u554f\u4f60\u5011\u6709\u54ea\u4e9b\u58fd\u96aa\u5546\u54c1?\"),     AIMessage(content=\"\u570b\u6cf0\u4eba\u58fd\u63d0\u4f9b\u591a\u5143\u58fd\u96aa\u5546\u54c1,\u5305\u62ec\u7d42\u8eab\u58fd\u96aa\u3001\u5b9a\u671f\u58fd\u96aa\u3001\u6295\u8cc7\u578b\u4fdd\u55ae\u7b49\u3002\"),     HumanMessage(content=\"\u7d42\u8eab\u58fd\u96aa\u7684\u4fdd\u969c\u7bc4\u570d\u662f\u4ec0\u9ebc?\") ]  response = llm.invoke(messages) print(\"\ud83d\udcbc \u5ba2\u670d\u56de\u61c9:\") print(response.content) In\u00a0[\u00a0]: Copied! <pre>from langchain.prompts import PromptTemplate\n\n# \u5efa\u7acb\u4fdd\u55ae\u67e5\u8a62\u6a21\u677f\npolicy_template = PromptTemplate(\n    input_variables=[\"policy_id\", \"customer_name\"],\n    template=\"\"\"\n\u5ba2\u6236\u59d3\u540d: {customer_name}\n\u4fdd\u55ae\u865f\u78bc: {policy_id}\n\n\u8acb\u67e5\u8a62\u8a72\u4fdd\u55ae\u7684\u4ee5\u4e0b\u8cc7\u8a0a:\n1. \u4fdd\u55ae\u72c0\u614b\n2. \u4fdd\u969c\u5167\u5bb9\n3. \u7e73\u8cbb\u72c0\u6cc1\n4. \u53d7\u76ca\u4eba\u8cc7\u8a0a\n\n\u8acb\u4ee5\u5c08\u696d\u4e14\u6613\u61c2\u7684\u65b9\u5f0f\u8aaa\u660e\u3002\n\"\"\"\n)\n\n# \u4f7f\u7528\u6a21\u677f\nprompt = policy_template.format(\n    policy_id=\"CL202401001\",\n    customer_name=\"\u738b\u5c0f\u660e\"\n)\n\nprint(\"\ud83d\udcc4 \u751f\u6210\u7684\u63d0\u793a\u8a5e:\")\nprint(prompt)\n</pre> from langchain.prompts import PromptTemplate  # \u5efa\u7acb\u4fdd\u55ae\u67e5\u8a62\u6a21\u677f policy_template = PromptTemplate(     input_variables=[\"policy_id\", \"customer_name\"],     template=\"\"\" \u5ba2\u6236\u59d3\u540d: {customer_name} \u4fdd\u55ae\u865f\u78bc: {policy_id}  \u8acb\u67e5\u8a62\u8a72\u4fdd\u55ae\u7684\u4ee5\u4e0b\u8cc7\u8a0a: 1. \u4fdd\u55ae\u72c0\u614b 2. \u4fdd\u969c\u5167\u5bb9 3. \u7e73\u8cbb\u72c0\u6cc1 4. \u53d7\u76ca\u4eba\u8cc7\u8a0a  \u8acb\u4ee5\u5c08\u696d\u4e14\u6613\u61c2\u7684\u65b9\u5f0f\u8aaa\u660e\u3002 \"\"\" )  # \u4f7f\u7528\u6a21\u677f prompt = policy_template.format(     policy_id=\"CL202401001\",     customer_name=\"\u738b\u5c0f\u660e\" )  print(\"\ud83d\udcc4 \u751f\u6210\u7684\u63d0\u793a\u8a5e:\") print(prompt) In\u00a0[\u00a0]: Copied! <pre>from langchain.prompts import ChatPromptTemplate, SystemMessagePromptTemplate, HumanMessagePromptTemplate\n\n# \u5efa\u7acb\u5c0d\u8a71\u6a21\u677f\nsystem_template = \"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684{role},\u64c1\u6709{years}\u5e74\u7684\u5f9e\u696d\u7d93\u9a57\u3002\u8acb\u7528\u5c08\u696d\u4e14\u89aa\u5207\u7684\u614b\u5ea6\u56de\u7b54\u554f\u984c\u3002\"\nhuman_template = \"{customer_question}\"\n\nchat_prompt = ChatPromptTemplate.from_messages([\n    SystemMessagePromptTemplate.from_template(system_template),\n    HumanMessagePromptTemplate.from_template(human_template)\n])\n\n# \u683c\u5f0f\u5316\u8a0a\u606f\nmessages = chat_prompt.format_messages(\n    role=\"\u8cc7\u6df1\u7406\u8ca1\u9867\u554f\",\n    years=10,\n    customer_question=\"\u8acb\u554f\u6295\u8cc7\u578b\u4fdd\u55ae\u9069\u5408\u6211\u9019\u7a2e\u4fdd\u5b88\u578b\u6295\u8cc7\u4eba\u55ce?\"\n)\n\nprint(\"\ud83d\udcac \u5c0d\u8a71\u8a0a\u606f:\")\nfor msg in messages:\n    print(f\"{msg.__class__.__name__}: {msg.content}\")\n</pre> from langchain.prompts import ChatPromptTemplate, SystemMessagePromptTemplate, HumanMessagePromptTemplate  # \u5efa\u7acb\u5c0d\u8a71\u6a21\u677f system_template = \"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684{role},\u64c1\u6709{years}\u5e74\u7684\u5f9e\u696d\u7d93\u9a57\u3002\u8acb\u7528\u5c08\u696d\u4e14\u89aa\u5207\u7684\u614b\u5ea6\u56de\u7b54\u554f\u984c\u3002\" human_template = \"{customer_question}\"  chat_prompt = ChatPromptTemplate.from_messages([     SystemMessagePromptTemplate.from_template(system_template),     HumanMessagePromptTemplate.from_template(human_template) ])  # \u683c\u5f0f\u5316\u8a0a\u606f messages = chat_prompt.format_messages(     role=\"\u8cc7\u6df1\u7406\u8ca1\u9867\u554f\",     years=10,     customer_question=\"\u8acb\u554f\u6295\u8cc7\u578b\u4fdd\u55ae\u9069\u5408\u6211\u9019\u7a2e\u4fdd\u5b88\u578b\u6295\u8cc7\u4eba\u55ce?\" )  print(\"\ud83d\udcac \u5c0d\u8a71\u8a0a\u606f:\") for msg in messages:     print(f\"{msg.__class__.__name__}: {msg.content}\") In\u00a0[\u00a0]: Copied! <pre>from langchain.chains import LLMChain\n\n# \u5efa\u7acb Chain\nllm = ChatOpenAI(model=\"gpt-4\", temperature=0.7)\n\nprompt = PromptTemplate(\n    input_variables=[\"product_type\"],\n    template=\"\u8acb\u7528 3 \u500b\u91cd\u9ede\u8aaa\u660e\u570b\u6cf0\u4eba\u58fd\u7684{product_type}\u6709\u54ea\u4e9b\u7279\u8272\u548c\u512a\u52e2\u3002\"\n)\n\nchain = LLMChain(llm=llm, prompt=prompt)\n\n# \u57f7\u884c Chain\nresult = chain.run(product_type=\"\u91ab\u7642\u96aa\")\nprint(\"\ud83c\udfe5 \u91ab\u7642\u96aa\u7279\u8272:\")\nprint(result)\n</pre> from langchain.chains import LLMChain  # \u5efa\u7acb Chain llm = ChatOpenAI(model=\"gpt-4\", temperature=0.7)  prompt = PromptTemplate(     input_variables=[\"product_type\"],     template=\"\u8acb\u7528 3 \u500b\u91cd\u9ede\u8aaa\u660e\u570b\u6cf0\u4eba\u58fd\u7684{product_type}\u6709\u54ea\u4e9b\u7279\u8272\u548c\u512a\u52e2\u3002\" )  chain = LLMChain(llm=llm, prompt=prompt)  # \u57f7\u884c Chain result = chain.run(product_type=\"\u91ab\u7642\u96aa\") print(\"\ud83c\udfe5 \u91ab\u7642\u96aa\u7279\u8272:\") print(result) In\u00a0[\u00a0]: Copied! <pre># LCEL \u662f\u66f4\u73fe\u4ee3\u7684 Chain \u5beb\u6cd5,\u4f7f\u7528 | \u904b\u7b97\u5b50\nfrom langchain_core.output_parsers import StrOutputParser\n\n# \u5efa\u7acb Chain: Prompt \u2192 LLM \u2192 Parser\nchain = prompt | llm | StrOutputParser()\n\n# \u57f7\u884c\nresult = chain.invoke({\"product_type\": \"\u5132\u84c4\u96aa\"})\nprint(\"\ud83d\udcb0 \u5132\u84c4\u96aa\u7279\u8272:\")\nprint(result)\n</pre> # LCEL \u662f\u66f4\u73fe\u4ee3\u7684 Chain \u5beb\u6cd5,\u4f7f\u7528 | \u904b\u7b97\u5b50 from langchain_core.output_parsers import StrOutputParser  # \u5efa\u7acb Chain: Prompt \u2192 LLM \u2192 Parser chain = prompt | llm | StrOutputParser()  # \u57f7\u884c result = chain.invoke({\"product_type\": \"\u5132\u84c4\u96aa\"}) print(\"\ud83d\udcb0 \u5132\u84c4\u96aa\u7279\u8272:\") print(result) In\u00a0[\u00a0]: Copied! <pre>from langchain.chains import SimpleSequentialChain\n\n# Chain 1: \u5206\u6790\u5ba2\u6236\u9700\u6c42\nanalyze_prompt = PromptTemplate(\n    input_variables=[\"customer_info\"],\n    template=\"\u6839\u64da\u4ee5\u4e0b\u5ba2\u6236\u8cc7\u8a0a,\u5206\u6790\u5176\u4fdd\u96aa\u9700\u6c42:\\n{customer_info}\\n\\n\u5206\u6790\u7d50\u679c:\"\n)\nanalyze_chain = LLMChain(llm=llm, prompt=analyze_prompt)\n\n# Chain 2: \u63a8\u85a6\u7522\u54c1\nrecommend_prompt = PromptTemplate(\n    input_variables=[\"needs_analysis\"],\n    template=\"\u6839\u64da\u9700\u6c42\u5206\u6790:\\n{needs_analysis}\\n\\n\u63a8\u85a6\u9069\u5408\u7684\u570b\u6cf0\u4eba\u58fd\u4fdd\u96aa\u5546\u54c1:\"\n)\nrecommend_chain = LLMChain(llm=llm, prompt=recommend_prompt)\n\n# \u7d44\u5408\u6210\u9806\u5e8f\u93c8\noverall_chain = SimpleSequentialChain(\n    chains=[analyze_chain, recommend_chain],\n    verbose=True  # \u986f\u793a\u4e2d\u9593\u904e\u7a0b\n)\n\n# \u57f7\u884c\ncustomer_data = \"\"\"\n\u59d3\u540d: \u9673\u5c0f\u83ef\n\u5e74\u9f61: 35 \u6b72\n\u8077\u696d: \u5de5\u7a0b\u5e2b\n\u5bb6\u5ead\u72c0\u6cc1: \u5df2\u5a5a,\u6709 2 \u500b\u5c0f\u5b69 (5 \u6b72\u30013 \u6b72)\n\u5e74\u6536\u5165: 150 \u842c\n\u73fe\u6709\u4fdd\u969c: \u50c5\u6709\u516c\u53f8\u5718\u4fdd\n\"\"\"\n\nresult = overall_chain.run(customer_data)\nprint(\"\\n\ud83d\udcca \u6700\u7d42\u63a8\u85a6:\")\nprint(result)\n</pre> from langchain.chains import SimpleSequentialChain  # Chain 1: \u5206\u6790\u5ba2\u6236\u9700\u6c42 analyze_prompt = PromptTemplate(     input_variables=[\"customer_info\"],     template=\"\u6839\u64da\u4ee5\u4e0b\u5ba2\u6236\u8cc7\u8a0a,\u5206\u6790\u5176\u4fdd\u96aa\u9700\u6c42:\\n{customer_info}\\n\\n\u5206\u6790\u7d50\u679c:\" ) analyze_chain = LLMChain(llm=llm, prompt=analyze_prompt)  # Chain 2: \u63a8\u85a6\u7522\u54c1 recommend_prompt = PromptTemplate(     input_variables=[\"needs_analysis\"],     template=\"\u6839\u64da\u9700\u6c42\u5206\u6790:\\n{needs_analysis}\\n\\n\u63a8\u85a6\u9069\u5408\u7684\u570b\u6cf0\u4eba\u58fd\u4fdd\u96aa\u5546\u54c1:\" ) recommend_chain = LLMChain(llm=llm, prompt=recommend_prompt)  # \u7d44\u5408\u6210\u9806\u5e8f\u93c8 overall_chain = SimpleSequentialChain(     chains=[analyze_chain, recommend_chain],     verbose=True  # \u986f\u793a\u4e2d\u9593\u904e\u7a0b )  # \u57f7\u884c customer_data = \"\"\" \u59d3\u540d: \u9673\u5c0f\u83ef \u5e74\u9f61: 35 \u6b72 \u8077\u696d: \u5de5\u7a0b\u5e2b \u5bb6\u5ead\u72c0\u6cc1: \u5df2\u5a5a,\u6709 2 \u500b\u5c0f\u5b69 (5 \u6b72\u30013 \u6b72) \u5e74\u6536\u5165: 150 \u842c \u73fe\u6709\u4fdd\u969c: \u50c5\u6709\u516c\u53f8\u5718\u4fdd \"\"\"  result = overall_chain.run(customer_data) print(\"\\n\ud83d\udcca \u6700\u7d42\u63a8\u85a6:\") print(result) In\u00a0[\u00a0]: Copied! <pre>from langchain.output_parsers import CommaSeparatedListOutputParser\n\n# \u5efa\u7acb\u5217\u8868\u89e3\u6790\u5668\nparser = CommaSeparatedListOutputParser()\n\n# \u53d6\u5f97\u683c\u5f0f\u6307\u793a\nformat_instructions = parser.get_format_instructions()\n\n# \u5efa\u7acb\u63d0\u793a\u8a5e\nprompt = PromptTemplate(\n    template=\"\u5217\u51fa\u570b\u6cf0\u4eba\u58fd\u6700\u53d7\u6b61\u8fce\u7684 5 \u500b\u4fdd\u96aa\u5546\u54c1\u3002\\n{format_instructions}\",\n    input_variables=[],\n    partial_variables={\"format_instructions\": format_instructions}\n)\n\n# \u5efa\u7acb Chain\nchain = prompt | llm | parser\n\n# \u57f7\u884c\nresult = chain.invoke({})\nprint(\"\ud83d\udccb \u71b1\u9580\u5546\u54c1\u5217\u8868:\")\nprint(f\"\u985e\u578b: {type(result)}\")\nfor i, product in enumerate(result, 1):\n    print(f\"{i}. {product}\")\n</pre> from langchain.output_parsers import CommaSeparatedListOutputParser  # \u5efa\u7acb\u5217\u8868\u89e3\u6790\u5668 parser = CommaSeparatedListOutputParser()  # \u53d6\u5f97\u683c\u5f0f\u6307\u793a format_instructions = parser.get_format_instructions()  # \u5efa\u7acb\u63d0\u793a\u8a5e prompt = PromptTemplate(     template=\"\u5217\u51fa\u570b\u6cf0\u4eba\u58fd\u6700\u53d7\u6b61\u8fce\u7684 5 \u500b\u4fdd\u96aa\u5546\u54c1\u3002\\n{format_instructions}\",     input_variables=[],     partial_variables={\"format_instructions\": format_instructions} )  # \u5efa\u7acb Chain chain = prompt | llm | parser  # \u57f7\u884c result = chain.invoke({}) print(\"\ud83d\udccb \u71b1\u9580\u5546\u54c1\u5217\u8868:\") print(f\"\u985e\u578b: {type(result)}\") for i, product in enumerate(result, 1):     print(f\"{i}. {product}\") In\u00a0[\u00a0]: Copied! <pre>from langchain.output_parsers import PydanticOutputParser\nfrom pydantic import BaseModel, Field\nfrom typing import List\n\n# \u5b9a\u7fa9\u4fdd\u55ae\u8cc7\u6599\u7d50\u69cb\nclass PolicyInfo(BaseModel):\n    policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")\n    policy_type: str = Field(description=\"\u4fdd\u55ae\u985e\u578b\")\n    status: str = Field(description=\"\u4fdd\u55ae\u72c0\u614b\")\n    premium: int = Field(description=\"\u5e74\u7e73\u4fdd\u8cbb\")\n    coverage: List[str] = Field(description=\"\u4fdd\u969c\u9805\u76ee\u5217\u8868\")\n\n# \u5efa\u7acb\u89e3\u6790\u5668\nparser = PydanticOutputParser(pydantic_object=PolicyInfo)\n\n# \u5efa\u7acb\u63d0\u793a\u8a5e\nprompt = PromptTemplate(\n    template=\"\u8acb\u751f\u6210\u4e00\u500b\u7bc4\u4f8b\u4fdd\u55ae\u8cc7\u6599\u3002\\n{format_instructions}\",\n    input_variables=[],\n    partial_variables={\"format_instructions\": parser.get_format_instructions()}\n)\n\n# \u57f7\u884c\nchain = prompt | llm | parser\nresult = chain.invoke({})\n\nprint(\"\ud83d\udcc4 \u4fdd\u55ae\u8cc7\u6599:\")\nprint(f\"\u985e\u578b: {type(result)}\")\nprint(f\"\u4fdd\u55ae\u865f\u78bc: {result.policy_id}\")\nprint(f\"\u4fdd\u55ae\u985e\u578b: {result.policy_type}\")\nprint(f\"\u4fdd\u55ae\u72c0\u614b: {result.status}\")\nprint(f\"\u5e74\u7e73\u4fdd\u8cbb: ${result.premium:,}\")\nprint(f\"\u4fdd\u969c\u9805\u76ee: {', '.join(result.coverage)}\")\n</pre> from langchain.output_parsers import PydanticOutputParser from pydantic import BaseModel, Field from typing import List  # \u5b9a\u7fa9\u4fdd\u55ae\u8cc7\u6599\u7d50\u69cb class PolicyInfo(BaseModel):     policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")     policy_type: str = Field(description=\"\u4fdd\u55ae\u985e\u578b\")     status: str = Field(description=\"\u4fdd\u55ae\u72c0\u614b\")     premium: int = Field(description=\"\u5e74\u7e73\u4fdd\u8cbb\")     coverage: List[str] = Field(description=\"\u4fdd\u969c\u9805\u76ee\u5217\u8868\")  # \u5efa\u7acb\u89e3\u6790\u5668 parser = PydanticOutputParser(pydantic_object=PolicyInfo)  # \u5efa\u7acb\u63d0\u793a\u8a5e prompt = PromptTemplate(     template=\"\u8acb\u751f\u6210\u4e00\u500b\u7bc4\u4f8b\u4fdd\u55ae\u8cc7\u6599\u3002\\n{format_instructions}\",     input_variables=[],     partial_variables={\"format_instructions\": parser.get_format_instructions()} )  # \u57f7\u884c chain = prompt | llm | parser result = chain.invoke({})  print(\"\ud83d\udcc4 \u4fdd\u55ae\u8cc7\u6599:\") print(f\"\u985e\u578b: {type(result)}\") print(f\"\u4fdd\u55ae\u865f\u78bc: {result.policy_id}\") print(f\"\u4fdd\u55ae\u985e\u578b: {result.policy_type}\") print(f\"\u4fdd\u55ae\u72c0\u614b: {result.status}\") print(f\"\u5e74\u7e73\u4fdd\u8cbb: ${result.premium:,}\") print(f\"\u4fdd\u969c\u9805\u76ee: {', '.join(result.coverage)}\") In\u00a0[\u00a0]: Copied! <pre>from datetime import datetime\n\nclass PolicyQueryResult(BaseModel):\n    \"\"\"\u4fdd\u55ae\u67e5\u8a62\u7d50\u679c\"\"\"\n    policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")\n    customer_name: str = Field(description=\"\u5ba2\u6236\u59d3\u540d\")\n    status: str = Field(description=\"\u4fdd\u55ae\u72c0\u614b:\u6709\u6548/\u5931\u6548/\u7b49\u5f85\u671f\")\n    next_payment_date: str = Field(description=\"\u4e0b\u6b21\u7e73\u8cbb\u65e5\u671f (YYYY-MM-DD)\")\n    summary: str = Field(description=\"\u4fdd\u55ae\u6458\u8981\u8aaa\u660e\")\n    suggestions: List[str] = Field(description=\"\u5ba2\u670d\u5efa\u8b70\u5217\u8868\")\n\n# \u5efa\u7acb\u89e3\u6790\u5668\nquery_parser = PydanticOutputParser(pydantic_object=PolicyQueryResult)\n\n# \u5efa\u7acb\u7cfb\u7d71\u63d0\u793a\u8a5e\nsystem_prompt = ChatPromptTemplate.from_messages([\n    SystemMessage(content=\"\"\"\n\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u667a\u80fd\u5ba2\u670d\u7cfb\u7d71\u3002\n\u7576\u5ba2\u6236\u67e5\u8a62\u4fdd\u55ae\u6642,\u4f60\u9700\u8981:\n1. \u78ba\u8a8d\u5ba2\u6236\u8eab\u5206\u548c\u4fdd\u55ae\u865f\u78bc\n2. \u63d0\u4f9b\u4fdd\u55ae\u72c0\u614b\u8cc7\u8a0a\n3. \u8aaa\u660e\u4e0b\u6b21\u7e73\u8cbb\u65e5\u671f\n4. \u63d0\u4f9b\u5c08\u696d\u5efa\u8b70\n\n\u8acb\u52d9\u5fc5\u4fdd\u6301\u5c08\u696d\u3001\u6e96\u78ba\u3001\u89aa\u5207\u7684\u614b\u5ea6\u3002\n\"\"\"),\n    HumanMessagePromptTemplate.from_template(\"\"\"\n\u5ba2\u6236\u67e5\u8a62\u8cc7\u8a0a:\n\u4fdd\u55ae\u865f\u78bc: {policy_id}\n\u5ba2\u6236\u59d3\u540d: {customer_name}\n\u67e5\u8a62\u6642\u9593: {query_time}\n\n{format_instructions}\n\"\"\")\n])\n\n# \u5efa\u7acb\u67e5\u8a62 Chain\npolicy_query_chain = (\n    system_prompt \n    | llm \n    | query_parser\n)\n\n# \u57f7\u884c\u67e5\u8a62\nresult = policy_query_chain.invoke({\n    \"policy_id\": \"CL202401001\",\n    \"customer_name\": \"\u738b\u5c0f\u660e\",\n    \"query_time\": datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"),\n    \"format_instructions\": query_parser.get_format_instructions()\n})\n\n# \u986f\u793a\u7d50\u679c\nprint(\"=\"*60)\nprint(\"\ud83c\udfe2 \u570b\u6cf0\u4eba\u58fd\u4fdd\u55ae\u67e5\u8a62\u7cfb\u7d71\")\nprint(\"=\"*60)\nprint(f\"\\n\ud83d\udccb \u4fdd\u55ae\u865f\u78bc: {result.policy_id}\")\nprint(f\"\ud83d\udc64 \u5ba2\u6236\u59d3\u540d: {result.customer_name}\")\nprint(f\"\u2705 \u4fdd\u55ae\u72c0\u614b: {result.status}\")\nprint(f\"\ud83d\udcc5 \u4e0b\u6b21\u7e73\u8cbb\u65e5: {result.next_payment_date}\")\nprint(f\"\\n\ud83d\udcdd \u4fdd\u55ae\u6458\u8981:\\n{result.summary}\")\nprint(f\"\\n\ud83d\udca1 \u5c08\u696d\u5efa\u8b70:\")\nfor i, suggestion in enumerate(result.suggestions, 1):\n    print(f\"   {i}. {suggestion}\")\nprint(\"\\n\" + \"=\"*60)\n</pre> from datetime import datetime  class PolicyQueryResult(BaseModel):     \"\"\"\u4fdd\u55ae\u67e5\u8a62\u7d50\u679c\"\"\"     policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")     customer_name: str = Field(description=\"\u5ba2\u6236\u59d3\u540d\")     status: str = Field(description=\"\u4fdd\u55ae\u72c0\u614b:\u6709\u6548/\u5931\u6548/\u7b49\u5f85\u671f\")     next_payment_date: str = Field(description=\"\u4e0b\u6b21\u7e73\u8cbb\u65e5\u671f (YYYY-MM-DD)\")     summary: str = Field(description=\"\u4fdd\u55ae\u6458\u8981\u8aaa\u660e\")     suggestions: List[str] = Field(description=\"\u5ba2\u670d\u5efa\u8b70\u5217\u8868\")  # \u5efa\u7acb\u89e3\u6790\u5668 query_parser = PydanticOutputParser(pydantic_object=PolicyQueryResult)  # \u5efa\u7acb\u7cfb\u7d71\u63d0\u793a\u8a5e system_prompt = ChatPromptTemplate.from_messages([     SystemMessage(content=\"\"\" \u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u667a\u80fd\u5ba2\u670d\u7cfb\u7d71\u3002 \u7576\u5ba2\u6236\u67e5\u8a62\u4fdd\u55ae\u6642,\u4f60\u9700\u8981: 1. \u78ba\u8a8d\u5ba2\u6236\u8eab\u5206\u548c\u4fdd\u55ae\u865f\u78bc 2. \u63d0\u4f9b\u4fdd\u55ae\u72c0\u614b\u8cc7\u8a0a 3. \u8aaa\u660e\u4e0b\u6b21\u7e73\u8cbb\u65e5\u671f 4. \u63d0\u4f9b\u5c08\u696d\u5efa\u8b70  \u8acb\u52d9\u5fc5\u4fdd\u6301\u5c08\u696d\u3001\u6e96\u78ba\u3001\u89aa\u5207\u7684\u614b\u5ea6\u3002 \"\"\"),     HumanMessagePromptTemplate.from_template(\"\"\" \u5ba2\u6236\u67e5\u8a62\u8cc7\u8a0a: \u4fdd\u55ae\u865f\u78bc: {policy_id} \u5ba2\u6236\u59d3\u540d: {customer_name} \u67e5\u8a62\u6642\u9593: {query_time}  {format_instructions} \"\"\") ])  # \u5efa\u7acb\u67e5\u8a62 Chain policy_query_chain = (     system_prompt      | llm      | query_parser )  # \u57f7\u884c\u67e5\u8a62 result = policy_query_chain.invoke({     \"policy_id\": \"CL202401001\",     \"customer_name\": \"\u738b\u5c0f\u660e\",     \"query_time\": datetime.now().strftime(\"%Y-%m-%d %H:%M:%S\"),     \"format_instructions\": query_parser.get_format_instructions() })  # \u986f\u793a\u7d50\u679c print(\"=\"*60) print(\"\ud83c\udfe2 \u570b\u6cf0\u4eba\u58fd\u4fdd\u55ae\u67e5\u8a62\u7cfb\u7d71\") print(\"=\"*60) print(f\"\\n\ud83d\udccb \u4fdd\u55ae\u865f\u78bc: {result.policy_id}\") print(f\"\ud83d\udc64 \u5ba2\u6236\u59d3\u540d: {result.customer_name}\") print(f\"\u2705 \u4fdd\u55ae\u72c0\u614b: {result.status}\") print(f\"\ud83d\udcc5 \u4e0b\u6b21\u7e73\u8cbb\u65e5: {result.next_payment_date}\") print(f\"\\n\ud83d\udcdd \u4fdd\u55ae\u6458\u8981:\\n{result.summary}\") print(f\"\\n\ud83d\udca1 \u5c08\u696d\u5efa\u8b70:\") for i, suggestion in enumerate(result.suggestions, 1):     print(f\"   {i}. {suggestion}\") print(\"\\n\" + \"=\"*60) In\u00a0[\u00a0]: Copied! <pre># TODO: \u5728\u6b64\u5be6\u4f5c\u7406\u8ce0\u67e5\u8a62\u7cfb\u7d71\n\nclass ClaimInfo(BaseModel):\n    # TODO: \u5b9a\u7fa9\u6b04\u4f4d\n    pass\n\n# TODO: \u5efa\u7acb Parser \u548c Chain\n</pre> # TODO: \u5728\u6b64\u5be6\u4f5c\u7406\u8ce0\u67e5\u8a62\u7cfb\u7d71  class ClaimInfo(BaseModel):     # TODO: \u5b9a\u7fa9\u6b04\u4f4d     pass  # TODO: \u5efa\u7acb Parser \u548c Chain In\u00a0[\u00a0]: Copied! <pre># TODO: \u5efa\u7acb\u591a\u6b65\u9a5f\u63a8\u85a6\u7cfb\u7d71\n\n# Step 1: \u5ba2\u6236\u5206\u6790\n# Step 2: \u98a8\u96aa\u8a55\u4f30  \n# Step 3: \u7522\u54c1\u63a8\u85a6\n</pre> # TODO: \u5efa\u7acb\u591a\u6b65\u9a5f\u63a8\u85a6\u7cfb\u7d71  # Step 1: \u5ba2\u6236\u5206\u6790 # Step 2: \u98a8\u96aa\u8a55\u4f30   # Step 3: \u7522\u54c1\u63a8\u85a6 In\u00a0[\u00a0]: Copied! <pre># TODO: \u5efa\u7acb\u4fdd\u8cbb\u8a66\u7b97\u5de5\u5177\n\nclass PremiumCalculation(BaseModel):\n    # TODO: \u5b9a\u7fa9\u8a66\u7b97\u7d50\u679c\u7d50\u69cb\n    pass\n</pre> # TODO: \u5efa\u7acb\u4fdd\u8cbb\u8a66\u7b97\u5de5\u5177  class PremiumCalculation(BaseModel):     # TODO: \u5b9a\u7fa9\u8a66\u7b97\u7d50\u679c\u7d50\u69cb     pass In\u00a0[\u00a0]: Copied! <pre>class ClaimInfoSolution(BaseModel):\n    \"\"\"\u7406\u8ce0\u8cc7\u8a0a\"\"\"\n    claim_id: str = Field(description=\"\u7406\u8ce0\u7de8\u865f\")\n    policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")\n    claim_type: str = Field(description=\"\u7406\u8ce0\u985e\u578b:\u91ab\u7642/\u610f\u5916/\u8eab\u6545\")\n    claim_amount: int = Field(description=\"\u7406\u8ce0\u91d1\u984d\")\n    status: str = Field(description=\"\u8655\u7406\u72c0\u614b:\u5be9\u6838\u4e2d/\u5df2\u6838\u51c6/\u5df2\u64a5\u6b3e/\u5df2\u62d2\u7d55\")\n    progress_percentage: int = Field(description=\"\u8655\u7406\u9032\u5ea6\u767e\u5206\u6bd4 0-100\")\n    estimated_completion: str = Field(description=\"\u9810\u8a08\u5b8c\u6210\u65e5\u671f\")\n    required_documents: List[str] = Field(description=\"\u9700\u88dc\u4ef6\u5217\u8868\")\n\n# \u5efa\u7acb\u89e3\u6790\u5668\nclaim_parser = PydanticOutputParser(pydantic_object=ClaimInfoSolution)\n\n# \u5efa\u7acb\u63d0\u793a\u8a5e\nclaim_prompt = ChatPromptTemplate.from_messages([\n    SystemMessage(content=\"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7406\u8ce0\u90e8\u9580\u7684\u5ba2\u670d\u7cfb\u7d71,\u8acb\u63d0\u4f9b\u6e96\u78ba\u7684\u7406\u8ce0\u9032\u5ea6\u8cc7\u8a0a\u3002\"),\n    HumanMessagePromptTemplate.from_template(\"\"\"\n\u67e5\u8a62\u7406\u8ce0\u6848\u4ef6:\n\u7406\u8ce0\u7de8\u865f: {claim_id}\n\u5ba2\u6236\u59d3\u540d: {customer_name}\n\n{format_instructions}\n\"\"\")\n])\n\n# \u5efa\u7acb Chain\nclaim_chain = claim_prompt | llm | claim_parser\n\n# \u57f7\u884c\u67e5\u8a62\nclaim_result = claim_chain.invoke({\n    \"claim_id\": \"CLM20240315001\",\n    \"customer_name\": \"\u674e\u5c0f\u83ef\",\n    \"format_instructions\": claim_parser.get_format_instructions()\n})\n\nprint(\"\\n\ud83c\udfe5 \u7406\u8ce0\u67e5\u8a62\u7d50\u679c\")\nprint(\"=\"*50)\nprint(f\"\u7406\u8ce0\u7de8\u865f: {claim_result.claim_id}\")\nprint(f\"\u4fdd\u55ae\u865f\u78bc: {claim_result.policy_id}\")\nprint(f\"\u7406\u8ce0\u985e\u578b: {claim_result.claim_type}\")\nprint(f\"\u7406\u8ce0\u91d1\u984d: ${claim_result.claim_amount:,}\")\nprint(f\"\u8655\u7406\u72c0\u614b: {claim_result.status}\")\nprint(f\"\u8655\u7406\u9032\u5ea6: {claim_result.progress_percentage}%\")\nprint(f\"\u9810\u8a08\u5b8c\u6210: {claim_result.estimated_completion}\")\nif claim_result.required_documents:\n    print(f\"\\n\ud83d\udcce \u9700\u88dc\u4ef6:\")\n    for doc in claim_result.required_documents:\n        print(f\"  - {doc}\")\nelse:\n    print(\"\\n\u2705 \u7121\u9700\u88dc\u4ef6\")\n</pre> class ClaimInfoSolution(BaseModel):     \"\"\"\u7406\u8ce0\u8cc7\u8a0a\"\"\"     claim_id: str = Field(description=\"\u7406\u8ce0\u7de8\u865f\")     policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")     claim_type: str = Field(description=\"\u7406\u8ce0\u985e\u578b:\u91ab\u7642/\u610f\u5916/\u8eab\u6545\")     claim_amount: int = Field(description=\"\u7406\u8ce0\u91d1\u984d\")     status: str = Field(description=\"\u8655\u7406\u72c0\u614b:\u5be9\u6838\u4e2d/\u5df2\u6838\u51c6/\u5df2\u64a5\u6b3e/\u5df2\u62d2\u7d55\")     progress_percentage: int = Field(description=\"\u8655\u7406\u9032\u5ea6\u767e\u5206\u6bd4 0-100\")     estimated_completion: str = Field(description=\"\u9810\u8a08\u5b8c\u6210\u65e5\u671f\")     required_documents: List[str] = Field(description=\"\u9700\u88dc\u4ef6\u5217\u8868\")  # \u5efa\u7acb\u89e3\u6790\u5668 claim_parser = PydanticOutputParser(pydantic_object=ClaimInfoSolution)  # \u5efa\u7acb\u63d0\u793a\u8a5e claim_prompt = ChatPromptTemplate.from_messages([     SystemMessage(content=\"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7406\u8ce0\u90e8\u9580\u7684\u5ba2\u670d\u7cfb\u7d71,\u8acb\u63d0\u4f9b\u6e96\u78ba\u7684\u7406\u8ce0\u9032\u5ea6\u8cc7\u8a0a\u3002\"),     HumanMessagePromptTemplate.from_template(\"\"\" \u67e5\u8a62\u7406\u8ce0\u6848\u4ef6: \u7406\u8ce0\u7de8\u865f: {claim_id} \u5ba2\u6236\u59d3\u540d: {customer_name}  {format_instructions} \"\"\") ])  # \u5efa\u7acb Chain claim_chain = claim_prompt | llm | claim_parser  # \u57f7\u884c\u67e5\u8a62 claim_result = claim_chain.invoke({     \"claim_id\": \"CLM20240315001\",     \"customer_name\": \"\u674e\u5c0f\u83ef\",     \"format_instructions\": claim_parser.get_format_instructions() })  print(\"\\n\ud83c\udfe5 \u7406\u8ce0\u67e5\u8a62\u7d50\u679c\") print(\"=\"*50) print(f\"\u7406\u8ce0\u7de8\u865f: {claim_result.claim_id}\") print(f\"\u4fdd\u55ae\u865f\u78bc: {claim_result.policy_id}\") print(f\"\u7406\u8ce0\u985e\u578b: {claim_result.claim_type}\") print(f\"\u7406\u8ce0\u91d1\u984d: ${claim_result.claim_amount:,}\") print(f\"\u8655\u7406\u72c0\u614b: {claim_result.status}\") print(f\"\u8655\u7406\u9032\u5ea6: {claim_result.progress_percentage}%\") print(f\"\u9810\u8a08\u5b8c\u6210: {claim_result.estimated_completion}\") if claim_result.required_documents:     print(f\"\\n\ud83d\udcce \u9700\u88dc\u4ef6:\")     for doc in claim_result.required_documents:         print(f\"  - {doc}\") else:     print(\"\\n\u2705 \u7121\u9700\u88dc\u4ef6\") In\u00a0[\u00a0]: Copied! <pre># Step 1: \u5ba2\u6236\u5206\u6790 Chain\nanalysis_prompt = PromptTemplate(\n    input_variables=[\"customer_profile\"],\n    template=\"\"\"\n\u5206\u6790\u4ee5\u4e0b\u5ba2\u6236\u8cc7\u6599,\u8a55\u4f30\u5176\u751f\u6daf\u968e\u6bb5\u548c\u4fdd\u96aa\u9700\u6c42:\n\n{customer_profile}\n\n\u8acb\u5206\u6790:\n1. \u751f\u6daf\u968e\u6bb5\n2. \u4e3b\u8981\u98a8\u96aa\u7f3a\u53e3\n3. \u4fdd\u969c\u512a\u5148\u9806\u5e8f\n\"\"\"\n)\nanalysis_chain = analysis_prompt | llm | StrOutputParser()\n\n# Step 2: \u98a8\u96aa\u8a55\u4f30 Chain\nrisk_prompt = PromptTemplate(\n    input_variables=[\"analysis\"],\n    template=\"\"\"\n\u6839\u64da\u5ba2\u6236\u5206\u6790\u7d50\u679c:\n{analysis}\n\n\u8a55\u4f30\u5ba2\u6236\u7684\u98a8\u96aa\u627f\u53d7\u5ea6 (\u4fdd\u5b88/\u7a69\u5065/\u7a4d\u6975),\u4e26\u8aaa\u660e\u7406\u7531\u3002\n\"\"\"\n)\nrisk_chain = risk_prompt | llm | StrOutputParser()\n\n# Step 3: \u7522\u54c1\u63a8\u85a6 Chain\nrecommend_prompt = PromptTemplate(\n    input_variables=[\"risk_assessment\"],\n    template=\"\"\"\n\u57fa\u65bc\u98a8\u96aa\u8a55\u4f30:\n{risk_assessment}\n\n\u63a8\u85a6 3 \u500b\u570b\u6cf0\u4eba\u58fd\u9069\u5408\u7684\u4fdd\u96aa\u5546\u54c1,\u4e26\u8aaa\u660e\u63a8\u85a6\u7406\u7531\u3002\n\"\"\"\n)\nrecommend_chain = recommend_prompt | llm | StrOutputParser()\n\n# \u7d44\u5408\u6210\u9806\u5e8f\u93c8 (\u4f7f\u7528 LCEL)\nfrom langchain_core.runnables import RunnablePassthrough\n\nfull_chain = (\n    {\"customer_profile\": RunnablePassthrough()}\n    | analysis_chain\n    | {\"analysis\": RunnablePassthrough()}\n    | risk_chain\n    | {\"risk_assessment\": RunnablePassthrough()}\n    | recommend_chain\n)\n\n# \u6e2c\u8a66\ncustomer = \"\"\"\n\u59d3\u540d: \u5f35\u7f8e\u73b2\n\u5e74\u9f61: 28 \u6b72\n\u8077\u696d: \u8edf\u9ad4\u5de5\u7a0b\u5e2b\n\u5a5a\u59fb: \u672a\u5a5a\n\u5e74\u6536\u5165: 120 \u842c\n\u5b58\u6b3e: 80 \u842c\n\u6295\u8cc7\u7d93\u9a57: \u6709\u8cfc\u8cb7\u57fa\u91d1\u7d93\u9a57\n\u73fe\u6709\u4fdd\u969c: \u516c\u53f8\u5718\u4fdd + \u610f\u5916\u96aa\n\"\"\"\n\nresult = full_chain.invoke(customer)\nprint(\"\\n\ud83d\udcbc \u7522\u54c1\u63a8\u85a6\u7d50\u679c\")\nprint(\"=\"*60)\nprint(result)\n</pre> # Step 1: \u5ba2\u6236\u5206\u6790 Chain analysis_prompt = PromptTemplate(     input_variables=[\"customer_profile\"],     template=\"\"\" \u5206\u6790\u4ee5\u4e0b\u5ba2\u6236\u8cc7\u6599,\u8a55\u4f30\u5176\u751f\u6daf\u968e\u6bb5\u548c\u4fdd\u96aa\u9700\u6c42:  {customer_profile}  \u8acb\u5206\u6790: 1. \u751f\u6daf\u968e\u6bb5 2. \u4e3b\u8981\u98a8\u96aa\u7f3a\u53e3 3. \u4fdd\u969c\u512a\u5148\u9806\u5e8f \"\"\" ) analysis_chain = analysis_prompt | llm | StrOutputParser()  # Step 2: \u98a8\u96aa\u8a55\u4f30 Chain risk_prompt = PromptTemplate(     input_variables=[\"analysis\"],     template=\"\"\" \u6839\u64da\u5ba2\u6236\u5206\u6790\u7d50\u679c: {analysis}  \u8a55\u4f30\u5ba2\u6236\u7684\u98a8\u96aa\u627f\u53d7\u5ea6 (\u4fdd\u5b88/\u7a69\u5065/\u7a4d\u6975),\u4e26\u8aaa\u660e\u7406\u7531\u3002 \"\"\" ) risk_chain = risk_prompt | llm | StrOutputParser()  # Step 3: \u7522\u54c1\u63a8\u85a6 Chain recommend_prompt = PromptTemplate(     input_variables=[\"risk_assessment\"],     template=\"\"\" \u57fa\u65bc\u98a8\u96aa\u8a55\u4f30: {risk_assessment}  \u63a8\u85a6 3 \u500b\u570b\u6cf0\u4eba\u58fd\u9069\u5408\u7684\u4fdd\u96aa\u5546\u54c1,\u4e26\u8aaa\u660e\u63a8\u85a6\u7406\u7531\u3002 \"\"\" ) recommend_chain = recommend_prompt | llm | StrOutputParser()  # \u7d44\u5408\u6210\u9806\u5e8f\u93c8 (\u4f7f\u7528 LCEL) from langchain_core.runnables import RunnablePassthrough  full_chain = (     {\"customer_profile\": RunnablePassthrough()}     | analysis_chain     | {\"analysis\": RunnablePassthrough()}     | risk_chain     | {\"risk_assessment\": RunnablePassthrough()}     | recommend_chain )  # \u6e2c\u8a66 customer = \"\"\" \u59d3\u540d: \u5f35\u7f8e\u73b2 \u5e74\u9f61: 28 \u6b72 \u8077\u696d: \u8edf\u9ad4\u5de5\u7a0b\u5e2b \u5a5a\u59fb: \u672a\u5a5a \u5e74\u6536\u5165: 120 \u842c \u5b58\u6b3e: 80 \u842c \u6295\u8cc7\u7d93\u9a57: \u6709\u8cfc\u8cb7\u57fa\u91d1\u7d93\u9a57 \u73fe\u6709\u4fdd\u969c: \u516c\u53f8\u5718\u4fdd + \u610f\u5916\u96aa \"\"\"  result = full_chain.invoke(customer) print(\"\\n\ud83d\udcbc \u7522\u54c1\u63a8\u85a6\u7d50\u679c\") print(\"=\"*60) print(result) In\u00a0[\u00a0]: Copied! <pre>class PremiumCalculationSolution(BaseModel):\n    \"\"\"\u4fdd\u8cbb\u8a66\u7b97\u7d50\u679c\"\"\"\n    product_name: str = Field(description=\"\u5546\u54c1\u540d\u7a31\")\n    coverage_amount: int = Field(description=\"\u4fdd\u984d\")\n    coverage_years: int = Field(description=\"\u4fdd\u969c\u5e74\u671f\")\n    annual_premium: int = Field(description=\"\u5e74\u7e73\u4fdd\u8cbb\")\n    monthly_premium: int = Field(description=\"\u6708\u7e73\u4fdd\u8cbb\")\n    total_premium: int = Field(description=\"\u7e3d\u7e73\u4fdd\u8cbb\")\n    payment_suggestion: str = Field(description=\"\u7e73\u8cbb\u5efa\u8b70\")\n    benefit_summary: List[str] = Field(description=\"\u4fdd\u969c\u6458\u8981\")\n\n# \u5efa\u7acb\u89e3\u6790\u5668\npremium_parser = PydanticOutputParser(pydantic_object=PremiumCalculationSolution)\n\n# \u5efa\u7acb\u63d0\u793a\u8a5e\npremium_prompt = PromptTemplate(\n    input_variables=[\"age\", \"gender\", \"coverage\", \"years\"],\n    template=\"\"\"\n\u8acb\u70ba\u4ee5\u4e0b\u689d\u4ef6\u8a66\u7b97\u570b\u6cf0\u4eba\u58fd\u7d42\u8eab\u58fd\u96aa\u4fdd\u8cbb:\n\n\u5e74\u9f61: {age} \u6b72\n\u6027\u5225: {gender}\n\u4fdd\u984d: ${coverage:,}\n\u4fdd\u969c\u5e74\u671f: {years} \u5e74\n\n\u8acb\u63d0\u4f9b\u5b8c\u6574\u7684\u4fdd\u8cbb\u8a66\u7b97\u7d50\u679c\u548c\u7e73\u8cbb\u5efa\u8b70\u3002\n\n{format_instructions}\n\"\"\",\n    partial_variables={\"format_instructions\": premium_parser.get_format_instructions()}\n)\n\n# \u5efa\u7acb Chain\npremium_chain = premium_prompt | llm | premium_parser\n\n# \u57f7\u884c\u8a66\u7b97\ncalc_result = premium_chain.invoke({\n    \"age\": 30,\n    \"gender\": \"\u7537\",\n    \"coverage\": 2000000,\n    \"years\": 20\n})\n\nprint(\"\\n\ud83d\udcb0 \u4fdd\u8cbb\u8a66\u7b97\u7d50\u679c\")\nprint(\"=\"*60)\nprint(f\"\u5546\u54c1: {calc_result.product_name}\")\nprint(f\"\u4fdd\u984d: ${calc_result.coverage_amount:,}\")\nprint(f\"\u4fdd\u969c\u5e74\u671f: {calc_result.coverage_years} \u5e74\")\nprint(f\"\\n\ud83d\udcb5 \u4fdd\u8cbb\u8cc7\u8a0a:\")\nprint(f\"  \u5e74\u7e73: ${calc_result.annual_premium:,}\")\nprint(f\"  \u6708\u7e73: ${calc_result.monthly_premium:,}\")\nprint(f\"  \u7e3d\u7e73: ${calc_result.total_premium:,}\")\nprint(f\"\\n\ud83d\udca1 \u7e73\u8cbb\u5efa\u8b70:\\n{calc_result.payment_suggestion}\")\nprint(f\"\\n\u2705 \u4fdd\u969c\u5167\u5bb9:\")\nfor benefit in calc_result.benefit_summary:\n    print(f\"  \u2022 {benefit}\")\n</pre> class PremiumCalculationSolution(BaseModel):     \"\"\"\u4fdd\u8cbb\u8a66\u7b97\u7d50\u679c\"\"\"     product_name: str = Field(description=\"\u5546\u54c1\u540d\u7a31\")     coverage_amount: int = Field(description=\"\u4fdd\u984d\")     coverage_years: int = Field(description=\"\u4fdd\u969c\u5e74\u671f\")     annual_premium: int = Field(description=\"\u5e74\u7e73\u4fdd\u8cbb\")     monthly_premium: int = Field(description=\"\u6708\u7e73\u4fdd\u8cbb\")     total_premium: int = Field(description=\"\u7e3d\u7e73\u4fdd\u8cbb\")     payment_suggestion: str = Field(description=\"\u7e73\u8cbb\u5efa\u8b70\")     benefit_summary: List[str] = Field(description=\"\u4fdd\u969c\u6458\u8981\")  # \u5efa\u7acb\u89e3\u6790\u5668 premium_parser = PydanticOutputParser(pydantic_object=PremiumCalculationSolution)  # \u5efa\u7acb\u63d0\u793a\u8a5e premium_prompt = PromptTemplate(     input_variables=[\"age\", \"gender\", \"coverage\", \"years\"],     template=\"\"\" \u8acb\u70ba\u4ee5\u4e0b\u689d\u4ef6\u8a66\u7b97\u570b\u6cf0\u4eba\u58fd\u7d42\u8eab\u58fd\u96aa\u4fdd\u8cbb:  \u5e74\u9f61: {age} \u6b72 \u6027\u5225: {gender} \u4fdd\u984d: ${coverage:,} \u4fdd\u969c\u5e74\u671f: {years} \u5e74  \u8acb\u63d0\u4f9b\u5b8c\u6574\u7684\u4fdd\u8cbb\u8a66\u7b97\u7d50\u679c\u548c\u7e73\u8cbb\u5efa\u8b70\u3002  {format_instructions} \"\"\",     partial_variables={\"format_instructions\": premium_parser.get_format_instructions()} )  # \u5efa\u7acb Chain premium_chain = premium_prompt | llm | premium_parser  # \u57f7\u884c\u8a66\u7b97 calc_result = premium_chain.invoke({     \"age\": 30,     \"gender\": \"\u7537\",     \"coverage\": 2000000,     \"years\": 20 })  print(\"\\n\ud83d\udcb0 \u4fdd\u8cbb\u8a66\u7b97\u7d50\u679c\") print(\"=\"*60) print(f\"\u5546\u54c1: {calc_result.product_name}\") print(f\"\u4fdd\u984d: ${calc_result.coverage_amount:,}\") print(f\"\u4fdd\u969c\u5e74\u671f: {calc_result.coverage_years} \u5e74\") print(f\"\\n\ud83d\udcb5 \u4fdd\u8cbb\u8cc7\u8a0a:\") print(f\"  \u5e74\u7e73: ${calc_result.annual_premium:,}\") print(f\"  \u6708\u7e73: ${calc_result.monthly_premium:,}\") print(f\"  \u7e3d\u7e73: ${calc_result.total_premium:,}\") print(f\"\\n\ud83d\udca1 \u7e73\u8cbb\u5efa\u8b70:\\n{calc_result.payment_suggestion}\") print(f\"\\n\u2705 \u4fdd\u969c\u5167\u5bb9:\") for benefit in calc_result.benefit_summary:     print(f\"  \u2022 {benefit}\")"},{"location":"langchain/notebooks/01-langchain-basics/#01-langchain","title":"01 - LangChain \u57fa\u790e\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u7406\u89e3 LangChain \u6838\u5fc3\u6982\u5ff5\u8207\u67b6\u69cb</li> <li>\u2705 \u638c\u63e1 PromptTemplate \u7684\u4f7f\u7528\u65b9\u6cd5</li> <li>\u2705 \u5b78\u7fd2 LLM \u8207 ChatModel \u7684\u5dee\u7570</li> <li>\u2705 \u5efa\u7acb\u7b2c\u4e00\u500b Chain \u61c9\u7528</li> <li>\u2705 \u5be6\u4f5c\u570b\u6cf0\u4eba\u58fd\u4fdd\u55ae\u67e5\u8a62\u52a9\u7406</li> </ul>"},{"location":"langchain/notebooks/01-langchain-basics/#45","title":"\u23f0 \u9810\u8a08\u6642\u9593: 45 \u5206\u9418\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/","title":"\ud83d\udce6 \u74b0\u5883\u8a2d\u5b9a\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/","title":"\u5b89\u88dd\u5fc5\u8981\u5957\u4ef6\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#part-1-langchain","title":"Part 1: LangChain \u6838\u5fc3\u6982\u5ff5\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#11-langchain","title":"1.1 LangChain \u67b6\u69cb\u6982\u89bd\u00b6","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         LangChain \u67b6\u69cb\u5c64\u6b21              \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Application Layer (\u4f60\u7684\u61c9\u7528)           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Chains (\u4e32\u63a5\u591a\u500b\u7d44\u4ef6)                  \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  Components:                            \u2502\n\u2502  - Prompts (\u63d0\u793a\u8a5e\u6a21\u677f)                 \u2502\n\u2502  - Models (LLM/ChatModel)              \u2502\n\u2502  - Output Parsers (\u8f38\u51fa\u89e3\u6790)           \u2502\n\u2502  - Memory (\u8a18\u61b6)                        \u2502\n\u2502  - Tools (\u5de5\u5177)                         \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502  LangChain Core (\u6838\u5fc3\u62bd\u8c61)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"langchain/notebooks/01-langchain-basics/#12-llm","title":"1.2 \u7b2c\u4e00\u500b LLM \u547c\u53eb\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#13-llm-vs-chatmodel","title":"1.3 LLM vs ChatModel \u5dee\u7570\u00b6","text":"\u7279\u6027 LLM ChatModel \u8f38\u5165\u683c\u5f0f \u7d14\u6587\u5b57\u5b57\u4e32 Message \u7269\u4ef6\u5217\u8868 \u8f38\u51fa\u683c\u5f0f \u7d14\u6587\u5b57\u5b57\u4e32 AIMessage \u7269\u4ef6 \u652f\u63f4\u89d2\u8272 \u7121 System/Human/AI \u5c0d\u8a71\u6b77\u53f2 \u9700\u624b\u52d5\u7ba1\u7406 \u539f\u751f\u652f\u63f4 \u7bc4\u4f8b\u6a21\u578b text-davinci-003 gpt-4, gpt-3.5-turbo"},{"location":"langchain/notebooks/01-langchain-basics/#part-2-prompttemplate","title":"Part 2: PromptTemplate \u63d0\u793a\u8a5e\u6a21\u677f\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#21-prompttemplate","title":"2.1 \u70ba\u4ec0\u9ebc\u9700\u8981 PromptTemplate?\u00b6","text":"<p>\u274c \u4e0d\u4f7f\u7528\u6a21\u677f:</p> <pre>prompt = f\"\u8acb\u67e5\u8a62\u4fdd\u55ae\u865f\u78bc {policy_id} \u7684\u8cc7\u8a0a\"\n</pre> <p>\u554f\u984c: \u96e3\u4ee5\u7dad\u8b77\u3001\u5bb9\u6613\u51fa\u932f\u3001\u7121\u6cd5\u91cd\u8907\u4f7f\u7528</p> <p>\u2705 \u4f7f\u7528\u6a21\u677f:</p> <pre>template = PromptTemplate(\n    template=\"\u8acb\u67e5\u8a62\u4fdd\u55ae\u865f\u78bc {policy_id} \u7684\u8cc7\u8a0a\",\n    input_variables=[\"policy_id\"]\n)\n</pre> <p>\u512a\u9ede: \u53ef\u91cd\u8907\u4f7f\u7528\u3001\u53c3\u6578\u5316\u3001\u6613\u65bc\u6e2c\u8a66</p>"},{"location":"langchain/notebooks/01-langchain-basics/#22-prompttemplate","title":"2.2 \u57fa\u790e PromptTemplate\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#23-chatprompttemplate","title":"2.3 ChatPromptTemplate (\u5c0d\u8a71\u6a21\u677f)\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#part-3-chain","title":"Part 3: Chain \u93c8\u63a5\u7d44\u4ef6\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#31-chain","title":"3.1 \u4ec0\u9ebc\u662f Chain?\u00b6","text":"<p>Chain \u662f LangChain \u7684\u6838\u5fc3\u6982\u5ff5,\u7528\u65bc\u5c07\u591a\u500b\u7d44\u4ef6\u4e32\u63a5\u8d77\u4f86:</p> <pre><code>Input \u2192 PromptTemplate \u2192 LLM \u2192 OutputParser \u2192 Output\n</code></pre>"},{"location":"langchain/notebooks/01-langchain-basics/#32-llmchain","title":"3.2 LLMChain \u57fa\u790e\u7528\u6cd5\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#33-lcel-langchain-expression-language","title":"3.3 \u4f7f\u7528 LCEL (LangChain Expression Language)\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#34-sequentialchain","title":"3.4 SequentialChain \u9806\u5e8f\u93c8\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#part-4-output-parsers","title":"Part 4: Output Parsers \u8f38\u51fa\u89e3\u6790\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#41-output-parser","title":"4.1 \u70ba\u4ec0\u9ebc\u9700\u8981 Output Parser?\u00b6","text":"<p>LLM \u7684\u8f38\u51fa\u901a\u5e38\u662f\u7d14\u6587\u5b57,\u4f46\u6211\u5011\u5e38\u9700\u8981\u7d50\u69cb\u5316\u8cc7\u6599 (JSON\u3001List \u7b49)</p>"},{"location":"langchain/notebooks/01-langchain-basics/#42-pydantic-output-parser","title":"4.2 Pydantic Output Parser (\u7d50\u69cb\u5316\u8f38\u51fa)\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#part-5-","title":"Part 5: \u5be6\u6230\u6848\u4f8b - \u570b\u6cf0\u4eba\u58fd\u4fdd\u55ae\u67e5\u8a62\u52a9\u7406\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/","title":"\u6574\u5408\u6240\u6709\u5b78\u5230\u7684\u6280\u8853\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/","title":"\ud83c\udfaf \u7df4\u7fd2\u984c\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#1","title":"\u7df4\u7fd2 1: \u5efa\u7acb\u7406\u8ce0\u67e5\u8a62\u7cfb\u7d71\u00b6","text":"<p>\u9700\u6c42:</p> <ol> <li>\u5b9a\u7fa9 ClaimInfo \u8cc7\u6599\u7d50\u69cb (\u7406\u8ce0\u7de8\u865f\u3001\u72c0\u614b\u3001\u91d1\u984d\u3001\u8655\u7406\u9032\u5ea6)</li> <li>\u5efa\u7acb PromptTemplate</li> <li>\u4f7f\u7528 Pydantic Parser</li> <li>\u5efa\u7acb\u5b8c\u6574\u7684\u67e5\u8a62 Chain</li> </ol>"},{"location":"langchain/notebooks/01-langchain-basics/#2","title":"\u7df4\u7fd2 2: \u591a\u6b65\u9a5f\u7522\u54c1\u63a8\u85a6\u00b6","text":"<p>\u9700\u6c42:</p> <ol> <li>Step 1: \u5206\u6790\u5ba2\u6236\u5e74\u9f61\u3001\u6536\u5165\u3001\u5bb6\u5ead\u72c0\u6cc1</li> <li>Step 2: \u8a55\u4f30\u98a8\u96aa\u627f\u53d7\u5ea6</li> <li>Step 3: \u63a8\u85a6 3 \u500b\u9069\u5408\u7684\u4fdd\u96aa\u5546\u54c1</li> <li>\u4f7f\u7528 SequentialChain \u4e32\u63a5</li> </ol>"},{"location":"langchain/notebooks/01-langchain-basics/#3","title":"\u7df4\u7fd2 3: \u4fdd\u8cbb\u8a66\u7b97\u5de5\u5177\u00b6","text":"<p>\u9700\u6c42:</p> <ol> <li>\u8f38\u5165: \u5e74\u9f61\u3001\u6027\u5225\u3001\u4fdd\u984d\u3001\u4fdd\u969c\u5e74\u671f</li> <li>\u8f38\u51fa\u7d50\u69cb\u5316\u7684\u8a66\u7b97\u7d50\u679c (\u5e74\u7e73/\u6708\u7e73/\u7e3d\u4fdd\u8cbb)</li> <li>\u63d0\u4f9b\u7e73\u8cbb\u5efa\u8b70</li> </ol>"},{"location":"langchain/notebooks/01-langchain-basics/","title":"\u2705 \u7df4\u7fd2\u89e3\u7b54\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#1","title":"\u7df4\u7fd2 1 \u89e3\u7b54: \u7406\u8ce0\u67e5\u8a62\u7cfb\u7d71\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#2","title":"\u7df4\u7fd2 2 \u89e3\u7b54: \u591a\u6b65\u9a5f\u7522\u54c1\u63a8\u85a6\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#3","title":"\u7df4\u7fd2 3 \u89e3\u7b54: \u4fdd\u8cbb\u8a66\u7b97\u5de5\u5177\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/","title":"\ud83d\udcdd \u5b78\u7fd2\u6aa2\u67e5\u6e05\u55ae\u00b6","text":"<p>\u5b8c\u6210\u672c Notebook \u5f8c,\u4f60\u61c9\u8a72\u80fd\u5920:</p> <ul> <li>\u7406\u89e3 LangChain \u7684\u6838\u5fc3\u67b6\u69cb</li> <li>\u5340\u5206 LLM \u548c ChatModel \u7684\u5dee\u7570</li> <li>\u4f7f\u7528 PromptTemplate \u5efa\u7acb\u53ef\u91cd\u8907\u4f7f\u7528\u7684\u63d0\u793a\u8a5e</li> <li>\u4f7f\u7528 ChatPromptTemplate \u5efa\u7acb\u5c0d\u8a71\u6a21\u677f</li> <li>\u7406\u89e3 Chain \u7684\u6982\u5ff5\u4e26\u5efa\u7acb\u7c21\u55ae\u7684 LLMChain</li> <li>\u4f7f\u7528 LCEL (LangChain Expression Language)</li> <li>\u4f7f\u7528 SequentialChain \u5efa\u7acb\u591a\u6b65\u9a5f\u6d41\u7a0b</li> <li>\u4f7f\u7528 Output Parsers \u53d6\u5f97\u7d50\u69cb\u5316\u8f38\u51fa</li> <li>\u4f7f\u7528 Pydantic \u5b9a\u7fa9\u8907\u96dc\u7684\u8f38\u51fa\u7d50\u69cb</li> <li>\u6574\u5408\u6240\u6709\u6280\u8853\u5efa\u7acb\u5be6\u7528\u7684\u61c9\u7528</li> </ul>"},{"location":"langchain/notebooks/01-langchain-basics/","title":"\ud83c\udf93 \u91cd\u9ede\u56de\u9867\u00b6","text":""},{"location":"langchain/notebooks/01-langchain-basics/#langchain","title":"LangChain \u6838\u5fc3\u6982\u5ff5\u00b6","text":"<ol> <li>Components: Prompts, Models, Parsers, Memory, Tools</li> <li>Chains: \u4e32\u63a5\u591a\u500b\u7d44\u4ef6\u5f62\u6210\u5b8c\u6574\u6d41\u7a0b</li> <li>LCEL: \u4f7f\u7528 <code>|</code> \u904b\u7b97\u5b50\u7684\u73fe\u4ee3\u5316 Chain \u8a9e\u6cd5</li> </ol>"},{"location":"langchain/notebooks/01-langchain-basics/","title":"\u6700\u4f73\u5be6\u8e10\u00b6","text":"<ol> <li>\u4f7f\u7528 PromptTemplate \u7ba1\u7406\u63d0\u793a\u8a5e</li> <li>\u4f7f\u7528 Pydantic \u5b9a\u7fa9\u7d50\u69cb\u5316\u8f38\u51fa</li> <li>\u4f7f\u7528 ChatModel \u800c\u975e LLM (\u652f\u63f4\u89d2\u8272\u548c\u5c0d\u8a71\u6b77\u53f2)</li> <li>\u4f7f\u7528 LCEL \u5efa\u7acb\u53ef\u8b80\u6027\u9ad8\u7684 Chain</li> </ol>"},{"location":"langchain/notebooks/01-langchain-basics/","title":"\u4e0b\u4e00\u6b65\u00b6","text":"<p>\u7e7c\u7e8c\u524d\u5f80 <code>02-langchain-agents.ipynb</code> \u5b78\u7fd2\u5982\u4f55\u5efa\u7acb LangChain Agent \ud83d\udc49</p>"},{"location":"langchain/notebooks/02-langchain-agents/","title":"\u7df4\u7fd2 02 - LangChain Agents","text":"In\u00a0[\u00a0]: Copied! <pre># \u5b89\u88dd\u5fc5\u8981\u5957\u4ef6\n!pip install langchain==0.1.0\n!pip install langchain-openai==0.0.5\n!pip install langchain-community==0.0.16\n!pip install python-dotenv==1.0.0\n</pre> # \u5b89\u88dd\u5fc5\u8981\u5957\u4ef6 !pip install langchain==0.1.0 !pip install langchain-openai==0.0.5 !pip install langchain-community==0.0.16 !pip install python-dotenv==1.0.0 In\u00a0[\u00a0]: Copied! <pre>from dotenv import load_dotenv\nimport os\n\nload_dotenv()\nprint(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\")\nprint(f\"OpenAI API Key: {'\u5df2\u8a2d\u5b9a' if os.getenv('OPENAI_API_KEY') else '\u672a\u8a2d\u5b9a'}\")\n</pre> from dotenv import load_dotenv import os  load_dotenv() print(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\") print(f\"OpenAI API Key: {'\u5df2\u8a2d\u5b9a' if os.getenv('OPENAI_API_KEY') else '\u672a\u8a2d\u5b9a'}\") In\u00a0[\u00a0]: Copied! <pre># ReAct \u7bc4\u4f8b\u57f7\u884c\u904e\u7a0b\nexample_process = \"\"\"\nQuestion: \u67e5\u8a62\u4fdd\u55ae CL202401001 \u7684\u7e73\u8cbb\u72c0\u6cc1\n\nThought: \u6211\u9700\u8981\u5148\u67e5\u8a62\u9019\u500b\u4fdd\u55ae\u7684\u57fa\u672c\u8cc7\u8a0a\nAction: policy_lookup\nAction Input: CL202401001\nObservation: \u4fdd\u55ae\u985e\u578b=\u7d42\u8eab\u58fd\u96aa, \u6295\u4fdd\u4eba=\u738b\u5c0f\u660e, \u5e74\u7e73\u4fdd\u8cbb=50000\n\nThought: \u73fe\u5728\u6211\u9700\u8981\u67e5\u8a62\u7e73\u8cbb\u7d00\u9304\nAction: payment_history\nAction Input: CL202401001\nObservation: 2024-01 \u5df2\u7e73, 2024-02 \u5df2\u7e73, 2024-03 \u5f85\u7e73\n\nThought: \u6211\u5df2\u7d93\u6709\u8db3\u5920\u8cc7\u8a0a\u56de\u7b54\u554f\u984c\u4e86\nFinal Answer: \u4fdd\u55ae CL202401001 \u76ee\u524d\u7e73\u8cbb\u72c0\u6cc1\u826f\u597d,1-2\u6708\u5df2\u6b63\u5e38\u7e73\u8cbb,3\u6708\u4efd\u4fdd\u8cbb\u5f85\u7e73\u3002\n\"\"\"\n\nprint(example_process)\n</pre> # ReAct \u7bc4\u4f8b\u57f7\u884c\u904e\u7a0b example_process = \"\"\" Question: \u67e5\u8a62\u4fdd\u55ae CL202401001 \u7684\u7e73\u8cbb\u72c0\u6cc1  Thought: \u6211\u9700\u8981\u5148\u67e5\u8a62\u9019\u500b\u4fdd\u55ae\u7684\u57fa\u672c\u8cc7\u8a0a Action: policy_lookup Action Input: CL202401001 Observation: \u4fdd\u55ae\u985e\u578b=\u7d42\u8eab\u58fd\u96aa, \u6295\u4fdd\u4eba=\u738b\u5c0f\u660e, \u5e74\u7e73\u4fdd\u8cbb=50000  Thought: \u73fe\u5728\u6211\u9700\u8981\u67e5\u8a62\u7e73\u8cbb\u7d00\u9304 Action: payment_history Action Input: CL202401001 Observation: 2024-01 \u5df2\u7e73, 2024-02 \u5df2\u7e73, 2024-03 \u5f85\u7e73  Thought: \u6211\u5df2\u7d93\u6709\u8db3\u5920\u8cc7\u8a0a\u56de\u7b54\u554f\u984c\u4e86 Final Answer: \u4fdd\u55ae CL202401001 \u76ee\u524d\u7e73\u8cbb\u72c0\u6cc1\u826f\u597d,1-2\u6708\u5df2\u6b63\u5e38\u7e73\u8cbb,3\u6708\u4efd\u4fdd\u8cbb\u5f85\u7e73\u3002 \"\"\"  print(example_process) In\u00a0[\u00a0]: Copied! <pre>from langchain.tools import tool\nfrom typing import Dict\n\n@tool\ndef policy_lookup(policy_id: str) -&gt; str:\n    \"\"\"\u67e5\u8a62\u4fdd\u55ae\u57fa\u672c\u8cc7\u8a0a\u3002\n    \n    Args:\n        policy_id: \u4fdd\u55ae\u865f\u78bc\n        \n    Returns:\n        \u5305\u542b\u4fdd\u55ae\u985e\u578b\u3001\u6295\u4fdd\u4eba\u3001\u4fdd\u8cbb\u7b49\u8cc7\u8a0a\u7684\u5b57\u4e32\n    \"\"\"\n    # \u6a21\u64ec\u8cc7\u6599\u5eab\u67e5\u8a62\n    mock_db = {\n        \"CL202401001\": {\n            \"type\": \"\u7d42\u8eab\u58fd\u96aa\",\n            \"owner\": \"\u738b\u5c0f\u660e\",\n            \"annual_premium\": 50000,\n            \"status\": \"\u6709\u6548\"\n        },\n        \"CL202401002\": {\n            \"type\": \"\u91ab\u7642\u96aa\",\n            \"owner\": \"\u674e\u5c0f\u83ef\",\n            \"annual_premium\": 30000,\n            \"status\": \"\u6709\u6548\"\n        }\n    }\n    \n    if policy_id in mock_db:\n        info = mock_db[policy_id]\n        return f\"\u4fdd\u55ae\u985e\u578b: {info['type']}, \u6295\u4fdd\u4eba: {info['owner']}, \u5e74\u7e73\u4fdd\u8cbb: ${info['annual_premium']:,}, \u72c0\u614b: {info['status']}\"\n    else:\n        return f\"\u627e\u4e0d\u5230\u4fdd\u55ae {policy_id}\"\n\n@tool\ndef payment_history(policy_id: str) -&gt; str:\n    \"\"\"\u67e5\u8a62\u4fdd\u55ae\u7e73\u8cbb\u7d00\u9304\u3002\n    \n    Args:\n        policy_id: \u4fdd\u55ae\u865f\u78bc\n        \n    Returns:\n        \u7e73\u8cbb\u7d00\u9304\u5b57\u4e32\n    \"\"\"\n    # \u6a21\u64ec\u7e73\u8cbb\u7d00\u9304\n    mock_payments = {\n        \"CL202401001\": [\n            {\"period\": \"2024-01\", \"status\": \"\u5df2\u7e73\", \"amount\": 50000},\n            {\"period\": \"2024-02\", \"status\": \"\u5df2\u7e73\", \"amount\": 50000},\n            {\"period\": \"2024-03\", \"status\": \"\u5f85\u7e73\", \"amount\": 50000}\n        ]\n    }\n    \n    if policy_id in mock_payments:\n        records = mock_payments[policy_id]\n        result = []\n        for r in records:\n            result.append(f\"{r['period']}: {r['status']} (${r['amount']:,})\")\n        return \"\\n\".join(result)\n    else:\n        return f\"\u627e\u4e0d\u5230\u4fdd\u55ae {policy_id} \u7684\u7e73\u8cbb\u7d00\u9304\"\n\n@tool\ndef premium_calculator(age: int, coverage: int) -&gt; str:\n    \"\"\"\u8a08\u7b97\u4fdd\u8cbb\u3002\n    \n    Args:\n        age: \u6295\u4fdd\u5e74\u9f61\n        coverage: \u4fdd\u984d\n        \n    Returns:\n        \u8a66\u7b97\u7684\u5e74\u7e73\u4fdd\u8cbb\n    \"\"\"\n    # \u7c21\u55ae\u7684\u4fdd\u8cbb\u8a08\u7b97\u516c\u5f0f (\u5be6\u969b\u6703\u66f4\u8907\u96dc)\n    base_rate = 0.02  # \u57fa\u790e\u8cbb\u7387 2%\n    age_factor = 1 + (age - 30) * 0.01  # \u5e74\u9f61\u4fc2\u6578\n    annual_premium = int(coverage * base_rate * age_factor)\n    \n    return f\"\u5e74\u9f61 {age} \u6b72,\u4fdd\u984d ${coverage:,} \u7684\u5e74\u7e73\u4fdd\u8cbb\u7d04\u70ba ${annual_premium:,}\"\n\n# \u6e2c\u8a66\u5de5\u5177\nprint(\"\ud83d\udd27 \u6e2c\u8a66\u5de5\u5177\u529f\u80fd:\\n\")\nprint(\"1. \u4fdd\u55ae\u67e5\u8a62:\")\nprint(policy_lookup.invoke({\"policy_id\": \"CL202401001\"}))\nprint(\"\\n2. \u7e73\u8cbb\u7d00\u9304:\")\nprint(payment_history.invoke({\"policy_id\": \"CL202401001\"}))\nprint(\"\\n3. \u4fdd\u8cbb\u8a66\u7b97:\")\nprint(premium_calculator.invoke({\"age\": 35, \"coverage\": 2000000}))\n</pre> from langchain.tools import tool from typing import Dict  @tool def policy_lookup(policy_id: str) -&gt; str:     \"\"\"\u67e5\u8a62\u4fdd\u55ae\u57fa\u672c\u8cc7\u8a0a\u3002          Args:         policy_id: \u4fdd\u55ae\u865f\u78bc              Returns:         \u5305\u542b\u4fdd\u55ae\u985e\u578b\u3001\u6295\u4fdd\u4eba\u3001\u4fdd\u8cbb\u7b49\u8cc7\u8a0a\u7684\u5b57\u4e32     \"\"\"     # \u6a21\u64ec\u8cc7\u6599\u5eab\u67e5\u8a62     mock_db = {         \"CL202401001\": {             \"type\": \"\u7d42\u8eab\u58fd\u96aa\",             \"owner\": \"\u738b\u5c0f\u660e\",             \"annual_premium\": 50000,             \"status\": \"\u6709\u6548\"         },         \"CL202401002\": {             \"type\": \"\u91ab\u7642\u96aa\",             \"owner\": \"\u674e\u5c0f\u83ef\",             \"annual_premium\": 30000,             \"status\": \"\u6709\u6548\"         }     }          if policy_id in mock_db:         info = mock_db[policy_id]         return f\"\u4fdd\u55ae\u985e\u578b: {info['type']}, \u6295\u4fdd\u4eba: {info['owner']}, \u5e74\u7e73\u4fdd\u8cbb: ${info['annual_premium']:,}, \u72c0\u614b: {info['status']}\"     else:         return f\"\u627e\u4e0d\u5230\u4fdd\u55ae {policy_id}\"  @tool def payment_history(policy_id: str) -&gt; str:     \"\"\"\u67e5\u8a62\u4fdd\u55ae\u7e73\u8cbb\u7d00\u9304\u3002          Args:         policy_id: \u4fdd\u55ae\u865f\u78bc              Returns:         \u7e73\u8cbb\u7d00\u9304\u5b57\u4e32     \"\"\"     # \u6a21\u64ec\u7e73\u8cbb\u7d00\u9304     mock_payments = {         \"CL202401001\": [             {\"period\": \"2024-01\", \"status\": \"\u5df2\u7e73\", \"amount\": 50000},             {\"period\": \"2024-02\", \"status\": \"\u5df2\u7e73\", \"amount\": 50000},             {\"period\": \"2024-03\", \"status\": \"\u5f85\u7e73\", \"amount\": 50000}         ]     }          if policy_id in mock_payments:         records = mock_payments[policy_id]         result = []         for r in records:             result.append(f\"{r['period']}: {r['status']} (${r['amount']:,})\")         return \"\\n\".join(result)     else:         return f\"\u627e\u4e0d\u5230\u4fdd\u55ae {policy_id} \u7684\u7e73\u8cbb\u7d00\u9304\"  @tool def premium_calculator(age: int, coverage: int) -&gt; str:     \"\"\"\u8a08\u7b97\u4fdd\u8cbb\u3002          Args:         age: \u6295\u4fdd\u5e74\u9f61         coverage: \u4fdd\u984d              Returns:         \u8a66\u7b97\u7684\u5e74\u7e73\u4fdd\u8cbb     \"\"\"     # \u7c21\u55ae\u7684\u4fdd\u8cbb\u8a08\u7b97\u516c\u5f0f (\u5be6\u969b\u6703\u66f4\u8907\u96dc)     base_rate = 0.02  # \u57fa\u790e\u8cbb\u7387 2%     age_factor = 1 + (age - 30) * 0.01  # \u5e74\u9f61\u4fc2\u6578     annual_premium = int(coverage * base_rate * age_factor)          return f\"\u5e74\u9f61 {age} \u6b72,\u4fdd\u984d ${coverage:,} \u7684\u5e74\u7e73\u4fdd\u8cbb\u7d04\u70ba ${annual_premium:,}\"  # \u6e2c\u8a66\u5de5\u5177 print(\"\ud83d\udd27 \u6e2c\u8a66\u5de5\u5177\u529f\u80fd:\\n\") print(\"1. \u4fdd\u55ae\u67e5\u8a62:\") print(policy_lookup.invoke({\"policy_id\": \"CL202401001\"})) print(\"\\n2. \u7e73\u8cbb\u7d00\u9304:\") print(payment_history.invoke({\"policy_id\": \"CL202401001\"})) print(\"\\n3. \u4fdd\u8cbb\u8a66\u7b97:\") print(premium_calculator.invoke({\"age\": 35, \"coverage\": 2000000})) In\u00a0[\u00a0]: Copied! <pre>from langchain.tools import Tool\n\ndef claim_status_check(claim_id: str) -&gt; str:\n    \"\"\"\u67e5\u8a62\u7406\u8ce0\u6848\u4ef6\u72c0\u614b\"\"\"\n    mock_claims = {\n        \"CLM20240101\": \"\u5be9\u6838\u4e2d - \u9810\u8a08 3 \u500b\u5de5\u4f5c\u5929\u5b8c\u6210\",\n        \"CLM20240102\": \"\u5df2\u6838\u51c6 - \u7406\u8ce0\u91d1\u984d $50,000 \u5df2\u65bc 2024-03-15 \u532f\u6b3e\"\n    }\n    return mock_claims.get(claim_id, f\"\u627e\u4e0d\u5230\u7406\u8ce0\u6848\u4ef6 {claim_id}\")\n\n# \u4f7f\u7528 Tool \u985e\u5225\u5305\u88dd\nclaim_tool = Tool(\n    name=\"claim_status\",\n    func=claim_status_check,\n    description=\"\u67e5\u8a62\u7406\u8ce0\u6848\u4ef6\u7684\u8655\u7406\u72c0\u614b\u3002\u8f38\u5165\u7406\u8ce0\u7de8\u865f,\u8fd4\u56de\u6848\u4ef6\u72c0\u614b\u3002\"\n)\n\nprint(\"\ud83d\udccb \u7406\u8ce0\u67e5\u8a62:\")\nprint(claim_tool.run(\"CLM20240102\"))\n</pre> from langchain.tools import Tool  def claim_status_check(claim_id: str) -&gt; str:     \"\"\"\u67e5\u8a62\u7406\u8ce0\u6848\u4ef6\u72c0\u614b\"\"\"     mock_claims = {         \"CLM20240101\": \"\u5be9\u6838\u4e2d - \u9810\u8a08 3 \u500b\u5de5\u4f5c\u5929\u5b8c\u6210\",         \"CLM20240102\": \"\u5df2\u6838\u51c6 - \u7406\u8ce0\u91d1\u984d $50,000 \u5df2\u65bc 2024-03-15 \u532f\u6b3e\"     }     return mock_claims.get(claim_id, f\"\u627e\u4e0d\u5230\u7406\u8ce0\u6848\u4ef6 {claim_id}\")  # \u4f7f\u7528 Tool \u985e\u5225\u5305\u88dd claim_tool = Tool(     name=\"claim_status\",     func=claim_status_check,     description=\"\u67e5\u8a62\u7406\u8ce0\u6848\u4ef6\u7684\u8655\u7406\u72c0\u614b\u3002\u8f38\u5165\u7406\u8ce0\u7de8\u865f,\u8fd4\u56de\u6848\u4ef6\u72c0\u614b\u3002\" )  print(\"\ud83d\udccb \u7406\u8ce0\u67e5\u8a62:\") print(claim_tool.run(\"CLM20240102\")) In\u00a0[\u00a0]: Copied! <pre>from langchain.agents import create_react_agent, AgentExecutor\nfrom langchain_openai import ChatOpenAI\nfrom langchain import hub\n\n# \u521d\u59cb\u5316 LLM\nllm = ChatOpenAI(model=\"gpt-4\", temperature=0)\n\n# \u6e96\u5099\u5de5\u5177\u5217\u8868\ntools = [\n    policy_lookup,\n    payment_history,\n    premium_calculator,\n    claim_tool\n]\n\n# \u8f09\u5165 ReAct Prompt (LangChain Hub)\nprompt = hub.pull(\"hwchase17/react\")\n\n# \u5efa\u7acb Agent\nagent = create_react_agent(llm, tools, prompt)\n\n# \u5efa\u7acb Agent Executor\nagent_executor = AgentExecutor(\n    agent=agent,\n    tools=tools,\n    verbose=True,  # \u986f\u793a\u57f7\u884c\u904e\u7a0b\n    handle_parsing_errors=True,  # \u8655\u7406\u89e3\u6790\u932f\u8aa4\n    max_iterations=5  # \u6700\u5927\u8fed\u4ee3\u6b21\u6578\n)\n\nprint(\"\u2705 ReAct Agent \u5efa\u7acb\u5b8c\u6210\")\n</pre> from langchain.agents import create_react_agent, AgentExecutor from langchain_openai import ChatOpenAI from langchain import hub  # \u521d\u59cb\u5316 LLM llm = ChatOpenAI(model=\"gpt-4\", temperature=0)  # \u6e96\u5099\u5de5\u5177\u5217\u8868 tools = [     policy_lookup,     payment_history,     premium_calculator,     claim_tool ]  # \u8f09\u5165 ReAct Prompt (LangChain Hub) prompt = hub.pull(\"hwchase17/react\")  # \u5efa\u7acb Agent agent = create_react_agent(llm, tools, prompt)  # \u5efa\u7acb Agent Executor agent_executor = AgentExecutor(     agent=agent,     tools=tools,     verbose=True,  # \u986f\u793a\u57f7\u884c\u904e\u7a0b     handle_parsing_errors=True,  # \u8655\u7406\u89e3\u6790\u932f\u8aa4     max_iterations=5  # \u6700\u5927\u8fed\u4ee3\u6b21\u6578 )  print(\"\u2705 ReAct Agent \u5efa\u7acb\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre># \u6e2c\u8a66 1: \u4fdd\u55ae\u67e5\u8a62\nresult = agent_executor.invoke({\n    \"input\": \"\u8acb\u67e5\u8a62\u4fdd\u55ae CL202401001 \u7684\u57fa\u672c\u8cc7\u8a0a\"\n})\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"\ud83e\udd16 Agent \u56de\u7b54:\")\nprint(\"=\"*60)\nprint(result[\"output\"])\n</pre> # \u6e2c\u8a66 1: \u4fdd\u55ae\u67e5\u8a62 result = agent_executor.invoke({     \"input\": \"\u8acb\u67e5\u8a62\u4fdd\u55ae CL202401001 \u7684\u57fa\u672c\u8cc7\u8a0a\" })  print(\"\\n\" + \"=\"*60) print(\"\ud83e\udd16 Agent \u56de\u7b54:\") print(\"=\"*60) print(result[\"output\"]) In\u00a0[\u00a0]: Copied! <pre># \u6e2c\u8a66 2: \u9700\u8981\u591a\u500b\u5de5\u5177\u7684\u67e5\u8a62\nresult = agent_executor.invoke({\n    \"input\": \"\u8acb\u5e6b\u6211\u67e5\u8a62\u4fdd\u55ae CL202401001 \u7684\u7e73\u8cbb\u72c0\u6cc1,\u4e26\u544a\u8a34\u6211\u4e0b\u6b21\u8a72\u7e73\u591a\u5c11\u9322\"\n})\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"\ud83e\udd16 Agent \u56de\u7b54:\")\nprint(\"=\"*60)\nprint(result[\"output\"])\n</pre> # \u6e2c\u8a66 2: \u9700\u8981\u591a\u500b\u5de5\u5177\u7684\u67e5\u8a62 result = agent_executor.invoke({     \"input\": \"\u8acb\u5e6b\u6211\u67e5\u8a62\u4fdd\u55ae CL202401001 \u7684\u7e73\u8cbb\u72c0\u6cc1,\u4e26\u544a\u8a34\u6211\u4e0b\u6b21\u8a72\u7e73\u591a\u5c11\u9322\" })  print(\"\\n\" + \"=\"*60) print(\"\ud83e\udd16 Agent \u56de\u7b54:\") print(\"=\"*60) print(result[\"output\"]) In\u00a0[\u00a0]: Copied! <pre># \u6e2c\u8a66 3: \u4fdd\u8cbb\u8a08\u7b97\nresult = agent_executor.invoke({\n    \"input\": \"\u6211\u4eca\u5e74 40 \u6b72,\u60f3\u8981\u6295\u4fdd 300 \u842c\u7684\u58fd\u96aa,\u8acb\u5e6b\u6211\u8a66\u7b97\u5e74\u7e73\u4fdd\u8cbb\"\n})\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"\ud83e\udd16 Agent \u56de\u7b54:\")\nprint(\"=\"*60)\nprint(result[\"output\"])\n</pre> # \u6e2c\u8a66 3: \u4fdd\u8cbb\u8a08\u7b97 result = agent_executor.invoke({     \"input\": \"\u6211\u4eca\u5e74 40 \u6b72,\u60f3\u8981\u6295\u4fdd 300 \u842c\u7684\u58fd\u96aa,\u8acb\u5e6b\u6211\u8a66\u7b97\u5e74\u7e73\u4fdd\u8cbb\" })  print(\"\\n\" + \"=\"*60) print(\"\ud83e\udd16 Agent \u56de\u7b54:\") print(\"=\"*60) print(result[\"output\"]) In\u00a0[\u00a0]: Copied! <pre>from langchain.prompts import PromptTemplate\n\n# \u5efa\u7acb\u570b\u6cf0\u4eba\u58fd\u5c08\u7528\u7684 ReAct Prompt\ncathay_prompt = PromptTemplate.from_template(\"\"\"\n\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5c08\u696d\u5ba2\u670d AI \u52a9\u7406,\u540d\u53eb\u300c\u5c0f\u6cf0\u300d\u3002\n\n\u4f60\u7684\u4efb\u52d9\u662f\u5354\u52a9\u5ba2\u6236\u67e5\u8a62\u4fdd\u55ae\u3001\u7406\u8ce0\u3001\u7e73\u8cbb\u7b49\u76f8\u95dc\u8cc7\u8a0a\u3002\n\u8acb\u7528\u5c08\u696d\u3001\u89aa\u5207\u3001\u6709\u540c\u7406\u5fc3\u7684\u614b\u5ea6\u56de\u7b54\u554f\u984c\u3002\n\n\u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5de5\u5177:\n\n{tools}\n\n\u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f:\n\nQuestion: \u5ba2\u6236\u7684\u554f\u984c\nThought: \u4f60\u61c9\u8a72\u601d\u8003\u8981\u505a\u4ec0\u9ebc\nAction: \u8981\u4f7f\u7528\u7684\u5de5\u5177,\u61c9\u8a72\u662f [{tool_names}] \u5176\u4e2d\u4e4b\u4e00\nAction Input: \u5de5\u5177\u7684\u8f38\u5165\nObservation: \u5de5\u5177\u57f7\u884c\u7684\u7d50\u679c\n... (\u9019\u500b Thought/Action/Action Input/Observation \u53ef\u4ee5\u91cd\u8907 N \u6b21)\nThought: \u6211\u73fe\u5728\u77e5\u9053\u6700\u7d42\u7b54\u6848\u4e86\nFinal Answer: \u7d66\u5ba2\u6236\u7684\u6700\u7d42\u56de\u7b54\n\n\u91cd\u8981\u63d0\u9192:\n1. \u56de\u7b54\u6642\u8acb\u4f7f\u7528\u7e41\u9ad4\u4e2d\u6587\n2. \u4fdd\u6301\u5c08\u696d\u4f46\u89aa\u5207\u7684\u53e3\u543b\n3. \u5982\u679c\u8cc7\u8a0a\u4e0d\u8db3,\u4e3b\u52d5\u8a62\u554f\u5ba2\u6236\n4. \u6bcf\u6b21\u56de\u7b54\u7d50\u675f\u6642,\u8a62\u554f\u5ba2\u6236\u662f\u5426\u9084\u6709\u5176\u4ed6\u554f\u984c\n\n\u958b\u59cb!\n\nQuestion: {input}\nThought: {agent_scratchpad}\n\"\"\")\n\n# \u5efa\u7acb\u4f7f\u7528\u81ea\u8a02 Prompt \u7684 Agent\ncustom_agent = create_react_agent(llm, tools, cathay_prompt)\n\ncustom_agent_executor = AgentExecutor(\n    agent=custom_agent,\n    tools=tools,\n    verbose=True,\n    handle_parsing_errors=True\n)\n\nprint(\"\u2705 \u81ea\u8a02 Agent \u5efa\u7acb\u5b8c\u6210\")\n</pre> from langchain.prompts import PromptTemplate  # \u5efa\u7acb\u570b\u6cf0\u4eba\u58fd\u5c08\u7528\u7684 ReAct Prompt cathay_prompt = PromptTemplate.from_template(\"\"\" \u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5c08\u696d\u5ba2\u670d AI \u52a9\u7406,\u540d\u53eb\u300c\u5c0f\u6cf0\u300d\u3002  \u4f60\u7684\u4efb\u52d9\u662f\u5354\u52a9\u5ba2\u6236\u67e5\u8a62\u4fdd\u55ae\u3001\u7406\u8ce0\u3001\u7e73\u8cbb\u7b49\u76f8\u95dc\u8cc7\u8a0a\u3002 \u8acb\u7528\u5c08\u696d\u3001\u89aa\u5207\u3001\u6709\u540c\u7406\u5fc3\u7684\u614b\u5ea6\u56de\u7b54\u554f\u984c\u3002  \u4f60\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u5de5\u5177:  {tools}  \u4f7f\u7528\u4ee5\u4e0b\u683c\u5f0f:  Question: \u5ba2\u6236\u7684\u554f\u984c Thought: \u4f60\u61c9\u8a72\u601d\u8003\u8981\u505a\u4ec0\u9ebc Action: \u8981\u4f7f\u7528\u7684\u5de5\u5177,\u61c9\u8a72\u662f [{tool_names}] \u5176\u4e2d\u4e4b\u4e00 Action Input: \u5de5\u5177\u7684\u8f38\u5165 Observation: \u5de5\u5177\u57f7\u884c\u7684\u7d50\u679c ... (\u9019\u500b Thought/Action/Action Input/Observation \u53ef\u4ee5\u91cd\u8907 N \u6b21) Thought: \u6211\u73fe\u5728\u77e5\u9053\u6700\u7d42\u7b54\u6848\u4e86 Final Answer: \u7d66\u5ba2\u6236\u7684\u6700\u7d42\u56de\u7b54  \u91cd\u8981\u63d0\u9192: 1. \u56de\u7b54\u6642\u8acb\u4f7f\u7528\u7e41\u9ad4\u4e2d\u6587 2. \u4fdd\u6301\u5c08\u696d\u4f46\u89aa\u5207\u7684\u53e3\u543b 3. \u5982\u679c\u8cc7\u8a0a\u4e0d\u8db3,\u4e3b\u52d5\u8a62\u554f\u5ba2\u6236 4. \u6bcf\u6b21\u56de\u7b54\u7d50\u675f\u6642,\u8a62\u554f\u5ba2\u6236\u662f\u5426\u9084\u6709\u5176\u4ed6\u554f\u984c  \u958b\u59cb!  Question: {input} Thought: {agent_scratchpad} \"\"\")  # \u5efa\u7acb\u4f7f\u7528\u81ea\u8a02 Prompt \u7684 Agent custom_agent = create_react_agent(llm, tools, cathay_prompt)  custom_agent_executor = AgentExecutor(     agent=custom_agent,     tools=tools,     verbose=True,     handle_parsing_errors=True )  print(\"\u2705 \u81ea\u8a02 Agent \u5efa\u7acb\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>result = custom_agent_executor.invoke({\n    \"input\": \"\u4f60\u597d!\u6211\u60f3\u4e86\u89e3\u4e00\u4e0b\u6211\u7684\u4fdd\u55ae CL202401001 \u76ee\u524d\u7684\u72c0\u6cc1\"\n})\n\nprint(\"\\n\" + \"=\"*60)\nprint(\"\ud83e\udd16 \u5c0f\u6cf0\u7684\u56de\u7b54:\")\nprint(\"=\"*60)\nprint(result[\"output\"])\n</pre> result = custom_agent_executor.invoke({     \"input\": \"\u4f60\u597d!\u6211\u60f3\u4e86\u89e3\u4e00\u4e0b\u6211\u7684\u4fdd\u55ae CL202401001 \u76ee\u524d\u7684\u72c0\u6cc1\" })  print(\"\\n\" + \"=\"*60) print(\"\ud83e\udd16 \u5c0f\u6cf0\u7684\u56de\u7b54:\") print(\"=\"*60) print(result[\"output\"]) In\u00a0[\u00a0]: Copied! <pre>from langchain.callbacks import StdOutCallbackHandler\n\n# \u5efa\u7acb\u56de\u8abf\u8655\u7406\u5668\ncallback = StdOutCallbackHandler()\n\n# \u57f7\u884c\u6642\u50b3\u5165 callbacks\nresult = agent_executor.invoke(\n    {\"input\": \"\u67e5\u8a62\u7406\u8ce0\u6848\u4ef6 CLM20240102 \u7684\u72c0\u614b\"},\n    {\"callbacks\": [callback]}\n)\n\nprint(\"\\n\ud83d\udcca \u57f7\u884c\u7d50\u679c:\")\nprint(result[\"output\"])\n</pre> from langchain.callbacks import StdOutCallbackHandler  # \u5efa\u7acb\u56de\u8abf\u8655\u7406\u5668 callback = StdOutCallbackHandler()  # \u57f7\u884c\u6642\u50b3\u5165 callbacks result = agent_executor.invoke(     {\"input\": \"\u67e5\u8a62\u7406\u8ce0\u6848\u4ef6 CLM20240102 \u7684\u72c0\u614b\"},     {\"callbacks\": [callback]} )  print(\"\\n\ud83d\udcca \u57f7\u884c\u7d50\u679c:\") print(result[\"output\"]) In\u00a0[\u00a0]: Copied! <pre># \u4f7f\u7528 stream \u65b9\u6cd5\u53d6\u5f97\u5373\u6642\u8f38\u51fa\nprint(\"\ud83d\udd04 \u4e32\u6d41\u57f7\u884c\u4e2d...\\n\")\n\nfor chunk in agent_executor.stream(\n    {\"input\": \"45 \u6b72\u6295\u4fdd 500 \u842c\u58fd\u96aa\u7684\u5e74\u7e73\u4fdd\u8cbb\u662f\u591a\u5c11?\"}\n):\n    if \"output\" in chunk:\n        print(chunk[\"output\"])\n    elif \"actions\" in chunk:\n        for action in chunk[\"actions\"]:\n            print(f\"\\n\ud83d\udd27 \u4f7f\u7528\u5de5\u5177: {action.tool}\")\n            print(f\"\ud83d\udce5 \u8f38\u5165: {action.tool_input}\")\n</pre> # \u4f7f\u7528 stream \u65b9\u6cd5\u53d6\u5f97\u5373\u6642\u8f38\u51fa print(\"\ud83d\udd04 \u4e32\u6d41\u57f7\u884c\u4e2d...\\n\")  for chunk in agent_executor.stream(     {\"input\": \"45 \u6b72\u6295\u4fdd 500 \u842c\u58fd\u96aa\u7684\u5e74\u7e73\u4fdd\u8cbb\u662f\u591a\u5c11?\"} ):     if \"output\" in chunk:         print(chunk[\"output\"])     elif \"actions\" in chunk:         for action in chunk[\"actions\"]:             print(f\"\\n\ud83d\udd27 \u4f7f\u7528\u5de5\u5177: {action.tool}\")             print(f\"\ud83d\udce5 \u8f38\u5165: {action.tool_input}\") In\u00a0[\u00a0]: Copied! <pre># \u6e2c\u8a66\u932f\u8aa4\u8655\u7406\ntry:\n    result = agent_executor.invoke({\n        \"input\": \"\u67e5\u8a62\u4e0d\u5b58\u5728\u7684\u4fdd\u55ae INVALID123\"\n    })\n    print(\"\\n\ud83e\udd16 Agent \u56de\u7b54:\")\n    print(result[\"output\"])\nexcept Exception as e:\n    print(f\"\u274c \u57f7\u884c\u932f\u8aa4: {e}\")\n</pre> # \u6e2c\u8a66\u932f\u8aa4\u8655\u7406 try:     result = agent_executor.invoke({         \"input\": \"\u67e5\u8a62\u4e0d\u5b58\u5728\u7684\u4fdd\u55ae INVALID123\"     })     print(\"\\n\ud83e\udd16 Agent \u56de\u7b54:\")     print(result[\"output\"]) except Exception as e:     print(f\"\u274c \u57f7\u884c\u932f\u8aa4: {e}\") In\u00a0[\u00a0]: Copied! <pre>@tool\ndef product_recommendation(age: int, budget: int, needs: str) -&gt; str:\n    \"\"\"\u6839\u64da\u5ba2\u6236\u9700\u6c42\u63a8\u85a6\u4fdd\u96aa\u5546\u54c1\u3002\n    \n    Args:\n        age: \u5ba2\u6236\u5e74\u9f61\n        budget: \u5e74\u5ea6\u9810\u7b97\n        needs: \u9700\u6c42\u63cf\u8ff0 (\u4f8b\u5982: \u91ab\u7642\u4fdd\u969c\u3001\u9000\u4f11\u898f\u5283\u3001\u5b50\u5973\u6559\u80b2)\n    \"\"\"\n    recommendations = {\n        \"\u91ab\u7642\": \"\u570b\u6cf0\u91ab\u7642\u4fdd\u96aa - \u63d0\u4f9b\u4f4f\u9662\u3001\u624b\u8853\u3001\u9580\u8a3a\u7b49\u5b8c\u6574\u4fdd\u969c\",\n        \"\u9000\u4f11\": \"\u570b\u6cf0\u5229\u7387\u8b8a\u52d5\u578b\u5e74\u91d1 - \u7a69\u5065\u7d2f\u7a4d\u9000\u4f11\u91d1\",\n        \"\u6559\u80b2\": \"\u570b\u6cf0\u7f8e\u6eff\u4eba\u751f - \u5b50\u5973\u6559\u80b2\u91d1\u5c08\u6848\",\n        \"\u58fd\u96aa\": \"\u570b\u6cf0\u7d42\u8eab\u58fd\u96aa - \u7d42\u8eab\u4fdd\u969c,\u8cc7\u7522\u50b3\u627f\"\n    }\n    \n    result = []\n    for key, product in recommendations.items():\n        if key in needs:\n            result.append(f\"\u2022 {product}\")\n    \n    if result:\n        return f\"\u6839\u64da\u60a8 {age} \u6b72,\u5e74\u5ea6\u9810\u7b97 ${budget:,},\u9700\u6c42\u70ba\u300e{needs}\u300f,\u63a8\u85a6:\\n\" + \"\\n\".join(result)\n    else:\n        return f\"\u6839\u64da\u60a8\u7684\u9700\u6c42\u300e{needs}\u300f,\u5efa\u8b70\u5148\u8207\u5c08\u696d\u9867\u554f\u8a73\u8ac7,\u4e86\u89e3\u66f4\u591a\u9078\u9805\u3002\"\n\n@tool  \ndef appointment_booking(name: str, phone: str, preferred_time: str) -&gt; str:\n    \"\"\"\u9810\u7d04\u8207\u7406\u8ca1\u9867\u554f\u8aee\u8a62\u3002\n    \n    Args:\n        name: \u5ba2\u6236\u59d3\u540d\n        phone: \u806f\u7d61\u96fb\u8a71\n        preferred_time: \u5e0c\u671b\u6642\u6bb5\n    \"\"\"\n    return f\"\u5df2\u70ba {name} \u5148\u751f/\u5c0f\u59d0\u9810\u7d04 {preferred_time} \u7684\u8aee\u8a62\u6642\u6bb5,\u6211\u5011\u6703\u76e1\u5feb\u81f4\u96fb {phone} \u78ba\u8a8d\u3002\"\n\n@tool\ndef faq_search(question: str) -&gt; str:\n    \"\"\"\u641c\u5c0b\u5e38\u898b\u554f\u984c\u3002\n    \n    Args:\n        question: \u554f\u984c\u95dc\u9375\u5b57\n    \"\"\"\n    faqs = {\n        \"\u7406\u8ce0\": \"\u7406\u8ce0\u7533\u8acb\u9700\u6e96\u5099: 1.\u7406\u8ce0\u7533\u8acb\u66f8 2.\u91ab\u7642\u55ae\u64da 3.\u8a3a\u65b7\u8b49\u660e 4.\u4fdd\u55ae\u5f71\u672c\u3002\u4e00\u822c 5-7 \u500b\u5de5\u4f5c\u5929\u5b8c\u6210\u5be9\u6838\u3002\",\n        \"\u89e3\u7d04\": \"\u4fdd\u55ae\u89e3\u7d04\u9700\u651c\u5e36: 1.\u8eab\u5206\u8b49 2.\u4fdd\u55ae\u6b63\u672c 3.\u5b58\u647a\u5f71\u672c\u3002\u53ef\u81f3\u5404\u5206\u516c\u53f8\u8fa6\u7406\u6216\u7dda\u4e0a\u7533\u8acb\u3002\",\n        \"\u8b8a\u66f4\": \"\u4fdd\u55ae\u8b8a\u66f4 (\u53d7\u76ca\u4eba\u3001\u5730\u5740\u3001\u96fb\u8a71) \u53ef\u900f\u904e: 1.\u81e8\u6ac3\u8fa6\u7406 2.\u5ba2\u670d\u5c08\u7dda 3.\u884c\u52d5 APP 4.\u5b98\u7db2\u6703\u54e1\u5c08\u5340\u3002\"\n    }\n    \n    for key, answer in faqs.items():\n        if key in question:\n            return answer\n    \n    return \"\u627e\u4e0d\u5230\u76f8\u95dc\u7684\u5e38\u898b\u554f\u984c,\u5efa\u8b70\u81f4\u96fb\u5ba2\u670d\u5c08\u7dda 0800-036-599 \u8a62\u554f\u3002\"\n\nprint(\"\u2705 \u65b0\u589e 3 \u500b\u9032\u968e\u5de5\u5177\")\n</pre> @tool def product_recommendation(age: int, budget: int, needs: str) -&gt; str:     \"\"\"\u6839\u64da\u5ba2\u6236\u9700\u6c42\u63a8\u85a6\u4fdd\u96aa\u5546\u54c1\u3002          Args:         age: \u5ba2\u6236\u5e74\u9f61         budget: \u5e74\u5ea6\u9810\u7b97         needs: \u9700\u6c42\u63cf\u8ff0 (\u4f8b\u5982: \u91ab\u7642\u4fdd\u969c\u3001\u9000\u4f11\u898f\u5283\u3001\u5b50\u5973\u6559\u80b2)     \"\"\"     recommendations = {         \"\u91ab\u7642\": \"\u570b\u6cf0\u91ab\u7642\u4fdd\u96aa - \u63d0\u4f9b\u4f4f\u9662\u3001\u624b\u8853\u3001\u9580\u8a3a\u7b49\u5b8c\u6574\u4fdd\u969c\",         \"\u9000\u4f11\": \"\u570b\u6cf0\u5229\u7387\u8b8a\u52d5\u578b\u5e74\u91d1 - \u7a69\u5065\u7d2f\u7a4d\u9000\u4f11\u91d1\",         \"\u6559\u80b2\": \"\u570b\u6cf0\u7f8e\u6eff\u4eba\u751f - \u5b50\u5973\u6559\u80b2\u91d1\u5c08\u6848\",         \"\u58fd\u96aa\": \"\u570b\u6cf0\u7d42\u8eab\u58fd\u96aa - \u7d42\u8eab\u4fdd\u969c,\u8cc7\u7522\u50b3\u627f\"     }          result = []     for key, product in recommendations.items():         if key in needs:             result.append(f\"\u2022 {product}\")          if result:         return f\"\u6839\u64da\u60a8 {age} \u6b72,\u5e74\u5ea6\u9810\u7b97 ${budget:,},\u9700\u6c42\u70ba\u300e{needs}\u300f,\u63a8\u85a6:\\n\" + \"\\n\".join(result)     else:         return f\"\u6839\u64da\u60a8\u7684\u9700\u6c42\u300e{needs}\u300f,\u5efa\u8b70\u5148\u8207\u5c08\u696d\u9867\u554f\u8a73\u8ac7,\u4e86\u89e3\u66f4\u591a\u9078\u9805\u3002\"  @tool   def appointment_booking(name: str, phone: str, preferred_time: str) -&gt; str:     \"\"\"\u9810\u7d04\u8207\u7406\u8ca1\u9867\u554f\u8aee\u8a62\u3002          Args:         name: \u5ba2\u6236\u59d3\u540d         phone: \u806f\u7d61\u96fb\u8a71         preferred_time: \u5e0c\u671b\u6642\u6bb5     \"\"\"     return f\"\u5df2\u70ba {name} \u5148\u751f/\u5c0f\u59d0\u9810\u7d04 {preferred_time} \u7684\u8aee\u8a62\u6642\u6bb5,\u6211\u5011\u6703\u76e1\u5feb\u81f4\u96fb {phone} \u78ba\u8a8d\u3002\"  @tool def faq_search(question: str) -&gt; str:     \"\"\"\u641c\u5c0b\u5e38\u898b\u554f\u984c\u3002          Args:         question: \u554f\u984c\u95dc\u9375\u5b57     \"\"\"     faqs = {         \"\u7406\u8ce0\": \"\u7406\u8ce0\u7533\u8acb\u9700\u6e96\u5099: 1.\u7406\u8ce0\u7533\u8acb\u66f8 2.\u91ab\u7642\u55ae\u64da 3.\u8a3a\u65b7\u8b49\u660e 4.\u4fdd\u55ae\u5f71\u672c\u3002\u4e00\u822c 5-7 \u500b\u5de5\u4f5c\u5929\u5b8c\u6210\u5be9\u6838\u3002\",         \"\u89e3\u7d04\": \"\u4fdd\u55ae\u89e3\u7d04\u9700\u651c\u5e36: 1.\u8eab\u5206\u8b49 2.\u4fdd\u55ae\u6b63\u672c 3.\u5b58\u647a\u5f71\u672c\u3002\u53ef\u81f3\u5404\u5206\u516c\u53f8\u8fa6\u7406\u6216\u7dda\u4e0a\u7533\u8acb\u3002\",         \"\u8b8a\u66f4\": \"\u4fdd\u55ae\u8b8a\u66f4 (\u53d7\u76ca\u4eba\u3001\u5730\u5740\u3001\u96fb\u8a71) \u53ef\u900f\u904e: 1.\u81e8\u6ac3\u8fa6\u7406 2.\u5ba2\u670d\u5c08\u7dda 3.\u884c\u52d5 APP 4.\u5b98\u7db2\u6703\u54e1\u5c08\u5340\u3002\"     }          for key, answer in faqs.items():         if key in question:             return answer          return \"\u627e\u4e0d\u5230\u76f8\u95dc\u7684\u5e38\u898b\u554f\u984c,\u5efa\u8b70\u81f4\u96fb\u5ba2\u670d\u5c08\u7dda 0800-036-599 \u8a62\u554f\u3002\"  print(\"\u2705 \u65b0\u589e 3 \u500b\u9032\u968e\u5de5\u5177\") In\u00a0[\u00a0]: Copied! <pre># \u5b8c\u6574\u5de5\u5177\u5217\u8868\nfull_tools = [\n    policy_lookup,\n    payment_history,\n    premium_calculator,\n    claim_tool,\n    product_recommendation,\n    appointment_booking,\n    faq_search\n]\n\n# \u5efa\u7acb\u5b8c\u6574\u5ba2\u670d Agent\ncustomer_service_agent = create_react_agent(llm, full_tools, cathay_prompt)\n\ncs_executor = AgentExecutor(\n    agent=customer_service_agent,\n    tools=full_tools,\n    verbose=True,\n    handle_parsing_errors=True,\n    max_iterations=10\n)\n\nprint(\"\u2705 \u570b\u6cf0\u4eba\u58fd\u667a\u80fd\u5ba2\u670d Agent \u6e96\u5099\u5c31\u7dd2\")\nprint(f\"\ud83d\udccb \u53ef\u7528\u5de5\u5177\u6578\u91cf: {len(full_tools)}\")\n</pre> # \u5b8c\u6574\u5de5\u5177\u5217\u8868 full_tools = [     policy_lookup,     payment_history,     premium_calculator,     claim_tool,     product_recommendation,     appointment_booking,     faq_search ]  # \u5efa\u7acb\u5b8c\u6574\u5ba2\u670d Agent customer_service_agent = create_react_agent(llm, full_tools, cathay_prompt)  cs_executor = AgentExecutor(     agent=customer_service_agent,     tools=full_tools,     verbose=True,     handle_parsing_errors=True,     max_iterations=10 )  print(\"\u2705 \u570b\u6cf0\u4eba\u58fd\u667a\u80fd\u5ba2\u670d Agent \u6e96\u5099\u5c31\u7dd2\") print(f\"\ud83d\udccb \u53ef\u7528\u5de5\u5177\u6578\u91cf: {len(full_tools)}\") In\u00a0[\u00a0]: Copied! <pre># \u5834\u666f 1: \u7522\u54c1\u8aee\u8a62\nprint(\"=\"*60)\nprint(\"\ud83d\udcde \u5ba2\u6236\u8aee\u8a62 1: \u7522\u54c1\u63a8\u85a6\")\nprint(\"=\"*60)\n\nresult = cs_executor.invoke({\n    \"input\": \"\u6211\u4eca\u5e74 35 \u6b72,\u5e74\u6536\u5165\u7d04 100 \u842c,\u60f3\u8981\u898f\u5283\u91ab\u7642\u4fdd\u969c\u548c\u9000\u4f11\u91d1,\u9810\u7b97\u4e00\u5e74 10 \u842c,\u6709\u4ec0\u9ebc\u5efa\u8b70\u55ce?\"\n})\n\nprint(\"\\n\ud83e\udd16 \u5c0f\u6cf0:\")\nprint(result[\"output\"])\n</pre> # \u5834\u666f 1: \u7522\u54c1\u8aee\u8a62 print(\"=\"*60) print(\"\ud83d\udcde \u5ba2\u6236\u8aee\u8a62 1: \u7522\u54c1\u63a8\u85a6\") print(\"=\"*60)  result = cs_executor.invoke({     \"input\": \"\u6211\u4eca\u5e74 35 \u6b72,\u5e74\u6536\u5165\u7d04 100 \u842c,\u60f3\u8981\u898f\u5283\u91ab\u7642\u4fdd\u969c\u548c\u9000\u4f11\u91d1,\u9810\u7b97\u4e00\u5e74 10 \u842c,\u6709\u4ec0\u9ebc\u5efa\u8b70\u55ce?\" })  print(\"\\n\ud83e\udd16 \u5c0f\u6cf0:\") print(result[\"output\"]) In\u00a0[\u00a0]: Copied! <pre># \u5834\u666f 2: \u4fdd\u55ae\u67e5\u8a62 + FAQ\nprint(\"\\n\" + \"=\"*60)\nprint(\"\ud83d\udcde \u5ba2\u6236\u8aee\u8a62 2: \u4fdd\u55ae\u67e5\u8a62\u8207\u8b8a\u66f4\")\nprint(\"=\"*60)\n\nresult = cs_executor.invoke({\n    \"input\": \"\u6211\u7684\u4fdd\u55ae\u662f CL202401001,\u60f3\u67e5\u4e00\u4e0b\u7e73\u8cbb\u72c0\u6cc1,\u53e6\u5916\u60f3\u554f\u5982\u4f55\u8b8a\u66f4\u53d7\u76ca\u4eba?\"\n})\n\nprint(\"\\n\ud83e\udd16 \u5c0f\u6cf0:\")\nprint(result[\"output\"])\n</pre> # \u5834\u666f 2: \u4fdd\u55ae\u67e5\u8a62 + FAQ print(\"\\n\" + \"=\"*60) print(\"\ud83d\udcde \u5ba2\u6236\u8aee\u8a62 2: \u4fdd\u55ae\u67e5\u8a62\u8207\u8b8a\u66f4\") print(\"=\"*60)  result = cs_executor.invoke({     \"input\": \"\u6211\u7684\u4fdd\u55ae\u662f CL202401001,\u60f3\u67e5\u4e00\u4e0b\u7e73\u8cbb\u72c0\u6cc1,\u53e6\u5916\u60f3\u554f\u5982\u4f55\u8b8a\u66f4\u53d7\u76ca\u4eba?\" })  print(\"\\n\ud83e\udd16 \u5c0f\u6cf0:\") print(result[\"output\"]) In\u00a0[\u00a0]: Copied! <pre># \u5834\u666f 3: \u7406\u8ce0\u67e5\u8a62 + \u9810\u7d04\nprint(\"\\n\" + \"=\"*60)\nprint(\"\ud83d\udcde \u5ba2\u6236\u8aee\u8a62 3: \u7406\u8ce0\u8207\u9810\u7d04\")\nprint(\"=\"*60)\n\nresult = cs_executor.invoke({\n    \"input\": \"\u8acb\u5e6b\u6211\u67e5\u7406\u8ce0\u6848\u4ef6 CLM20240101 \u7684\u9032\u5ea6,\u5982\u679c\u6709\u554f\u984c\u6211\u60f3\u9810\u7d04\u9867\u554f\u8aee\u8a62,\u6211\u662f\u9673\u5927\u660e,\u96fb\u8a71 0912-345-678,\u4e0b\u9031\u4e09\u4e0b\u5348\u65b9\u4fbf\"\n})\n\nprint(\"\\n\ud83e\udd16 \u5c0f\u6cf0:\")\nprint(result[\"output\"])\n</pre> # \u5834\u666f 3: \u7406\u8ce0\u67e5\u8a62 + \u9810\u7d04 print(\"\\n\" + \"=\"*60) print(\"\ud83d\udcde \u5ba2\u6236\u8aee\u8a62 3: \u7406\u8ce0\u8207\u9810\u7d04\") print(\"=\"*60)  result = cs_executor.invoke({     \"input\": \"\u8acb\u5e6b\u6211\u67e5\u7406\u8ce0\u6848\u4ef6 CLM20240101 \u7684\u9032\u5ea6,\u5982\u679c\u6709\u554f\u984c\u6211\u60f3\u9810\u7d04\u9867\u554f\u8aee\u8a62,\u6211\u662f\u9673\u5927\u660e,\u96fb\u8a71 0912-345-678,\u4e0b\u9031\u4e09\u4e0b\u5348\u65b9\u4fbf\" })  print(\"\\n\ud83e\udd16 \u5c0f\u6cf0:\") print(result[\"output\"]) In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c\u4fdd\u55ae\u5065\u6aa2\u5de5\u5177\n\n@tool\ndef policy_health_check(policy_id: str) -&gt; str:\n    \"\"\"\u57f7\u884c\u4fdd\u55ae\u5065\u6aa2\u3002\"\"\"\n    # TODO: \u5be6\u4f5c\u5065\u6aa2\u908f\u8f2f\n    pass\n</pre> # TODO: \u5be6\u4f5c\u4fdd\u55ae\u5065\u6aa2\u5de5\u5177  @tool def policy_health_check(policy_id: str) -&gt; str:     \"\"\"\u57f7\u884c\u4fdd\u55ae\u5065\u6aa2\u3002\"\"\"     # TODO: \u5be6\u4f5c\u5065\u6aa2\u908f\u8f2f     pass In\u00a0[\u00a0]: Copied! <pre># TODO: \u5efa\u7acb\u591a\u8a9e\u8a00 Prompt\n# TODO: \u6e2c\u8a66\u4e2d\u82f1\u6587\u4e92\u52d5\n</pre> # TODO: \u5efa\u7acb\u591a\u8a9e\u8a00 Prompt # TODO: \u6e2c\u8a66\u4e2d\u82f1\u6587\u4e92\u52d5 In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c\u5c0d\u8a71\u7d00\u9304\u7cfb\u7d71\n</pre> # TODO: \u5be6\u4f5c\u5c0d\u8a71\u7d00\u9304\u7cfb\u7d71 In\u00a0[\u00a0]: Copied! <pre>@tool\ndef policy_health_check_solution(policy_id: str) -&gt; str:\n    \"\"\"\u57f7\u884c\u4fdd\u55ae\u5065\u6aa2,\u5206\u6790\u4fdd\u969c\u7f3a\u53e3\u548c\u512a\u5316\u5efa\u8b70\u3002\n    \n    Args:\n        policy_id: \u4fdd\u55ae\u865f\u78bc\n    \"\"\"\n    # \u53d6\u5f97\u4fdd\u55ae\u8cc7\u8a0a (\u5be6\u969b\u6703\u547c\u53eb\u5176\u4ed6\u5de5\u5177)\n    policy_info = policy_lookup.invoke({\"policy_id\": policy_id})\n    payment_info = payment_history.invoke({\"policy_id\": policy_id})\n    \n    # \u6a21\u64ec\u5065\u6aa2\u5206\u6790\n    report = f\"\"\"\n\ud83d\udcca \u4fdd\u55ae\u5065\u6aa2\u5831\u544a - {policy_id}\n{'='*50}\n\n\u2705 \u4fdd\u55ae\u72c0\u614b:\n{policy_info}\n\n\ud83d\udcb0 \u7e73\u8cbb\u72c0\u6cc1:\n{payment_info}\n\n\ud83d\udcc8 \u5065\u6aa2\u7d50\u679c:\n1. \u7e73\u8cbb\u72c0\u6cc1: \u826f\u597d \u2705\n2. \u4fdd\u969c\u5145\u8db3\u5ea6: \u4e2d\u7b49 \u26a0\ufe0f\n3. \u8cbb\u7528\u5408\u7406\u6027: \u5408\u7406 \u2705\n\n\ud83d\udca1 \u512a\u5316\u5efa\u8b70:\n\u2022 \u5efa\u8b70\u589e\u52a0\u91ab\u7642\u96aa\u4fdd\u969c,\u73fe\u6709\u4fdd\u55ae\u504f\u91cd\u58fd\u96aa\n\u2022 \u53ef\u8003\u616e\u9644\u52a0\u91cd\u5927\u75be\u75c5\u96aa\n\u2022 \u4fdd\u8cbb\u6c34\u6e96\u5408\u7406,\u7b26\u5408\u60a8\u7684\u5e74\u9f61\u5340\u9593\n\n\ud83d\udcde \u5982\u9700\u8a73\u7d30\u898f\u5283,\u6b61\u8fce\u9810\u7d04\u7406\u8ca1\u9867\u554f\u8aee\u8a62\u3002\n\"\"\"\n    \n    return report\n\n# \u6e2c\u8a66\nresult = policy_health_check_solution.invoke({\"policy_id\": \"CL202401001\"})\nprint(result)\n</pre> @tool def policy_health_check_solution(policy_id: str) -&gt; str:     \"\"\"\u57f7\u884c\u4fdd\u55ae\u5065\u6aa2,\u5206\u6790\u4fdd\u969c\u7f3a\u53e3\u548c\u512a\u5316\u5efa\u8b70\u3002          Args:         policy_id: \u4fdd\u55ae\u865f\u78bc     \"\"\"     # \u53d6\u5f97\u4fdd\u55ae\u8cc7\u8a0a (\u5be6\u969b\u6703\u547c\u53eb\u5176\u4ed6\u5de5\u5177)     policy_info = policy_lookup.invoke({\"policy_id\": policy_id})     payment_info = payment_history.invoke({\"policy_id\": policy_id})          # \u6a21\u64ec\u5065\u6aa2\u5206\u6790     report = f\"\"\" \ud83d\udcca \u4fdd\u55ae\u5065\u6aa2\u5831\u544a - {policy_id} {'='*50}  \u2705 \u4fdd\u55ae\u72c0\u614b: {policy_info}  \ud83d\udcb0 \u7e73\u8cbb\u72c0\u6cc1: {payment_info}  \ud83d\udcc8 \u5065\u6aa2\u7d50\u679c: 1. \u7e73\u8cbb\u72c0\u6cc1: \u826f\u597d \u2705 2. \u4fdd\u969c\u5145\u8db3\u5ea6: \u4e2d\u7b49 \u26a0\ufe0f 3. \u8cbb\u7528\u5408\u7406\u6027: \u5408\u7406 \u2705  \ud83d\udca1 \u512a\u5316\u5efa\u8b70: \u2022 \u5efa\u8b70\u589e\u52a0\u91ab\u7642\u96aa\u4fdd\u969c,\u73fe\u6709\u4fdd\u55ae\u504f\u91cd\u58fd\u96aa \u2022 \u53ef\u8003\u616e\u9644\u52a0\u91cd\u5927\u75be\u75c5\u96aa \u2022 \u4fdd\u8cbb\u6c34\u6e96\u5408\u7406,\u7b26\u5408\u60a8\u7684\u5e74\u9f61\u5340\u9593  \ud83d\udcde \u5982\u9700\u8a73\u7d30\u898f\u5283,\u6b61\u8fce\u9810\u7d04\u7406\u8ca1\u9867\u554f\u8aee\u8a62\u3002 \"\"\"          return report  # \u6e2c\u8a66 result = policy_health_check_solution.invoke({\"policy_id\": \"CL202401001\"}) print(result)"},{"location":"langchain/notebooks/02-langchain-agents/#02-langchain-agents","title":"02 - LangChain Agents\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u7406\u89e3 Agent \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u904b\u4f5c\u539f\u7406</li> <li>\u2705 \u638c\u63e1 create_react_agent \u7684\u4f7f\u7528\u65b9\u6cd5</li> <li>\u2705 \u5b78\u7fd2\u5982\u4f55\u5b9a\u7fa9\u548c\u6574\u5408 Tools</li> <li>\u2705 \u5be6\u4f5c ReAct (Reasoning + Acting) \u6a21\u5f0f</li> <li>\u2705 \u5efa\u7acb\u570b\u6cf0\u4eba\u58fd\u667a\u80fd\u5ba2\u670d Agent</li> </ul>"},{"location":"langchain/notebooks/02-langchain-agents/#50","title":"\u23f0 \u9810\u8a08\u6642\u9593: 50 \u5206\u9418\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/","title":"\ud83d\udce6 \u74b0\u5883\u8a2d\u5b9a\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#part-1-agent","title":"Part 1: Agent \u6838\u5fc3\u6982\u5ff5\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#11-agent","title":"1.1 \u4ec0\u9ebc\u662f Agent?\u00b6","text":"<p>Agent \u662f\u80fd\u5920\u81ea\u4e3b\u6c7a\u7b56\u4e26\u4f7f\u7528\u5de5\u5177\u5b8c\u6210\u4efb\u52d9\u7684 AI \u7cfb\u7d71\u3002</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Agent \u904b\u4f5c\u5faa\u74b0                   \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                         \u2502\n\u2502  1. \u63a5\u6536\u4f7f\u7528\u8005\u8f38\u5165                       \u2502\n\u2502         \u2193                               \u2502\n\u2502  2. \u5206\u6790\u554f\u984c (Reasoning)                \u2502\n\u2502         \u2193                               \u2502\n\u2502  3. \u9078\u64c7\u5de5\u5177 (Tool Selection)           \u2502\n\u2502         \u2193                               \u2502\n\u2502  4. \u57f7\u884c\u52d5\u4f5c (Action)                   \u2502\n\u2502         \u2193                               \u2502\n\u2502  5. \u89c0\u5bdf\u7d50\u679c (Observation)              \u2502\n\u2502         \u2193                               \u2502\n\u2502  6. \u91cd\u8907 2-5 \u76f4\u5230\u4efb\u52d9\u5b8c\u6210                \u2502\n\u2502         \u2193                               \u2502\n\u2502  7. \u8fd4\u56de\u6700\u7d42\u7b54\u6848                        \u2502\n\u2502                                         \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"langchain/notebooks/02-langchain-agents/#chain-vs-agent","title":"Chain vs Agent\u00b6","text":"\u7279\u6027 Chain Agent \u6d41\u7a0b \u56fa\u5b9a\u9806\u5e8f \u52d5\u614b\u6c7a\u7b56 \u9748\u6d3b\u6027 \u4f4e \u9ad8 \u5de5\u5177\u4f7f\u7528 \u9810\u8a2d\u597d\u7684 \u81ea\u4e3b\u9078\u64c7 \u9069\u7528\u5834\u666f \u7c21\u55ae\u6d41\u7a0b \u8907\u96dc\u4efb\u52d9 \u7bc4\u4f8b \u7ffb\u8b6f\u6d41\u7a0b \u5ba2\u670d\u52a9\u7406"},{"location":"langchain/notebooks/02-langchain-agents/#12-react","title":"1.2 ReAct \u6a21\u5f0f\u00b6","text":"<p>ReAct = Reasoning (\u63a8\u7406) + Acting (\u884c\u52d5)</p> <p>Agent \u6703\u5728\u6bcf\u4e00\u6b65:</p> <ol> <li>Thought: \u601d\u8003\u4e0b\u4e00\u6b65\u8981\u505a\u4ec0\u9ebc</li> <li>Action: \u9078\u64c7\u8981\u4f7f\u7528\u7684\u5de5\u5177</li> <li>Action Input: \u5de5\u5177\u7684\u8f38\u5165\u53c3\u6578</li> <li>Observation: \u89c0\u5bdf\u5de5\u5177\u57f7\u884c\u7d50\u679c</li> <li>\u91cd\u8907\u76f4\u5230\u5f97\u51fa Final Answer</li> </ol>"},{"location":"langchain/notebooks/02-langchain-agents/#part-2-tools","title":"Part 2: \u5b9a\u7fa9 Tools\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#21-tool","title":"2.1 \u4ec0\u9ebc\u662f Tool?\u00b6","text":"<p>Tool \u662f Agent \u53ef\u4ee5\u4f7f\u7528\u7684\u529f\u80fd,\u4f8b\u5982:</p> <ul> <li>\u67e5\u8a62\u8cc7\u6599\u5eab</li> <li>\u547c\u53eb API</li> <li>\u57f7\u884c\u8a08\u7b97</li> <li>\u641c\u5c0b\u8cc7\u8a0a</li> </ul>"},{"location":"langchain/notebooks/02-langchain-agents/#22-tool","title":"2.2 \u4f7f\u7528 @tool \u88dd\u98fe\u5668\u5b9a\u7fa9\u5de5\u5177\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#23-tool","title":"2.3 \u4f7f\u7528 Tool \u985e\u5225\u5b9a\u7fa9\u5de5\u5177\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#part-3-react-agent","title":"Part 3: \u5efa\u7acb ReAct Agent\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#31-create_react_agent","title":"3.1 \u4f7f\u7528 create_react_agent\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#32-agent-","title":"3.2 \u57f7\u884c Agent - \u7c21\u55ae\u67e5\u8a62\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#33-agent-","title":"3.3 \u57f7\u884c Agent - \u591a\u6b65\u9a5f\u63a8\u7406\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#34-agent-","title":"3.4 \u57f7\u884c Agent - \u4fdd\u8cbb\u8a66\u7b97\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#part-4-react-prompt","title":"Part 4: \u81ea\u8a02 ReAct Prompt\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#41-prompt","title":"4.1 \u5ba2\u88fd\u5316 Prompt \u6a21\u677f\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#42-agent","title":"4.2 \u6e2c\u8a66\u81ea\u8a02 Agent\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#part-5-agent","title":"Part 5: Agent \u9032\u968e\u6280\u5de7\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#51-callbacks","title":"5.1 \u52a0\u5165\u57f7\u884c\u56de\u8abf (Callbacks)\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#52-streaming","title":"5.2 \u4e32\u6d41\u8f38\u51fa (Streaming)\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#53","title":"5.3 \u932f\u8aa4\u8655\u7406\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#part-6-agent","title":"Part 6: \u5be6\u6230\u6848\u4f8b - \u5b8c\u6574\u7684\u5ba2\u670d Agent\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#61","title":"6.1 \u64f4\u5145\u66f4\u591a\u5de5\u5177\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#62-agent","title":"6.2 \u5efa\u7acb\u5b8c\u6574\u7684\u5ba2\u670d Agent\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#63","title":"6.3 \u6e2c\u8a66\u5b8c\u6574\u5ba2\u670d\u5834\u666f\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/","title":"\ud83c\udfaf \u7df4\u7fd2\u984c\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#1","title":"\u7df4\u7fd2 1: \u5efa\u7acb\u4fdd\u55ae\u5065\u6aa2\u5de5\u5177\u00b6","text":"<p>\u9700\u6c42:</p> <ol> <li>\u5b9a\u7fa9 <code>policy_health_check</code> \u5de5\u5177</li> <li>\u8f38\u5165\u4fdd\u55ae\u865f\u78bc,\u8f38\u51fa\u5065\u6aa2\u5831\u544a</li> <li>\u6aa2\u67e5\u9805\u76ee: \u7e73\u8cbb\u72c0\u6cc1\u3001\u4fdd\u969c\u662f\u5426\u8db3\u5920\u3001\u662f\u5426\u6709\u66f4\u597d\u7684\u65b9\u6848</li> <li>\u6574\u5408\u5230 Agent \u4e2d\u6e2c\u8a66</li> </ol>"},{"location":"langchain/notebooks/02-langchain-agents/#2-agent","title":"\u7df4\u7fd2 2: \u591a\u8a9e\u8a00\u5ba2\u670d Agent\u00b6","text":"<p>\u9700\u6c42:</p> <ol> <li>\u4fee\u6539 Prompt \u8b93 Agent \u652f\u63f4\u4e2d\u82f1\u6587</li> <li>\u6839\u64da\u5ba2\u6236\u4f7f\u7528\u7684\u8a9e\u8a00\u81ea\u52d5\u5207\u63db</li> <li>\u6e2c\u8a66\u4e2d\u82f1\u6587\u67e5\u8a62</li> </ol>"},{"location":"langchain/notebooks/02-langchain-agents/#3","title":"\u7df4\u7fd2 3: \u5c0d\u8a71\u7d00\u9304\u8207\u5206\u6790\u00b6","text":"<p>\u9700\u6c42:</p> <ol> <li>\u5efa\u7acb\u5de5\u5177\u8a18\u9304\u6bcf\u6b21\u5c0d\u8a71</li> <li>\u5efa\u7acb\u5de5\u5177\u5206\u6790\u5ba2\u6236\u610f\u5716 (\u67e5\u8a62/\u6295\u8a34/\u8cfc\u8cb7)</li> <li>\u5efa\u7acb\u5de5\u5177\u7522\u751f\u5ba2\u670d\u5831\u8868</li> </ol>"},{"location":"langchain/notebooks/02-langchain-agents/","title":"\u2705 \u7df4\u7fd2\u89e3\u7b54\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#1","title":"\u7df4\u7fd2 1 \u89e3\u7b54: \u4fdd\u55ae\u5065\u6aa2\u5de5\u5177\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/","title":"\ud83d\udcdd \u5b78\u7fd2\u6aa2\u67e5\u6e05\u55ae\u00b6","text":"<p>\u5b8c\u6210\u672c Notebook \u5f8c,\u4f60\u61c9\u8a72\u80fd\u5920:</p> <ul> <li>\u7406\u89e3 Agent \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u904b\u4f5c\u5faa\u74b0</li> <li>\u5340\u5206 Chain \u548c Agent \u7684\u5dee\u7570</li> <li>\u7406\u89e3 ReAct \u6a21\u5f0f (Reasoning + Acting)</li> <li>\u4f7f\u7528 @tool \u88dd\u98fe\u5668\u5b9a\u7fa9\u5de5\u5177</li> <li>\u4f7f\u7528 Tool \u985e\u5225\u5c01\u88dd\u51fd\u6578</li> <li>\u4f7f\u7528 create_react_agent \u5efa\u7acb Agent</li> <li>\u4f7f\u7528 AgentExecutor \u57f7\u884c Agent</li> <li>\u81ea\u8a02 ReAct Prompt \u6a21\u677f</li> <li>\u8655\u7406 Agent \u57f7\u884c\u932f\u8aa4</li> <li>\u6574\u5408\u591a\u500b\u5de5\u5177\u5efa\u7acb\u5be6\u7528\u7684\u5ba2\u670d\u7cfb\u7d71</li> </ul>"},{"location":"langchain/notebooks/02-langchain-agents/","title":"\ud83c\udf93 \u91cd\u9ede\u56de\u9867\u00b6","text":""},{"location":"langchain/notebooks/02-langchain-agents/#agent","title":"Agent \u6838\u5fc3\u7d44\u4ef6\u00b6","text":"<ol> <li>LLM: \u8ca0\u8cac\u63a8\u7406\u548c\u6c7a\u7b56</li> <li>Tools: Agent \u53ef\u4f7f\u7528\u7684\u529f\u80fd</li> <li>Prompt: \u6307\u5c0e Agent \u884c\u70ba\u7684\u6a21\u677f</li> <li>Agent Executor: \u57f7\u884c Agent \u4e26\u7ba1\u7406\u5faa\u74b0</li> </ol>"},{"location":"langchain/notebooks/02-langchain-agents/#react","title":"ReAct \u57f7\u884c\u6d41\u7a0b\u00b6","text":"<pre><code>Question \u2192 Thought \u2192 Action \u2192 Observation \u2192 ... \u2192 Final Answer\n</code></pre>"},{"location":"langchain/notebooks/02-langchain-agents/","title":"\u6700\u4f73\u5be6\u8e10\u00b6","text":"<ol> <li>\u70ba\u6bcf\u500b\u5de5\u5177\u64b0\u5beb\u6e05\u695a\u7684 docstring</li> <li>\u8a2d\u5b9a\u5408\u7406\u7684 max_iterations \u907f\u514d\u7121\u9650\u5faa\u74b0</li> <li>\u555f\u7528 handle_parsing_errors \u8655\u7406\u89e3\u6790\u932f\u8aa4</li> <li>\u4f7f\u7528 verbose=True \u9664\u932f\u6642\u67e5\u770b\u57f7\u884c\u904e\u7a0b</li> <li>\u81ea\u8a02 Prompt \u4ee5\u7b26\u5408\u7279\u5b9a\u9818\u57df\u9700\u6c42</li> </ol>"},{"location":"langchain/notebooks/02-langchain-agents/","title":"\u4e0b\u4e00\u6b65\u00b6","text":"<p>\u7e7c\u7e8c\u524d\u5f80 <code>03-structured-output.ipynb</code> \u5b78\u7fd2\u7d50\u69cb\u5316\u8f38\u51fa \ud83d\udc49</p>"},{"location":"langchain/notebooks/03-structured-output/","title":"\u7df4\u7fd2 03 - \u7d50\u69cb\u5316\u8f38\u51fa","text":"In\u00a0[\u00a0]: Copied! <pre>!pip install langchain==0.1.0\n!pip install langchain-openai==0.0.5\n!pip install pydantic==2.5.0\n!pip install python-dotenv==1.0.0\n</pre> !pip install langchain==0.1.0 !pip install langchain-openai==0.0.5 !pip install pydantic==2.5.0 !pip install python-dotenv==1.0.0 In\u00a0[\u00a0]: Copied! <pre>from dotenv import load_dotenv\nimport os\n\nload_dotenv()\nprint(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\")\n</pre> from dotenv import load_dotenv import os  load_dotenv() print(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>from langchain_openai import ChatOpenAI\n\nllm = ChatOpenAI(model=\"gpt-4\", temperature=0)\n\n# \u975e\u7d50\u69cb\u5316\u8f38\u51fa\nresponse = llm.invoke(\"\u8acb\u63d0\u4f9b\u4fdd\u55ae CL202401001 \u7684\u8cc7\u8a0a,\u5305\u542b\u6295\u4fdd\u4eba\u3001\u4fdd\u984d\u3001\u4fdd\u8cbb\u3001\u72c0\u614b\")\n\nprint(\"\u274c \u975e\u7d50\u69cb\u5316\u8f38\u51fa:\")\nprint(response.content)\nprint(f\"\\n\u985e\u578b: {type(response.content)}\")\nprint(\"\\n\u554f\u984c: \u96e3\u4ee5\u7a0b\u5f0f\u5316\u8655\u7406,\u7121\u6cd5\u76f4\u63a5\u5b58\u5165\u8cc7\u6599\u5eab\u6216 JSON API\")\n</pre> from langchain_openai import ChatOpenAI  llm = ChatOpenAI(model=\"gpt-4\", temperature=0)  # \u975e\u7d50\u69cb\u5316\u8f38\u51fa response = llm.invoke(\"\u8acb\u63d0\u4f9b\u4fdd\u55ae CL202401001 \u7684\u8cc7\u8a0a,\u5305\u542b\u6295\u4fdd\u4eba\u3001\u4fdd\u984d\u3001\u4fdd\u8cbb\u3001\u72c0\u614b\")  print(\"\u274c \u975e\u7d50\u69cb\u5316\u8f38\u51fa:\") print(response.content) print(f\"\\n\u985e\u578b: {type(response.content)}\") print(\"\\n\u554f\u984c: \u96e3\u4ee5\u7a0b\u5f0f\u5316\u8655\u7406,\u7121\u6cd5\u76f4\u63a5\u5b58\u5165\u8cc7\u6599\u5eab\u6216 JSON API\") In\u00a0[\u00a0]: Copied! <pre>from pydantic import BaseModel, Field\nfrom typing import List, Optional\nfrom datetime import date\n\nclass PolicyInfo(BaseModel):\n    \"\"\"\u4fdd\u55ae\u57fa\u672c\u8cc7\u8a0a\"\"\"\n    policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")\n    policy_type: str = Field(description=\"\u4fdd\u55ae\u985e\u578b: \u7d42\u8eab\u58fd\u96aa/\u5b9a\u671f\u58fd\u96aa/\u91ab\u7642\u96aa\u7b49\")\n    owner_name: str = Field(description=\"\u6295\u4fdd\u4eba\u59d3\u540d\")\n    coverage_amount: int = Field(description=\"\u4fdd\u984d (\u65b0\u53f0\u5e63)\", gt=0)\n    annual_premium: int = Field(description=\"\u5e74\u7e73\u4fdd\u8cbb (\u65b0\u53f0\u5e63)\", gt=0)\n    status: str = Field(description=\"\u4fdd\u55ae\u72c0\u614b: active/inactive/pending\")\n    start_date: str = Field(description=\"\u4fdd\u55ae\u751f\u6548\u65e5\u671f YYYY-MM-DD\")\n    \n# \u6e2c\u8a66\u5efa\u7acb\u5be6\u4f8b\nexample_policy = PolicyInfo(\n    policy_id=\"CL202401001\",\n    policy_type=\"\u7d42\u8eab\u58fd\u96aa\",\n    owner_name=\"\u738b\u5c0f\u660e\",\n    coverage_amount=2000000,\n    annual_premium=50000,\n    status=\"active\",\n    start_date=\"2024-01-15\"\n)\n\nprint(\"\u2705 Pydantic Model:\")\nprint(example_policy)\nprint(f\"\\n\u8f49\u63db\u70ba JSON:\")\nprint(example_policy.model_dump_json(indent=2))\n</pre> from pydantic import BaseModel, Field from typing import List, Optional from datetime import date  class PolicyInfo(BaseModel):     \"\"\"\u4fdd\u55ae\u57fa\u672c\u8cc7\u8a0a\"\"\"     policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")     policy_type: str = Field(description=\"\u4fdd\u55ae\u985e\u578b: \u7d42\u8eab\u58fd\u96aa/\u5b9a\u671f\u58fd\u96aa/\u91ab\u7642\u96aa\u7b49\")     owner_name: str = Field(description=\"\u6295\u4fdd\u4eba\u59d3\u540d\")     coverage_amount: int = Field(description=\"\u4fdd\u984d (\u65b0\u53f0\u5e63)\", gt=0)     annual_premium: int = Field(description=\"\u5e74\u7e73\u4fdd\u8cbb (\u65b0\u53f0\u5e63)\", gt=0)     status: str = Field(description=\"\u4fdd\u55ae\u72c0\u614b: active/inactive/pending\")     start_date: str = Field(description=\"\u4fdd\u55ae\u751f\u6548\u65e5\u671f YYYY-MM-DD\")      # \u6e2c\u8a66\u5efa\u7acb\u5be6\u4f8b example_policy = PolicyInfo(     policy_id=\"CL202401001\",     policy_type=\"\u7d42\u8eab\u58fd\u96aa\",     owner_name=\"\u738b\u5c0f\u660e\",     coverage_amount=2000000,     annual_premium=50000,     status=\"active\",     start_date=\"2024-01-15\" )  print(\"\u2705 Pydantic Model:\") print(example_policy) print(f\"\\n\u8f49\u63db\u70ba JSON:\") print(example_policy.model_dump_json(indent=2)) In\u00a0[\u00a0]: Copied! <pre>class Beneficiary(BaseModel):\n    \"\"\"\u53d7\u76ca\u4eba\u8cc7\u8a0a\"\"\"\n    name: str = Field(description=\"\u53d7\u76ca\u4eba\u59d3\u540d\")\n    relationship: str = Field(description=\"\u8207\u6295\u4fdd\u4eba\u95dc\u4fc2\")\n    share_percentage: int = Field(description=\"\u53d7\u76ca\u6bd4\u4f8b (1-100)\", ge=1, le=100)\n\nclass DetailedPolicyInfo(BaseModel):\n    \"\"\"\u8a73\u7d30\u4fdd\u55ae\u8cc7\u8a0a (\u542b\u53d7\u76ca\u4eba)\"\"\"\n    policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")\n    policy_type: str = Field(description=\"\u4fdd\u55ae\u985e\u578b\")\n    owner_name: str = Field(description=\"\u6295\u4fdd\u4eba\u59d3\u540d\")\n    coverage_amount: int = Field(description=\"\u4fdd\u984d\", gt=0)\n    annual_premium: int = Field(description=\"\u5e74\u7e73\u4fdd\u8cbb\", gt=0)\n    beneficiaries: List[Beneficiary] = Field(description=\"\u53d7\u76ca\u4eba\u5217\u8868\")\n    tags: List[str] = Field(default=[], description=\"\u4fdd\u55ae\u6a19\u7c64\")\n\n# \u6e2c\u8a66\ndetailed_policy = DetailedPolicyInfo(\n    policy_id=\"CL202401001\",\n    policy_type=\"\u7d42\u8eab\u58fd\u96aa\",\n    owner_name=\"\u738b\u5c0f\u660e\",\n    coverage_amount=2000000,\n    annual_premium=50000,\n    beneficiaries=[\n        Beneficiary(name=\"\u738b\u592a\u592a\", relationship=\"\u914d\u5076\", share_percentage=60),\n        Beneficiary(name=\"\u738b\u5c0f\u83ef\", relationship=\"\u5b50\u5973\", share_percentage=40)\n    ],\n    tags=[\"\u9ad8\u4fdd\u984d\", \"\u5bb6\u5ead\u4fdd\u969c\"]\n)\n\nprint(\"\ud83d\udccb \u8a73\u7d30\u4fdd\u55ae\u8cc7\u8a0a:\")\nprint(detailed_policy.model_dump_json(indent=2, ensure_ascii=False))\n</pre> class Beneficiary(BaseModel):     \"\"\"\u53d7\u76ca\u4eba\u8cc7\u8a0a\"\"\"     name: str = Field(description=\"\u53d7\u76ca\u4eba\u59d3\u540d\")     relationship: str = Field(description=\"\u8207\u6295\u4fdd\u4eba\u95dc\u4fc2\")     share_percentage: int = Field(description=\"\u53d7\u76ca\u6bd4\u4f8b (1-100)\", ge=1, le=100)  class DetailedPolicyInfo(BaseModel):     \"\"\"\u8a73\u7d30\u4fdd\u55ae\u8cc7\u8a0a (\u542b\u53d7\u76ca\u4eba)\"\"\"     policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")     policy_type: str = Field(description=\"\u4fdd\u55ae\u985e\u578b\")     owner_name: str = Field(description=\"\u6295\u4fdd\u4eba\u59d3\u540d\")     coverage_amount: int = Field(description=\"\u4fdd\u984d\", gt=0)     annual_premium: int = Field(description=\"\u5e74\u7e73\u4fdd\u8cbb\", gt=0)     beneficiaries: List[Beneficiary] = Field(description=\"\u53d7\u76ca\u4eba\u5217\u8868\")     tags: List[str] = Field(default=[], description=\"\u4fdd\u55ae\u6a19\u7c64\")  # \u6e2c\u8a66 detailed_policy = DetailedPolicyInfo(     policy_id=\"CL202401001\",     policy_type=\"\u7d42\u8eab\u58fd\u96aa\",     owner_name=\"\u738b\u5c0f\u660e\",     coverage_amount=2000000,     annual_premium=50000,     beneficiaries=[         Beneficiary(name=\"\u738b\u592a\u592a\", relationship=\"\u914d\u5076\", share_percentage=60),         Beneficiary(name=\"\u738b\u5c0f\u83ef\", relationship=\"\u5b50\u5973\", share_percentage=40)     ],     tags=[\"\u9ad8\u4fdd\u984d\", \"\u5bb6\u5ead\u4fdd\u969c\"] )  print(\"\ud83d\udccb \u8a73\u7d30\u4fdd\u55ae\u8cc7\u8a0a:\") print(detailed_policy.model_dump_json(indent=2, ensure_ascii=False)) In\u00a0[\u00a0]: Copied! <pre># \u5efa\u7acb\u7d50\u69cb\u5316\u8f38\u51fa\u7684 LLM\nstructured_llm = llm.with_structured_output(PolicyInfo)\n\n# \u547c\u53eb LLM\nresult = structured_llm.invoke(\n    \"\u8acb\u7522\u751f\u4e00\u500b\u7bc4\u4f8b\u4fdd\u55ae: \u4fdd\u55ae\u865f\u78bc CL202401001, \u7d42\u8eab\u58fd\u96aa, \u6295\u4fdd\u4eba\u738b\u5c0f\u660e, \u4fdd\u984d 200 \u842c, \u5e74\u7e73 5 \u842c, \u6709\u6548, 2024-01-15 \u751f\u6548\"\n)\n\nprint(\"\u2705 \u7d50\u69cb\u5316\u8f38\u51fa:\")\nprint(f\"\u985e\u578b: {type(result)}\")\nprint(f\"\u4fdd\u55ae\u865f\u78bc: {result.policy_id}\")\nprint(f\"\u6295\u4fdd\u4eba: {result.owner_name}\")\nprint(f\"\u4fdd\u984d: ${result.coverage_amount:,}\")\nprint(f\"\u5e74\u7e73: ${result.annual_premium:,}\")\nprint(f\"\\nJSON:\")\nprint(result.model_dump_json(indent=2, ensure_ascii=False))\n</pre> # \u5efa\u7acb\u7d50\u69cb\u5316\u8f38\u51fa\u7684 LLM structured_llm = llm.with_structured_output(PolicyInfo)  # \u547c\u53eb LLM result = structured_llm.invoke(     \"\u8acb\u7522\u751f\u4e00\u500b\u7bc4\u4f8b\u4fdd\u55ae: \u4fdd\u55ae\u865f\u78bc CL202401001, \u7d42\u8eab\u58fd\u96aa, \u6295\u4fdd\u4eba\u738b\u5c0f\u660e, \u4fdd\u984d 200 \u842c, \u5e74\u7e73 5 \u842c, \u6709\u6548, 2024-01-15 \u751f\u6548\" )  print(\"\u2705 \u7d50\u69cb\u5316\u8f38\u51fa:\") print(f\"\u985e\u578b: {type(result)}\") print(f\"\u4fdd\u55ae\u865f\u78bc: {result.policy_id}\") print(f\"\u6295\u4fdd\u4eba: {result.owner_name}\") print(f\"\u4fdd\u984d: ${result.coverage_amount:,}\") print(f\"\u5e74\u7e73: ${result.annual_premium:,}\") print(f\"\\nJSON:\") print(result.model_dump_json(indent=2, ensure_ascii=False)) In\u00a0[\u00a0]: Copied! <pre># \u4f7f\u7528\u5de2\u72c0\u7d50\u69cb\ndetailed_structured_llm = llm.with_structured_output(DetailedPolicyInfo)\n\nresult = detailed_structured_llm.invoke(\"\"\"\n\u8acb\u7522\u751f\u4fdd\u55ae\u8cc7\u6599:\n- \u4fdd\u55ae\u865f\u78bc: CL202401002\n- \u985e\u578b: \u91ab\u7642\u96aa\n- \u6295\u4fdd\u4eba: \u674e\u5c0f\u83ef\n- \u4fdd\u984d: 100 \u842c\n- \u5e74\u7e73: 3 \u842c\n- \u53d7\u76ca\u4eba: \u914d\u5076\u674e\u592a\u592a (70%), \u5b50\u5973\u674e\u5c0f\u660e (30%)\n- \u6a19\u7c64: \u91ab\u7642\u4fdd\u969c, \u5bb6\u5ead\u7167\u9867\n\"\"\")\n\nprint(\"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67 \u8a73\u7d30\u4fdd\u55ae\u8cc7\u8a0a:\")\nprint(f\"\u4fdd\u55ae\u865f\u78bc: {result.policy_id}\")\nprint(f\"\u6295\u4fdd\u4eba: {result.owner_name}\")\nprint(f\"\\n\u53d7\u76ca\u4eba:\")\nfor b in result.beneficiaries:\n    print(f\"  - {b.name} ({b.relationship}): {b.share_percentage}%\")\nprint(f\"\\n\u6a19\u7c64: {', '.join(result.tags)}\")\n</pre> # \u4f7f\u7528\u5de2\u72c0\u7d50\u69cb detailed_structured_llm = llm.with_structured_output(DetailedPolicyInfo)  result = detailed_structured_llm.invoke(\"\"\" \u8acb\u7522\u751f\u4fdd\u55ae\u8cc7\u6599: - \u4fdd\u55ae\u865f\u78bc: CL202401002 - \u985e\u578b: \u91ab\u7642\u96aa - \u6295\u4fdd\u4eba: \u674e\u5c0f\u83ef - \u4fdd\u984d: 100 \u842c - \u5e74\u7e73: 3 \u842c - \u53d7\u76ca\u4eba: \u914d\u5076\u674e\u592a\u592a (70%), \u5b50\u5973\u674e\u5c0f\u660e (30%) - \u6a19\u7c64: \u91ab\u7642\u4fdd\u969c, \u5bb6\u5ead\u7167\u9867 \"\"\")  print(\"\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67 \u8a73\u7d30\u4fdd\u55ae\u8cc7\u8a0a:\") print(f\"\u4fdd\u55ae\u865f\u78bc: {result.policy_id}\") print(f\"\u6295\u4fdd\u4eba: {result.owner_name}\") print(f\"\\n\u53d7\u76ca\u4eba:\") for b in result.beneficiaries:     print(f\"  - {b.name} ({b.relationship}): {b.share_percentage}%\") print(f\"\\n\u6a19\u7c64: {', '.join(result.tags)}\") In\u00a0[\u00a0]: Copied! <pre># \u660e\u78ba\u6307\u5b9a\u4f7f\u7528 Tool Strategy\ntool_strategy_llm = llm.with_structured_output(\n    PolicyInfo,\n    method=\"function_calling\"  # Tool Strategy\n)\n\nresult = tool_strategy_llm.invoke(\"\u7bc4\u4f8b\u4fdd\u55ae: CL999, \u58fd\u96aa, \u5f35\u4e09, 300\u842c, 8\u842c, active, 2024-02-01\")\n\nprint(\"\ud83d\udd27 Tool Strategy \u8f38\u51fa:\")\nprint(result.model_dump_json(indent=2, ensure_ascii=False))\n</pre> # \u660e\u78ba\u6307\u5b9a\u4f7f\u7528 Tool Strategy tool_strategy_llm = llm.with_structured_output(     PolicyInfo,     method=\"function_calling\"  # Tool Strategy )  result = tool_strategy_llm.invoke(\"\u7bc4\u4f8b\u4fdd\u55ae: CL999, \u58fd\u96aa, \u5f35\u4e09, 300\u842c, 8\u842c, active, 2024-02-01\")  print(\"\ud83d\udd27 Tool Strategy \u8f38\u51fa:\") print(result.model_dump_json(indent=2, ensure_ascii=False)) In\u00a0[\u00a0]: Copied! <pre># OpenAI \u7684 JSON Mode\nprovider_strategy_llm = llm.with_structured_output(\n    PolicyInfo,\n    method=\"json_mode\"  # Provider Strategy\n)\n\nresult = provider_strategy_llm.invoke(\"\u7bc4\u4f8b\u4fdd\u55ae: CL888, \u91ab\u7642, \u674e\u56db, 150\u842c, 4\u842c, active, 2024-03-01\")\n\nprint(\"\u26a1 Provider Strategy \u8f38\u51fa:\")\nprint(result.model_dump_json(indent=2, ensure_ascii=False))\n</pre> # OpenAI \u7684 JSON Mode provider_strategy_llm = llm.with_structured_output(     PolicyInfo,     method=\"json_mode\"  # Provider Strategy )  result = provider_strategy_llm.invoke(\"\u7bc4\u4f8b\u4fdd\u55ae: CL888, \u91ab\u7642, \u674e\u56db, 150\u842c, 4\u842c, active, 2024-03-01\")  print(\"\u26a1 Provider Strategy \u8f38\u51fa:\") print(result.model_dump_json(indent=2, ensure_ascii=False)) In\u00a0[\u00a0]: Copied! <pre>from enum import Enum\n\nclass PolicyType(str, Enum):\n    \"\"\"\u4fdd\u55ae\u985e\u578b\u5217\u8209\"\"\"\n    WHOLE_LIFE = \"\u7d42\u8eab\u58fd\u96aa\"\n    TERM_LIFE = \"\u5b9a\u671f\u58fd\u96aa\"\n    MEDICAL = \"\u91ab\u7642\u96aa\"\n    ACCIDENT = \"\u610f\u5916\u96aa\"\n    SAVINGS = \"\u5132\u84c4\u96aa\"\n    ANNUITY = \"\u5e74\u91d1\u96aa\"\n\nclass PolicyStatus(str, Enum):\n    \"\"\"\u4fdd\u55ae\u72c0\u614b\"\"\"\n    ACTIVE = \"\u6709\u6548\"\n    INACTIVE = \"\u5931\u6548\"\n    PENDING = \"\u7b49\u5f85\u671f\"\n    CANCELLED = \"\u89e3\u7d04\"\n\nclass PaymentFrequency(str, Enum):\n    \"\"\"\u7e73\u8cbb\u983b\u7387\"\"\"\n    ANNUAL = \"\u5e74\u7e73\"\n    SEMI_ANNUAL = \"\u534a\u5e74\u7e73\"\n    QUARTERLY = \"\u5b63\u7e73\"\n    MONTHLY = \"\u6708\u7e73\"\n\nclass ComprehensivePolicyInfo(BaseModel):\n    \"\"\"\u5b8c\u6574\u4fdd\u55ae\u8cc7\u8a0a\"\"\"\n    policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")\n    policy_type: PolicyType = Field(description=\"\u4fdd\u55ae\u985e\u578b\")\n    status: PolicyStatus = Field(description=\"\u4fdd\u55ae\u72c0\u614b\")\n    owner_name: str = Field(description=\"\u6295\u4fdd\u4eba\u59d3\u540d\")\n    insured_name: str = Field(description=\"\u88ab\u4fdd\u96aa\u4eba\u59d3\u540d\")\n    coverage_amount: int = Field(description=\"\u4fdd\u984d\", gt=0)\n    premium: int = Field(description=\"\u4fdd\u8cbb\u91d1\u984d\", gt=0)\n    payment_frequency: PaymentFrequency = Field(description=\"\u7e73\u8cbb\u983b\u7387\")\n    start_date: str = Field(description=\"\u751f\u6548\u65e5\u671f YYYY-MM-DD\")\n    end_date: Optional[str] = Field(None, description=\"\u5230\u671f\u65e5\u671f YYYY-MM-DD (\u7d42\u8eab\u5247\u70ba None)\")\n    beneficiaries: List[Beneficiary] = Field(default=[], description=\"\u53d7\u76ca\u4eba\u5217\u8868\")\n    riders: List[str] = Field(default=[], description=\"\u9644\u7d04\u5217\u8868\")\n    \nprint(\"\u2705 \u5b8c\u6574\u4fdd\u55ae\u7d50\u69cb\u5b9a\u7fa9\u5b8c\u6210\")\n</pre> from enum import Enum  class PolicyType(str, Enum):     \"\"\"\u4fdd\u55ae\u985e\u578b\u5217\u8209\"\"\"     WHOLE_LIFE = \"\u7d42\u8eab\u58fd\u96aa\"     TERM_LIFE = \"\u5b9a\u671f\u58fd\u96aa\"     MEDICAL = \"\u91ab\u7642\u96aa\"     ACCIDENT = \"\u610f\u5916\u96aa\"     SAVINGS = \"\u5132\u84c4\u96aa\"     ANNUITY = \"\u5e74\u91d1\u96aa\"  class PolicyStatus(str, Enum):     \"\"\"\u4fdd\u55ae\u72c0\u614b\"\"\"     ACTIVE = \"\u6709\u6548\"     INACTIVE = \"\u5931\u6548\"     PENDING = \"\u7b49\u5f85\u671f\"     CANCELLED = \"\u89e3\u7d04\"  class PaymentFrequency(str, Enum):     \"\"\"\u7e73\u8cbb\u983b\u7387\"\"\"     ANNUAL = \"\u5e74\u7e73\"     SEMI_ANNUAL = \"\u534a\u5e74\u7e73\"     QUARTERLY = \"\u5b63\u7e73\"     MONTHLY = \"\u6708\u7e73\"  class ComprehensivePolicyInfo(BaseModel):     \"\"\"\u5b8c\u6574\u4fdd\u55ae\u8cc7\u8a0a\"\"\"     policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")     policy_type: PolicyType = Field(description=\"\u4fdd\u55ae\u985e\u578b\")     status: PolicyStatus = Field(description=\"\u4fdd\u55ae\u72c0\u614b\")     owner_name: str = Field(description=\"\u6295\u4fdd\u4eba\u59d3\u540d\")     insured_name: str = Field(description=\"\u88ab\u4fdd\u96aa\u4eba\u59d3\u540d\")     coverage_amount: int = Field(description=\"\u4fdd\u984d\", gt=0)     premium: int = Field(description=\"\u4fdd\u8cbb\u91d1\u984d\", gt=0)     payment_frequency: PaymentFrequency = Field(description=\"\u7e73\u8cbb\u983b\u7387\")     start_date: str = Field(description=\"\u751f\u6548\u65e5\u671f YYYY-MM-DD\")     end_date: Optional[str] = Field(None, description=\"\u5230\u671f\u65e5\u671f YYYY-MM-DD (\u7d42\u8eab\u5247\u70ba None)\")     beneficiaries: List[Beneficiary] = Field(default=[], description=\"\u53d7\u76ca\u4eba\u5217\u8868\")     riders: List[str] = Field(default=[], description=\"\u9644\u7d04\u5217\u8868\")      print(\"\u2705 \u5b8c\u6574\u4fdd\u55ae\u7d50\u69cb\u5b9a\u7fa9\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre># \u5efa\u7acb\u64f7\u53d6\u5668\nextractor = llm.with_structured_output(ComprehensivePolicyInfo)\n\n# \u6a21\u64ec\u5ba2\u670d\u5c0d\u8a71\u7d00\u9304\nconversation_log = \"\"\"\n\u5ba2\u6236: \u6211\u60f3\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u6599\n\u5ba2\u670d: \u597d\u7684,\u8acb\u554f\u60a8\u7684\u4fdd\u55ae\u865f\u78bc?\n\u5ba2\u6236: CL202401999\n\u5ba2\u670d: \u597d\u7684,\u9019\u662f\u4e00\u5f35\u7d42\u8eab\u58fd\u96aa,\u6295\u4fdd\u4eba\u548c\u88ab\u4fdd\u96aa\u4eba\u90fd\u662f\u9673\u5927\u660e\u5148\u751f,\n      \u4fdd\u984d 500 \u842c,\u6708\u7e73\u4fdd\u8cbb 12,000 \u5143,2024 \u5e74 1 \u6708 1 \u65e5\u751f\u6548\u3002\n      \u53d7\u76ca\u4eba\u662f\u914d\u5076\u9673\u592a\u592a 100%\u3002\u53e6\u5916\u6709\u9644\u52a0\u4f4f\u9662\u91ab\u7642\u548c\u610f\u5916\u50b7\u5bb3\u9644\u7d04\u3002\n      \u76ee\u524d\u4fdd\u55ae\u72c0\u614b\u662f\u6709\u6548\u7684\u3002\n\"\"\"\n\n# \u64f7\u53d6\u7d50\u69cb\u5316\u8cc7\u6599\nextracted_policy = extractor.invoke(\n    f\"\u5f9e\u4ee5\u4e0b\u5c0d\u8a71\u4e2d\u64f7\u53d6\u4fdd\u55ae\u8cc7\u8a0a:\\n{conversation_log}\"\n)\n\nprint(\"\ud83d\udcca \u64f7\u53d6\u7d50\u679c:\")\nprint(\"=\"*60)\nprint(f\"\u4fdd\u55ae\u865f\u78bc: {extracted_policy.policy_id}\")\nprint(f\"\u4fdd\u55ae\u985e\u578b: {extracted_policy.policy_type.value}\")\nprint(f\"\u72c0\u614b: {extracted_policy.status.value}\")\nprint(f\"\u6295\u4fdd\u4eba: {extracted_policy.owner_name}\")\nprint(f\"\u88ab\u4fdd\u96aa\u4eba: {extracted_policy.insured_name}\")\nprint(f\"\u4fdd\u984d: ${extracted_policy.coverage_amount:,}\")\nprint(f\"\u4fdd\u8cbb: ${extracted_policy.premium:,} ({extracted_policy.payment_frequency.value})\")\nprint(f\"\u751f\u6548\u65e5\u671f: {extracted_policy.start_date}\")\nprint(f\"\\n\u53d7\u76ca\u4eba:\")\nfor b in extracted_policy.beneficiaries:\n    print(f\"  - {b.name} ({b.relationship}): {b.share_percentage}%\")\nprint(f\"\\n\u9644\u7d04: {', '.join(extracted_policy.riders)}\")\n\nprint(f\"\\n\u5b8c\u6574 JSON:\")\nprint(extracted_policy.model_dump_json(indent=2, ensure_ascii=False))\n</pre> # \u5efa\u7acb\u64f7\u53d6\u5668 extractor = llm.with_structured_output(ComprehensivePolicyInfo)  # \u6a21\u64ec\u5ba2\u670d\u5c0d\u8a71\u7d00\u9304 conversation_log = \"\"\" \u5ba2\u6236: \u6211\u60f3\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u6599 \u5ba2\u670d: \u597d\u7684,\u8acb\u554f\u60a8\u7684\u4fdd\u55ae\u865f\u78bc? \u5ba2\u6236: CL202401999 \u5ba2\u670d: \u597d\u7684,\u9019\u662f\u4e00\u5f35\u7d42\u8eab\u58fd\u96aa,\u6295\u4fdd\u4eba\u548c\u88ab\u4fdd\u96aa\u4eba\u90fd\u662f\u9673\u5927\u660e\u5148\u751f,       \u4fdd\u984d 500 \u842c,\u6708\u7e73\u4fdd\u8cbb 12,000 \u5143,2024 \u5e74 1 \u6708 1 \u65e5\u751f\u6548\u3002       \u53d7\u76ca\u4eba\u662f\u914d\u5076\u9673\u592a\u592a 100%\u3002\u53e6\u5916\u6709\u9644\u52a0\u4f4f\u9662\u91ab\u7642\u548c\u610f\u5916\u50b7\u5bb3\u9644\u7d04\u3002       \u76ee\u524d\u4fdd\u55ae\u72c0\u614b\u662f\u6709\u6548\u7684\u3002 \"\"\"  # \u64f7\u53d6\u7d50\u69cb\u5316\u8cc7\u6599 extracted_policy = extractor.invoke(     f\"\u5f9e\u4ee5\u4e0b\u5c0d\u8a71\u4e2d\u64f7\u53d6\u4fdd\u55ae\u8cc7\u8a0a:\\n{conversation_log}\" )  print(\"\ud83d\udcca \u64f7\u53d6\u7d50\u679c:\") print(\"=\"*60) print(f\"\u4fdd\u55ae\u865f\u78bc: {extracted_policy.policy_id}\") print(f\"\u4fdd\u55ae\u985e\u578b: {extracted_policy.policy_type.value}\") print(f\"\u72c0\u614b: {extracted_policy.status.value}\") print(f\"\u6295\u4fdd\u4eba: {extracted_policy.owner_name}\") print(f\"\u88ab\u4fdd\u96aa\u4eba: {extracted_policy.insured_name}\") print(f\"\u4fdd\u984d: ${extracted_policy.coverage_amount:,}\") print(f\"\u4fdd\u8cbb: ${extracted_policy.premium:,} ({extracted_policy.payment_frequency.value})\") print(f\"\u751f\u6548\u65e5\u671f: {extracted_policy.start_date}\") print(f\"\\n\u53d7\u76ca\u4eba:\") for b in extracted_policy.beneficiaries:     print(f\"  - {b.name} ({b.relationship}): {b.share_percentage}%\") print(f\"\\n\u9644\u7d04: {', '.join(extracted_policy.riders)}\")  print(f\"\\n\u5b8c\u6574 JSON:\") print(extracted_policy.model_dump_json(indent=2, ensure_ascii=False)) In\u00a0[\u00a0]: Copied! <pre>class PolicyBatch(BaseModel):\n    \"\"\"\u591a\u7b46\u4fdd\u55ae\u96c6\u5408\"\"\"\n    policies: List[ComprehensivePolicyInfo] = Field(description=\"\u4fdd\u55ae\u5217\u8868\")\n    total_count: int = Field(description=\"\u4fdd\u55ae\u7e3d\u6578\")\n\nbatch_extractor = llm.with_structured_output(PolicyBatch)\n\n# \u6a21\u64ec\u6279\u6b21\u8cc7\u6599\nbatch_data = \"\"\"\n\u4ee5\u4e0b\u662f 3 \u7b46\u4fdd\u55ae\u8cc7\u6599:\n\n1. CL001 - \u7d42\u8eab\u58fd\u96aa,\u738b\u5c0f\u660e,300 \u842c,\u5e74\u7e73 6 \u842c,2024-01-15 \u751f\u6548,\u6709\u6548,\u53d7\u76ca\u4eba\u914d\u5076 100%\n2. CL002 - \u91ab\u7642\u96aa,\u674e\u5c0f\u83ef,150 \u842c,\u6708\u7e73 3000,2024-02-01 \u751f\u6548,\u6709\u6548,\u53d7\u76ca\u4eba\u7236\u6bcd\u5404 50%\n3. CL003 - \u5b9a\u671f\u58fd\u96aa,\u5f35\u5927\u540c,200 \u842c,\u5b63\u7e73 15000,2024-03-01 \u751f\u6548\u81f3 2034-03-01,\u6709\u6548,\u53d7\u76ca\u4eba\u5b50\u5973 100%\n\"\"\"\n\nbatch_result = batch_extractor.invoke(f\"\u64f7\u53d6\u4ee5\u4e0b\u4fdd\u55ae\u8cc7\u6599:\\n{batch_data}\")\n\nprint(f\"\ud83d\udce6 \u6279\u6b21\u8655\u7406\u7d50\u679c:\")\nprint(f\"\u7e3d\u8a08: {batch_result.total_count} \u7b46\u4fdd\u55ae\\n\")\n\nfor i, policy in enumerate(batch_result.policies, 1):\n    print(f\"{i}. {policy.policy_id} - {policy.policy_type.value}\")\n    print(f\"   \u6295\u4fdd\u4eba: {policy.owner_name}\")\n    print(f\"   \u4fdd\u984d: ${policy.coverage_amount:,}\")\n    print(f\"   \u4fdd\u8cbb: ${policy.premium:,} ({policy.payment_frequency.value})\")\n    print()\n</pre> class PolicyBatch(BaseModel):     \"\"\"\u591a\u7b46\u4fdd\u55ae\u96c6\u5408\"\"\"     policies: List[ComprehensivePolicyInfo] = Field(description=\"\u4fdd\u55ae\u5217\u8868\")     total_count: int = Field(description=\"\u4fdd\u55ae\u7e3d\u6578\")  batch_extractor = llm.with_structured_output(PolicyBatch)  # \u6a21\u64ec\u6279\u6b21\u8cc7\u6599 batch_data = \"\"\" \u4ee5\u4e0b\u662f 3 \u7b46\u4fdd\u55ae\u8cc7\u6599:  1. CL001 - \u7d42\u8eab\u58fd\u96aa,\u738b\u5c0f\u660e,300 \u842c,\u5e74\u7e73 6 \u842c,2024-01-15 \u751f\u6548,\u6709\u6548,\u53d7\u76ca\u4eba\u914d\u5076 100% 2. CL002 - \u91ab\u7642\u96aa,\u674e\u5c0f\u83ef,150 \u842c,\u6708\u7e73 3000,2024-02-01 \u751f\u6548,\u6709\u6548,\u53d7\u76ca\u4eba\u7236\u6bcd\u5404 50% 3. CL003 - \u5b9a\u671f\u58fd\u96aa,\u5f35\u5927\u540c,200 \u842c,\u5b63\u7e73 15000,2024-03-01 \u751f\u6548\u81f3 2034-03-01,\u6709\u6548,\u53d7\u76ca\u4eba\u5b50\u5973 100% \"\"\"  batch_result = batch_extractor.invoke(f\"\u64f7\u53d6\u4ee5\u4e0b\u4fdd\u55ae\u8cc7\u6599:\\n{batch_data}\")  print(f\"\ud83d\udce6 \u6279\u6b21\u8655\u7406\u7d50\u679c:\") print(f\"\u7e3d\u8a08: {batch_result.total_count} \u7b46\u4fdd\u55ae\\n\")  for i, policy in enumerate(batch_result.policies, 1):     print(f\"{i}. {policy.policy_id} - {policy.policy_type.value}\")     print(f\"   \u6295\u4fdd\u4eba: {policy.owner_name}\")     print(f\"   \u4fdd\u984d: ${policy.coverage_amount:,}\")     print(f\"   \u4fdd\u8cbb: ${policy.premium:,} ({policy.payment_frequency.value})\")     print() In\u00a0[\u00a0]: Copied! <pre># TODO: \u5b9a\u7fa9 ClaimInfo \u7d50\u69cb\n# TODO: \u5f9e\u6587\u672c\u64f7\u53d6\u7406\u8ce0\u8cc7\u6599\n</pre> # TODO: \u5b9a\u7fa9 ClaimInfo \u7d50\u69cb # TODO: \u5f9e\u6587\u672c\u64f7\u53d6\u7406\u8ce0\u8cc7\u6599 In\u00a0[\u00a0]: Copied! <pre># TODO: \u5b9a\u7fa9 CustomerProfile \u7d50\u69cb\n</pre> # TODO: \u5b9a\u7fa9 CustomerProfile \u7d50\u69cb In\u00a0[\u00a0]: Copied! <pre># TODO: \u5b9a\u7fa9 PolicyComparison \u7d50\u69cb\n</pre> # TODO: \u5b9a\u7fa9 PolicyComparison \u7d50\u69cb In\u00a0[\u00a0]: Copied! <pre>class ClaimType(str, Enum):\n    HOSPITALIZATION = \"\u4f4f\u9662\"\n    SURGERY = \"\u624b\u8853\"\n    OUTPATIENT = \"\u9580\u8a3a\"\n    DEATH = \"\u8eab\u6545\"\n\nclass ClaimStatus(str, Enum):\n    PENDING = \"\u5be9\u6838\u4e2d\"\n    APPROVED = \"\u5df2\u6838\u51c6\"\n    REJECTED = \"\u5df2\u62d2\u7d55\"\n    PAID = \"\u5df2\u7406\u8ce0\"\n    NEED_DOCS = \"\u9700\u88dc\u4ef6\"\n\nclass ClaimInfo(BaseModel):\n    \"\"\"\u7406\u8ce0\u8cc7\u8a0a\"\"\"\n    claim_id: str = Field(description=\"\u7406\u8ce0\u7de8\u865f\")\n    policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")\n    applicant_name: str = Field(description=\"\u7533\u8acb\u4eba\u59d3\u540d\")\n    claim_type: ClaimType = Field(description=\"\u7406\u8ce0\u985e\u578b\")\n    claim_amount: int = Field(description=\"\u7406\u8ce0\u91d1\u984d\", gt=0)\n    application_date: str = Field(description=\"\u7533\u8acb\u65e5\u671f YYYY-MM-DD\")\n    status: ClaimStatus = Field(description=\"\u5be9\u6838\u72c0\u614b\")\n    required_documents: List[str] = Field(default=[], description=\"\u9700\u88dc\u6587\u4ef6\")\n    notes: Optional[str] = Field(None, description=\"\u5099\u8a3b\")\n\n# \u6e2c\u8a66\nclaim_extractor = llm.with_structured_output(ClaimInfo)\n\nclaim_text = \"\"\"\n\u7406\u8ce0\u7de8\u865f CLM20240315001,\u4fdd\u55ae CL202401001,\u7533\u8acb\u4eba\u738b\u5c0f\u660e,\n\u56e0\u4f4f\u9662\u7533\u8acb\u7406\u8ce0 5 \u842c\u5143,2024-03-15 \u7533\u8acb,\u76ee\u524d\u9700\u88dc\u4ef6,\n\u9700\u63d0\u4f9b\u8a3a\u65b7\u8b49\u660e\u66f8\u548c\u91ab\u7642\u8cbb\u7528\u6536\u64da\u3002\n\"\"\"\n\nclaim_result = claim_extractor.invoke(f\"\u64f7\u53d6\u7406\u8ce0\u8cc7\u6599:\\n{claim_text}\")\n\nprint(\"\ud83c\udfe5 \u7406\u8ce0\u8cc7\u6599:\")\nprint(claim_result.model_dump_json(indent=2, ensure_ascii=False))\n</pre> class ClaimType(str, Enum):     HOSPITALIZATION = \"\u4f4f\u9662\"     SURGERY = \"\u624b\u8853\"     OUTPATIENT = \"\u9580\u8a3a\"     DEATH = \"\u8eab\u6545\"  class ClaimStatus(str, Enum):     PENDING = \"\u5be9\u6838\u4e2d\"     APPROVED = \"\u5df2\u6838\u51c6\"     REJECTED = \"\u5df2\u62d2\u7d55\"     PAID = \"\u5df2\u7406\u8ce0\"     NEED_DOCS = \"\u9700\u88dc\u4ef6\"  class ClaimInfo(BaseModel):     \"\"\"\u7406\u8ce0\u8cc7\u8a0a\"\"\"     claim_id: str = Field(description=\"\u7406\u8ce0\u7de8\u865f\")     policy_id: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")     applicant_name: str = Field(description=\"\u7533\u8acb\u4eba\u59d3\u540d\")     claim_type: ClaimType = Field(description=\"\u7406\u8ce0\u985e\u578b\")     claim_amount: int = Field(description=\"\u7406\u8ce0\u91d1\u984d\", gt=0)     application_date: str = Field(description=\"\u7533\u8acb\u65e5\u671f YYYY-MM-DD\")     status: ClaimStatus = Field(description=\"\u5be9\u6838\u72c0\u614b\")     required_documents: List[str] = Field(default=[], description=\"\u9700\u88dc\u6587\u4ef6\")     notes: Optional[str] = Field(None, description=\"\u5099\u8a3b\")  # \u6e2c\u8a66 claim_extractor = llm.with_structured_output(ClaimInfo)  claim_text = \"\"\" \u7406\u8ce0\u7de8\u865f CLM20240315001,\u4fdd\u55ae CL202401001,\u7533\u8acb\u4eba\u738b\u5c0f\u660e, \u56e0\u4f4f\u9662\u7533\u8acb\u7406\u8ce0 5 \u842c\u5143,2024-03-15 \u7533\u8acb,\u76ee\u524d\u9700\u88dc\u4ef6, \u9700\u63d0\u4f9b\u8a3a\u65b7\u8b49\u660e\u66f8\u548c\u91ab\u7642\u8cbb\u7528\u6536\u64da\u3002 \"\"\"  claim_result = claim_extractor.invoke(f\"\u64f7\u53d6\u7406\u8ce0\u8cc7\u6599:\\n{claim_text}\")  print(\"\ud83c\udfe5 \u7406\u8ce0\u8cc7\u6599:\") print(claim_result.model_dump_json(indent=2, ensure_ascii=False))"},{"location":"langchain/notebooks/03-structured-output/#03-structured-output","title":"03 - \u7d50\u69cb\u5316\u8f38\u51fa (Structured Output)\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u7406\u89e3\u70ba\u4ec0\u9ebc\u9700\u8981\u7d50\u69cb\u5316\u8f38\u51fa</li> <li>\u2705 \u4f7f\u7528 Pydantic \u5b9a\u7fa9\u8907\u96dc\u7684\u8f38\u51fa\u7d50\u69cb</li> <li>\u2705 \u638c\u63e1 <code>with_structured_output()</code> \u65b9\u6cd5</li> <li>\u2705 \u5b78\u7fd2 Tool Strategy \u8207 Provider Strategy</li> <li>\u2705 \u5be6\u4f5c\u570b\u6cf0\u4eba\u58fd\u4fdd\u55ae\u8cc7\u6599\u7d50\u69cb\u5316\u7cfb\u7d71</li> </ul>"},{"location":"langchain/notebooks/03-structured-output/#40","title":"\u23f0 \u9810\u8a08\u6642\u9593: 40 \u5206\u9418\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/","title":"\ud83d\udce6 \u74b0\u5883\u8a2d\u5b9a\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#part-1","title":"Part 1: \u70ba\u4ec0\u9ebc\u9700\u8981\u7d50\u69cb\u5316\u8f38\u51fa?\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#11","title":"1.1 \u554f\u984c\u5834\u666f\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#12","title":"1.2 \u7d50\u69cb\u5316\u8f38\u51fa\u7684\u512a\u52e2\u00b6","text":"<p>\u2705 \u4f7f\u7528\u7d50\u69cb\u5316\u8f38\u51fa\u5f8c:</p> <pre>{\n  \"policy_id\": \"CL202401001\",\n  \"owner\": \"\u738b\u5c0f\u660e\",\n  \"coverage\": 2000000,\n  \"premium\": 50000,\n  \"status\": \"active\"\n}\n</pre> <p>\u512a\u9ede:</p> <ul> <li>\ud83d\udd04 \u53ef\u76f4\u63a5\u8f49\u63db\u70ba JSON</li> <li>\ud83d\udcbe \u53ef\u5b58\u5165\u8cc7\u6599\u5eab</li> <li>\ud83d\udd0d \u53ef\u9032\u884c\u8cc7\u6599\u9a57\u8b49</li> <li>\ud83c\udfaf \u985e\u578b\u5b89\u5168</li> <li>\ud83d\udcca \u6613\u65bc\u7d71\u8a08\u5206\u6790</li> </ul>"},{"location":"langchain/notebooks/03-structured-output/#part-2-pydantic","title":"Part 2: \u4f7f\u7528 Pydantic \u5b9a\u7fa9\u7d50\u69cb\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#21-pydantic-model","title":"2.1 \u57fa\u790e Pydantic Model\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#22-nested-models","title":"2.2 \u5de2\u72c0\u7d50\u69cb (Nested Models)\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#part-3-with_structured_output","title":"Part 3: with_structured_output() \u65b9\u6cd5\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#31","title":"3.1 \u57fa\u790e\u7528\u6cd5\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#32","title":"3.2 \u8655\u7406\u8907\u96dc\u67e5\u8a62\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#part-4-tool-strategy-vs-provider-strategy","title":"Part 4: Tool Strategy vs Provider Strategy\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#41","title":"4.1 \u5169\u7a2e\u7b56\u7565\u7684\u5dee\u7570\u00b6","text":"\u7b56\u7565 Tool Strategy Provider Strategy \u5be6\u4f5c\u65b9\u5f0f \u4f7f\u7528 Function Calling \u4f7f\u7528 Provider \u539f\u751f\u529f\u80fd \u652f\u63f4\u5ea6 \u6240\u6709\u652f\u63f4 Function Calling \u7684\u6a21\u578b \u50c5\u7279\u5b9a Provider \u6e96\u78ba\u5ea6 \u9ad8 \u975e\u5e38\u9ad8 \u901f\u5ea6 \u6b63\u5e38 \u8f03\u5feb \u9069\u7528\u5834\u666f \u4e00\u822c\u7528\u9014 \u9700\u8981\u6975\u9ad8\u6e96\u78ba\u5ea6"},{"location":"langchain/notebooks/03-structured-output/#42-tool-strategy","title":"4.2 \u4f7f\u7528 Tool Strategy (\u9810\u8a2d)\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#43-provider-strategy-json-mode","title":"4.3 \u4f7f\u7528 Provider Strategy (JSON Mode)\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#part-5-","title":"Part 5: \u5be6\u6230\u6848\u4f8b - \u4fdd\u55ae\u8cc7\u6599\u64f7\u53d6\u7cfb\u7d71\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#51","title":"5.1 \u5b9a\u7fa9\u591a\u7a2e\u4fdd\u55ae\u985e\u578b\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#52","title":"5.2 \u5f9e\u975e\u7d50\u69cb\u5316\u6587\u672c\u64f7\u53d6\u8cc7\u6599\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#53","title":"5.3 \u6279\u6b21\u8655\u7406\u591a\u7b46\u4fdd\u55ae\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/","title":"\ud83c\udfaf \u7df4\u7fd2\u984c\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#1","title":"\u7df4\u7fd2 1: \u7406\u8ce0\u8cc7\u6599\u7d50\u69cb\u5316\u00b6","text":"<p>\u5b9a\u7fa9\u7406\u8ce0\u8cc7\u6599\u7d50\u69cb,\u5305\u542b:</p> <ul> <li>\u7406\u8ce0\u7de8\u865f\u3001\u4fdd\u55ae\u865f\u78bc\u3001\u7533\u8acb\u4eba</li> <li>\u7406\u8ce0\u985e\u578b (\u4f4f\u9662/\u624b\u8853/\u9580\u8a3a)</li> <li>\u7406\u8ce0\u91d1\u984d\u3001\u7533\u8acb\u65e5\u671f\u3001\u5be9\u6838\u72c0\u614b</li> <li>\u9700\u88dc\u4ef6\u5217\u8868</li> </ul>"},{"location":"langchain/notebooks/03-structured-output/#2","title":"\u7df4\u7fd2 2: \u5ba2\u6236\u8cc7\u6599\u6574\u5408\u00b6","text":"<p>\u5efa\u7acb\u5ba2\u6236\u5b8c\u6574\u8cc7\u6599\u7d50\u69cb,\u5305\u542b:</p> <ul> <li>\u57fa\u672c\u8cc7\u6599 (\u59d3\u540d\u3001\u751f\u65e5\u3001\u806f\u7d61\u65b9\u5f0f)</li> <li>\u64c1\u6709\u7684\u4fdd\u55ae\u5217\u8868</li> <li>\u7406\u8ce0\u6b77\u53f2</li> <li>\u98a8\u96aa\u8a55\u7d1a</li> </ul>"},{"location":"langchain/notebooks/03-structured-output/#3","title":"\u7df4\u7fd2 3: \u4fdd\u55ae\u6bd4\u8f03\u7cfb\u7d71\u00b6","text":"<p>\u5efa\u7acb\u4fdd\u55ae\u6bd4\u8f03\u7d50\u69cb,\u6bd4\u8f03 2-3 \u500b\u4fdd\u55ae\u7684:</p> <ul> <li>\u4fdd\u8cbb\u5dee\u7570</li> <li>\u4fdd\u969c\u7bc4\u570d\u5dee\u7570</li> <li>\u63a8\u85a6\u7d50\u8ad6</li> </ul>"},{"location":"langchain/notebooks/03-structured-output/","title":"\u2705 \u7df4\u7fd2\u89e3\u7b54\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/#1","title":"\u7df4\u7fd2 1 \u89e3\u7b54\u00b6","text":""},{"location":"langchain/notebooks/03-structured-output/","title":"\ud83d\udcdd \u5b78\u7fd2\u6aa2\u67e5\u6e05\u55ae\u00b6","text":"<ul> <li>\u7406\u89e3\u7d50\u69cb\u5316\u8f38\u51fa\u7684\u91cd\u8981\u6027</li> <li>\u4f7f\u7528 Pydantic BaseModel \u5b9a\u7fa9\u8cc7\u6599\u7d50\u69cb</li> <li>\u4f7f\u7528 Field \u6dfb\u52a0\u6b04\u4f4d\u63cf\u8ff0\u548c\u9a57\u8b49</li> <li>\u5efa\u7acb\u5de2\u72c0 Models</li> <li>\u4f7f\u7528 Enum \u5b9a\u7fa9\u5217\u8209\u985e\u578b</li> <li>\u4f7f\u7528 with_structured_output() \u65b9\u6cd5</li> <li>\u7406\u89e3 Tool Strategy vs Provider Strategy</li> <li>\u5f9e\u975e\u7d50\u69cb\u5316\u6587\u672c\u64f7\u53d6\u7d50\u69cb\u5316\u8cc7\u6599</li> <li>\u6279\u6b21\u8655\u7406\u591a\u7b46\u8cc7\u6599</li> <li>\u6574\u5408\u5230\u5be6\u969b\u61c9\u7528\u5834\u666f</li> </ul>"},{"location":"langchain/notebooks/03-structured-output/","title":"\u4e0b\u4e00\u6b65\u00b6","text":"<p>\u7e7c\u7e8c\u524d\u5f80 <code>04-memory-management.ipynb</code> \u5b78\u7fd2\u8a18\u61b6\u7ba1\u7406 \ud83d\udc49</p>"},{"location":"langchain/notebooks/04-memory-management/","title":"\u7df4\u7fd2 04 - \u8a18\u61b6\u7ba1\u7406","text":"In\u00a0[\u00a0]: Copied! <pre>!pip install langchain==0.1.0\n!pip install langchain-openai==0.0.5\n!pip install langgraph==0.0.20\n!pip install python-dotenv==1.0.0\n</pre> !pip install langchain==0.1.0 !pip install langchain-openai==0.0.5 !pip install langgraph==0.0.20 !pip install python-dotenv==1.0.0 In\u00a0[\u00a0]: Copied! <pre>from dotenv import load_dotenv\nimport os\n\nload_dotenv()\nprint(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\")\n</pre> from dotenv import load_dotenv import os  load_dotenv() print(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>from langchain_openai import ChatOpenAI\n\nllm = ChatOpenAI(model=\"gpt-4\", temperature=0)\n\n# \u7b2c\u4e00\u6b21\u5c0d\u8a71\nresponse1 = llm.invoke(\"\u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\")\nprint(\"\ud83d\udc64 \u4f7f\u7528\u8005: \u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\")\nprint(f\"\ud83e\udd16 AI: {response1.content}\\n\")\n\n# \u7b2c\u4e8c\u6b21\u5c0d\u8a71\nresponse2 = llm.invoke(\"\u8acb\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u8a0a\")\nprint(\"\ud83d\udc64 \u4f7f\u7528\u8005: \u8acb\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u8a0a\")\nprint(f\"\ud83e\udd16 AI: {response2.content}\")\nprint(\"\\n\u274c \u554f\u984c: AI \u4e0d\u8a18\u5f97\u4e4b\u524d\u8aaa\u904e\u7684\u4fdd\u55ae\u865f\u78bc!\")\n</pre> from langchain_openai import ChatOpenAI  llm = ChatOpenAI(model=\"gpt-4\", temperature=0)  # \u7b2c\u4e00\u6b21\u5c0d\u8a71 response1 = llm.invoke(\"\u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\") print(\"\ud83d\udc64 \u4f7f\u7528\u8005: \u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\") print(f\"\ud83e\udd16 AI: {response1.content}\\n\")  # \u7b2c\u4e8c\u6b21\u5c0d\u8a71 response2 = llm.invoke(\"\u8acb\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u8a0a\") print(\"\ud83d\udc64 \u4f7f\u7528\u8005: \u8acb\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u8a0a\") print(f\"\ud83e\udd16 AI: {response2.content}\") print(\"\\n\u274c \u554f\u984c: AI \u4e0d\u8a18\u5f97\u4e4b\u524d\u8aaa\u904e\u7684\u4fdd\u55ae\u865f\u78bc!\") In\u00a0[\u00a0]: Copied! <pre>from langchain.schema import HumanMessage, AIMessage, SystemMessage\n\n# \u624b\u52d5\u7dad\u8b77\u5c0d\u8a71\u6b77\u53f2\nmessages = [\n    SystemMessage(content=\"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5ba2\u670d\u52a9\u7406\"),\n    HumanMessage(content=\"\u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\"),\n]\n\nresponse1 = llm.invoke(messages)\nmessages.append(AIMessage(content=response1.content))\nprint(f\"\ud83e\udd16 AI: {response1.content}\\n\")\n\n# \u7b2c\u4e8c\u6b21\u5c0d\u8a71 - \u8a18\u5f97\u4e4b\u524d\u7684\u5167\u5bb9\nmessages.append(HumanMessage(content=\"\u8acb\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u8a0a\"))\nresponse2 = llm.invoke(messages)\nprint(f\"\ud83e\udd16 AI: {response2.content}\")\nprint(\"\\n\u2705 AI \u8a18\u5f97\u4fdd\u55ae\u865f\u78bc\u4e86!\")\n</pre> from langchain.schema import HumanMessage, AIMessage, SystemMessage  # \u624b\u52d5\u7dad\u8b77\u5c0d\u8a71\u6b77\u53f2 messages = [     SystemMessage(content=\"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5ba2\u670d\u52a9\u7406\"),     HumanMessage(content=\"\u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\"), ]  response1 = llm.invoke(messages) messages.append(AIMessage(content=response1.content)) print(f\"\ud83e\udd16 AI: {response1.content}\\n\")  # \u7b2c\u4e8c\u6b21\u5c0d\u8a71 - \u8a18\u5f97\u4e4b\u524d\u7684\u5167\u5bb9 messages.append(HumanMessage(content=\"\u8acb\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u8a0a\")) response2 = llm.invoke(messages) print(f\"\ud83e\udd16 AI: {response2.content}\") print(\"\\n\u2705 AI \u8a18\u5f97\u4fdd\u55ae\u865f\u78bc\u4e86!\") In\u00a0[\u00a0]: Copied! <pre>from langchain.memory import ConversationBufferMemory\nfrom langchain.chains import ConversationChain\n\n# \u5efa\u7acb\u8a18\u61b6\nmemory = ConversationBufferMemory()\n\n# \u5efa\u7acb\u5c0d\u8a71\u93c8\nconversation = ConversationChain(\n    llm=llm,\n    memory=memory,\n    verbose=True  # \u986f\u793a\u57f7\u884c\u904e\u7a0b\n)\n\n# \u7b2c\u4e00\u8f2a\u5c0d\u8a71\nresponse1 = conversation.predict(input=\"\u6211\u53eb\u738b\u5c0f\u660e,\u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\")\nprint(f\"\\n\u56de\u61c9: {response1}\")\n\n# \u7b2c\u4e8c\u8f2a\u5c0d\u8a71\nresponse2 = conversation.predict(input=\"\u8acb\u554f\u6211\u525b\u624d\u8aaa\u7684\u4fdd\u55ae\u865f\u78bc\u662f\u4ec0\u9ebc?\")\nprint(f\"\\n\u56de\u61c9: {response2}\")\n\n# \u7b2c\u4e09\u8f2a\u5c0d\u8a71\nresponse3 = conversation.predict(input=\"\u6211\u53eb\u4ec0\u9ebc\u540d\u5b57?\")\nprint(f\"\\n\u56de\u61c9: {response3}\")\n</pre> from langchain.memory import ConversationBufferMemory from langchain.chains import ConversationChain  # \u5efa\u7acb\u8a18\u61b6 memory = ConversationBufferMemory()  # \u5efa\u7acb\u5c0d\u8a71\u93c8 conversation = ConversationChain(     llm=llm,     memory=memory,     verbose=True  # \u986f\u793a\u57f7\u884c\u904e\u7a0b )  # \u7b2c\u4e00\u8f2a\u5c0d\u8a71 response1 = conversation.predict(input=\"\u6211\u53eb\u738b\u5c0f\u660e,\u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\") print(f\"\\n\u56de\u61c9: {response1}\")  # \u7b2c\u4e8c\u8f2a\u5c0d\u8a71 response2 = conversation.predict(input=\"\u8acb\u554f\u6211\u525b\u624d\u8aaa\u7684\u4fdd\u55ae\u865f\u78bc\u662f\u4ec0\u9ebc?\") print(f\"\\n\u56de\u61c9: {response2}\")  # \u7b2c\u4e09\u8f2a\u5c0d\u8a71 response3 = conversation.predict(input=\"\u6211\u53eb\u4ec0\u9ebc\u540d\u5b57?\") print(f\"\\n\u56de\u61c9: {response3}\") In\u00a0[\u00a0]: Copied! <pre># \u67e5\u770b\u5b8c\u6574\u5c0d\u8a71\u6b77\u53f2\nprint(\"\ud83d\udcbe \u5c0d\u8a71\u6b77\u53f2:\")\nprint(memory.buffer)\n\n# \u67e5\u770b\u7d50\u69cb\u5316\u7684\u8a0a\u606f\u5217\u8868\nprint(\"\\n\ud83d\udccb \u8a0a\u606f\u5217\u8868:\")\nmessages = memory.chat_memory.messages\nfor i, msg in enumerate(messages, 1):\n    role = \"\ud83d\udc64\" if msg.type == \"human\" else \"\ud83e\udd16\"\n    print(f\"{i}. {role} {msg.content}\")\n</pre> # \u67e5\u770b\u5b8c\u6574\u5c0d\u8a71\u6b77\u53f2 print(\"\ud83d\udcbe \u5c0d\u8a71\u6b77\u53f2:\") print(memory.buffer)  # \u67e5\u770b\u7d50\u69cb\u5316\u7684\u8a0a\u606f\u5217\u8868 print(\"\\n\ud83d\udccb \u8a0a\u606f\u5217\u8868:\") messages = memory.chat_memory.messages for i, msg in enumerate(messages, 1):     role = \"\ud83d\udc64\" if msg.type == \"human\" else \"\ud83e\udd16\"     print(f\"{i}. {role} {msg.content}\") In\u00a0[\u00a0]: Copied! <pre># \u6e05\u9664\u8a18\u61b6\nmemory.clear()\nprint(\"\ud83d\uddd1\ufe0f \u8a18\u61b6\u5df2\u6e05\u9664\")\n\n# \u6e2c\u8a66\nresponse = conversation.predict(input=\"\u6211\u53eb\u4ec0\u9ebc\u540d\u5b57?\")\nprint(f\"\\n\u56de\u61c9: {response}\")\nprint(\"\\n\ud83d\udc46 AI \u5df2\u7d93\u4e0d\u8a18\u5f97\u4e4b\u524d\u7684\u5c0d\u8a71\u4e86\")\n</pre> # \u6e05\u9664\u8a18\u61b6 memory.clear() print(\"\ud83d\uddd1\ufe0f \u8a18\u61b6\u5df2\u6e05\u9664\")  # \u6e2c\u8a66 response = conversation.predict(input=\"\u6211\u53eb\u4ec0\u9ebc\u540d\u5b57?\") print(f\"\\n\u56de\u61c9: {response}\") print(\"\\n\ud83d\udc46 AI \u5df2\u7d93\u4e0d\u8a18\u5f97\u4e4b\u524d\u7684\u5c0d\u8a71\u4e86\") In\u00a0[\u00a0]: Copied! <pre>from typing import TypedDict, Annotated, List\nfrom operator import add\nfrom langgraph.graph import StateGraph, END\n\nclass ConversationState(TypedDict):\n    \"\"\"\u5c0d\u8a71\u72c0\u614b\"\"\"\n    # \u5c0d\u8a71\u6b77\u53f2 (\u7d2f\u52a0)\n    messages: Annotated[List[dict], add]\n    \n    # \u4f7f\u7528\u8005\u8cc7\u8a0a (\u8986\u84cb)\n    user_name: str\n    policy_id: str\n    \n    # \u7576\u524d\u610f\u5716 (\u8986\u84cb)\n    current_intent: str\n    \n    # \u57f7\u884c\u65e5\u8a8c (\u7d2f\u52a0)\n    execution_log: Annotated[List[str], add]\n\nprint(\"\u2705 \u81ea\u8a02\u72c0\u614b\u7d50\u69cb\u5b9a\u7fa9\u5b8c\u6210\")\n</pre> from typing import TypedDict, Annotated, List from operator import add from langgraph.graph import StateGraph, END  class ConversationState(TypedDict):     \"\"\"\u5c0d\u8a71\u72c0\u614b\"\"\"     # \u5c0d\u8a71\u6b77\u53f2 (\u7d2f\u52a0)     messages: Annotated[List[dict], add]          # \u4f7f\u7528\u8005\u8cc7\u8a0a (\u8986\u84cb)     user_name: str     policy_id: str          # \u7576\u524d\u610f\u5716 (\u8986\u84cb)     current_intent: str          # \u57f7\u884c\u65e5\u8a8c (\u7d2f\u52a0)     execution_log: Annotated[List[str], add]  print(\"\u2705 \u81ea\u8a02\u72c0\u614b\u7d50\u69cb\u5b9a\u7fa9\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>from datetime import datetime\n\ndef extract_info(state: ConversationState) -&gt; ConversationState:\n    \"\"\"\u64f7\u53d6\u4f7f\u7528\u8005\u8cc7\u8a0a\"\"\"\n    last_msg = state[\"messages\"][-1][\"content\"] if state[\"messages\"] else \"\"\n    \n    # \u7c21\u55ae\u7684\u8cc7\u8a0a\u64f7\u53d6 (\u5be6\u969b\u6703\u7528 LLM)\n    user_name = state.get(\"user_name\", \"\")\n    policy_id = state.get(\"policy_id\", \"\")\n    \n    if \"\u6211\u53eb\" in last_msg or \"\u6211\u662f\" in last_msg:\n        # \u63d0\u53d6\u59d3\u540d\n        for word in [\"\u6211\u53eb\", \"\u6211\u662f\"]:\n            if word in last_msg:\n                user_name = last_msg.split(word)[1].split(\",\")[0].split(\"\u3002\")[0].strip()\n                break\n    \n    if \"\u4fdd\u55ae\" in last_msg and \"CL\" in last_msg:\n        # \u63d0\u53d6\u4fdd\u55ae\u865f\u78bc\n        import re\n        match = re.search(r'CL\\d+', last_msg)\n        if match:\n            policy_id = match.group()\n    \n    return {\n        \"user_name\": user_name,\n        \"policy_id\": policy_id,\n        \"execution_log\": [f\"[{datetime.now().strftime('%H:%M:%S')}] \u64f7\u53d6\u8cc7\u8a0a\u5b8c\u6210\"]\n    }\n\ndef generate_response(state: ConversationState) -&gt; ConversationState:\n    \"\"\"\u751f\u6210\u56de\u61c9\"\"\"\n    last_msg = state[\"messages\"][-1][\"content\"]\n    user_name = state.get(\"user_name\", \"\")\n    policy_id = state.get(\"policy_id\", \"\")\n    \n    # \u5efa\u7acb\u63d0\u793a\u8a5e\n    context = f\"\"\"\n\u5df2\u77e5\u8cc7\u8a0a:\n- \u4f7f\u7528\u8005\u59d3\u540d: {user_name if user_name else '\u672a\u77e5'}\n- \u4fdd\u55ae\u865f\u78bc: {policy_id if policy_id else '\u672a\u77e5'}\n\n\u4f7f\u7528\u8005\u554f\u984c: {last_msg}\n\n\u8acb\u6839\u64da\u5df2\u77e5\u8cc7\u8a0a\u56de\u7b54\u554f\u984c\u3002\u5982\u679c\u8cc7\u8a0a\u4e0d\u8db3,\u8acb\u53cb\u5584\u5730\u8a62\u554f\u3002\n\"\"\"\n    \n    response = llm.invoke(context)\n    \n    return {\n        \"messages\": [{\"role\": \"assistant\", \"content\": response.content}],\n        \"execution_log\": [f\"[{datetime.now().strftime('%H:%M:%S')}] \u751f\u6210\u56de\u61c9\u5b8c\u6210\"]\n    }\n\n# \u5efa\u7acb StateGraph\nworkflow = StateGraph(ConversationState)\nworkflow.add_node(\"extract\", extract_info)\nworkflow.add_node(\"respond\", generate_response)\n\nworkflow.set_entry_point(\"extract\")\nworkflow.add_edge(\"extract\", \"respond\")\nworkflow.add_edge(\"respond\", END)\n\nstateful_agent = workflow.compile()\n\nprint(\"\u2705 \u5e36\u72c0\u614b\u7684 Agent \u5efa\u7acb\u5b8c\u6210\")\n</pre> from datetime import datetime  def extract_info(state: ConversationState) -&gt; ConversationState:     \"\"\"\u64f7\u53d6\u4f7f\u7528\u8005\u8cc7\u8a0a\"\"\"     last_msg = state[\"messages\"][-1][\"content\"] if state[\"messages\"] else \"\"          # \u7c21\u55ae\u7684\u8cc7\u8a0a\u64f7\u53d6 (\u5be6\u969b\u6703\u7528 LLM)     user_name = state.get(\"user_name\", \"\")     policy_id = state.get(\"policy_id\", \"\")          if \"\u6211\u53eb\" in last_msg or \"\u6211\u662f\" in last_msg:         # \u63d0\u53d6\u59d3\u540d         for word in [\"\u6211\u53eb\", \"\u6211\u662f\"]:             if word in last_msg:                 user_name = last_msg.split(word)[1].split(\",\")[0].split(\"\u3002\")[0].strip()                 break          if \"\u4fdd\u55ae\" in last_msg and \"CL\" in last_msg:         # \u63d0\u53d6\u4fdd\u55ae\u865f\u78bc         import re         match = re.search(r'CL\\d+', last_msg)         if match:             policy_id = match.group()          return {         \"user_name\": user_name,         \"policy_id\": policy_id,         \"execution_log\": [f\"[{datetime.now().strftime('%H:%M:%S')}] \u64f7\u53d6\u8cc7\u8a0a\u5b8c\u6210\"]     }  def generate_response(state: ConversationState) -&gt; ConversationState:     \"\"\"\u751f\u6210\u56de\u61c9\"\"\"     last_msg = state[\"messages\"][-1][\"content\"]     user_name = state.get(\"user_name\", \"\")     policy_id = state.get(\"policy_id\", \"\")          # \u5efa\u7acb\u63d0\u793a\u8a5e     context = f\"\"\" \u5df2\u77e5\u8cc7\u8a0a: - \u4f7f\u7528\u8005\u59d3\u540d: {user_name if user_name else '\u672a\u77e5'} - \u4fdd\u55ae\u865f\u78bc: {policy_id if policy_id else '\u672a\u77e5'}  \u4f7f\u7528\u8005\u554f\u984c: {last_msg}  \u8acb\u6839\u64da\u5df2\u77e5\u8cc7\u8a0a\u56de\u7b54\u554f\u984c\u3002\u5982\u679c\u8cc7\u8a0a\u4e0d\u8db3,\u8acb\u53cb\u5584\u5730\u8a62\u554f\u3002 \"\"\"          response = llm.invoke(context)          return {         \"messages\": [{\"role\": \"assistant\", \"content\": response.content}],         \"execution_log\": [f\"[{datetime.now().strftime('%H:%M:%S')}] \u751f\u6210\u56de\u61c9\u5b8c\u6210\"]     }  # \u5efa\u7acb StateGraph workflow = StateGraph(ConversationState) workflow.add_node(\"extract\", extract_info) workflow.add_node(\"respond\", generate_response)  workflow.set_entry_point(\"extract\") workflow.add_edge(\"extract\", \"respond\") workflow.add_edge(\"respond\", END)  stateful_agent = workflow.compile()  print(\"\u2705 \u5e36\u72c0\u614b\u7684 Agent \u5efa\u7acb\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre># \u521d\u59cb\u5316\u72c0\u614b\nstate = {\n    \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u53eb\u738b\u5c0f\u660e,\u6211\u7684\u4fdd\u55ae\u662f CL202401001\"}],\n    \"user_name\": \"\",\n    \"policy_id\": \"\",\n    \"current_intent\": \"\",\n    \"execution_log\": []\n}\n\n# \u7b2c\u4e00\u8f2a\u5c0d\u8a71\nresult1 = stateful_agent.invoke(state)\n\nprint(\"\ud83d\udcac \u7b2c\u4e00\u8f2a\u5c0d\u8a71:\")\nprint(f\"\ud83d\udc64 \u4f7f\u7528\u8005: {result1['messages'][0]['content']}\")\nprint(f\"\ud83e\udd16 AI: {result1['messages'][1]['content']}\")\nprint(f\"\\n\ud83d\udcca \u72c0\u614b:\")\nprint(f\"  \u59d3\u540d: {result1['user_name']}\")\nprint(f\"  \u4fdd\u55ae: {result1['policy_id']}\")\nprint(f\"\\n\ud83d\udcdd \u65e5\u8a8c:\")\nfor log in result1['execution_log']:\n    print(f\"  {log}\")\n</pre> # \u521d\u59cb\u5316\u72c0\u614b state = {     \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u53eb\u738b\u5c0f\u660e,\u6211\u7684\u4fdd\u55ae\u662f CL202401001\"}],     \"user_name\": \"\",     \"policy_id\": \"\",     \"current_intent\": \"\",     \"execution_log\": [] }  # \u7b2c\u4e00\u8f2a\u5c0d\u8a71 result1 = stateful_agent.invoke(state)  print(\"\ud83d\udcac \u7b2c\u4e00\u8f2a\u5c0d\u8a71:\") print(f\"\ud83d\udc64 \u4f7f\u7528\u8005: {result1['messages'][0]['content']}\") print(f\"\ud83e\udd16 AI: {result1['messages'][1]['content']}\") print(f\"\\n\ud83d\udcca \u72c0\u614b:\") print(f\"  \u59d3\u540d: {result1['user_name']}\") print(f\"  \u4fdd\u55ae: {result1['policy_id']}\") print(f\"\\n\ud83d\udcdd \u65e5\u8a8c:\") for log in result1['execution_log']:     print(f\"  {log}\") In\u00a0[\u00a0]: Copied! <pre># \u7b2c\u4e8c\u8f2a\u5c0d\u8a71 - \u4f7f\u7528\u7b2c\u4e00\u8f2a\u7684\u72c0\u614b\nresult1[\"messages\"].append({\"role\": \"user\", \"content\": \"\u8acb\u554f\u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f\u4ec0\u9ebc?\"})\n\nresult2 = stateful_agent.invoke(result1)\n\nprint(\"\\n\ud83d\udcac \u7b2c\u4e8c\u8f2a\u5c0d\u8a71:\")\nprint(f\"\ud83d\udc64 \u4f7f\u7528\u8005: {result2['messages'][-2]['content']}\")\nprint(f\"\ud83e\udd16 AI: {result2['messages'][-1]['content']}\")\nprint(f\"\\n\u2705 AI \u8a18\u5f97\u4e4b\u524d\u8aaa\u904e\u7684\u4fdd\u55ae\u865f\u78bc: {result2['policy_id']}\")\n</pre> # \u7b2c\u4e8c\u8f2a\u5c0d\u8a71 - \u4f7f\u7528\u7b2c\u4e00\u8f2a\u7684\u72c0\u614b result1[\"messages\"].append({\"role\": \"user\", \"content\": \"\u8acb\u554f\u6211\u7684\u4fdd\u55ae\u865f\u78bc\u662f\u4ec0\u9ebc?\"})  result2 = stateful_agent.invoke(result1)  print(\"\\n\ud83d\udcac \u7b2c\u4e8c\u8f2a\u5c0d\u8a71:\") print(f\"\ud83d\udc64 \u4f7f\u7528\u8005: {result2['messages'][-2]['content']}\") print(f\"\ud83e\udd16 AI: {result2['messages'][-1]['content']}\") print(f\"\\n\u2705 AI \u8a18\u5f97\u4e4b\u524d\u8aaa\u904e\u7684\u4fdd\u55ae\u865f\u78bc: {result2['policy_id']}\") In\u00a0[\u00a0]: Copied! <pre>class MemoryMiddleware:\n    \"\"\"\u8a18\u61b6\u4e2d\u4ecb\u5c64\"\"\"\n    \n    def __init__(self):\n        self.user_data = {}  # \u4f7f\u7528\u8005\u8cc7\u6599\u5feb\u53d6\n        self.conversation_count = {}  # \u5c0d\u8a71\u8a08\u6578\n    \n    def before_invoke(self, state: ConversationState) -&gt; ConversationState:\n        \"\"\"\u57f7\u884c\u524d\u8655\u7406\"\"\"\n        user_name = state.get(\"user_name\", \"\")\n        \n        if user_name:\n            # \u5f9e\u5feb\u53d6\u8f09\u5165\u4f7f\u7528\u8005\u8cc7\u6599\n            if user_name in self.user_data:\n                print(f\"\ud83d\udcc2 \u5f9e\u5feb\u53d6\u8f09\u5165 {user_name} \u7684\u8cc7\u6599\")\n                state.update(self.user_data[user_name])\n            \n            # \u66f4\u65b0\u5c0d\u8a71\u8a08\u6578\n            self.conversation_count[user_name] = self.conversation_count.get(user_name, 0) + 1\n        \n        return state\n    \n    def after_invoke(self, state: ConversationState) -&gt; ConversationState:\n        \"\"\"\u57f7\u884c\u5f8c\u8655\u7406\"\"\"\n        user_name = state.get(\"user_name\", \"\")\n        \n        if user_name:\n            # \u5132\u5b58\u4f7f\u7528\u8005\u8cc7\u6599\u5230\u5feb\u53d6\n            self.user_data[user_name] = {\n                \"user_name\": user_name,\n                \"policy_id\": state.get(\"policy_id\", \"\"),\n                \"conversation_count\": self.conversation_count.get(user_name, 0)\n            }\n            print(f\"\ud83d\udcbe \u5132\u5b58 {user_name} \u7684\u8cc7\u6599\u5230\u5feb\u53d6\")\n        \n        return state\n    \n    def get_user_stats(self, user_name: str) -&gt; dict:\n        \"\"\"\u53d6\u5f97\u4f7f\u7528\u8005\u7d71\u8a08\"\"\"\n        return self.user_data.get(user_name, {})\n\n# \u5efa\u7acb\u4e2d\u4ecb\u5c64\u5be6\u4f8b\nmemory_middleware = MemoryMiddleware()\n\nprint(\"\u2705 \u8a18\u61b6\u4e2d\u4ecb\u5c64\u5efa\u7acb\u5b8c\u6210\")\n</pre> class MemoryMiddleware:     \"\"\"\u8a18\u61b6\u4e2d\u4ecb\u5c64\"\"\"          def __init__(self):         self.user_data = {}  # \u4f7f\u7528\u8005\u8cc7\u6599\u5feb\u53d6         self.conversation_count = {}  # \u5c0d\u8a71\u8a08\u6578          def before_invoke(self, state: ConversationState) -&gt; ConversationState:         \"\"\"\u57f7\u884c\u524d\u8655\u7406\"\"\"         user_name = state.get(\"user_name\", \"\")                  if user_name:             # \u5f9e\u5feb\u53d6\u8f09\u5165\u4f7f\u7528\u8005\u8cc7\u6599             if user_name in self.user_data:                 print(f\"\ud83d\udcc2 \u5f9e\u5feb\u53d6\u8f09\u5165 {user_name} \u7684\u8cc7\u6599\")                 state.update(self.user_data[user_name])                          # \u66f4\u65b0\u5c0d\u8a71\u8a08\u6578             self.conversation_count[user_name] = self.conversation_count.get(user_name, 0) + 1                  return state          def after_invoke(self, state: ConversationState) -&gt; ConversationState:         \"\"\"\u57f7\u884c\u5f8c\u8655\u7406\"\"\"         user_name = state.get(\"user_name\", \"\")                  if user_name:             # \u5132\u5b58\u4f7f\u7528\u8005\u8cc7\u6599\u5230\u5feb\u53d6             self.user_data[user_name] = {                 \"user_name\": user_name,                 \"policy_id\": state.get(\"policy_id\", \"\"),                 \"conversation_count\": self.conversation_count.get(user_name, 0)             }             print(f\"\ud83d\udcbe \u5132\u5b58 {user_name} \u7684\u8cc7\u6599\u5230\u5feb\u53d6\")                  return state          def get_user_stats(self, user_name: str) -&gt; dict:         \"\"\"\u53d6\u5f97\u4f7f\u7528\u8005\u7d71\u8a08\"\"\"         return self.user_data.get(user_name, {})  # \u5efa\u7acb\u4e2d\u4ecb\u5c64\u5be6\u4f8b memory_middleware = MemoryMiddleware()  print(\"\u2705 \u8a18\u61b6\u4e2d\u4ecb\u5c64\u5efa\u7acb\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre># \u6a21\u64ec\u7b2c\u4e00\u6b21\u5c0d\u8a71\nstate1 = {\n    \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u53eb\u674e\u5c0f\u83ef,\u4fdd\u55ae CL202401002\"}],\n    \"user_name\": \"\u674e\u5c0f\u83ef\",\n    \"policy_id\": \"CL202401002\",\n    \"current_intent\": \"\",\n    \"execution_log\": []\n}\n\nprint(\"\ud83d\udd04 \u7b2c\u4e00\u6b21\u5c0d\u8a71:\")\nstate1 = memory_middleware.before_invoke(state1)\n# ... \u57f7\u884c Agent ...\nstate1 = memory_middleware.after_invoke(state1)\n\n# \u6a21\u64ec\u7b2c\u4e8c\u6b21\u5c0d\u8a71 (\u65b0\u6703\u8a71)\nstate2 = {\n    \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u60f3\u67e5\u8a62\u4fdd\u55ae\"}],\n    \"user_name\": \"\u674e\u5c0f\u83ef\",  # \u540c\u4e00\u500b\u4f7f\u7528\u8005\n    \"policy_id\": \"\",  # \u6c92\u6709\u63d0\u4f9b\u4fdd\u55ae\u865f\u78bc\n    \"current_intent\": \"\",\n    \"execution_log\": []\n}\n\nprint(\"\\n\ud83d\udd04 \u7b2c\u4e8c\u6b21\u5c0d\u8a71 (\u540c\u4e00\u4f7f\u7528\u8005):\")\nstate2 = memory_middleware.before_invoke(state2)\nprint(f\"\\n\u2705 \u81ea\u52d5\u586b\u5165\u4fdd\u55ae\u865f\u78bc: {state2['policy_id']}\")\nprint(f\"\u2705 \u5c0d\u8a71\u6b21\u6578: {memory_middleware.conversation_count['\u674e\u5c0f\u83ef']}\")\n\n# \u67e5\u770b\u4f7f\u7528\u8005\u7d71\u8a08\nprint(\"\\n\ud83d\udcca \u4f7f\u7528\u8005\u7d71\u8a08:\")\nstats = memory_middleware.get_user_stats(\"\u674e\u5c0f\u83ef\")\nprint(stats)\n</pre> # \u6a21\u64ec\u7b2c\u4e00\u6b21\u5c0d\u8a71 state1 = {     \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u53eb\u674e\u5c0f\u83ef,\u4fdd\u55ae CL202401002\"}],     \"user_name\": \"\u674e\u5c0f\u83ef\",     \"policy_id\": \"CL202401002\",     \"current_intent\": \"\",     \"execution_log\": [] }  print(\"\ud83d\udd04 \u7b2c\u4e00\u6b21\u5c0d\u8a71:\") state1 = memory_middleware.before_invoke(state1) # ... \u57f7\u884c Agent ... state1 = memory_middleware.after_invoke(state1)  # \u6a21\u64ec\u7b2c\u4e8c\u6b21\u5c0d\u8a71 (\u65b0\u6703\u8a71) state2 = {     \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u60f3\u67e5\u8a62\u4fdd\u55ae\"}],     \"user_name\": \"\u674e\u5c0f\u83ef\",  # \u540c\u4e00\u500b\u4f7f\u7528\u8005     \"policy_id\": \"\",  # \u6c92\u6709\u63d0\u4f9b\u4fdd\u55ae\u865f\u78bc     \"current_intent\": \"\",     \"execution_log\": [] }  print(\"\\n\ud83d\udd04 \u7b2c\u4e8c\u6b21\u5c0d\u8a71 (\u540c\u4e00\u4f7f\u7528\u8005):\") state2 = memory_middleware.before_invoke(state2) print(f\"\\n\u2705 \u81ea\u52d5\u586b\u5165\u4fdd\u55ae\u865f\u78bc: {state2['policy_id']}\") print(f\"\u2705 \u5c0d\u8a71\u6b21\u6578: {memory_middleware.conversation_count['\u674e\u5c0f\u83ef']}\")  # \u67e5\u770b\u4f7f\u7528\u8005\u7d71\u8a08 print(\"\\n\ud83d\udcca \u4f7f\u7528\u8005\u7d71\u8a08:\") stats = memory_middleware.get_user_stats(\"\u674e\u5c0f\u83ef\") print(stats) In\u00a0[\u00a0]: Copied! <pre>class CustomerServiceState(TypedDict):\n    \"\"\"\u5ba2\u670d\u7cfb\u7d71\u72c0\u614b\"\"\"\n    session_id: str\n    messages: Annotated[List[dict], add]\n    user_name: str\n    policy_id: str\n    intent: str\n    sentiment: str  # positive/neutral/negative\n    resolved: bool\n    execution_log: Annotated[List[str], add]\n\ndef analyze_message(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u5206\u6790\u8a0a\u606f\u610f\u5716\u548c\u60c5\u611f\"\"\"\n    last_msg = state[\"messages\"][-1][\"content\"]\n    \n    # \u4f7f\u7528 LLM \u5206\u6790\n    analysis_prompt = f\"\"\"\n\u5206\u6790\u4ee5\u4e0b\u5ba2\u6236\u8a0a\u606f:\n{last_msg}\n\n\u8acb\u5224\u65b7:\n1. \u610f\u5716 (\u67e5\u8a62/\u6295\u8a34/\u8cfc\u8cb7/\u5176\u4ed6)\n2. \u60c5\u611f (positive/neutral/negative)\n\n\u53ea\u56de\u7b54 JSON: {{\"intent\": \"...\", \"sentiment\": \"...\"}}\n\"\"\"\n    \n    response = llm.invoke(analysis_prompt)\n    import json\n    try:\n        analysis = json.loads(response.content)\n    except:\n        analysis = {\"intent\": \"\u5176\u4ed6\", \"sentiment\": \"neutral\"}\n    \n    return {\n        \"intent\": analysis[\"intent\"],\n        \"sentiment\": analysis[\"sentiment\"],\n        \"execution_log\": [f\"[\u5206\u6790] \u610f\u5716: {analysis['intent']}, \u60c5\u611f: {analysis['sentiment']}\"]\n    }\n\ndef handle_query(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8655\u7406\u5ba2\u6236\u67e5\u8a62\"\"\"\n    context = f\"\"\"\n\u5ba2\u6236\u8cc7\u8a0a:\n- \u59d3\u540d: {state.get('user_name', '\u672a\u77e5')}\n- \u4fdd\u55ae: {state.get('policy_id', '\u672a\u77e5')}\n- \u610f\u5716: {state.get('intent', '\u672a\u77e5')}\n- \u60c5\u611f: {state.get('sentiment', '\u672a\u77e5')}\n\n\u5c0d\u8a71\u6b77\u53f2:\n\"\"\"\n    for msg in state[\"messages\"]:\n        role = \"\u5ba2\u6236\" if msg[\"role\"] == \"user\" else \"\u5ba2\u670d\"\n        context += f\"{role}: {msg['content']}\\n\"\n    \n    context += \"\\n\u8acb\u6839\u64da\u4ee5\u4e0a\u8cc7\u8a0a,\u63d0\u4f9b\u5c08\u696d\u4e14\u53cb\u5584\u7684\u56de\u61c9\u3002\"\n    \n    response = llm.invoke(context)\n    \n    return {\n        \"messages\": [{\"role\": \"assistant\", \"content\": response.content}],\n        \"resolved\": True,  # \u7c21\u5316\u8655\u7406\n        \"execution_log\": [f\"[\u56de\u61c9] \u5df2\u751f\u6210\u5ba2\u670d\u56de\u61c9\"]\n    }\n\n# \u5efa\u7acb\u5b8c\u6574\u5ba2\u670d Agent\ncs_workflow = StateGraph(CustomerServiceState)\ncs_workflow.add_node(\"analyze\", analyze_message)\ncs_workflow.add_node(\"handle\", handle_query)\n\ncs_workflow.set_entry_point(\"analyze\")\ncs_workflow.add_edge(\"analyze\", \"handle\")\ncs_workflow.add_edge(\"handle\", END)\n\ncustomer_service = cs_workflow.compile()\n\nprint(\"\u2705 \u5b8c\u6574\u5ba2\u670d\u7cfb\u7d71\u5efa\u7acb\u5b8c\u6210\")\n</pre> class CustomerServiceState(TypedDict):     \"\"\"\u5ba2\u670d\u7cfb\u7d71\u72c0\u614b\"\"\"     session_id: str     messages: Annotated[List[dict], add]     user_name: str     policy_id: str     intent: str     sentiment: str  # positive/neutral/negative     resolved: bool     execution_log: Annotated[List[str], add]  def analyze_message(state: CustomerServiceState) -&gt; CustomerServiceState:     \"\"\"\u5206\u6790\u8a0a\u606f\u610f\u5716\u548c\u60c5\u611f\"\"\"     last_msg = state[\"messages\"][-1][\"content\"]          # \u4f7f\u7528 LLM \u5206\u6790     analysis_prompt = f\"\"\" \u5206\u6790\u4ee5\u4e0b\u5ba2\u6236\u8a0a\u606f: {last_msg}  \u8acb\u5224\u65b7: 1. \u610f\u5716 (\u67e5\u8a62/\u6295\u8a34/\u8cfc\u8cb7/\u5176\u4ed6) 2. \u60c5\u611f (positive/neutral/negative)  \u53ea\u56de\u7b54 JSON: {{\"intent\": \"...\", \"sentiment\": \"...\"}} \"\"\"          response = llm.invoke(analysis_prompt)     import json     try:         analysis = json.loads(response.content)     except:         analysis = {\"intent\": \"\u5176\u4ed6\", \"sentiment\": \"neutral\"}          return {         \"intent\": analysis[\"intent\"],         \"sentiment\": analysis[\"sentiment\"],         \"execution_log\": [f\"[\u5206\u6790] \u610f\u5716: {analysis['intent']}, \u60c5\u611f: {analysis['sentiment']}\"]     }  def handle_query(state: CustomerServiceState) -&gt; CustomerServiceState:     \"\"\"\u8655\u7406\u5ba2\u6236\u67e5\u8a62\"\"\"     context = f\"\"\" \u5ba2\u6236\u8cc7\u8a0a: - \u59d3\u540d: {state.get('user_name', '\u672a\u77e5')} - \u4fdd\u55ae: {state.get('policy_id', '\u672a\u77e5')} - \u610f\u5716: {state.get('intent', '\u672a\u77e5')} - \u60c5\u611f: {state.get('sentiment', '\u672a\u77e5')}  \u5c0d\u8a71\u6b77\u53f2: \"\"\"     for msg in state[\"messages\"]:         role = \"\u5ba2\u6236\" if msg[\"role\"] == \"user\" else \"\u5ba2\u670d\"         context += f\"{role}: {msg['content']}\\n\"          context += \"\\n\u8acb\u6839\u64da\u4ee5\u4e0a\u8cc7\u8a0a,\u63d0\u4f9b\u5c08\u696d\u4e14\u53cb\u5584\u7684\u56de\u61c9\u3002\"          response = llm.invoke(context)          return {         \"messages\": [{\"role\": \"assistant\", \"content\": response.content}],         \"resolved\": True,  # \u7c21\u5316\u8655\u7406         \"execution_log\": [f\"[\u56de\u61c9] \u5df2\u751f\u6210\u5ba2\u670d\u56de\u61c9\"]     }  # \u5efa\u7acb\u5b8c\u6574\u5ba2\u670d Agent cs_workflow = StateGraph(CustomerServiceState) cs_workflow.add_node(\"analyze\", analyze_message) cs_workflow.add_node(\"handle\", handle_query)  cs_workflow.set_entry_point(\"analyze\") cs_workflow.add_edge(\"analyze\", \"handle\") cs_workflow.add_edge(\"handle\", END)  customer_service = cs_workflow.compile()  print(\"\u2705 \u5b8c\u6574\u5ba2\u670d\u7cfb\u7d71\u5efa\u7acb\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre># \u5834\u666f 1: \u6b63\u5e38\u67e5\u8a62\nsession1 = {\n    \"session_id\": \"S001\",\n    \"messages\": [{\"role\": \"user\", \"content\": \"\u4f60\u597d,\u6211\u60f3\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u8a0a,\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\"}],\n    \"user_name\": \"\u738b\u5c0f\u660e\",\n    \"policy_id\": \"CL202401001\",\n    \"intent\": \"\",\n    \"sentiment\": \"\",\n    \"resolved\": False,\n    \"execution_log\": []\n}\n\nresult = customer_service.invoke(session1)\n\nprint(\"\ud83d\udcde \u5ba2\u670d\u5c0d\u8a71:\")\nprint(\"=\"*60)\nprint(f\"\ud83d\udc64 \u5ba2\u6236: {result['messages'][0]['content']}\")\nprint(f\"\\n\ud83e\udd16 \u5ba2\u670d: {result['messages'][1]['content']}\")\nprint(f\"\\n\ud83d\udcca \u5206\u6790\u7d50\u679c:\")\nprint(f\"  \u610f\u5716: {result['intent']}\")\nprint(f\"  \u60c5\u611f: {result['sentiment']}\")\nprint(f\"  \u5df2\u89e3\u6c7a: {result['resolved']}\")\nprint(f\"\\n\ud83d\udcdd \u57f7\u884c\u65e5\u8a8c:\")\nfor log in result['execution_log']:\n    print(f\"  {log}\")\n</pre> # \u5834\u666f 1: \u6b63\u5e38\u67e5\u8a62 session1 = {     \"session_id\": \"S001\",     \"messages\": [{\"role\": \"user\", \"content\": \"\u4f60\u597d,\u6211\u60f3\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\u8cc7\u8a0a,\u4fdd\u55ae\u865f\u78bc\u662f CL202401001\"}],     \"user_name\": \"\u738b\u5c0f\u660e\",     \"policy_id\": \"CL202401001\",     \"intent\": \"\",     \"sentiment\": \"\",     \"resolved\": False,     \"execution_log\": [] }  result = customer_service.invoke(session1)  print(\"\ud83d\udcde \u5ba2\u670d\u5c0d\u8a71:\") print(\"=\"*60) print(f\"\ud83d\udc64 \u5ba2\u6236: {result['messages'][0]['content']}\") print(f\"\\n\ud83e\udd16 \u5ba2\u670d: {result['messages'][1]['content']}\") print(f\"\\n\ud83d\udcca \u5206\u6790\u7d50\u679c:\") print(f\"  \u610f\u5716: {result['intent']}\") print(f\"  \u60c5\u611f: {result['sentiment']}\") print(f\"  \u5df2\u89e3\u6c7a: {result['resolved']}\") print(f\"\\n\ud83d\udcdd \u57f7\u884c\u65e5\u8a8c:\") for log in result['execution_log']:     print(f\"  {log}\") In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c ConversationSummaryMemory\n</pre> # TODO: \u5be6\u4f5c ConversationSummaryMemory In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c MultiUserMemory\n</pre> # TODO: \u5be6\u4f5c MultiUserMemory"},{"location":"langchain/notebooks/04-memory-management/#04-memory-management","title":"04 - \u8a18\u61b6\u7ba1\u7406 (Memory Management)\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u7406\u89e3 LangChain \u7684\u8a18\u61b6\u6a5f\u5236</li> <li>\u2705 \u638c\u63e1\u77ed\u671f\u8a18\u61b6 (ConversationBufferMemory)</li> <li>\u2705 \u5b78\u7fd2\u81ea\u8a02 State Schema \u7ba1\u7406\u5c0d\u8a71\u72c0\u614b</li> <li>\u2705 \u5be6\u4f5c\u5e36\u8a18\u61b6\u7684\u5ba2\u670d Agent</li> <li>\u2705 \u4f7f\u7528 Middleware \u589e\u5f37\u8a18\u61b6\u529f\u80fd</li> </ul>"},{"location":"langchain/notebooks/04-memory-management/#45","title":"\u23f0 \u9810\u8a08\u6642\u9593: 45 \u5206\u9418\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/","title":"\ud83d\udce6 \u74b0\u5883\u8a2d\u5b9a\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#part-1","title":"Part 1: \u70ba\u4ec0\u9ebc\u9700\u8981\u8a18\u61b6?\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#11-agent","title":"1.1 \u7121\u8a18\u61b6\u7684 Agent\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#12","title":"1.2 \u624b\u52d5\u7ba1\u7406\u5c0d\u8a71\u6b77\u53f2\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#part-2-conversationbuffermemory","title":"Part 2: ConversationBufferMemory\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#21","title":"2.1 \u57fa\u790e\u7528\u6cd5\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#22","title":"2.2 \u67e5\u770b\u8a18\u61b6\u5167\u5bb9\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#23","title":"2.3 \u6e05\u9664\u8a18\u61b6\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#part-3-state-schema","title":"Part 3: \u81ea\u8a02 State Schema\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#31-typeddict","title":"3.1 \u4f7f\u7528 TypedDict \u5b9a\u7fa9\u72c0\u614b\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#32-agent","title":"3.2 \u5efa\u7acb\u5e36\u72c0\u614b\u7684 Agent\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#33","title":"3.3 \u6e2c\u8a66\u72c0\u614b\u7ba1\u7406\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#part-4-middleware","title":"Part 4: Middleware \u589e\u5f37\u8a18\u61b6\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#41","title":"4.1 \u5efa\u7acb\u8a18\u61b6\u4e2d\u4ecb\u5c64\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#42-middleware","title":"4.2 \u6e2c\u8a66 Middleware\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#part-5","title":"Part 5: \u5b8c\u6574\u5ba2\u670d\u7cfb\u7d71\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#51","title":"5.1 \u6574\u5408\u6240\u6709\u529f\u80fd\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#52","title":"5.2 \u6e2c\u8a66\u5ba2\u670d\u7cfb\u7d71\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/","title":"\ud83c\udfaf \u7df4\u7fd2\u984c\u00b6","text":""},{"location":"langchain/notebooks/04-memory-management/#1","title":"\u7df4\u7fd2 1: \u5be6\u4f5c\u5c0d\u8a71\u6458\u8981\u529f\u80fd\u00b6","text":"<p>\u7576\u5c0d\u8a71\u8d85\u904e 10 \u8f2a\u6642,\u81ea\u52d5\u7522\u751f\u6458\u8981\u4e26\u58d3\u7e2e\u6b77\u53f2\u8a18\u9304</p>"},{"location":"langchain/notebooks/04-memory-management/#2","title":"\u7df4\u7fd2 2: \u591a\u4f7f\u7528\u8005\u8a18\u61b6\u9694\u96e2\u00b6","text":"<p>\u5be6\u4f5c\u6309 user_id \u5340\u5206\u4e0d\u540c\u4f7f\u7528\u8005\u7684\u8a18\u61b6</p>"},{"location":"langchain/notebooks/04-memory-management/","title":"\ud83d\udcdd \u5b78\u7fd2\u6aa2\u67e5\u6e05\u55ae\u00b6","text":"<ul> <li>\u7406\u89e3\u70ba\u4ec0\u9ebc\u9700\u8981\u8a18\u61b6\u7ba1\u7406</li> <li>\u4f7f\u7528 ConversationBufferMemory</li> <li>\u81ea\u8a02 State Schema \u7ba1\u7406\u8907\u96dc\u72c0\u614b</li> <li>\u4f7f\u7528 Annotated \u5be6\u73fe\u7d2f\u52a0\u66f4\u65b0</li> <li>\u5efa\u7acb Middleware \u589e\u5f37\u8a18\u61b6\u529f\u80fd</li> <li>\u6574\u5408\u8a18\u61b6\u5230\u5ba2\u670d\u7cfb\u7d71</li> <li>\u5be6\u4f5c\u5c0d\u8a71\u6b77\u53f2\u8ffd\u8e64</li> <li>\u8655\u7406\u4f7f\u7528\u8005\u8cc7\u8a0a\u5feb\u53d6</li> </ul>"},{"location":"langchain/notebooks/04-memory-management/","title":"\u4e0b\u4e00\u6b65\u00b6","text":"<p>\u7e7c\u7e8c\u524d\u5f80 <code>05-middleware-advanced.ipynb</code> \u5b78\u7fd2\u9032\u968e\u4e2d\u4ecb\u5c64\u6280\u8853 \ud83d\udc49</p>"},{"location":"langchain/notebooks/05-middleware-advanced/","title":"\u7df4\u7fd2 05 - \u9032\u968e\u4e2d\u4ecb\u5c64","text":"In\u00a0[\u00a0]: Copied! <pre>!pip install langchain==0.1.0\n!pip install langchain-openai==0.0.5\n!pip install python-dotenv==1.0.0\n</pre> !pip install langchain==0.1.0 !pip install langchain-openai==0.0.5 !pip install python-dotenv==1.0.0 In\u00a0[\u00a0]: Copied! <pre>from dotenv import load_dotenv\nimport os\n\nload_dotenv()\nprint(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\")\n</pre> from dotenv import load_dotenv import os  load_dotenv() print(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>from functools import wraps\nfrom datetime import datetime\n\ndef before_model(func):\n    \"\"\"\u5728\u6a21\u578b\u57f7\u884c\u524d\u8655\u7406\"\"\"\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        print(f\"\\n\u23f0 [{datetime.now().strftime('%H:%M:%S')}] \u958b\u59cb\u57f7\u884c\")\n        print(f\"\ud83d\udce5 \u8f38\u5165: {args[0] if args else kwargs}\")\n        \n        # \u57f7\u884c\u539f\u51fd\u6578\n        result = func(*args, **kwargs)\n        \n        return result\n    return wrapper\n\n@before_model\ndef query_policy(policy_id: str) -&gt; str:\n    \"\"\"\u67e5\u8a62\u4fdd\u55ae\"\"\"\n    return f\"\u4fdd\u55ae {policy_id} \u7684\u8cc7\u8a0a: \u7d42\u8eab\u58fd\u96aa, \u6295\u4fdd\u4eba\u738b\u5c0f\u660e, \u4fdd\u984d 200 \u842c\"\n\n# \u6e2c\u8a66\nresult = query_policy(\"CL202401001\")\nprint(f\"\ud83d\udce4 \u8f38\u51fa: {result}\")\n</pre> from functools import wraps from datetime import datetime  def before_model(func):     \"\"\"\u5728\u6a21\u578b\u57f7\u884c\u524d\u8655\u7406\"\"\"     @wraps(func)     def wrapper(*args, **kwargs):         print(f\"\\n\u23f0 [{datetime.now().strftime('%H:%M:%S')}] \u958b\u59cb\u57f7\u884c\")         print(f\"\ud83d\udce5 \u8f38\u5165: {args[0] if args else kwargs}\")                  # \u57f7\u884c\u539f\u51fd\u6578         result = func(*args, **kwargs)                  return result     return wrapper  @before_model def query_policy(policy_id: str) -&gt; str:     \"\"\"\u67e5\u8a62\u4fdd\u55ae\"\"\"     return f\"\u4fdd\u55ae {policy_id} \u7684\u8cc7\u8a0a: \u7d42\u8eab\u58fd\u96aa, \u6295\u4fdd\u4eba\u738b\u5c0f\u660e, \u4fdd\u984d 200 \u842c\"  # \u6e2c\u8a66 result = query_policy(\"CL202401001\") print(f\"\ud83d\udce4 \u8f38\u51fa: {result}\") In\u00a0[\u00a0]: Copied! <pre>import re\n\ndef validate_policy_id(func):\n    \"\"\"\u9a57\u8b49\u4fdd\u55ae\u865f\u78bc\u683c\u5f0f\"\"\"\n    @wraps(func)\n    def wrapper(policy_id: str, *args, **kwargs):\n        # \u9a57\u8b49\u683c\u5f0f: CL + \u6578\u5b57\n        if not re.match(r'^CL\\d{9}$', policy_id):\n            raise ValueError(f\"\u274c \u7121\u6548\u7684\u4fdd\u55ae\u865f\u78bc\u683c\u5f0f: {policy_id} (\u61c9\u70ba CL + 9 \u4f4d\u6578\u5b57)\")\n        \n        print(f\"\u2705 \u4fdd\u55ae\u865f\u78bc\u9a57\u8b49\u901a\u904e: {policy_id}\")\n        return func(policy_id, *args, **kwargs)\n    return wrapper\n\n@validate_policy_id\ndef get_policy_info(policy_id: str) -&gt; str:\n    return f\"\u67e5\u8a62\u4fdd\u55ae {policy_id} \u6210\u529f\"\n\n# \u6e2c\u8a66\u6709\u6548\u8f38\u5165\nprint(\"\\n\ud83d\udccb \u6e2c\u8a66 1: \u6709\u6548\u4fdd\u55ae\u865f\u78bc\")\nresult = get_policy_info(\"CL202401001\")\nprint(result)\n\n# \u6e2c\u8a66\u7121\u6548\u8f38\u5165\nprint(\"\\n\ud83d\udccb \u6e2c\u8a66 2: \u7121\u6548\u4fdd\u55ae\u865f\u78bc\")\ntry:\n    result = get_policy_info(\"INVALID\")\nexcept ValueError as e:\n    print(e)\n</pre> import re  def validate_policy_id(func):     \"\"\"\u9a57\u8b49\u4fdd\u55ae\u865f\u78bc\u683c\u5f0f\"\"\"     @wraps(func)     def wrapper(policy_id: str, *args, **kwargs):         # \u9a57\u8b49\u683c\u5f0f: CL + \u6578\u5b57         if not re.match(r'^CL\\d{9}$', policy_id):             raise ValueError(f\"\u274c \u7121\u6548\u7684\u4fdd\u55ae\u865f\u78bc\u683c\u5f0f: {policy_id} (\u61c9\u70ba CL + 9 \u4f4d\u6578\u5b57)\")                  print(f\"\u2705 \u4fdd\u55ae\u865f\u78bc\u9a57\u8b49\u901a\u904e: {policy_id}\")         return func(policy_id, *args, **kwargs)     return wrapper  @validate_policy_id def get_policy_info(policy_id: str) -&gt; str:     return f\"\u67e5\u8a62\u4fdd\u55ae {policy_id} \u6210\u529f\"  # \u6e2c\u8a66\u6709\u6548\u8f38\u5165 print(\"\\n\ud83d\udccb \u6e2c\u8a66 1: \u6709\u6548\u4fdd\u55ae\u865f\u78bc\") result = get_policy_info(\"CL202401001\") print(result)  # \u6e2c\u8a66\u7121\u6548\u8f38\u5165 print(\"\\n\ud83d\udccb \u6e2c\u8a66 2: \u7121\u6548\u4fdd\u55ae\u865f\u78bc\") try:     result = get_policy_info(\"INVALID\") except ValueError as e:     print(e) In\u00a0[\u00a0]: Copied! <pre># \u6a21\u64ec\u4f7f\u7528\u8005\u6b0a\u9650\u8cc7\u6599\u5eab\nUSER_PERMISSIONS = {\n    \"agent001\": [\"query\", \"update\"],\n    \"agent002\": [\"query\"],\n    \"admin\": [\"query\", \"update\", \"delete\"]\n}\n\ndef require_permission(required_permission: str):\n    \"\"\"\u6aa2\u67e5\u4f7f\u7528\u8005\u6b0a\u9650\"\"\"\n    def decorator(func):\n        @wraps(func)\n        def wrapper(user_id: str, *args, **kwargs):\n            # \u6aa2\u67e5\u6b0a\u9650\n            user_perms = USER_PERMISSIONS.get(user_id, [])\n            \n            if required_permission not in user_perms:\n                raise PermissionError(f\"\u274c \u4f7f\u7528\u8005 {user_id} \u7121 '{required_permission}' \u6b0a\u9650\")\n            \n            print(f\"\u2705 \u6b0a\u9650\u6aa2\u67e5\u901a\u904e: {user_id} \u64c1\u6709 '{required_permission}' \u6b0a\u9650\")\n            return func(user_id, *args, **kwargs)\n        return wrapper\n    return decorator\n\n@require_permission(\"update\")\ndef update_policy(user_id: str, policy_id: str, data: dict) -&gt; str:\n    return f\"\u4f7f\u7528\u8005 {user_id} \u6210\u529f\u66f4\u65b0\u4fdd\u55ae {policy_id}\"\n\n# \u6e2c\u8a66\nprint(\"\ud83d\udccb \u6e2c\u8a66 1: \u6709\u6b0a\u9650\u7684\u4f7f\u7528\u8005\")\nresult = update_policy(\"agent001\", \"CL202401001\", {\"status\": \"active\"})\nprint(result)\n\nprint(\"\\n\ud83d\udccb \u6e2c\u8a66 2: \u7121\u6b0a\u9650\u7684\u4f7f\u7528\u8005\")\ntry:\n    result = update_policy(\"agent002\", \"CL202401001\", {\"status\": \"active\"})\nexcept PermissionError as e:\n    print(e)\n</pre> # \u6a21\u64ec\u4f7f\u7528\u8005\u6b0a\u9650\u8cc7\u6599\u5eab USER_PERMISSIONS = {     \"agent001\": [\"query\", \"update\"],     \"agent002\": [\"query\"],     \"admin\": [\"query\", \"update\", \"delete\"] }  def require_permission(required_permission: str):     \"\"\"\u6aa2\u67e5\u4f7f\u7528\u8005\u6b0a\u9650\"\"\"     def decorator(func):         @wraps(func)         def wrapper(user_id: str, *args, **kwargs):             # \u6aa2\u67e5\u6b0a\u9650             user_perms = USER_PERMISSIONS.get(user_id, [])                          if required_permission not in user_perms:                 raise PermissionError(f\"\u274c \u4f7f\u7528\u8005 {user_id} \u7121 '{required_permission}' \u6b0a\u9650\")                          print(f\"\u2705 \u6b0a\u9650\u6aa2\u67e5\u901a\u904e: {user_id} \u64c1\u6709 '{required_permission}' \u6b0a\u9650\")             return func(user_id, *args, **kwargs)         return wrapper     return decorator  @require_permission(\"update\") def update_policy(user_id: str, policy_id: str, data: dict) -&gt; str:     return f\"\u4f7f\u7528\u8005 {user_id} \u6210\u529f\u66f4\u65b0\u4fdd\u55ae {policy_id}\"  # \u6e2c\u8a66 print(\"\ud83d\udccb \u6e2c\u8a66 1: \u6709\u6b0a\u9650\u7684\u4f7f\u7528\u8005\") result = update_policy(\"agent001\", \"CL202401001\", {\"status\": \"active\"}) print(result)  print(\"\\n\ud83d\udccb \u6e2c\u8a66 2: \u7121\u6b0a\u9650\u7684\u4f7f\u7528\u8005\") try:     result = update_policy(\"agent002\", \"CL202401001\", {\"status\": \"active\"}) except PermissionError as e:     print(e) In\u00a0[\u00a0]: Copied! <pre>def after_model(func):\n    \"\"\"\u5728\u6a21\u578b\u57f7\u884c\u5f8c\u8655\u7406\"\"\"\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        result = func(*args, **kwargs)\n        \n        print(f\"\\n\u23f0 [{datetime.now().strftime('%H:%M:%S')}] \u57f7\u884c\u5b8c\u6210\")\n        print(f\"\ud83d\udce4 \u8f38\u51fa: {result}\")\n        \n        return result\n    return wrapper\n\n@before_model\n@after_model\ndef calculate_premium(age: int, coverage: int) -&gt; int:\n    \"\"\"\u8a08\u7b97\u4fdd\u8cbb\"\"\"\n    base_rate = 0.02\n    age_factor = 1 + (age - 30) * 0.01\n    return int(coverage * base_rate * age_factor)\n\n# \u6e2c\u8a66\npremium = calculate_premium(35, 2000000)\nprint(f\"\\n\ud83d\udcb0 \u6700\u7d42\u4fdd\u8cbb: ${premium:,}\")\n</pre> def after_model(func):     \"\"\"\u5728\u6a21\u578b\u57f7\u884c\u5f8c\u8655\u7406\"\"\"     @wraps(func)     def wrapper(*args, **kwargs):         result = func(*args, **kwargs)                  print(f\"\\n\u23f0 [{datetime.now().strftime('%H:%M:%S')}] \u57f7\u884c\u5b8c\u6210\")         print(f\"\ud83d\udce4 \u8f38\u51fa: {result}\")                  return result     return wrapper  @before_model @after_model def calculate_premium(age: int, coverage: int) -&gt; int:     \"\"\"\u8a08\u7b97\u4fdd\u8cbb\"\"\"     base_rate = 0.02     age_factor = 1 + (age - 30) * 0.01     return int(coverage * base_rate * age_factor)  # \u6e2c\u8a66 premium = calculate_premium(35, 2000000) print(f\"\\n\ud83d\udcb0 \u6700\u7d42\u4fdd\u8cbb: ${premium:,}\") In\u00a0[\u00a0]: Copied! <pre>from typing import Any\n\ndef format_currency(func):\n    \"\"\"\u5c07\u6578\u5b57\u7d50\u679c\u683c\u5f0f\u5316\u70ba\u8ca8\u5e63\"\"\"\n    @wraps(func)\n    def wrapper(*args, **kwargs) -&gt; str:\n        result = func(*args, **kwargs)\n        \n        # \u683c\u5f0f\u5316\u70ba\u8ca8\u5e63\n        if isinstance(result, (int, float)):\n            formatted = f\"NT$ {result:,.0f}\"\n            print(f\"\ud83d\udcb5 \u683c\u5f0f\u5316: {result} \u2192 {formatted}\")\n            return formatted\n        \n        return result\n    return wrapper\n\n@format_currency\ndef get_policy_value(policy_id: str) -&gt; int:\n    \"\"\"\u53d6\u5f97\u4fdd\u55ae\u50f9\u503c\"\"\"\n    # \u6a21\u64ec\u67e5\u8a62\n    return 2500000\n\n# \u6e2c\u8a66\nvalue = get_policy_value(\"CL202401001\")\nprint(f\"\u4fdd\u55ae\u50f9\u503c: {value}\")\n</pre> from typing import Any  def format_currency(func):     \"\"\"\u5c07\u6578\u5b57\u7d50\u679c\u683c\u5f0f\u5316\u70ba\u8ca8\u5e63\"\"\"     @wraps(func)     def wrapper(*args, **kwargs) -&gt; str:         result = func(*args, **kwargs)                  # \u683c\u5f0f\u5316\u70ba\u8ca8\u5e63         if isinstance(result, (int, float)):             formatted = f\"NT$ {result:,.0f}\"             print(f\"\ud83d\udcb5 \u683c\u5f0f\u5316: {result} \u2192 {formatted}\")             return formatted                  return result     return wrapper  @format_currency def get_policy_value(policy_id: str) -&gt; int:     \"\"\"\u53d6\u5f97\u4fdd\u55ae\u50f9\u503c\"\"\"     # \u6a21\u64ec\u67e5\u8a62     return 2500000  # \u6e2c\u8a66 value = get_policy_value(\"CL202401001\") print(f\"\u4fdd\u55ae\u50f9\u503c: {value}\") In\u00a0[\u00a0]: Copied! <pre>import json\nfrom typing import List\n\nclass AuditLogger:\n    \"\"\"\u7a3d\u6838\u65e5\u8a8c\u8a18\u9304\u5668\"\"\"\n    \n    def __init__(self):\n        self.logs: List[dict] = []\n    \n    def log(self, func_name: str, user: str, action: str, details: dict):\n        \"\"\"\u8a18\u9304\u64cd\u4f5c\u65e5\u8a8c\"\"\"\n        log_entry = {\n            \"timestamp\": datetime.now().isoformat(),\n            \"function\": func_name,\n            \"user\": user,\n            \"action\": action,\n            \"details\": details\n        }\n        self.logs.append(log_entry)\n        print(f\"\ud83d\udcdd \u8a18\u9304\u65e5\u8a8c: {func_name} - {action}\")\n    \n    def get_logs(self) -&gt; List[dict]:\n        return self.logs\n    \n    def export_logs(self) -&gt; str:\n        return json.dumps(self.logs, indent=2, ensure_ascii=False)\n\n# \u5efa\u7acb\u5168\u57df\u65e5\u8a8c\u8a18\u9304\u5668\naudit_logger = AuditLogger()\n\ndef audit_log(action: str):\n    \"\"\"\u7a3d\u6838\u65e5\u8a8c\u88dd\u98fe\u5668\"\"\"\n    def decorator(func):\n        @wraps(func)\n        def wrapper(*args, **kwargs):\n            # \u57f7\u884c\u524d\u8a18\u9304\n            audit_logger.log(\n                func_name=func.__name__,\n                user=kwargs.get('user_id', 'unknown'),\n                action=action,\n                details={\"args\": str(args), \"kwargs\": str(kwargs)}\n            )\n            \n            # \u57f7\u884c\u51fd\u6578\n            result = func(*args, **kwargs)\n            \n            # \u57f7\u884c\u5f8c\u8a18\u9304\n            audit_logger.log(\n                func_name=func.__name__,\n                user=kwargs.get('user_id', 'unknown'),\n                action=f\"{action}_completed\",\n                details={\"result\": str(result)}\n            )\n            \n            return result\n        return wrapper\n    return decorator\n\n@audit_log(\"update_beneficiary\")\ndef update_beneficiary(policy_id: str, beneficiary: str, user_id: str) -&gt; str:\n    \"\"\"\u66f4\u65b0\u53d7\u76ca\u4eba\"\"\"\n    return f\"\u5df2\u5c07\u4fdd\u55ae {policy_id} \u7684\u53d7\u76ca\u4eba\u66f4\u65b0\u70ba {beneficiary}\"\n\n# \u6e2c\u8a66\nresult = update_beneficiary(\"CL202401001\", \"\u738b\u592a\u592a\", user_id=\"agent001\")\nprint(f\"\\n\u7d50\u679c: {result}\")\n\n# \u67e5\u770b\u65e5\u8a8c\nprint(\"\\n\ud83d\udcca \u7a3d\u6838\u65e5\u8a8c:\")\nprint(audit_logger.export_logs())\n</pre> import json from typing import List  class AuditLogger:     \"\"\"\u7a3d\u6838\u65e5\u8a8c\u8a18\u9304\u5668\"\"\"          def __init__(self):         self.logs: List[dict] = []          def log(self, func_name: str, user: str, action: str, details: dict):         \"\"\"\u8a18\u9304\u64cd\u4f5c\u65e5\u8a8c\"\"\"         log_entry = {             \"timestamp\": datetime.now().isoformat(),             \"function\": func_name,             \"user\": user,             \"action\": action,             \"details\": details         }         self.logs.append(log_entry)         print(f\"\ud83d\udcdd \u8a18\u9304\u65e5\u8a8c: {func_name} - {action}\")          def get_logs(self) -&gt; List[dict]:         return self.logs          def export_logs(self) -&gt; str:         return json.dumps(self.logs, indent=2, ensure_ascii=False)  # \u5efa\u7acb\u5168\u57df\u65e5\u8a8c\u8a18\u9304\u5668 audit_logger = AuditLogger()  def audit_log(action: str):     \"\"\"\u7a3d\u6838\u65e5\u8a8c\u88dd\u98fe\u5668\"\"\"     def decorator(func):         @wraps(func)         def wrapper(*args, **kwargs):             # \u57f7\u884c\u524d\u8a18\u9304             audit_logger.log(                 func_name=func.__name__,                 user=kwargs.get('user_id', 'unknown'),                 action=action,                 details={\"args\": str(args), \"kwargs\": str(kwargs)}             )                          # \u57f7\u884c\u51fd\u6578             result = func(*args, **kwargs)                          # \u57f7\u884c\u5f8c\u8a18\u9304             audit_logger.log(                 func_name=func.__name__,                 user=kwargs.get('user_id', 'unknown'),                 action=f\"{action}_completed\",                 details={\"result\": str(result)}             )                          return result         return wrapper     return decorator  @audit_log(\"update_beneficiary\") def update_beneficiary(policy_id: str, beneficiary: str, user_id: str) -&gt; str:     \"\"\"\u66f4\u65b0\u53d7\u76ca\u4eba\"\"\"     return f\"\u5df2\u5c07\u4fdd\u55ae {policy_id} \u7684\u53d7\u76ca\u4eba\u66f4\u65b0\u70ba {beneficiary}\"  # \u6e2c\u8a66 result = update_beneficiary(\"CL202401001\", \"\u738b\u592a\u592a\", user_id=\"agent001\") print(f\"\\n\u7d50\u679c: {result}\")  # \u67e5\u770b\u65e5\u8a8c print(\"\\n\ud83d\udcca \u7a3d\u6838\u65e5\u8a8c:\") print(audit_logger.export_logs()) In\u00a0[\u00a0]: Copied! <pre>import time\n\ndef wrap_tool_call(func):\n    \"\"\"\u5305\u88dd\u5de5\u5177\u547c\u53eb,\u52a0\u5165\u76e3\u63a7\"\"\"\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        tool_name = func.__name__\n        start_time = time.time()\n        \n        print(f\"\\n\ud83d\udd27 \u547c\u53eb\u5de5\u5177: {tool_name}\")\n        print(f\"\ud83d\udce5 \u53c3\u6578: {args}, {kwargs}\")\n        \n        try:\n            result = func(*args, **kwargs)\n            execution_time = time.time() - start_time\n            \n            print(f\"\u2705 \u57f7\u884c\u6210\u529f (\u8017\u6642: {execution_time:.3f}\u79d2)\")\n            print(f\"\ud83d\udce4 \u7d50\u679c: {result}\")\n            \n            return result\n            \n        except Exception as e:\n            execution_time = time.time() - start_time\n            print(f\"\u274c \u57f7\u884c\u5931\u6557 (\u8017\u6642: {execution_time:.3f}\u79d2)\")\n            print(f\"\u932f\u8aa4: {e}\")\n            raise\n    \n    return wrapper\n\n@wrap_tool_call\ndef search_policy(policy_id: str) -&gt; dict:\n    \"\"\"\u641c\u5c0b\u4fdd\u55ae\"\"\"\n    time.sleep(0.1)  # \u6a21\u64ec API \u5ef6\u9072\n    return {\n        \"policy_id\": policy_id,\n        \"type\": \"\u7d42\u8eab\u58fd\u96aa\",\n        \"status\": \"active\"\n    }\n\n# \u6e2c\u8a66\nresult = search_policy(\"CL202401001\")\n</pre> import time  def wrap_tool_call(func):     \"\"\"\u5305\u88dd\u5de5\u5177\u547c\u53eb,\u52a0\u5165\u76e3\u63a7\"\"\"     @wraps(func)     def wrapper(*args, **kwargs):         tool_name = func.__name__         start_time = time.time()                  print(f\"\\n\ud83d\udd27 \u547c\u53eb\u5de5\u5177: {tool_name}\")         print(f\"\ud83d\udce5 \u53c3\u6578: {args}, {kwargs}\")                  try:             result = func(*args, **kwargs)             execution_time = time.time() - start_time                          print(f\"\u2705 \u57f7\u884c\u6210\u529f (\u8017\u6642: {execution_time:.3f}\u79d2)\")             print(f\"\ud83d\udce4 \u7d50\u679c: {result}\")                          return result                      except Exception as e:             execution_time = time.time() - start_time             print(f\"\u274c \u57f7\u884c\u5931\u6557 (\u8017\u6642: {execution_time:.3f}\u79d2)\")             print(f\"\u932f\u8aa4: {e}\")             raise          return wrapper  @wrap_tool_call def search_policy(policy_id: str) -&gt; dict:     \"\"\"\u641c\u5c0b\u4fdd\u55ae\"\"\"     time.sleep(0.1)  # \u6a21\u64ec API \u5ef6\u9072     return {         \"policy_id\": policy_id,         \"type\": \"\u7d42\u8eab\u58fd\u96aa\",         \"status\": \"active\"     }  # \u6e2c\u8a66 result = search_policy(\"CL202401001\") In\u00a0[\u00a0]: Copied! <pre>from functools import lru_cache\n\nclass CacheMiddleware:\n    \"\"\"\u5feb\u53d6\u4e2d\u4ecb\u5c64\"\"\"\n    \n    def __init__(self, ttl: int = 60):\n        self.cache = {}\n        self.ttl = ttl  # \u5feb\u53d6\u6709\u6548\u6642\u9593(\u79d2)\n        self.stats = {\"hits\": 0, \"misses\": 0}\n    \n    def __call__(self, func):\n        @wraps(func)\n        def wrapper(*args, **kwargs):\n            # \u5efa\u7acb\u5feb\u53d6\u9375\n            cache_key = f\"{func.__name__}:{str(args)}:{str(kwargs)}\"\n            \n            # \u6aa2\u67e5\u5feb\u53d6\n            if cache_key in self.cache:\n                cached_time, cached_value = self.cache[cache_key]\n                \n                # \u6aa2\u67e5\u662f\u5426\u904e\u671f\n                if time.time() - cached_time &lt; self.ttl:\n                    self.stats[\"hits\"] += 1\n                    print(f\"\ud83d\udcbe \u5feb\u53d6\u547d\u4e2d (\u7e3d\u547d\u4e2d: {self.stats['hits']})\")\n                    return cached_value\n            \n            # \u5feb\u53d6\u672a\u547d\u4e2d,\u57f7\u884c\u51fd\u6578\n            self.stats[\"misses\"] += 1\n            print(f\"\ud83d\udd0d \u5feb\u53d6\u672a\u547d\u4e2d,\u57f7\u884c\u67e5\u8a62 (\u7e3d\u672a\u547d\u4e2d: {self.stats['misses']})\")\n            \n            result = func(*args, **kwargs)\n            \n            # \u5b58\u5165\u5feb\u53d6\n            self.cache[cache_key] = (time.time(), result)\n            \n            return result\n        return wrapper\n    \n    def clear(self):\n        \"\"\"\u6e05\u9664\u5feb\u53d6\"\"\"\n        self.cache.clear()\n        self.stats = {\"hits\": 0, \"misses\": 0}\n        print(\"\ud83d\uddd1\ufe0f \u5feb\u53d6\u5df2\u6e05\u9664\")\n\n# \u5efa\u7acb\u5feb\u53d6\u4e2d\u4ecb\u5c64 (60\u79d2 TTL)\ncache = CacheMiddleware(ttl=60)\n\n@cache\ndef expensive_query(policy_id: str) -&gt; dict:\n    \"\"\"\u6602\u8cb4\u7684\u67e5\u8a62\u64cd\u4f5c\"\"\"\n    time.sleep(0.5)  # \u6a21\u64ec\u6162\u901f\u67e5\u8a62\n    return {\"policy_id\": policy_id, \"data\": \"expensive result\"}\n\n# \u6e2c\u8a66\u5feb\u53d6\nprint(\"\ud83d\udccb \u7b2c\u4e00\u6b21\u67e5\u8a62:\")\nresult1 = expensive_query(\"CL202401001\")\n\nprint(\"\\n\ud83d\udccb \u7b2c\u4e8c\u6b21\u67e5\u8a62 (\u76f8\u540c\u53c3\u6578):\")\nresult2 = expensive_query(\"CL202401001\")\n\nprint(\"\\n\ud83d\udccb \u7b2c\u4e09\u6b21\u67e5\u8a62 (\u4e0d\u540c\u53c3\u6578):\")\nresult3 = expensive_query(\"CL202401002\")\n\nprint(\"\\n\ud83d\udcca \u5feb\u53d6\u7d71\u8a08:\")\nprint(f\"\u547d\u4e2d: {cache.stats['hits']} \u6b21\")\nprint(f\"\u672a\u547d\u4e2d: {cache.stats['misses']} \u6b21\")\nprint(f\"\u547d\u4e2d\u7387: {cache.stats['hits'] / (cache.stats['hits'] + cache.stats['misses']) * 100:.1f}%\")\n</pre> from functools import lru_cache  class CacheMiddleware:     \"\"\"\u5feb\u53d6\u4e2d\u4ecb\u5c64\"\"\"          def __init__(self, ttl: int = 60):         self.cache = {}         self.ttl = ttl  # \u5feb\u53d6\u6709\u6548\u6642\u9593(\u79d2)         self.stats = {\"hits\": 0, \"misses\": 0}          def __call__(self, func):         @wraps(func)         def wrapper(*args, **kwargs):             # \u5efa\u7acb\u5feb\u53d6\u9375             cache_key = f\"{func.__name__}:{str(args)}:{str(kwargs)}\"                          # \u6aa2\u67e5\u5feb\u53d6             if cache_key in self.cache:                 cached_time, cached_value = self.cache[cache_key]                                  # \u6aa2\u67e5\u662f\u5426\u904e\u671f                 if time.time() - cached_time &lt; self.ttl:                     self.stats[\"hits\"] += 1                     print(f\"\ud83d\udcbe \u5feb\u53d6\u547d\u4e2d (\u7e3d\u547d\u4e2d: {self.stats['hits']})\")                     return cached_value                          # \u5feb\u53d6\u672a\u547d\u4e2d,\u57f7\u884c\u51fd\u6578             self.stats[\"misses\"] += 1             print(f\"\ud83d\udd0d \u5feb\u53d6\u672a\u547d\u4e2d,\u57f7\u884c\u67e5\u8a62 (\u7e3d\u672a\u547d\u4e2d: {self.stats['misses']})\")                          result = func(*args, **kwargs)                          # \u5b58\u5165\u5feb\u53d6             self.cache[cache_key] = (time.time(), result)                          return result         return wrapper          def clear(self):         \"\"\"\u6e05\u9664\u5feb\u53d6\"\"\"         self.cache.clear()         self.stats = {\"hits\": 0, \"misses\": 0}         print(\"\ud83d\uddd1\ufe0f \u5feb\u53d6\u5df2\u6e05\u9664\")  # \u5efa\u7acb\u5feb\u53d6\u4e2d\u4ecb\u5c64 (60\u79d2 TTL) cache = CacheMiddleware(ttl=60)  @cache def expensive_query(policy_id: str) -&gt; dict:     \"\"\"\u6602\u8cb4\u7684\u67e5\u8a62\u64cd\u4f5c\"\"\"     time.sleep(0.5)  # \u6a21\u64ec\u6162\u901f\u67e5\u8a62     return {\"policy_id\": policy_id, \"data\": \"expensive result\"}  # \u6e2c\u8a66\u5feb\u53d6 print(\"\ud83d\udccb \u7b2c\u4e00\u6b21\u67e5\u8a62:\") result1 = expensive_query(\"CL202401001\")  print(\"\\n\ud83d\udccb \u7b2c\u4e8c\u6b21\u67e5\u8a62 (\u76f8\u540c\u53c3\u6578):\") result2 = expensive_query(\"CL202401001\")  print(\"\\n\ud83d\udccb \u7b2c\u4e09\u6b21\u67e5\u8a62 (\u4e0d\u540c\u53c3\u6578):\") result3 = expensive_query(\"CL202401002\")  print(\"\\n\ud83d\udcca \u5feb\u53d6\u7d71\u8a08:\") print(f\"\u547d\u4e2d: {cache.stats['hits']} \u6b21\") print(f\"\u672a\u547d\u4e2d: {cache.stats['misses']} \u6b21\") print(f\"\u547d\u4e2d\u7387: {cache.stats['hits'] / (cache.stats['hits'] + cache.stats['misses']) * 100:.1f}%\") In\u00a0[\u00a0]: Copied! <pre># \u7d44\u5408\u591a\u500b Middleware\n@audit_log(\"query_policy\")\n@cache\n@validate_policy_id\n@wrap_tool_call\ndef query_complete_policy(policy_id: str, user_id: str = \"system\") -&gt; dict:\n    \"\"\"\u5b8c\u6574\u7684\u4fdd\u55ae\u67e5\u8a62 (\u542b\u6240\u6709\u4e2d\u4ecb\u5c64)\"\"\"\n    time.sleep(0.3)  # \u6a21\u64ec\u67e5\u8a62\u5ef6\u9072\n    \n    return {\n        \"policy_id\": policy_id,\n        \"type\": \"\u7d42\u8eab\u58fd\u96aa\",\n        \"owner\": \"\u738b\u5c0f\u660e\",\n        \"coverage\": 2000000,\n        \"status\": \"active\"\n    }\n\nprint(\"=\"*60)\nprint(\"\ud83d\udd0d \u5b8c\u6574\u4fdd\u55ae\u67e5\u8a62\u6e2c\u8a66\")\nprint(\"=\"*60)\n\n# \u7b2c\u4e00\u6b21\u67e5\u8a62\nprint(\"\\n\ud83d\udccb \u6e2c\u8a66 1: \u7b2c\u4e00\u6b21\u67e5\u8a62\")\nresult1 = query_complete_policy(\"CL202401001\", user_id=\"agent001\")\n\n# \u7b2c\u4e8c\u6b21\u67e5\u8a62 (\u61c9\u8a72\u547d\u4e2d\u5feb\u53d6)\nprint(\"\\n\ud83d\udccb \u6e2c\u8a66 2: \u7b2c\u4e8c\u6b21\u67e5\u8a62 (\u76f8\u540c\u53c3\u6578)\")\nresult2 = query_complete_policy(\"CL202401001\", user_id=\"agent001\")\n\n# \u67e5\u770b\u7a3d\u6838\u65e5\u8a8c\nprint(\"\\n\" + \"=\"*60)\nprint(\"\ud83d\udcca \u7a3d\u6838\u65e5\u8a8c\u6458\u8981\")\nprint(\"=\"*60)\nprint(f\"\u7e3d\u64cd\u4f5c\u6578: {len(audit_logger.get_logs())}\")\nprint(f\"\u5feb\u53d6\u547d\u4e2d\u7387: {cache.stats['hits'] / (cache.stats['hits'] + cache.stats['misses']) * 100:.1f}%\")\n</pre> # \u7d44\u5408\u591a\u500b Middleware @audit_log(\"query_policy\") @cache @validate_policy_id @wrap_tool_call def query_complete_policy(policy_id: str, user_id: str = \"system\") -&gt; dict:     \"\"\"\u5b8c\u6574\u7684\u4fdd\u55ae\u67e5\u8a62 (\u542b\u6240\u6709\u4e2d\u4ecb\u5c64)\"\"\"     time.sleep(0.3)  # \u6a21\u64ec\u67e5\u8a62\u5ef6\u9072          return {         \"policy_id\": policy_id,         \"type\": \"\u7d42\u8eab\u58fd\u96aa\",         \"owner\": \"\u738b\u5c0f\u660e\",         \"coverage\": 2000000,         \"status\": \"active\"     }  print(\"=\"*60) print(\"\ud83d\udd0d \u5b8c\u6574\u4fdd\u55ae\u67e5\u8a62\u6e2c\u8a66\") print(\"=\"*60)  # \u7b2c\u4e00\u6b21\u67e5\u8a62 print(\"\\n\ud83d\udccb \u6e2c\u8a66 1: \u7b2c\u4e00\u6b21\u67e5\u8a62\") result1 = query_complete_policy(\"CL202401001\", user_id=\"agent001\")  # \u7b2c\u4e8c\u6b21\u67e5\u8a62 (\u61c9\u8a72\u547d\u4e2d\u5feb\u53d6) print(\"\\n\ud83d\udccb \u6e2c\u8a66 2: \u7b2c\u4e8c\u6b21\u67e5\u8a62 (\u76f8\u540c\u53c3\u6578)\") result2 = query_complete_policy(\"CL202401001\", user_id=\"agent001\")  # \u67e5\u770b\u7a3d\u6838\u65e5\u8a8c print(\"\\n\" + \"=\"*60) print(\"\ud83d\udcca \u7a3d\u6838\u65e5\u8a8c\u6458\u8981\") print(\"=\"*60) print(f\"\u7e3d\u64cd\u4f5c\u6578: {len(audit_logger.get_logs())}\") print(f\"\u5feb\u53d6\u547d\u4e2d\u7387: {cache.stats['hits'] / (cache.stats['hits'] + cache.stats['misses']) * 100:.1f}%\") In\u00a0[\u00a0]: Copied! <pre>def retry(max_attempts: int = 3, delay: float = 1.0):\n    \"\"\"\u91cd\u8a66\u88dd\u98fe\u5668\"\"\"\n    def decorator(func):\n        @wraps(func)\n        def wrapper(*args, **kwargs):\n            last_exception = None\n            \n            for attempt in range(1, max_attempts + 1):\n                try:\n                    print(f\"\\n\ud83d\udd04 \u5617\u8a66 {attempt}/{max_attempts}\")\n                    result = func(*args, **kwargs)\n                    print(f\"\u2705 \u6210\u529f!\")\n                    return result\n                    \n                except Exception as e:\n                    last_exception = e\n                    print(f\"\u274c \u5931\u6557: {e}\")\n                    \n                    if attempt &lt; max_attempts:\n                        print(f\"\u23f3 \u7b49\u5f85 {delay} \u79d2\u5f8c\u91cd\u8a66...\")\n                        time.sleep(delay)\n            \n            # \u6240\u6709\u5617\u8a66\u90fd\u5931\u6557\n            print(f\"\\n\ud83d\udca5 \u5df2\u9054\u6700\u5927\u91cd\u8a66\u6b21\u6578 ({max_attempts}),\u653e\u68c4\")\n            raise last_exception\n        \n        return wrapper\n    return decorator\n\n# \u6a21\u64ec\u4e0d\u7a69\u5b9a\u7684 API\nattempt_counter = 0\n\n@retry(max_attempts=3, delay=0.5)\ndef unstable_api_call(policy_id: str) -&gt; dict:\n    \"\"\"\u4e0d\u7a69\u5b9a\u7684 API (\u524d 2 \u6b21\u5931\u6557)\"\"\"\n    global attempt_counter\n    attempt_counter += 1\n    \n    # \u524d 2 \u6b21\u5931\u6557\n    if attempt_counter &lt; 3:\n        raise ConnectionError(\"API \u9023\u7dda\u5931\u6557\")\n    \n    # \u7b2c 3 \u6b21\u6210\u529f\n    return {\"policy_id\": policy_id, \"status\": \"success\"}\n\n# \u6e2c\u8a66\nprint(\"\ud83e\uddea \u6e2c\u8a66\u91cd\u8a66\u6a5f\u5236:\")\nresult = unstable_api_call(\"CL202401001\")\nprint(f\"\\n\ud83c\udf89 \u6700\u7d42\u7d50\u679c: {result}\")\n</pre> def retry(max_attempts: int = 3, delay: float = 1.0):     \"\"\"\u91cd\u8a66\u88dd\u98fe\u5668\"\"\"     def decorator(func):         @wraps(func)         def wrapper(*args, **kwargs):             last_exception = None                          for attempt in range(1, max_attempts + 1):                 try:                     print(f\"\\n\ud83d\udd04 \u5617\u8a66 {attempt}/{max_attempts}\")                     result = func(*args, **kwargs)                     print(f\"\u2705 \u6210\u529f!\")                     return result                                      except Exception as e:                     last_exception = e                     print(f\"\u274c \u5931\u6557: {e}\")                                          if attempt &lt; max_attempts:                         print(f\"\u23f3 \u7b49\u5f85 {delay} \u79d2\u5f8c\u91cd\u8a66...\")                         time.sleep(delay)                          # \u6240\u6709\u5617\u8a66\u90fd\u5931\u6557             print(f\"\\n\ud83d\udca5 \u5df2\u9054\u6700\u5927\u91cd\u8a66\u6b21\u6578 ({max_attempts}),\u653e\u68c4\")             raise last_exception                  return wrapper     return decorator  # \u6a21\u64ec\u4e0d\u7a69\u5b9a\u7684 API attempt_counter = 0  @retry(max_attempts=3, delay=0.5) def unstable_api_call(policy_id: str) -&gt; dict:     \"\"\"\u4e0d\u7a69\u5b9a\u7684 API (\u524d 2 \u6b21\u5931\u6557)\"\"\"     global attempt_counter     attempt_counter += 1          # \u524d 2 \u6b21\u5931\u6557     if attempt_counter &lt; 3:         raise ConnectionError(\"API \u9023\u7dda\u5931\u6557\")          # \u7b2c 3 \u6b21\u6210\u529f     return {\"policy_id\": policy_id, \"status\": \"success\"}  # \u6e2c\u8a66 print(\"\ud83e\uddea \u6e2c\u8a66\u91cd\u8a66\u6a5f\u5236:\") result = unstable_api_call(\"CL202401001\") print(f\"\\n\ud83c\udf89 \u6700\u7d42\u7d50\u679c: {result}\") In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c RateLimitMiddleware\n</pre> # TODO: \u5be6\u4f5c RateLimitMiddleware In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c PerformanceMonitor\n</pre> # TODO: \u5be6\u4f5c PerformanceMonitor"},{"location":"langchain/notebooks/05-middleware-advanced/#05-advanced-middleware","title":"05 - \u9032\u968e\u4e2d\u4ecb\u5c64 (Advanced Middleware)\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u7406\u89e3\u4e2d\u4ecb\u5c64 (Middleware) \u7684\u4f5c\u7528</li> <li>\u2705 \u4f7f\u7528 @before_model \u88dd\u98fe\u5668</li> <li>\u2705 \u4f7f\u7528 @after_model \u88dd\u98fe\u5668</li> <li>\u2705 \u4f7f\u7528 @wrap_tool_call \u88dd\u98fe\u5668</li> <li>\u2705 \u5be6\u4f5c\u65e5\u8a8c\u3001\u9a57\u8b49\u3001\u5feb\u53d6\u7b49\u4e2d\u4ecb\u5c64\u529f\u80fd</li> </ul>"},{"location":"langchain/notebooks/05-middleware-advanced/#40","title":"\u23f0 \u9810\u8a08\u6642\u9593: 40 \u5206\u9418\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/","title":"\ud83d\udce6 \u74b0\u5883\u8a2d\u5b9a\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#part-1-middleware","title":"Part 1: \u4ec0\u9ebc\u662f Middleware?\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#11-middleware","title":"1.1 Middleware \u6982\u5ff5\u00b6","text":"<p>Middleware (\u4e2d\u4ecb\u5c64) \u662f\u5728\u4e3b\u8981\u908f\u8f2f\u57f7\u884c\u524d\u5f8c\u63d2\u5165\u7684\u8655\u7406\u908f\u8f2f:</p> <pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         Middleware \u57f7\u884c\u6d41\u7a0b           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                      \u2502\n\u2502  \u8acb\u6c42 \u2192 @before_model                \u2502\n\u2502            \u2193                         \u2502\n\u2502         \u4e3b\u8981\u908f\u8f2f (LLM/Tool)          \u2502\n\u2502            \u2193                         \u2502\n\u2502        @after_model \u2192 \u56de\u61c9           \u2502\n\u2502                                      \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"langchain/notebooks/05-middleware-advanced/","title":"\u5e38\u898b\u7528\u9014\u00b6","text":"<ul> <li>\ud83d\udcdd \u65e5\u8a8c\u8a18\u9304</li> <li>\u2705 \u8f38\u5165\u9a57\u8b49</li> <li>\ud83d\udcbe \u5feb\u53d6\u7ba1\u7406</li> <li>\ud83d\udd12 \u6b0a\u9650\u6aa2\u67e5</li> <li>\u23f1\ufe0f \u6548\u80fd\u76e3\u63a7</li> <li>\ud83d\udd04 \u91cd\u8a66\u908f\u8f2f</li> </ul>"},{"location":"langchain/notebooks/05-middleware-advanced/#part-2-before_model","title":"Part 2: @before_model \u88dd\u98fe\u5668\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#21","title":"2.1 \u57fa\u790e\u7528\u6cd5\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#22-middleware","title":"2.2 \u8f38\u5165\u9a57\u8b49 Middleware\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#23-middleware","title":"2.3 \u6b0a\u9650\u6aa2\u67e5 Middleware\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#part-3-after_model","title":"Part 3: @after_model \u88dd\u98fe\u5668\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#31","title":"3.1 \u7d50\u679c\u8655\u7406\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#32-middleware","title":"3.2 \u7d50\u679c\u683c\u5f0f\u5316 Middleware\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#33-middleware","title":"3.3 \u65e5\u8a8c\u8a18\u9304 Middleware\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#part-4-wrap_tool_call","title":"Part 4: @wrap_tool_call \u88dd\u98fe\u5668\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#41","title":"4.1 \u5de5\u5177\u547c\u53eb\u5305\u88dd\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#42-middleware","title":"4.2 \u5feb\u53d6 Middleware\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#part-5-middleware","title":"Part 5: \u7d44\u5408\u591a\u500b Middleware\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#51","title":"5.1 \u5efa\u7acb\u5b8c\u6574\u7684\u4fdd\u55ae\u67e5\u8a62\u7cfb\u7d71\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#52-middleware","title":"5.2 \u91cd\u8a66 Middleware\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/","title":"\ud83c\udfaf \u7df4\u7fd2\u984c\u00b6","text":""},{"location":"langchain/notebooks/05-middleware-advanced/#1-middleware","title":"\u7df4\u7fd2 1: \u5be6\u4f5c\u901f\u7387\u9650\u5236 Middleware\u00b6","text":"<p>\u9650\u5236\u6bcf\u500b\u4f7f\u7528\u8005\u6bcf\u5206\u9418\u53ea\u80fd\u547c\u53eb 10 \u6b21</p>"},{"location":"langchain/notebooks/05-middleware-advanced/#2-middleware","title":"\u7df4\u7fd2 2: \u5be6\u4f5c\u6548\u80fd\u76e3\u63a7 Middleware\u00b6","text":"<p>\u8a18\u9304\u6bcf\u500b\u51fd\u6578\u7684\u57f7\u884c\u6642\u9593\u7d71\u8a08 (\u5e73\u5747\u3001\u6700\u5927\u3001\u6700\u5c0f)</p>"},{"location":"langchain/notebooks/05-middleware-advanced/","title":"\ud83d\udcdd \u5b78\u7fd2\u6aa2\u67e5\u6e05\u55ae\u00b6","text":"<ul> <li>\u7406\u89e3 Middleware \u7684\u6982\u5ff5\u548c\u4f5c\u7528</li> <li>\u4f7f\u7528 @before_model \u9032\u884c\u524d\u7f6e\u8655\u7406</li> <li>\u4f7f\u7528 @after_model \u9032\u884c\u5f8c\u7f6e\u8655\u7406</li> <li>\u5be6\u4f5c\u8f38\u5165\u9a57\u8b49 Middleware</li> <li>\u5be6\u4f5c\u6b0a\u9650\u6aa2\u67e5 Middleware</li> <li>\u5be6\u4f5c\u65e5\u8a8c\u8a18\u9304 Middleware</li> <li>\u5be6\u4f5c\u5feb\u53d6 Middleware</li> <li>\u5be6\u4f5c\u91cd\u8a66 Middleware</li> <li>\u7d44\u5408\u591a\u500b Middleware</li> <li>\u8a2d\u8a08\u5b8c\u6574\u7684\u4e2d\u4ecb\u5c64\u7cfb\u7d71</li> </ul>"},{"location":"langchain/notebooks/05-middleware-advanced/","title":"\u4e0b\u4e00\u6b65\u00b6","text":"<p>\u7e7c\u7e8c\u524d\u5f80 <code>06-langchain-deployment.ipynb</code> \u5b78\u7fd2\u90e8\u7f72\u5be6\u52d9 \ud83d\udc49</p>"},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\u7df4\u7fd2 06 - \u90e8\u7f72\u5be6\u52d9","text":"In\u00a0[\u00a0]: Copied! <pre>!pip install langchain==0.1.0\n!pip install langchain-openai==0.0.5\n!pip install fastapi==0.108.0\n!pip install uvicorn==0.25.0\n!pip install pydantic==2.5.0\n!pip install python-dotenv==1.0.0\n</pre> !pip install langchain==0.1.0 !pip install langchain-openai==0.0.5 !pip install fastapi==0.108.0 !pip install uvicorn==0.25.0 !pip install pydantic==2.5.0 !pip install python-dotenv==1.0.0 In\u00a0[\u00a0]: Copied! <pre>from dotenv import load_dotenv\nimport os\n\nload_dotenv()\nprint(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\")\n</pre> from dotenv import load_dotenv import os  load_dotenv() print(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>from fastapi import FastAPI, HTTPException\nfrom pydantic import BaseModel\nfrom typing import List, Optional\nfrom langchain_openai import ChatOpenAI\nfrom langchain.prompts import ChatPromptTemplate\n\n# \u5efa\u7acb FastAPI \u61c9\u7528\napp = FastAPI(\n    title=\"\u570b\u6cf0\u4eba\u58fd AI \u5ba2\u670d API\",\n    description=\"LangChain \u9a45\u52d5\u7684\u667a\u80fd\u5ba2\u670d\u7cfb\u7d71\",\n    version=\"1.0.0\"\n)\n\n# \u521d\u59cb\u5316 LLM\nllm = ChatOpenAI(model=\"gpt-4\", temperature=0.7)\n\n# \u5b9a\u7fa9\u8acb\u6c42/\u56de\u61c9\u6a21\u578b\nclass QueryRequest(BaseModel):\n    \"\"\"\u67e5\u8a62\u8acb\u6c42\"\"\"\n    user_id: str\n    message: str\n    session_id: Optional[str] = None\n\nclass QueryResponse(BaseModel):\n    \"\"\"\u67e5\u8a62\u56de\u61c9\"\"\"\n    response: str\n    session_id: str\n\n@app.get(\"/\")\nasync def root():\n    \"\"\"\u5065\u5eb7\u6aa2\u67e5\u7aef\u9ede\"\"\"\n    return {\n        \"status\": \"healthy\",\n        \"service\": \"Cathay AI Customer Service\",\n        \"version\": \"1.0.0\"\n    }\n\n@app.post(\"/chat\", response_model=QueryResponse)\nasync def chat(request: QueryRequest):\n    \"\"\"\u804a\u5929\u7aef\u9ede\"\"\"\n    try:\n        # \u5efa\u7acb\u63d0\u793a\u8a5e\n        prompt = ChatPromptTemplate.from_messages([\n            (\"system\", \"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5c08\u696d\u5ba2\u670d\u52a9\u7406,\u8acb\u7528\u53cb\u5584\u4e14\u5c08\u696d\u7684\u614b\u5ea6\u56de\u7b54\u554f\u984c\u3002\"),\n            (\"user\", \"{message}\")\n        ])\n        \n        # \u57f7\u884c\n        chain = prompt | llm\n        response = chain.invoke({\"message\": request.message})\n        \n        return QueryResponse(\n            response=response.content,\n            session_id=request.session_id or \"new-session\"\n        )\n        \n    except Exception as e:\n        raise HTTPException(status_code=500, detail=str(e))\n\nprint(\"\u2705 FastAPI \u61c9\u7528\u5efa\u7acb\u5b8c\u6210\")\nprint(\"\\n\ud83d\udca1 \u555f\u52d5\u65b9\u5f0f:\")\nprint(\"uvicorn main:app --reload\")\n</pre> from fastapi import FastAPI, HTTPException from pydantic import BaseModel from typing import List, Optional from langchain_openai import ChatOpenAI from langchain.prompts import ChatPromptTemplate  # \u5efa\u7acb FastAPI \u61c9\u7528 app = FastAPI(     title=\"\u570b\u6cf0\u4eba\u58fd AI \u5ba2\u670d API\",     description=\"LangChain \u9a45\u52d5\u7684\u667a\u80fd\u5ba2\u670d\u7cfb\u7d71\",     version=\"1.0.0\" )  # \u521d\u59cb\u5316 LLM llm = ChatOpenAI(model=\"gpt-4\", temperature=0.7)  # \u5b9a\u7fa9\u8acb\u6c42/\u56de\u61c9\u6a21\u578b class QueryRequest(BaseModel):     \"\"\"\u67e5\u8a62\u8acb\u6c42\"\"\"     user_id: str     message: str     session_id: Optional[str] = None  class QueryResponse(BaseModel):     \"\"\"\u67e5\u8a62\u56de\u61c9\"\"\"     response: str     session_id: str  @app.get(\"/\") async def root():     \"\"\"\u5065\u5eb7\u6aa2\u67e5\u7aef\u9ede\"\"\"     return {         \"status\": \"healthy\",         \"service\": \"Cathay AI Customer Service\",         \"version\": \"1.0.0\"     }  @app.post(\"/chat\", response_model=QueryResponse) async def chat(request: QueryRequest):     \"\"\"\u804a\u5929\u7aef\u9ede\"\"\"     try:         # \u5efa\u7acb\u63d0\u793a\u8a5e         prompt = ChatPromptTemplate.from_messages([             (\"system\", \"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5c08\u696d\u5ba2\u670d\u52a9\u7406,\u8acb\u7528\u53cb\u5584\u4e14\u5c08\u696d\u7684\u614b\u5ea6\u56de\u7b54\u554f\u984c\u3002\"),             (\"user\", \"{message}\")         ])                  # \u57f7\u884c         chain = prompt | llm         response = chain.invoke({\"message\": request.message})                  return QueryResponse(             response=response.content,             session_id=request.session_id or \"new-session\"         )              except Exception as e:         raise HTTPException(status_code=500, detail=str(e))  print(\"\u2705 FastAPI \u61c9\u7528\u5efa\u7acb\u5b8c\u6210\") print(\"\\n\ud83d\udca1 \u555f\u52d5\u65b9\u5f0f:\") print(\"uvicorn main:app --reload\") In\u00a0[\u00a0]: Copied! <pre>from enum import Enum\n\nclass PolicyType(str, Enum):\n    LIFE = \"\u7d42\u8eab\u58fd\u96aa\"\n    TERM = \"\u5b9a\u671f\u58fd\u96aa\"\n    MEDICAL = \"\u91ab\u7642\u96aa\"\n    ACCIDENT = \"\u610f\u5916\u96aa\"\n\nclass PolicyInfo(BaseModel):\n    \"\"\"\u4fdd\u55ae\u8cc7\u8a0a\"\"\"\n    policy_id: str\n    policy_type: PolicyType\n    owner_name: str\n    coverage: int\n    annual_premium: int\n    status: str\n\n# \u6a21\u64ec\u8cc7\u6599\u5eab\nMOCK_DB = {\n    \"CL202401001\": PolicyInfo(\n        policy_id=\"CL202401001\",\n        policy_type=PolicyType.LIFE,\n        owner_name=\"\u738b\u5c0f\u660e\",\n        coverage=2000000,\n        annual_premium=50000,\n        status=\"\u6709\u6548\"\n    ),\n    \"CL202401002\": PolicyInfo(\n        policy_id=\"CL202401002\",\n        policy_type=PolicyType.MEDICAL,\n        owner_name=\"\u674e\u5c0f\u83ef\",\n        coverage=1000000,\n        annual_premium=30000,\n        status=\"\u6709\u6548\"\n    )\n}\n\n@app.get(\"/policy/{policy_id}\", response_model=PolicyInfo)\nasync def get_policy(policy_id: str):\n    \"\"\"\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"\"\"\n    if policy_id not in MOCK_DB:\n        raise HTTPException(status_code=404, detail=f\"\u627e\u4e0d\u5230\u4fdd\u55ae {policy_id}\")\n    \n    return MOCK_DB[policy_id]\n\n@app.get(\"/policies\", response_model=List[PolicyInfo])\nasync def list_policies(owner_name: Optional[str] = None):\n    \"\"\"\u5217\u51fa\u4fdd\u55ae\"\"\"\n    policies = list(MOCK_DB.values())\n    \n    if owner_name:\n        policies = [p for p in policies if p.owner_name == owner_name]\n    \n    return policies\n\nprint(\"\u2705 \u4fdd\u55ae API \u7aef\u9ede\u5efa\u7acb\u5b8c\u6210\")\n</pre> from enum import Enum  class PolicyType(str, Enum):     LIFE = \"\u7d42\u8eab\u58fd\u96aa\"     TERM = \"\u5b9a\u671f\u58fd\u96aa\"     MEDICAL = \"\u91ab\u7642\u96aa\"     ACCIDENT = \"\u610f\u5916\u96aa\"  class PolicyInfo(BaseModel):     \"\"\"\u4fdd\u55ae\u8cc7\u8a0a\"\"\"     policy_id: str     policy_type: PolicyType     owner_name: str     coverage: int     annual_premium: int     status: str  # \u6a21\u64ec\u8cc7\u6599\u5eab MOCK_DB = {     \"CL202401001\": PolicyInfo(         policy_id=\"CL202401001\",         policy_type=PolicyType.LIFE,         owner_name=\"\u738b\u5c0f\u660e\",         coverage=2000000,         annual_premium=50000,         status=\"\u6709\u6548\"     ),     \"CL202401002\": PolicyInfo(         policy_id=\"CL202401002\",         policy_type=PolicyType.MEDICAL,         owner_name=\"\u674e\u5c0f\u83ef\",         coverage=1000000,         annual_premium=30000,         status=\"\u6709\u6548\"     ) }  @app.get(\"/policy/{policy_id}\", response_model=PolicyInfo) async def get_policy(policy_id: str):     \"\"\"\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"\"\"     if policy_id not in MOCK_DB:         raise HTTPException(status_code=404, detail=f\"\u627e\u4e0d\u5230\u4fdd\u55ae {policy_id}\")          return MOCK_DB[policy_id]  @app.get(\"/policies\", response_model=List[PolicyInfo]) async def list_policies(owner_name: Optional[str] = None):     \"\"\"\u5217\u51fa\u4fdd\u55ae\"\"\"     policies = list(MOCK_DB.values())          if owner_name:         policies = [p for p in policies if p.owner_name == owner_name]          return policies  print(\"\u2705 \u4fdd\u55ae API \u7aef\u9ede\u5efa\u7acb\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>from langchain.tools import tool\nfrom langchain.agents import create_react_agent, AgentExecutor\nfrom langchain import hub\n\n# \u5b9a\u7fa9\u5de5\u5177\n@tool\ndef search_policy_tool(policy_id: str) -&gt; str:\n    \"\"\"\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"\"\"\n    if policy_id in MOCK_DB:\n        p = MOCK_DB[policy_id]\n        return f\"\u4fdd\u55ae {p.policy_id}: {p.policy_type.value}, \u6295\u4fdd\u4eba {p.owner_name}, \u4fdd\u984d ${p.coverage:,}, \u5e74\u7e73 ${p.annual_premium:,}, \u72c0\u614b {p.status}\"\n    return f\"\u627e\u4e0d\u5230\u4fdd\u55ae {policy_id}\"\n\n@tool\ndef calculate_premium_tool(age: int, coverage: int) -&gt; str:\n    \"\"\"\u8a08\u7b97\u4fdd\u8cbb\"\"\"\n    base_rate = 0.02\n    age_factor = 1 + (age - 30) * 0.01\n    premium = int(coverage * base_rate * age_factor)\n    return f\"\u5e74\u9f61 {age} \u6b72,\u4fdd\u984d ${coverage:,},\u5e74\u7e73\u4fdd\u8cbb\u7d04 ${premium:,}\"\n\n# \u5efa\u7acb Agent\ntools = [search_policy_tool, calculate_premium_tool]\nprompt = hub.pull(\"hwchase17/react\")\nagent = create_react_agent(llm, tools, prompt)\nagent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)\n\nclass AgentRequest(BaseModel):\n    \"\"\"Agent \u8acb\u6c42\"\"\"\n    query: str\n\nclass AgentResponse(BaseModel):\n    \"\"\"Agent \u56de\u61c9\"\"\"\n    answer: str\n\n@app.post(\"/agent/query\", response_model=AgentResponse)\nasync def agent_query(request: AgentRequest):\n    \"\"\"AI Agent \u67e5\u8a62\"\"\"\n    try:\n        result = agent_executor.invoke({\"input\": request.query})\n        return AgentResponse(answer=result[\"output\"])\n    except Exception as e:\n        raise HTTPException(status_code=500, detail=str(e))\n\nprint(\"\u2705 AI Agent API \u5efa\u7acb\u5b8c\u6210\")\n</pre> from langchain.tools import tool from langchain.agents import create_react_agent, AgentExecutor from langchain import hub  # \u5b9a\u7fa9\u5de5\u5177 @tool def search_policy_tool(policy_id: str) -&gt; str:     \"\"\"\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"\"\"     if policy_id in MOCK_DB:         p = MOCK_DB[policy_id]         return f\"\u4fdd\u55ae {p.policy_id}: {p.policy_type.value}, \u6295\u4fdd\u4eba {p.owner_name}, \u4fdd\u984d ${p.coverage:,}, \u5e74\u7e73 ${p.annual_premium:,}, \u72c0\u614b {p.status}\"     return f\"\u627e\u4e0d\u5230\u4fdd\u55ae {policy_id}\"  @tool def calculate_premium_tool(age: int, coverage: int) -&gt; str:     \"\"\"\u8a08\u7b97\u4fdd\u8cbb\"\"\"     base_rate = 0.02     age_factor = 1 + (age - 30) * 0.01     premium = int(coverage * base_rate * age_factor)     return f\"\u5e74\u9f61 {age} \u6b72,\u4fdd\u984d ${coverage:,},\u5e74\u7e73\u4fdd\u8cbb\u7d04 ${premium:,}\"  # \u5efa\u7acb Agent tools = [search_policy_tool, calculate_premium_tool] prompt = hub.pull(\"hwchase17/react\") agent = create_react_agent(llm, tools, prompt) agent_executor = AgentExecutor(agent=agent, tools=tools, verbose=True)  class AgentRequest(BaseModel):     \"\"\"Agent \u8acb\u6c42\"\"\"     query: str  class AgentResponse(BaseModel):     \"\"\"Agent \u56de\u61c9\"\"\"     answer: str  @app.post(\"/agent/query\", response_model=AgentResponse) async def agent_query(request: AgentRequest):     \"\"\"AI Agent \u67e5\u8a62\"\"\"     try:         result = agent_executor.invoke({\"input\": request.query})         return AgentResponse(answer=result[\"output\"])     except Exception as e:         raise HTTPException(status_code=500, detail=str(e))  print(\"\u2705 AI Agent API \u5efa\u7acb\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>from fastapi.responses import StreamingResponse\nimport asyncio\n\n@app.post(\"/chat/stream\")\nasync def chat_stream(request: QueryRequest):\n    \"\"\"\u4e32\u6d41\u804a\u5929\u56de\u61c9\"\"\"\n    \n    async def generate():\n        \"\"\"\u751f\u6210\u4e32\u6d41\u56de\u61c9\"\"\"\n        prompt = ChatPromptTemplate.from_messages([\n            (\"system\", \"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5ba2\u670d\u52a9\u7406\"),\n            (\"user\", \"{message}\")\n        ])\n        \n        chain = prompt | llm\n        \n        # \u4f7f\u7528 stream \u65b9\u6cd5\n        async for chunk in chain.astream({\"message\": request.message}):\n            if chunk.content:\n                # SSE \u683c\u5f0f\n                yield f\"data: {chunk.content}\\n\\n\"\n                await asyncio.sleep(0.05)  # \u6a21\u64ec\u6253\u5b57\u6548\u679c\n        \n        yield \"data: [DONE]\\n\\n\"\n    \n    return StreamingResponse(\n        generate(),\n        media_type=\"text/event-stream\",\n        headers={\n            \"Cache-Control\": \"no-cache\",\n            \"Connection\": \"keep-alive\",\n        }\n    )\n\nprint(\"\u2705 \u4e32\u6d41 API \u5efa\u7acb\u5b8c\u6210\")\n</pre> from fastapi.responses import StreamingResponse import asyncio  @app.post(\"/chat/stream\") async def chat_stream(request: QueryRequest):     \"\"\"\u4e32\u6d41\u804a\u5929\u56de\u61c9\"\"\"          async def generate():         \"\"\"\u751f\u6210\u4e32\u6d41\u56de\u61c9\"\"\"         prompt = ChatPromptTemplate.from_messages([             (\"system\", \"\u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5ba2\u670d\u52a9\u7406\"),             (\"user\", \"{message}\")         ])                  chain = prompt | llm                  # \u4f7f\u7528 stream \u65b9\u6cd5         async for chunk in chain.astream({\"message\": request.message}):             if chunk.content:                 # SSE \u683c\u5f0f                 yield f\"data: {chunk.content}\\n\\n\"                 await asyncio.sleep(0.05)  # \u6a21\u64ec\u6253\u5b57\u6548\u679c                  yield \"data: [DONE]\\n\\n\"          return StreamingResponse(         generate(),         media_type=\"text/event-stream\",         headers={             \"Cache-Control\": \"no-cache\",             \"Connection\": \"keep-alive\",         }     )  print(\"\u2705 \u4e32\u6d41 API \u5efa\u7acb\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>dockerfile_content = '''\n# \u4f7f\u7528\u5b98\u65b9 Python \u6620\u50cf\nFROM python:3.11-slim\n\n# \u8a2d\u5b9a\u5de5\u4f5c\u76ee\u9304\nWORKDIR /app\n\n# \u5b89\u88dd\u7cfb\u7d71\u4f9d\u8cf4\nRUN apt-get update &amp;&amp; apt-get install -y \\\\\n    build-essential \\\\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\n# \u8907\u88fd requirements\nCOPY requirements.txt .\n\n# \u5b89\u88dd Python \u4f9d\u8cf4\nRUN pip install --no-cache-dir -r requirements.txt\n\n# \u8907\u88fd\u61c9\u7528\u7a0b\u5f0f\u78bc\nCOPY . .\n\n# \u66b4\u9732\u7aef\u53e3\nEXPOSE 8000\n\n# \u555f\u52d5\u547d\u4ee4\nCMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"]\n'''\n\nprint(\"\ud83d\udcc4 Dockerfile:\")\nprint(dockerfile_content)\n</pre> dockerfile_content = ''' # \u4f7f\u7528\u5b98\u65b9 Python \u6620\u50cf FROM python:3.11-slim  # \u8a2d\u5b9a\u5de5\u4f5c\u76ee\u9304 WORKDIR /app  # \u5b89\u88dd\u7cfb\u7d71\u4f9d\u8cf4 RUN apt-get update &amp;&amp; apt-get install -y \\\\     build-essential \\\\     &amp;&amp; rm -rf /var/lib/apt/lists/*  # \u8907\u88fd requirements COPY requirements.txt .  # \u5b89\u88dd Python \u4f9d\u8cf4 RUN pip install --no-cache-dir -r requirements.txt  # \u8907\u88fd\u61c9\u7528\u7a0b\u5f0f\u78bc COPY . .  # \u66b4\u9732\u7aef\u53e3 EXPOSE 8000  # \u555f\u52d5\u547d\u4ee4 CMD [\"uvicorn\", \"main:app\", \"--host\", \"0.0.0.0\", \"--port\", \"8000\"] '''  print(\"\ud83d\udcc4 Dockerfile:\") print(dockerfile_content) In\u00a0[\u00a0]: Copied! <pre>docker_compose_content = '''\nversion: '3.8'\n\nservices:\n  # FastAPI \u61c9\u7528\n  api:\n    build: .\n    container_name: cathay-ai-api\n    ports:\n      - \"8000:8000\"\n    environment:\n      - OPENAI_API_KEY=${OPENAI_API_KEY}\n      - DATABASE_URL=postgresql://user:pass@db:5432/cathay\n      - REDIS_URL=redis://cache:6379\n    depends_on:\n      - db\n      - cache\n    restart: unless-stopped\n    volumes:\n      - ./logs:/app/logs\n  \n  # PostgreSQL \u8cc7\u6599\u5eab\n  db:\n    image: postgres:15\n    container_name: cathay-db\n    environment:\n      - POSTGRES_USER=user\n      - POSTGRES_PASSWORD=pass\n      - POSTGRES_DB=cathay\n    ports:\n      - \"5432:5432\"\n    volumes:\n      - postgres_data:/var/lib/postgresql/data\n  \n  # Redis \u5feb\u53d6\n  cache:\n    image: redis:7-alpine\n    container_name: cathay-cache\n    ports:\n      - \"6379:6379\"\n    volumes:\n      - redis_data:/data\n\nvolumes:\n  postgres_data:\n  redis_data:\n'''\n\nprint(\"\ud83d\udcc4 docker-compose.yml:\")\nprint(docker_compose_content)\n</pre> docker_compose_content = ''' version: '3.8'  services:   # FastAPI \u61c9\u7528   api:     build: .     container_name: cathay-ai-api     ports:       - \"8000:8000\"     environment:       - OPENAI_API_KEY=${OPENAI_API_KEY}       - DATABASE_URL=postgresql://user:pass@db:5432/cathay       - REDIS_URL=redis://cache:6379     depends_on:       - db       - cache     restart: unless-stopped     volumes:       - ./logs:/app/logs      # PostgreSQL \u8cc7\u6599\u5eab   db:     image: postgres:15     container_name: cathay-db     environment:       - POSTGRES_USER=user       - POSTGRES_PASSWORD=pass       - POSTGRES_DB=cathay     ports:       - \"5432:5432\"     volumes:       - postgres_data:/var/lib/postgresql/data      # Redis \u5feb\u53d6   cache:     image: redis:7-alpine     container_name: cathay-cache     ports:       - \"6379:6379\"     volumes:       - redis_data:/data  volumes:   postgres_data:   redis_data: '''  print(\"\ud83d\udcc4 docker-compose.yml:\") print(docker_compose_content) In\u00a0[\u00a0]: Copied! <pre>requirements_content = '''\nlangchain==0.1.0\nlangchain-openai==0.0.5\nfastapi==0.108.0\nuvicorn[standard]==0.25.0\npydantic==2.5.0\npython-dotenv==1.0.0\nredis==5.0.1\npsycopg2-binary==2.9.9\nsqlalchemy==2.0.23\n'''\n\nprint(\"\ud83d\udcc4 requirements.txt:\")\nprint(requirements_content)\n</pre> requirements_content = ''' langchain==0.1.0 langchain-openai==0.0.5 fastapi==0.108.0 uvicorn[standard]==0.25.0 pydantic==2.5.0 python-dotenv==1.0.0 redis==5.0.1 psycopg2-binary==2.9.9 sqlalchemy==2.0.23 '''  print(\"\ud83d\udcc4 requirements.txt:\") print(requirements_content) In\u00a0[\u00a0]: Copied! <pre>from pydantic_settings import BaseSettings\n\nclass Settings(BaseSettings):\n    \"\"\"\u61c9\u7528\u7a0b\u5f0f\u8a2d\u5b9a\"\"\"\n    \n    # API \u8a2d\u5b9a\n    app_name: str = \"Cathay AI Customer Service\"\n    app_version: str = \"1.0.0\"\n    debug: bool = False\n    \n    # OpenAI\n    openai_api_key: str\n    openai_model: str = \"gpt-4\"\n    \n    # \u8cc7\u6599\u5eab\n    database_url: str = \"postgresql://user:pass@localhost/cathay\"\n    \n    # Redis\n    redis_url: str = \"redis://localhost:6379\"\n    \n    # CORS\n    cors_origins: list = [\"http://localhost:3000\"]\n    \n    class Config:\n        env_file = \".env\"\n\n# \u8f09\u5165\u8a2d\u5b9a\nsettings = Settings()\n\nprint(\"\u2705 \u8a2d\u5b9a\u8f09\u5165\u5b8c\u6210\")\nprint(f\"\u61c9\u7528\u540d\u7a31: {settings.app_name}\")\nprint(f\"\u7248\u672c: {settings.app_version}\")\nprint(f\"\u9664\u932f\u6a21\u5f0f: {settings.debug}\")\n</pre> from pydantic_settings import BaseSettings  class Settings(BaseSettings):     \"\"\"\u61c9\u7528\u7a0b\u5f0f\u8a2d\u5b9a\"\"\"          # API \u8a2d\u5b9a     app_name: str = \"Cathay AI Customer Service\"     app_version: str = \"1.0.0\"     debug: bool = False          # OpenAI     openai_api_key: str     openai_model: str = \"gpt-4\"          # \u8cc7\u6599\u5eab     database_url: str = \"postgresql://user:pass@localhost/cathay\"          # Redis     redis_url: str = \"redis://localhost:6379\"          # CORS     cors_origins: list = [\"http://localhost:3000\"]          class Config:         env_file = \".env\"  # \u8f09\u5165\u8a2d\u5b9a settings = Settings()  print(\"\u2705 \u8a2d\u5b9a\u8f09\u5165\u5b8c\u6210\") print(f\"\u61c9\u7528\u540d\u7a31: {settings.app_name}\") print(f\"\u7248\u672c: {settings.app_version}\") print(f\"\u9664\u932f\u6a21\u5f0f: {settings.debug}\") In\u00a0[\u00a0]: Copied! <pre>import logging\nfrom datetime import datetime\n\n# \u8a2d\u5b9a\u65e5\u8a8c\nlogging.basicConfig(\n    level=logging.INFO,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',\n    handlers=[\n        logging.FileHandler(f'logs/app_{datetime.now().strftime(\"%Y%m%d\")}.log'),\n        logging.StreamHandler()\n    ]\n)\n\nlogger = logging.getLogger(__name__)\n\n# \u5168\u57df\u7570\u5e38\u8655\u7406\u5668\nfrom fastapi import Request\nfrom fastapi.responses import JSONResponse\n\n@app.exception_handler(Exception)\nasync def global_exception_handler(request: Request, exc: Exception):\n    \"\"\"\u5168\u57df\u7570\u5e38\u8655\u7406\"\"\"\n    logger.error(f\"Unhandled exception: {exc}\", exc_info=True)\n    \n    return JSONResponse(\n        status_code=500,\n        content={\n            \"error\": \"Internal Server Error\",\n            \"message\": str(exc) if settings.debug else \"An error occurred\"\n        }\n    )\n\nprint(\"\u2705 \u65e5\u8a8c\u8207\u932f\u8aa4\u8655\u7406\u8a2d\u5b9a\u5b8c\u6210\")\n</pre> import logging from datetime import datetime  # \u8a2d\u5b9a\u65e5\u8a8c logging.basicConfig(     level=logging.INFO,     format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',     handlers=[         logging.FileHandler(f'logs/app_{datetime.now().strftime(\"%Y%m%d\")}.log'),         logging.StreamHandler()     ] )  logger = logging.getLogger(__name__)  # \u5168\u57df\u7570\u5e38\u8655\u7406\u5668 from fastapi import Request from fastapi.responses import JSONResponse  @app.exception_handler(Exception) async def global_exception_handler(request: Request, exc: Exception):     \"\"\"\u5168\u57df\u7570\u5e38\u8655\u7406\"\"\"     logger.error(f\"Unhandled exception: {exc}\", exc_info=True)          return JSONResponse(         status_code=500,         content={             \"error\": \"Internal Server Error\",             \"message\": str(exc) if settings.debug else \"An error occurred\"         }     )  print(\"\u2705 \u65e5\u8a8c\u8207\u932f\u8aa4\u8655\u7406\u8a2d\u5b9a\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre>from fastapi import Request\nimport time\n\n@app.middleware(\"http\")\nasync def add_process_time_header(request: Request, call_next):\n    \"\"\"\u8a18\u9304\u8acb\u6c42\u8655\u7406\u6642\u9593\"\"\"\n    start_time = time.time()\n    \n    response = await call_next(request)\n    \n    process_time = time.time() - start_time\n    response.headers[\"X-Process-Time\"] = str(process_time)\n    \n    # \u8a18\u9304\u6162\u8acb\u6c42\n    if process_time &gt; 1.0:\n        logger.warning(f\"Slow request: {request.url.path} took {process_time:.2f}s\")\n    \n    return response\n\nprint(\"\u2705 \u6548\u80fd\u76e3\u63a7\u4e2d\u4ecb\u5c64\u8a2d\u5b9a\u5b8c\u6210\")\n</pre> from fastapi import Request import time  @app.middleware(\"http\") async def add_process_time_header(request: Request, call_next):     \"\"\"\u8a18\u9304\u8acb\u6c42\u8655\u7406\u6642\u9593\"\"\"     start_time = time.time()          response = await call_next(request)          process_time = time.time() - start_time     response.headers[\"X-Process-Time\"] = str(process_time)          # \u8a18\u9304\u6162\u8acb\u6c42     if process_time &gt; 1.0:         logger.warning(f\"Slow request: {request.url.path} took {process_time:.2f}s\")          return response  print(\"\u2705 \u6548\u80fd\u76e3\u63a7\u4e2d\u4ecb\u5c64\u8a2d\u5b9a\u5b8c\u6210\") In\u00a0[\u00a0]: Copied! <pre># FastAPI \u81ea\u52d5\u751f\u6210 API \u6587\u4ef6\nprint(\"\ud83d\udcda API \u6587\u4ef6:\")\nprint(\"\\nSwagger UI: http://localhost:8000/docs\")\nprint(\"ReDoc: http://localhost:8000/redoc\")\nprint(\"OpenAPI Schema: http://localhost:8000/openapi.json\")\n\n# \u81ea\u8a02 API \u6587\u4ef6\u6a19\u7c64\ntags_metadata = [\n    {\n        \"name\": \"chat\",\n        \"description\": \"\u804a\u5929\u76f8\u95dc API\"\n    },\n    {\n        \"name\": \"policy\",\n        \"description\": \"\u4fdd\u55ae\u67e5\u8a62 API\"\n    },\n    {\n        \"name\": \"agent\",\n        \"description\": \"AI Agent API\"\n    }\n]\n\n# \u66f4\u65b0\u61c9\u7528\u7a0b\u5f0f\u8a2d\u5b9a\napp = FastAPI(\n    title=\"\u570b\u6cf0\u4eba\u58fd AI \u5ba2\u670d API\",\n    description=\"LangChain \u9a45\u52d5\u7684\u667a\u80fd\u5ba2\u670d\u7cfb\u7d71\",\n    version=\"1.0.0\",\n    openapi_tags=tags_metadata\n)\n</pre> # FastAPI \u81ea\u52d5\u751f\u6210 API \u6587\u4ef6 print(\"\ud83d\udcda API \u6587\u4ef6:\") print(\"\\nSwagger UI: http://localhost:8000/docs\") print(\"ReDoc: http://localhost:8000/redoc\") print(\"OpenAPI Schema: http://localhost:8000/openapi.json\")  # \u81ea\u8a02 API \u6587\u4ef6\u6a19\u7c64 tags_metadata = [     {         \"name\": \"chat\",         \"description\": \"\u804a\u5929\u76f8\u95dc API\"     },     {         \"name\": \"policy\",         \"description\": \"\u4fdd\u55ae\u67e5\u8a62 API\"     },     {         \"name\": \"agent\",         \"description\": \"AI Agent API\"     } ]  # \u66f4\u65b0\u61c9\u7528\u7a0b\u5f0f\u8a2d\u5b9a app = FastAPI(     title=\"\u570b\u6cf0\u4eba\u58fd AI \u5ba2\u670d API\",     description=\"LangChain \u9a45\u52d5\u7684\u667a\u80fd\u5ba2\u670d\u7cfb\u7d71\",     version=\"1.0.0\",     openapi_tags=tags_metadata ) In\u00a0[\u00a0]: Copied! <pre>deployment_steps = '''\n# 1. \u672c\u5730\u958b\u767c\u6d41\u7a0b\n\n## \u521d\u59cb\u5316\u5c08\u6848\nmkdir cathay-ai-service\ncd cathay-ai-service\npython -m venv venv\nsource venv/bin/activate  # Windows: venv\\\\Scripts\\\\activate\n\n## \u5b89\u88dd\u4f9d\u8cf4\npip install -r requirements.txt\n\n## \u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578\ncp .env.example .env\n# \u7de8\u8f2f .env \u586b\u5165 API Keys\n\n## \u555f\u52d5\u958b\u767c\u4f3a\u670d\u5668\nuvicorn main:app --reload --port 8000\n\n# 2. \u6e2c\u8a66\n\n## \u5065\u5eb7\u6aa2\u67e5\ncurl http://localhost:8000/\n\n## \u6e2c\u8a66\u804a\u5929 API\ncurl -X POST http://localhost:8000/chat \\\\\n  -H \"Content-Type: application/json\" \\\\\n  -d '{\"user_id\": \"test\", \"message\": \"\u4f60\u597d\"}'\n\n# 3. Docker \u90e8\u7f72\n\n## \u5efa\u7f6e\u6620\u50cf\ndocker build -t cathay-ai-service .\n\n## \u555f\u52d5\u5bb9\u5668\ndocker-compose up -d\n\n## \u67e5\u770b\u65e5\u8a8c\ndocker-compose logs -f api\n\n## \u505c\u6b62\u670d\u52d9\ndocker-compose down\n\n# 4. \u751f\u7522\u90e8\u7f72\n\n## \u63a8\u9001\u5230 Docker Registry\ndocker tag cathay-ai-service registry.example.com/cathay-ai-service:1.0.0\ndocker push registry.example.com/cathay-ai-service:1.0.0\n\n## Kubernetes \u90e8\u7f72\nkubectl apply -f k8s/deployment.yaml\nkubectl apply -f k8s/service.yaml\nkubectl apply -f k8s/ingress.yaml\n'''\n\nprint(deployment_steps)\n</pre> deployment_steps = ''' # 1. \u672c\u5730\u958b\u767c\u6d41\u7a0b  ## \u521d\u59cb\u5316\u5c08\u6848 mkdir cathay-ai-service cd cathay-ai-service python -m venv venv source venv/bin/activate  # Windows: venv\\\\Scripts\\\\activate  ## \u5b89\u88dd\u4f9d\u8cf4 pip install -r requirements.txt  ## \u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578 cp .env.example .env # \u7de8\u8f2f .env \u586b\u5165 API Keys  ## \u555f\u52d5\u958b\u767c\u4f3a\u670d\u5668 uvicorn main:app --reload --port 8000  # 2. \u6e2c\u8a66  ## \u5065\u5eb7\u6aa2\u67e5 curl http://localhost:8000/  ## \u6e2c\u8a66\u804a\u5929 API curl -X POST http://localhost:8000/chat \\\\   -H \"Content-Type: application/json\" \\\\   -d '{\"user_id\": \"test\", \"message\": \"\u4f60\u597d\"}'  # 3. Docker \u90e8\u7f72  ## \u5efa\u7f6e\u6620\u50cf docker build -t cathay-ai-service .  ## \u555f\u52d5\u5bb9\u5668 docker-compose up -d  ## \u67e5\u770b\u65e5\u8a8c docker-compose logs -f api  ## \u505c\u6b62\u670d\u52d9 docker-compose down  # 4. \u751f\u7522\u90e8\u7f72  ## \u63a8\u9001\u5230 Docker Registry docker tag cathay-ai-service registry.example.com/cathay-ai-service:1.0.0 docker push registry.example.com/cathay-ai-service:1.0.0  ## Kubernetes \u90e8\u7f72 kubectl apply -f k8s/deployment.yaml kubectl apply -f k8s/service.yaml kubectl apply -f k8s/ingress.yaml '''  print(deployment_steps) In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c RateLimiter middleware\n</pre> # TODO: \u5be6\u4f5c RateLimiter middleware In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c /health \u7aef\u9ede\n</pre> # TODO: \u5be6\u4f5c /health \u7aef\u9ede In\u00a0[\u00a0]: Copied! <pre># TODO: \u5be6\u4f5c Prometheus metrics\n</pre> # TODO: \u5be6\u4f5c Prometheus metrics"},{"location":"langchain/notebooks/06-langchain-deployment/#06-langchain","title":"06 - LangChain \u90e8\u7f72\u5be6\u52d9\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u7406\u89e3 LangChain \u61c9\u7528\u7684\u90e8\u7f72\u67b6\u69cb</li> <li>\u2705 \u4f7f\u7528 FastAPI \u5efa\u7acb REST API</li> <li>\u2705 \u5be6\u4f5c\u4e32\u6d41\u56de\u61c9 (Streaming)</li> <li>\u2705 Docker \u5bb9\u5668\u5316\u90e8\u7f72</li> <li>\u2705 \u751f\u7522\u74b0\u5883\u6700\u4f73\u5be6\u8e10</li> </ul>"},{"location":"langchain/notebooks/06-langchain-deployment/#50","title":"\u23f0 \u9810\u8a08\u6642\u9593: 50 \u5206\u9418\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\ud83d\udce6 \u74b0\u5883\u8a2d\u5b9a\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#part-1","title":"Part 1: \u90e8\u7f72\u67b6\u69cb\u6982\u89bd\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#11-langchain","title":"1.1 \u5178\u578b\u7684 LangChain \u61c9\u7528\u67b6\u69cb\u00b6","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502         LangChain \u61c9\u7528\u90e8\u7f72\u67b6\u69cb               \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                             \u2502\n\u2502  \u524d\u7aef (Web/Mobile)                          \u2502\n\u2502         \u2193 HTTP/WebSocket                    \u2502\n\u2502  API Gateway (FastAPI)                      \u2502\n\u2502         \u2193                                   \u2502\n\u2502  Business Logic Layer                       \u2502\n\u2502    \u251c\u2500\u2500 LangChain Agents                     \u2502\n\u2502    \u251c\u2500\u2500 Memory Management                    \u2502\n\u2502    \u2514\u2500\u2500 Tool Integration                     \u2502\n\u2502         \u2193                                   \u2502\n\u2502  External Services                          \u2502\n\u2502    \u251c\u2500\u2500 OpenAI API                           \u2502\n\u2502    \u251c\u2500\u2500 Database                             \u2502\n\u2502    \u2514\u2500\u2500 Cache (Redis)                        \u2502\n\u2502                                             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"langchain/notebooks/06-langchain-deployment/#part-2-fastapi-rest-api","title":"Part 2: FastAPI REST API\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#21-fastapi","title":"2.1 \u57fa\u790e FastAPI \u61c9\u7528\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#22-api","title":"2.2 \u4fdd\u55ae\u67e5\u8a62 API\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#23-ai-api","title":"2.3 AI \u8aee\u8a62 API\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#part-3-streaming","title":"Part 3: \u4e32\u6d41\u56de\u61c9 (Streaming)\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#31-server-sent-events-sse","title":"3.1 \u5be6\u4f5c Server-Sent Events (SSE)\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#part-4-docker","title":"Part 4: Docker \u5bb9\u5668\u5316\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#41-dockerfile","title":"4.1 Dockerfile\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#42-docker-composeyml","title":"4.2 docker-compose.yml\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#43-requirementstxt","title":"4.3 requirements.txt\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#part-5","title":"Part 5: \u751f\u7522\u74b0\u5883\u6700\u4f73\u5be6\u8e10\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#51","title":"5.1 \u74b0\u5883\u8b8a\u6578\u7ba1\u7406\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#52","title":"5.2 \u932f\u8aa4\u8655\u7406\u8207\u65e5\u8a8c\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#53","title":"5.3 \u6548\u80fd\u76e3\u63a7\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#54-api","title":"5.4 API \u6587\u4ef6\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#part-6","title":"Part 6: \u5b8c\u6574\u90e8\u7f72\u6d41\u7a0b\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#61","title":"6.1 \u672c\u5730\u958b\u767c\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\ud83c\udfaf \u7df4\u7fd2\u984c\u00b6","text":""},{"location":"langchain/notebooks/06-langchain-deployment/#1-api","title":"\u7df4\u7fd2 1: \u5be6\u4f5c API \u901f\u7387\u9650\u5236\u00b6","text":"<p>\u6bcf\u500b IP \u6bcf\u5206\u9418\u6700\u591a 60 \u6b21\u8acb\u6c42</p>"},{"location":"langchain/notebooks/06-langchain-deployment/#2","title":"\u7df4\u7fd2 2: \u5be6\u4f5c\u5065\u5eb7\u6aa2\u67e5\u7aef\u9ede\u00b6","text":"<p>\u6aa2\u67e5\u8cc7\u6599\u5eab\u3001Redis\u3001OpenAI \u9023\u7dda\u72c0\u614b</p>"},{"location":"langchain/notebooks/06-langchain-deployment/#3-metrics","title":"\u7df4\u7fd2 3: \u5be6\u4f5c Metrics \u6536\u96c6\u00b6","text":"<p>\u6536\u96c6\u8acb\u6c42\u6578\u3001\u56de\u61c9\u6642\u9593\u3001\u932f\u8aa4\u7387\u7b49\u6307\u6a19</p>"},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\ud83d\udcdd \u5b78\u7fd2\u6aa2\u67e5\u6e05\u55ae\u00b6","text":"<ul> <li>\u7406\u89e3 LangChain \u61c9\u7528\u7684\u90e8\u7f72\u67b6\u69cb</li> <li>\u4f7f\u7528 FastAPI \u5efa\u7acb REST API</li> <li>\u5be6\u4f5c\u540c\u6b65\u548c\u975e\u540c\u6b65\u7aef\u9ede</li> <li>\u5be6\u4f5c\u4e32\u6d41\u56de\u61c9 (SSE)</li> <li>\u5efa\u7acb Dockerfile \u548c docker-compose.yml</li> <li>\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578\u548c\u914d\u7f6e</li> <li>\u5be6\u4f5c\u932f\u8aa4\u8655\u7406\u548c\u65e5\u8a8c</li> <li>\u5be6\u4f5c\u6548\u80fd\u76e3\u63a7</li> <li>\u751f\u6210 API \u6587\u4ef6</li> <li>\u7406\u89e3\u5b8c\u6574\u90e8\u7f72\u6d41\u7a0b</li> </ul>"},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\ud83c\udf93 \u8ab2\u7a0b\u7e3d\u7d50\u00b6","text":"<p>\u606d\u559c\u5b8c\u6210 LangChain \u7df4\u7fd2\u7cfb\u5217! \ud83c\udf89</p>"},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\u4f60\u5df2\u7d93\u5b78\u6703:\u00b6","text":"<ol> <li><p>LangChain \u57fa\u790e (01)</p> <ul> <li>PromptTemplate</li> <li>Chains</li> <li>Output Parsers</li> </ul> </li> <li><p>LangChain Agents (02)</p> <ul> <li>ReAct \u6a21\u5f0f</li> <li>Tools \u5b9a\u7fa9</li> <li>Agent Executor</li> </ul> </li> <li><p>\u7d50\u69cb\u5316\u8f38\u51fa (03)</p> <ul> <li>Pydantic Models</li> <li>with_structured_output()</li> <li>Tool/Provider Strategy</li> </ul> </li> <li><p>\u8a18\u61b6\u7ba1\u7406 (04)</p> <ul> <li>ConversationBufferMemory</li> <li>\u81ea\u8a02 State Schema</li> <li>Middleware \u8a18\u61b6\u589e\u5f37</li> </ul> </li> <li><p>\u9032\u968e Middleware (05)</p> <ul> <li>@before_model</li> <li>@after_model</li> <li>\u65e5\u8a8c\u3001\u5feb\u53d6\u3001\u91cd\u8a66</li> </ul> </li> <li><p>\u90e8\u7f72\u5be6\u52d9 (06)</p> <ul> <li>FastAPI REST API</li> <li>\u4e32\u6d41\u56de\u61c9</li> <li>Docker \u5bb9\u5668\u5316</li> </ul> </li> </ol>"},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\u4e0b\u4e00\u6b65\u5efa\u8b70:\u00b6","text":"<ul> <li>\ud83d\ude80 \u5efa\u7acb\u81ea\u5df1\u7684 LangChain \u5c08\u6848</li> <li>\ud83d\udcda \u6df1\u5165\u7814\u7a76 LangSmith \u76e3\u63a7</li> <li>\ud83d\udd27 \u63a2\u7d22\u66f4\u591a LangChain \u5de5\u5177\u548c\u6574\u5408</li> <li>\ud83c\udf10 \u8ca2\u737b\u5230 LangChain \u793e\u7fa4</li> </ul>"},{"location":"langchain/notebooks/06-langchain-deployment/","title":"\u8cc7\u6e90:\u00b6","text":"<ul> <li>LangChain \u5b98\u65b9\u6587\u4ef6</li> <li>LangChain GitHub</li> <li>LangSmith</li> </ul>"},{"location":"langgraph/","title":"LangGraph Agent \u5b78\u7fd2\u8def\u5f91","text":""},{"location":"langgraph/#_1","title":"\u8ab2\u7a0b\u7c21\u4ecb","text":"<p>\u6b61\u8fce\u4f86\u5230 LangGraph Agent \u6280\u8853\u6587\u4ef6!\u672c\u8ab2\u7a0b\u5c07\u5e36\u60a8\u6df1\u5165\u4e86\u89e3\u5982\u4f55\u4f7f\u7528 LangGraph \u5efa\u7acb\u667a\u80fd AI Agent,\u5f9e\u57fa\u790e\u6982\u5ff5\u5230\u9032\u968e\u61c9\u7528,\u5faa\u5e8f\u6f38\u9032\u5730\u638c\u63e1 Agent \u958b\u767c\u6280\u8853\u3002</p> <p>LangGraph \u662f LangChain \u751f\u614b\u7cfb\u7d71\u4e2d\u7528\u65bc\u5efa\u7acb\u6709\u72c0\u614b\u3001\u591a\u6b65\u9a5f\u63a8\u7406 Agent \u7684\u5f37\u5927\u6846\u67b6\u3002\u900f\u904e\u5716\u5f62\u5316\u7684\u65b9\u5f0f\u5b9a\u7fa9 Agent \u7684\u5de5\u4f5c\u6d41\u7a0b,\u8b93\u8907\u96dc\u7684 AI \u61c9\u7528\u958b\u767c\u8b8a\u5f97\u66f4\u52a0\u76f4\u89c0\u548c\u53ef\u7dad\u8b77\u3002</p> <p>\u9069\u5408\u5c0d\u8c61</p> <ul> <li>\u719f\u6089 Python \u57fa\u790e\u8a9e\u6cd5</li> <li>\u4e86\u89e3 LangChain \u57fa\u672c\u6982\u5ff5(\u5efa\u8b70\u4f46\u975e\u5fc5\u9700)</li> <li>\u5c0d AI Agent \u958b\u767c\u6709\u8208\u8da3\u7684\u958b\u767c\u8005</li> <li>\u9700\u8981\u5728\u5c08\u6848\u4e2d\u6574\u5408 AI \u529f\u80fd\u7684\u5de5\u7a0b\u5e2b</li> </ul>"},{"location":"langgraph/#_2","title":"\u5b78\u7fd2\u76ee\u6a19","text":"<p>\u5b8c\u6210\u672c\u8ab2\u7a0b\u5f8c,\u60a8\u5c07\u80fd\u5920:</p> <ul> <li>\u2705 \u7406\u89e3 LangGraph \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u67b6\u69cb</li> <li>\u2705 \u8a2d\u8a08\u548c\u5be6\u4f5c\u8907\u96dc\u7684 Agent \u5de5\u4f5c\u6d41\u7a0b</li> <li>\u2705 \u6574\u5408\u5404\u7a2e\u5de5\u5177\u548c API \u5230 Agent \u4e2d</li> <li>\u2705 \u8655\u7406\u932f\u8aa4\u548c\u5be6\u4f5c\u91cd\u8a66\u6a5f\u5236</li> <li>\u2705 \u512a\u5316 Agent \u7684\u6548\u80fd\u548c\u4f7f\u7528\u8005\u9ad4\u9a57</li> <li>\u2705 \u61c9\u7528\u65bc\u5be6\u969b\u696d\u52d9\u5834\u666f(\u5982\u570b\u6cf0\u4eba\u58fd\u7684\u5ba2\u6236\u670d\u52d9\u3001\u4fdd\u55ae\u67e5\u8a62\u7b49)</li> </ul>"},{"location":"langgraph/#_3","title":"\u8ab2\u7a0b\u67b6\u69cb","text":"<p>\u672c\u8ab2\u7a0b\u5171\u5206\u70ba\u56db\u5927\u90e8\u5206,\u7e3d\u8a08 12 \u500b\u7ae0\u7bc0:</p>"},{"location":"langgraph/#1-3","title":"\ud83d\udcda \u57fa\u790e\u7bc7 (\u7b2c 1-3 \u7ae0)","text":"<p>\u5efa\u7acb\u5c0d LangGraph \u7684\u57fa\u790e\u8a8d\u77e5,\u4e86\u89e3\u6838\u5fc3\u6982\u5ff5\u548c\u7d44\u4ef6\u3002</p> <pre><code>graph LR\n    A[01. LangGraph&lt;br/&gt;\u57fa\u790e\u6982\u5ff5] --&gt; B[02. \u6838\u5fc3\u7d44\u4ef6&lt;br/&gt;Node/Edge/State]\n    B --&gt; C[03. \u8207 LangChain&lt;br/&gt;\u7684\u95dc\u4fc2]\n    style A fill:#e1f5ff\n    style B fill:#e1f5ff\n    style C fill:#e1f5ff</code></pre> \u7ae0\u7bc0 \u4e3b\u984c \u91cd\u9ede\u5167\u5bb9 01 LangGraph \u57fa\u790e\u6982\u5ff5 \u4ec0\u9ebc\u662f LangGraph\u3001\u70ba\u4f55\u9700\u8981 LangGraph\u3001\u6838\u5fc3\u7279\u6027 02 \u6838\u5fc3\u7d44\u4ef6\u4ecb\u7d39 Node\u3001Edge\u3001State \u7684\u5b9a\u7fa9\u8207\u4f7f\u7528 03 \u8207 LangChain \u7684\u95dc\u4fc2 \u751f\u614b\u7cfb\u7d71\u6574\u5408\u3001\u4f55\u6642\u4f7f\u7528 LangGraph vs LangChain"},{"location":"langgraph/#4-6","title":"\ud83c\udfd7\ufe0f \u67b6\u69cb\u8a2d\u8a08\u7bc7 (\u7b2c 4-6 \u7ae0)","text":"<p>\u6df1\u5165\u7406\u89e3 Agent \u7684\u5de5\u4f5c\u539f\u7406\u548c\u8a2d\u8a08\u6a21\u5f0f\u3002</p> <pre><code>graph LR\n    A[04. Agent&lt;br/&gt;\u5de5\u4f5c\u539f\u7406] --&gt; B[05. State Graph&lt;br/&gt;\u8a2d\u8a08\u6a21\u5f0f]\n    B --&gt; C[06. \u689d\u4ef6\u908a&lt;br/&gt;\u4f7f\u7528]\n    style A fill:#fff4e1\n    style B fill:#fff4e1\n    style C fill:#fff4e1</code></pre> \u7ae0\u7bc0 \u4e3b\u984c \u91cd\u9ede\u5167\u5bb9 04 Agent \u5de5\u4f5c\u539f\u7406 \u57f7\u884c\u6d41\u7a0b\u3001\u72c0\u614b\u7ba1\u7406\u3001\u6c7a\u7b56\u6a5f\u5236 05 State Graph \u8a2d\u8a08\u6a21\u5f0f \u5716\u5f62\u7d50\u69cb\u8a2d\u8a08\u3001\u72c0\u614b\u8f49\u63db\u3001\u6700\u4f73\u5be6\u8e10 06 \u689d\u4ef6\u908a\u4f7f\u7528 \u52d5\u614b\u8def\u7531\u3001\u689d\u4ef6\u5224\u65b7\u3001\u5206\u652f\u908f\u8f2f"},{"location":"langgraph/#7-9","title":"\ud83d\udcbb \u5be6\u4f5c\u7bc4\u4f8b\u7bc7 (\u7b2c 7-9 \u7ae0)","text":"<p>\u900f\u904e\u5be6\u969b\u7a0b\u5f0f\u78bc\u7bc4\u4f8b,\u5b78\u7fd2\u5982\u4f55\u5efa\u7acb\u5404\u7a2e\u985e\u578b\u7684 Agent\u3002</p> <pre><code>graph LR\n    A[07. \u7b2c\u4e00\u500b&lt;br/&gt;Agent] --&gt; B[08. \u591a\u6b65\u9a5f&lt;br/&gt;\u63a8\u7406]\n    B --&gt; C[09. \u5de5\u5177&lt;br/&gt;\u8abf\u7528]\n    style A fill:#e8f5e9\n    style B fill:#e8f5e9\n    style C fill:#e8f5e9</code></pre> \u7ae0\u7bc0 \u4e3b\u984c \u91cd\u9ede\u5167\u5bb9 07 \u5efa\u7acb\u7b2c\u4e00\u500b Agent Hello World Agent\u3001\u57fa\u672c\u6d41\u7a0b\u3001\u9664\u932f\u6280\u5de7 08 \u591a\u6b65\u9a5f\u63a8\u7406 Agent \u8907\u96dc\u63a8\u7406\u6d41\u7a0b\u3001\u4e2d\u9593\u72c0\u614b\u7ba1\u7406\u3001\u7d50\u679c\u6574\u5408 09 \u5de5\u5177\u8abf\u7528\u6574\u5408 \u5916\u90e8 API \u6574\u5408\u3001\u81ea\u8a02\u5de5\u5177\u3001\u932f\u8aa4\u8655\u7406"},{"location":"langgraph/#10-12","title":"\ud83d\ude80 \u9032\u968e\u61c9\u7528\u7bc7 (\u7b2c 10-12 \u7ae0)","text":"<p>\u638c\u63e1\u9032\u968e\u529f\u80fd\u548c\u6700\u4f73\u5be6\u8e10,\u6253\u9020\u751f\u7522\u7d1a Agent \u61c9\u7528\u3002</p> <pre><code>graph LR\n    A[10. Human-in&lt;br/&gt;-the-Loop] --&gt; B[11. \u932f\u8aa4\u8655\u7406&lt;br/&gt;\u8207\u91cd\u8a66]\n    B --&gt; C[12. \u6548\u80fd&lt;br/&gt;\u512a\u5316]\n    style A fill:#fce4ec\n    style B fill:#fce4ec\n    style C fill:#fce4ec</code></pre> \u7ae0\u7bc0 \u4e3b\u984c \u91cd\u9ede\u5167\u5bb9 10 Human-in-the-Loop \u4eba\u6a5f\u5354\u4f5c\u6a21\u5f0f\u3001\u5be9\u6838\u6a5f\u5236\u3001\u4e92\u52d5\u8a2d\u8a08 11 \u932f\u8aa4\u8655\u7406\u8207\u91cd\u8a66 \u7570\u5e38\u6355\u7372\u3001\u81ea\u52d5\u91cd\u8a66\u3001\u964d\u7d1a\u7b56\u7565 12 \u6548\u80fd\u512a\u5316 \u5feb\u53d6\u7b56\u7565\u3001\u4e26\u884c\u8655\u7406\u3001\u8cc7\u6e90\u7ba1\u7406"},{"location":"langgraph/#_4","title":"\u5b8c\u6574\u5b78\u7fd2\u5730\u5716","text":"<pre><code>graph TB\n    START[\u958b\u59cb\u5b78\u7fd2 LangGraph] --&gt; BASICS[\u57fa\u790e\u7bc7&lt;br/&gt;1-3\u7ae0]\n\n    BASICS --&gt; ARCH[\u67b6\u69cb\u8a2d\u8a08\u7bc7&lt;br/&gt;4-6\u7ae0]\n\n    ARCH --&gt; IMPL[\u5be6\u4f5c\u7bc4\u4f8b\u7bc7&lt;br/&gt;7-9\u7ae0]\n\n    IMPL --&gt; ADV[\u9032\u968e\u61c9\u7528\u7bc7&lt;br/&gt;10-12\u7ae0]\n\n    ADV --&gt; PROJECT[\u5be6\u969b\u5c08\u6848\u61c9\u7528]\n\n    PROJECT --&gt; P1[\u5ba2\u6236\u670d\u52d9 Agent]\n    PROJECT --&gt; P2[\u4fdd\u55ae\u67e5\u8a62 Agent]\n    PROJECT --&gt; P3[\u667a\u80fd\u63a8\u85a6 Agent]\n\n    style START fill:#4CAF50,color:#fff\n    style BASICS fill:#2196F3,color:#fff\n    style ARCH fill:#FF9800,color:#fff\n    style IMPL fill:#4CAF50,color:#fff\n    style ADV fill:#E91E63,color:#fff\n    style PROJECT fill:#9C27B0,color:#fff\n    style P1 fill:#607D8B,color:#fff\n    style P2 fill:#607D8B,color:#fff\n    style P3 fill:#607D8B,color:#fff</code></pre>"},{"location":"langgraph/#_5","title":"\u5efa\u8b70\u5b78\u7fd2\u65b9\u5f0f","text":""},{"location":"langgraph/#_6","title":"\ud83c\udfaf \u5faa\u5e8f\u6f38\u9032","text":"<p>\u6309\u7167\u7ae0\u7bc0\u9806\u5e8f\u5b78\u7fd2,\u6bcf\u7ae0\u90fd\u5efa\u7acb\u5728\u524d\u4e00\u7ae0\u7684\u57fa\u790e\u4e0a:</p> <ol> <li>\u95b1\u8b80\u7406\u8ad6 - \u7406\u89e3\u6982\u5ff5\u548c\u539f\u7406</li> <li>\u7814\u7a76\u7bc4\u4f8b - \u5206\u6790\u7a0b\u5f0f\u78bc\u5be6\u4f5c</li> <li>\u52d5\u624b\u5be6\u4f5c - \u5b8c\u6210\u7ae0\u7bc0\u7df4\u7fd2</li> <li>\u61c9\u7528\u5834\u666f - \u601d\u8003\u5982\u4f55\u61c9\u7528\u5728\u5be6\u969b\u5c08\u6848</li> </ol>"},{"location":"langgraph/#_7","title":"\ud83d\udcdd \u5be6\u4f5c\u512a\u5148","text":"<p>\u6bcf\u4e00\u7ae0\u90fd\u5305\u542b\u5b8c\u6574\u7684\u7a0b\u5f0f\u78bc\u7bc4\u4f8b:</p> <ul> <li>\u6240\u6709\u7bc4\u4f8b\u90fd\u53ef\u4ee5\u76f4\u63a5\u57f7\u884c</li> <li>\u5305\u542b\u8a73\u7d30\u7684\u8a3b\u89e3\u8aaa\u660e</li> <li>\u63d0\u4f9b\u5be6\u969b\u61c9\u7528\u5834\u666f</li> <li>\u9644\u5e36\u7df4\u7fd2\u984c\u548c\u89e3\u7b54\u601d\u8def</li> </ul>"},{"location":"langgraph/#_8","title":"\ud83e\udd1d \u7d50\u5408\u696d\u52d9","text":"<p>\u4ee5\u570b\u6cf0\u4eba\u58fd\u5be6\u969b\u5834\u666f\u70ba\u4f8b:</p> <ul> <li>\u5ba2\u6236\u670d\u52d9 - \u81ea\u52d5\u56de\u7b54\u4fdd\u55ae\u554f\u984c</li> <li>\u7406\u8ce0\u8655\u7406 - \u8f14\u52a9\u7406\u8ce0\u6d41\u7a0b\u5224\u65b7</li> <li>\u7522\u54c1\u63a8\u85a6 - \u6839\u64da\u5ba2\u6236\u9700\u6c42\u63a8\u85a6\u7522\u54c1</li> <li>\u6587\u4ef6\u8655\u7406 - \u81ea\u52d5\u5206\u985e\u548c\u63d0\u53d6\u8cc7\u8a0a</li> </ul> <p>\u5be6\u969b\u61c9\u7528\u7bc4\u4f8b\u9810\u89bd</p> <p>\u5728\u5f8c\u7e8c\u7ae0\u7bc0\u4e2d,\u60a8\u5c07\u5b78\u7fd2\u5982\u4f55\u5efa\u7acb:</p> Python<pre><code># \u4fdd\u55ae\u67e5\u8a62 Agent \u7bc4\u4f8b\nagent = PolicyQueryAgent(\n    llm=ChatOpenAI(),\n    tools=[policy_search, customer_info],\n    memory=ConversationMemory()\n)\n\nresult = agent.run(\"\u8acb\u5e6b\u6211\u67e5\u8a62\u5f35\u5148\u751f\u7684\u58fd\u96aa\u4fdd\u55ae\")\n</code></pre>"},{"location":"langgraph/#_9","title":"\u74b0\u5883\u6e96\u5099","text":""},{"location":"langgraph/#_10","title":"\u5b89\u88dd\u5957\u4ef6","text":"Bash<pre><code># \u5efa\u7acb\u865b\u64ec\u74b0\u5883\npython -m venv venv\nsource venv/bin/activate  # Windows: venv\\Scripts\\activate\n\n# \u5b89\u88dd\u5fc5\u8981\u5957\u4ef6\npip install langgraph langchain langchain-openai python-dotenv\n\n# \u5b89\u88dd\u5176\u4ed6\u5de5\u5177\npip install langchain-community langsmith\n</code></pre>"},{"location":"langgraph/#_11","title":"\u74b0\u5883\u8b8a\u6578\u8a2d\u5b9a","text":"<p>\u5efa\u7acb <code>.env</code> \u6a94\u6848:</p> Bash<pre><code># OpenAI API Key\nOPENAI_API_KEY=sk-your-api-key-here\n\n# LangSmith (\u9078\u7528,\u7528\u65bc\u9664\u932f\u548c\u8ffd\u8e64)\nLANGCHAIN_TRACING_V2=true\nLANGCHAIN_API_KEY=ls-your-api-key-here\nLANGCHAIN_PROJECT=langgraph-tutorial\n</code></pre>"},{"location":"langgraph/#_12","title":"\u9a57\u8b49\u5b89\u88dd","text":"Python<pre><code># test_setup.py\nfrom langchain_openai import ChatOpenAI\nfrom langgraph.graph import StateGraph\nfrom dotenv import load_dotenv\n\n# \u8f09\u5165\u74b0\u5883\u8b8a\u6578\nload_dotenv()\n\n# \u6e2c\u8a66 LLM \u9023\u7dda\nllm = ChatOpenAI(model=\"gpt-4\")\nresponse = llm.invoke(\"Hello, LangGraph!\")\nprint(f\"\u2705 LLM \u6e2c\u8a66\u6210\u529f: {response.content}\")\n\n# \u6e2c\u8a66 LangGraph\nworkflow = StateGraph(dict)\nprint(\"\u2705 LangGraph \u5c0e\u5165\u6210\u529f\")\n\nprint(\"\\n\ud83c\udf89 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210,\u53ef\u4ee5\u958b\u59cb\u5b78\u7fd2!\")\n</code></pre>"},{"location":"langgraph/#_13","title":"\u5b78\u7fd2\u8cc7\u6e90","text":""},{"location":"langgraph/#_14","title":"\u5b98\u65b9\u6587\u4ef6","text":"<ul> <li>LangGraph \u5b98\u65b9\u6587\u4ef6</li> <li>LangChain \u5b98\u65b9\u6587\u4ef6</li> <li>LangSmith \u5e73\u53f0</li> </ul>"},{"location":"langgraph/#_15","title":"\u7a0b\u5f0f\u78bc\u7bc4\u4f8b","text":"<ul> <li>\u672c\u8ab2\u7a0b\u6240\u6709\u7bc4\u4f8b\u7a0b\u5f0f\u78bc\u90fd\u53ef\u5728\u5be6\u969b\u74b0\u5883\u4e2d\u57f7\u884c</li> <li>\u6bcf\u7ae0\u7bc0\u672b\u5c3e\u90fd\u6709\u5b8c\u6574\u7684\u7a0b\u5f0f\u78bc\u548c\u7df4\u7fd2\u984c</li> <li>\u5305\u542b\u570b\u6cf0\u4eba\u58fd\u5be6\u969b\u696d\u52d9\u5834\u666f\u7684\u61c9\u7528\u7bc4\u4f8b</li> </ul>"},{"location":"langgraph/#_16","title":"\u793e\u7fa4\u652f\u63f4","text":"<ul> <li>LangChain Discord \u793e\u7fa4</li> <li>GitHub Issues \u548c Discussions</li> <li>Stack Overflow #langgraph \u6a19\u7c64</li> </ul>"},{"location":"langgraph/#_17","title":"\u8ab2\u7a0b\u7279\u8272","text":""},{"location":"langgraph/#_18","title":"\ud83c\udf93 \u6559\u5b78\u54c1\u8cea","text":"<ul> <li>\u7cfb\u7d71\u5316\u6559\u5b78 - \u5f9e\u57fa\u790e\u5230\u9032\u968e,\u5faa\u5e8f\u6f38\u9032</li> <li>\u5be6\u6230\u5c0e\u5411 - \u6240\u6709\u7bc4\u4f8b\u90fd\u4f86\u81ea\u5be6\u969b\u61c9\u7528\u5834\u666f</li> <li>\u4e2d\u6587\u8b1b\u89e3 - \u7e41\u9ad4\u4e2d\u6587\u8a73\u7d30\u8aaa\u660e,\u6613\u65bc\u7406\u89e3</li> </ul>"},{"location":"langgraph/#_19","title":"\ud83d\udca1 \u5be6\u7528\u6027","text":"<ul> <li>\u5b8c\u6574\u7a0b\u5f0f\u78bc - \u6bcf\u500b\u7bc4\u4f8b\u90fd\u53ef\u76f4\u63a5\u57f7\u884c</li> <li>\u696d\u52d9\u5834\u666f - \u7d50\u5408\u570b\u6cf0\u4eba\u58fd\u5be6\u969b\u9700\u6c42</li> <li>\u6700\u4f73\u5be6\u8e10 - \u5305\u542b\u751f\u7522\u74b0\u5883\u7684\u6ce8\u610f\u4e8b\u9805</li> </ul>"},{"location":"langgraph/#_20","title":"\ud83d\udd27 \u53ef\u7dad\u8b77\u6027","text":"<ul> <li>\u6e05\u6670\u67b6\u69cb - \u6a21\u7d44\u5316\u8a2d\u8a08,\u6613\u65bc\u64f4\u5c55</li> <li>\u932f\u8aa4\u8655\u7406 - \u5b8c\u6574\u7684\u7570\u5e38\u8655\u7406\u6a5f\u5236</li> <li>\u6e2c\u8a66\u53cb\u5584 - \u63d0\u4f9b\u6e2c\u8a66\u7bc4\u4f8b\u548c\u6280\u5de7</li> </ul>"},{"location":"langgraph/#_21","title":"\u7248\u672c\u8cc7\u8a0a","text":"<p>\u672c\u6559\u5b78\u57fa\u65bc\u4ee5\u4e0b\u7248\u672c\u958b\u767c:</p> Python<pre><code>langgraph==0.2.0\nlangchain==0.3.0\nlangchain-openai==0.2.0\npython&gt;=3.10\n</code></pre> <p>\u7248\u672c\u6ce8\u610f\u4e8b\u9805</p> <p>LangGraph \u6301\u7e8c\u5feb\u901f\u767c\u5c55\u4e2d,API \u53ef\u80fd\u6703\u6709\u8b8a\u52d5\u3002\u5efa\u8b70\u4f7f\u7528\u6307\u5b9a\u7248\u672c\u4ee5\u78ba\u4fdd\u7bc4\u4f8b\u6b63\u5e38\u904b\u4f5c\u3002</p>"},{"location":"langgraph/#_22","title":"\u958b\u59cb\u5b78\u7fd2","text":"<p>\u6e96\u5099\u597d\u4e86\u55ce?\u8b93\u6211\u5011\u5f9e\u7b2c\u4e00\u7ae0\u958b\u59cb,\u63a2\u7d22 LangGraph \u7684\u4e16\u754c!</p>          \u958b\u59cb\u5b78\u7fd2 \u2192"},{"location":"langgraph/#_23","title":"\u5b78\u7fd2\u8ffd\u8e64","text":"<p>\u5efa\u8b70\u60a8\u5efa\u7acb\u4e00\u500b\u5b78\u7fd2\u7b46\u8a18,\u8a18\u9304:</p> <ul> <li> \u6bcf\u7ae0\u7bc0\u7684\u91cd\u9ede\u6982\u5ff5</li> <li> \u5be6\u4f5c\u904e\u7a0b\u4e2d\u9047\u5230\u7684\u554f\u984c\u548c\u89e3\u6c7a\u65b9\u5f0f</li> <li> \u53ef\u4ee5\u61c9\u7528\u5728\u5c08\u6848\u4e2d\u7684\u60f3\u6cd5</li> <li> \u81ea\u5df1\u7684\u7a0b\u5f0f\u78bc\u7bc4\u4f8b\u548c\u6539\u9032</li> </ul>"},{"location":"langgraph/#_24","title":"\u5e38\u898b\u554f\u984c","text":""},{"location":"langgraph/#q1-langchain","title":"Q1: \u9700\u8981\u5148\u5b78 LangChain \u55ce?","text":"<p>A: \u5efa\u8b70\u4f46\u975e\u5fc5\u9700\u3002\u672c\u8ab2\u7a0b\u6703\u5728\u7b2c 3 \u7ae0\u8a73\u7d30\u8aaa\u660e LangGraph \u8207 LangChain \u7684\u95dc\u4fc2\u3002\u5982\u679c\u60a8\u5b8c\u5168\u6c92\u63a5\u89f8\u904e LangChain,\u5efa\u8b70\u5148\u4e86\u89e3\u57fa\u672c\u6982\u5ff5(LLM\u3001Prompt\u3001Chain)\u3002</p>"},{"location":"langgraph/#q2","title":"Q2: \u5b8c\u6210\u8ab2\u7a0b\u9700\u8981\u591a\u5c11\u6642\u9593?","text":"<p>A: \u5982\u679c\u6bcf\u5929\u6295\u5165 2-3 \u5c0f\u6642,\u9810\u8a08 2-3 \u9031\u53ef\u4ee5\u5b8c\u6210\u6240\u6709\u7ae0\u7bc0\u3002\u5efa\u8b70\u4e0d\u8981\u6025\u65bc\u6c42\u6210,\u6bcf\u7ae0\u90fd\u8981\u52d5\u624b\u5be6\u4f5c\u3002</p>"},{"location":"langgraph/#q3","title":"Q3: \u53ef\u4ee5\u8df3\u7ae0\u5b78\u7fd2\u55ce?","text":"<p>A: \u4e0d\u5efa\u8b70\u3002\u6bcf\u7ae0\u90fd\u5efa\u7acb\u5728\u524d\u9762\u7684\u57fa\u790e\u4e0a,\u8df3\u7ae0\u53ef\u80fd\u6703\u9020\u6210\u7406\u89e3\u56f0\u96e3\u3002</p>"},{"location":"langgraph/#q4","title":"Q4: \u7bc4\u4f8b\u7a0b\u5f0f\u78bc\u53ef\u4ee5\u7528\u5728\u751f\u7522\u74b0\u5883\u55ce?","text":"<p>A: \u7bc4\u4f8b\u4e3b\u8981\u7528\u65bc\u6559\u5b78\u76ee\u7684,\u5be6\u969b\u7528\u65bc\u751f\u7522\u74b0\u5883\u524d\u9700\u8981: - \u5b8c\u5584\u7684\u932f\u8aa4\u8655\u7406 - \u5b89\u5168\u6027\u6aa2\u67e5 - \u6548\u80fd\u512a\u5316 - \u5b8c\u6574\u7684\u6e2c\u8a66</p>"},{"location":"langgraph/#_25","title":"\u56de\u994b\u8207\u5efa\u8b70","text":"<p>\u5982\u679c\u60a8\u5728\u5b78\u7fd2\u904e\u7a0b\u4e2d\u6709\u4efb\u4f55\u554f\u984c\u6216\u5efa\u8b70,\u6b61\u8fce:</p> <ul> <li>\u5728\u8ab2\u7a0b\u7fa4\u7d44\u4e2d\u63d0\u554f</li> <li>\u5411\u8ab2\u7a0b\u8ca0\u8cac\u4eba\u53cd\u6620</li> <li>\u63d0\u4f9b\u6539\u9032\u5efa\u8b70</li> </ul> <p>\u795d\u60a8\u5b78\u7fd2\u6109\u5feb! \ud83d\ude80</p>"},{"location":"langgraph/advanced/10-human-in-loop/","title":"Human-in-the-Loop \u6a21\u5f0f","text":"<p>Human-in-the-Loop (\u4eba\u6a5f\u5354\u4f5c) \u8b93 Agent \u5728\u95dc\u9375\u6c7a\u7b56\u9ede\u66ab\u505c,\u7b49\u5f85\u4eba\u5de5\u5be9\u6838\u548c\u4ecb\u5165\u3002</p>"},{"location":"langgraph/advanced/10-human-in-loop/#_1","title":"\u6838\u5fc3\u6982\u5ff5","text":"<ol> <li>\u6aa2\u67e5\u9ede (Checkpoints): \u66ab\u505c\u57f7\u884c\u7684\u4f4d\u7f6e</li> <li>\u5be9\u6838\u6a5f\u5236: \u4eba\u5de5\u6aa2\u67e5\u548c\u6279\u51c6</li> <li>\u7e7c\u7e8c\u57f7\u884c: \u6839\u64da\u4eba\u5de5\u6c7a\u5b9a\u7e7c\u7e8c</li> </ol>"},{"location":"langgraph/advanced/10-human-in-loop/#_2","title":"\u5b8c\u6574\u5be6\u4f5c:\u7406\u8ce0\u5be9\u6838\u7cfb\u7d71","text":"Python<pre><code>from typing import TypedDict, Annotated, Optional\nfrom operator import add\nfrom langgraph.graph import StateGraph, END\nfrom langchain_openai import ChatOpenAI\nfrom dotenv import load_dotenv\nimport time\n\nload_dotenv()\n\nclass ClaimState(TypedDict):\n    # \u7406\u8ce0\u8cc7\u8a0a\n    claim_id: str\n    claim_amount: float\n    claim_type: str\n\n    # \u81ea\u52d5\u5be9\u6838\u7d50\u679c\n    auto_decision: str  # \"approve\", \"reject\", \"human_review\"\n    risk_score: float\n\n    # \u4eba\u5de5\u5be9\u6838\n    requires_human: bool\n    human_decision: Optional[str]\n    human_notes: Optional[str]\n\n    # \u6700\u7d42\u7d50\u679c\n    final_decision: str\n    approved_amount: Optional[float]\n\ndef auto_review_node(state: ClaimState) -&gt; ClaimState:\n    \"\"\"\u81ea\u52d5\u5be9\u6838\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u5be9\u6838\u7406\u8ce0\u7533\u8acb:\n    - \u91d1\u984d: ${state['claim_amount']}\n    - \u985e\u578b: {state['claim_type']}\n\n    \u8a55\u4f30\u98a8\u96aa\u5206\u6578 (0-1) \u548c\u5efa\u8b70\u6c7a\u7b56\u3002\n    \u56de\u7b54\u683c\u5f0f: {{\"risk_score\": 0.3, \"decision\": \"approve/reject/human_review\"}}\n    \"\"\"\n\n    import json\n    result = json.loads(llm.invoke(prompt).content)\n\n    requires_human = (\n        result[\"risk_score\"] &gt; 0.7 or\n        state[\"claim_amount\"] &gt; 100000 or\n        result[\"decision\"] == \"human_review\"\n    )\n\n    return {\n        \"risk_score\": result[\"risk_score\"],\n        \"auto_decision\": result[\"decision\"],\n        \"requires_human\": requires_human\n    }\n\ndef human_review_checkpoint(state: ClaimState) -&gt; ClaimState:\n    \"\"\"\u4eba\u5de5\u5be9\u6838\u6aa2\u67e5\u9ede\"\"\"\n    print(\"\\n\" + \"=\"*50)\n    print(\"\u23f8\ufe0f  \u7b49\u5f85\u4eba\u5de5\u5be9\u6838...\")\n    print(f\"\u7406\u8ce0\u7de8\u865f: {state['claim_id']}\")\n    print(f\"\u7406\u8ce0\u91d1\u984d: ${state['claim_amount']:,.0f}\")\n    print(f\"\u81ea\u52d5\u6c7a\u7b56: {state['auto_decision']}\")\n    print(f\"\u98a8\u96aa\u5206\u6578: {state['risk_score']:.2f}\")\n    print(\"=\"*50)\n\n    # \u6a21\u64ec\u4eba\u5de5\u5be9\u6838 (\u5be6\u969b\u61c9\u7528\u4e2d\u9019\u88e1\u6703\u66ab\u505c\u7b49\u5f85)\n    decision = input(\"\u5be9\u6838\u6c7a\u5b9a (approve/reject/modify): \").strip()\n\n    notes = \"\"\n    approved_amt = state[\"claim_amount\"]\n\n    if decision == \"modify\":\n        approved_amt = float(input(\"\u6838\u51c6\u91d1\u984d: \"))\n        notes = input(\"\u5be9\u6838\u5099\u8a3b: \")\n\n    return {\n        \"human_decision\": decision,\n        \"human_notes\": notes,\n        \"approved_amount\": approved_amt if decision in [\"approve\", \"modify\"] else 0\n    }\n\ndef finalize_node(state: ClaimState) -&gt; ClaimState:\n    \"\"\"\u6700\u7d42\u6c7a\u7b56\"\"\"\n    if state[\"requires_human\"]:\n        final = state[\"human_decision\"]\n    else:\n        final = state[\"auto_decision\"]\n\n    return {\"final_decision\": final}\n\ndef route_after_auto_review(state: ClaimState) -&gt; str:\n    if state[\"requires_human\"]:\n        return \"human\"\n    return \"finalize\"\n\n# \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\ndef create_claim_agent():\n    workflow = StateGraph(ClaimState)\n\n    workflow.add_node(\"auto_review\", auto_review_node)\n    workflow.add_node(\"human_review\", human_review_checkpoint)\n    workflow.add_node(\"finalize\", finalize_node)\n\n    workflow.set_entry_point(\"auto_review\")\n\n    workflow.add_conditional_edges(\n        \"auto_review\",\n        route_after_auto_review,\n        {\n            \"human\": \"human_review\",\n            \"finalize\": \"finalize\"\n        }\n    )\n\n    workflow.add_edge(\"human_review\", \"finalize\")\n    workflow.add_edge(\"finalize\", END)\n\n    return workflow.compile()\n\n# \u4f7f\u7528\nif __name__ == \"__main__\":\n    agent = create_claim_agent()\n\n    # \u6e2c\u8a66\u6848\u4f8b\n    test_claims = [\n        {\"claim_id\": \"C001\", \"claim_amount\": 50000, \"claim_type\": \"\u91ab\u7642\"},\n        {\"claim_id\": \"C002\", \"claim_amount\": 150000, \"claim_type\": \"\u610f\u5916\"},  # \u9700\u8981\u4eba\u5de5\n    ]\n\n    for claim in test_claims:\n        print(f\"\\n\\n\u8655\u7406\u7406\u8ce0: {claim['claim_id']}\")\n        result = agent.invoke(claim)\n\n        print(f\"\\n\u6700\u7d42\u6c7a\u7b56: {result['final_decision']}\")\n        if result.get(\"approved_amount\"):\n            print(f\"\u6838\u51c6\u91d1\u984d: ${result['approved_amount']:,.0f}\")\n</code></pre>"},{"location":"langgraph/advanced/10-human-in-loop/#_3","title":"\u9032\u968e\u529f\u80fd","text":""},{"location":"langgraph/advanced/10-human-in-loop/#1","title":"1. \u7570\u6b65\u5be9\u6838\u968a\u5217","text":"Python<pre><code>from queue import Queue\n\napproval_queue = Queue()\n\ndef async_approval_node(state):\n    # \u653e\u5165\u5be9\u6838\u968a\u5217\n    approval_queue.put(state)\n\n    # \u7b49\u5f85\u5be9\u6838\u7d50\u679c\n    while True:\n        if hasattr(state, 'human_decision'):\n            break\n        time.sleep(1)\n\n    return state\n</code></pre>"},{"location":"langgraph/advanced/10-human-in-loop/#2","title":"2. \u591a\u7d1a\u5be9\u6838","text":"Python<pre><code>def multi_level_approval(state):\n    if state[\"claim_amount\"] &lt; 50000:\n        return \"level1\"  # \u5c08\u54e1\u5be9\u6838\n    elif state[\"claim_amount\"] &lt; 200000:\n        return \"level2\"  # \u4e3b\u7ba1\u5be9\u6838\n    else:\n        return \"level3\"  # \u7d93\u7406\u5be9\u6838\n</code></pre>"},{"location":"langgraph/advanced/10-human-in-loop/#_4","title":"\u91cd\u9ede\u6574\u7406","text":"<ul> <li>\u95dc\u9375\u6c7a\u7b56\u9ede\u9700\u8981\u4eba\u5de5\u4ecb\u5165</li> <li>\u63d0\u4f9b\u5b8c\u6574\u8cc7\u8a0a\u4f9b\u5be9\u6838</li> <li>\u652f\u6301\u4fee\u6539\u548c\u6279\u6ce8</li> <li>\u8a18\u9304\u5be9\u6838\u6b77\u7a0b</li> </ul>"},{"location":"langgraph/advanced/10-human-in-loop/#_5","title":"\u7df4\u7fd2","text":"<p>\u5efa\u7acb\u5305\u542b\u4e09\u7d1a\u5be9\u6838\u7684\u8cbb\u7528\u5831\u92b7\u7cfb\u7d71\u3002</p>"},{"location":"langgraph/advanced/11-error-handling/","title":"\u932f\u8aa4\u8655\u7406\u8207\u91cd\u8a66\u6a5f\u5236","text":"<p>\u5efa\u7acb\u5065\u58ef\u7684 Agent \u9700\u8981\u5b8c\u5584\u7684\u932f\u8aa4\u8655\u7406\u3002\u672c\u7ae0\u4ecb\u7d39\u5e38\u898b\u932f\u8aa4\u985e\u578b\u548c\u8655\u7406\u7b56\u7565\u3002</p>"},{"location":"langgraph/advanced/11-error-handling/#_2","title":"\u5e38\u898b\u932f\u8aa4\u985e\u578b","text":"<ol> <li>API \u932f\u8aa4: \u8d85\u6642\u3001\u9650\u6d41\u3001\u7121\u6548\u56de\u61c9</li> <li>\u8cc7\u6599\u932f\u8aa4: \u683c\u5f0f\u932f\u8aa4\u3001\u7f3a\u5931\u6b04\u4f4d</li> <li>\u908f\u8f2f\u932f\u8aa4: \u7121\u6cd5\u5b8c\u6210\u4efb\u52d9</li> <li>\u8cc7\u6e90\u932f\u8aa4: \u914d\u984d\u8d85\u9650</li> </ol>"},{"location":"langgraph/advanced/11-error-handling/#agent","title":"\u5b8c\u6574\u5be6\u4f5c:\u5065\u58ef\u7684\u67e5\u8a62 Agent","text":"Python<pre><code>from typing import TypedDict, Optional\nfrom langgraph.graph import StateGraph, END\nfrom langchain_openai import ChatOpenAI\nfrom tenacity import retry, stop_after_attempt, wait_exponential\nfrom dotenv import load_dotenv\nimport logging\n\nload_dotenv()\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\nclass RobustState(TypedDict):\n    query: str\n    result: Optional[str]\n    error: Optional[str]\n    retry_count: int\n    max_retries: int\n\n# \u5e36\u91cd\u8a66\u7684 LLM \u8abf\u7528\n@retry(\n    stop=stop_after_attempt(3),\n    wait=wait_exponential(multiplier=1, min=2, max=10)\n)\ndef call_llm_with_retry(prompt: str) -&gt; str:\n    llm = ChatOpenAI(model=\"gpt-4\", timeout=30)\n    return llm.invoke(prompt).content\n\ndef query_node(state: RobustState) -&gt; RobustState:\n    \"\"\"\u67e5\u8a62\u7bc0\u9edewith\u932f\u8aa4\u8655\u7406\"\"\"\n    try:\n        logger.info(f\"\u57f7\u884c\u67e5\u8a62,\u5617\u8a66\u6b21\u6578: {state['retry_count'] + 1}\")\n\n        # \u8abf\u7528 LLM\n        result = call_llm_with_retry(state[\"query\"])\n\n        # \u9a57\u8b49\u7d50\u679c\n        if not result or len(result) &lt; 10:\n            raise ValueError(\"\u56de\u61c9\u5167\u5bb9\u904e\u77ed\")\n\n        return {\n            \"result\": result,\n            \"error\": None,\n            \"retry_count\": 0\n        }\n\n    except Exception as e:\n        error_msg = str(e)\n        logger.error(f\"\u67e5\u8a62\u5931\u6557: {error_msg}\")\n\n        return {\n            \"error\": error_msg,\n            \"retry_count\": state[\"retry_count\"] + 1\n        }\n\ndef fallback_node(state: RobustState) -&gt; RobustState:\n    \"\"\"\u964d\u7d1a\u8655\u7406\"\"\"\n    logger.warning(\"\u4f7f\u7528\u964d\u7d1a\u56de\u61c9\")\n\n    fallback_response = f\"\u5f88\u62b1\u6b49,\u7cfb\u7d71\u66ab\u6642\u7121\u6cd5\u8655\u7406\u60a8\u7684\u8acb\u6c42:{state['query']}\"\n    fallback_response += \"\\n\u8acb\u7a0d\u5f8c\u518d\u8a66\u6216\u806f\u7d61\u5ba2\u670d\u3002\"\n\n    return {\n        \"result\": fallback_response,\n        \"error\": None\n    }\n\ndef error_analysis_node(state: RobustState) -&gt; RobustState:\n    \"\"\"\u932f\u8aa4\u5206\u6790\"\"\"\n    error = state[\"error\"]\n\n    # \u5206\u6790\u932f\u8aa4\u985e\u578b\n    if \"timeout\" in error.lower():\n        logger.error(\"\u8d85\u6642\u932f\u8aa4\")\n    elif \"rate limit\" in error.lower():\n        logger.error(\"API \u9650\u6d41\")\n    elif \"invalid\" in error.lower():\n        logger.error(\"\u7121\u6548\u8acb\u6c42\")\n\n    return {}\n\ndef route_after_query(state: RobustState) -&gt; str:\n    # \u6210\u529f\n    if state.get(\"result\") and not state.get(\"error\"):\n        return \"success\"\n\n    # \u9054\u5230\u6700\u5927\u91cd\u8a66\u6b21\u6578\n    if state[\"retry_count\"] &gt;= state[\"max_retries\"]:\n        return \"fallback\"\n\n    # \u7e7c\u7e8c\u91cd\u8a66\n    return \"retry\"\n\n# \u5efa\u7acb Agent\ndef create_robust_agent():\n    workflow = StateGraph(RobustState)\n\n    workflow.add_node(\"query\", query_node)\n    workflow.add_node(\"error_analysis\", error_analysis_node)\n    workflow.add_node(\"fallback\", fallback_node)\n\n    workflow.set_entry_point(\"query\")\n\n    workflow.add_conditional_edges(\n        \"query\",\n        route_after_query,\n        {\n            \"success\": END,\n            \"retry\": \"error_analysis\",\n            \"fallback\": \"fallback\"\n        }\n    )\n\n    workflow.add_edge(\"error_analysis\", \"query\")  # \u91cd\u8a66\n    workflow.add_edge(\"fallback\", END)\n\n    return workflow.compile()\n\n# \u4f7f\u7528\nif __name__ == \"__main__\":\n    agent = create_robust_agent()\n\n    result = agent.invoke({\n        \"query\": \"\u5206\u6790\u5e02\u5834\u8da8\u52e2\",\n        \"retry_count\": 0,\n        \"max_retries\": 3\n    })\n\n    if result.get(\"result\"):\n        print(f\"\u2705 \u6210\u529f: {result['result']}\")\n    else:\n        print(f\"\u274c \u5931\u6557: {result.get('error')}\")\n</code></pre>"},{"location":"langgraph/advanced/11-error-handling/#_3","title":"\u932f\u8aa4\u8655\u7406\u7b56\u7565","text":""},{"location":"langgraph/advanced/11-error-handling/#1","title":"1. \u6307\u6578\u9000\u907f\u91cd\u8a66","text":"Python<pre><code>from tenacity import retry, stop_after_attempt, wait_exponential\n\n@retry(\n    stop=stop_after_attempt(5),\n    wait=wait_exponential(multiplier=2, min=4, max=60)\n)\ndef resilient_function():\n    # \u7b2c 1 \u6b21\u5931\u6557\u5f8c\u7b49\u5f85 4 \u79d2\n    # \u7b2c 2 \u6b21\u5931\u6557\u5f8c\u7b49\u5f85 8 \u79d2\n    # \u7b2c 3 \u6b21\u5931\u6557\u5f8c\u7b49\u5f85 16 \u79d2\n    # ...\u6700\u591a\u7b49\u5f85 60 \u79d2\n    pass\n</code></pre>"},{"location":"langgraph/advanced/11-error-handling/#2","title":"2. \u96fb\u8def\u65b7\u8def\u5668","text":"Python<pre><code>class CircuitBreaker:\n    def __init__(self, failure_threshold=5):\n        self.failure_count = 0\n        self.threshold = failure_threshold\n        self.is_open = False\n\n    def call(self, func):\n        if self.is_open:\n            raise Exception(\"\u96fb\u8def\u5df2\u65b7\u958b\")\n\n        try:\n            result = func()\n            self.failure_count = 0\n            return result\n        except:\n            self.failure_count += 1\n            if self.failure_count &gt;= self.threshold:\n                self.is_open = True\n            raise\n</code></pre>"},{"location":"langgraph/advanced/11-error-handling/#3","title":"3. \u964d\u7d1a\u8655\u7406","text":"Python<pre><code>def process_with_fallback(data):\n    try:\n        return advanced_processing(data)\n    except:\n        try:\n            return standard_processing(data)\n        except:\n            return basic_processing(data)\n</code></pre>"},{"location":"langgraph/advanced/11-error-handling/#_4","title":"\u91cd\u9ede\u6574\u7406","text":"<ul> <li>\u4f7f\u7528 tenacity \u5be6\u73fe\u91cd\u8a66</li> <li>\u5be6\u4f5c\u964d\u7d1a\u6a5f\u5236</li> <li>\u8a18\u9304\u8a73\u7d30\u932f\u8aa4\u65e5\u8a8c</li> <li>\u63d0\u4f9b\u6709\u610f\u7fa9\u7684\u932f\u8aa4\u8a0a\u606f</li> </ul>"},{"location":"langgraph/advanced/11-error-handling/#_5","title":"\u7df4\u7fd2","text":"<p>\u70ba\u591a\u6b65\u9a5f Agent \u6dfb\u52a0\u6bcf\u500b\u6b65\u9a5f\u7684\u932f\u8aa4\u8655\u7406\u548c\u91cd\u8a66\u908f\u8f2f\u3002</p>"},{"location":"langgraph/advanced/12-performance-optimization/","title":"\u6548\u80fd\u512a\u5316","text":"<p>\u5efa\u7acb\u751f\u7522\u7d1a Agent \u9700\u8981\u6ce8\u91cd\u6548\u80fd\u3002\u672c\u7ae0\u4ecb\u7d39\u5e38\u898b\u512a\u5316\u6280\u5de7\u3002</p>"},{"location":"langgraph/advanced/12-performance-optimization/#_2","title":"\u512a\u5316\u7b56\u7565","text":""},{"location":"langgraph/advanced/12-performance-optimization/#1","title":"1. \u5feb\u53d6\u6a5f\u5236","text":"Python<pre><code>from functools import lru_cache\nimport hashlib\n\nclass CachedLLM:\n    def __init__(self):\n        self.cache = {}\n\n    def invoke(self, prompt: str) -&gt; str:\n        # \u4f7f\u7528 prompt hash \u4f5c\u70ba key\n        key = hashlib.md5(prompt.encode()).hexdigest()\n\n        if key in self.cache:\n            print(\"\u2705 \u5feb\u53d6\u547d\u4e2d\")\n            return self.cache[key]\n\n        # \u5be6\u969b\u8abf\u7528 LLM\n        from langchain_openai import ChatOpenAI\n        llm = ChatOpenAI(model=\"gpt-4\")\n        result = llm.invoke(prompt).content\n\n        self.cache[key] = result\n        return result\n\n# \u4f7f\u7528\ncached_llm = CachedLLM()\nresponse = cached_llm.invoke(\"\u5206\u6790\u5e02\u5834\u8da8\u52e2\")  # \u7b2c\u4e00\u6b21\u8abf\u7528 API\nresponse = cached_llm.invoke(\"\u5206\u6790\u5e02\u5834\u8da8\u52e2\")  # \u5f9e\u5feb\u53d6\u53d6\u5f97\n</code></pre>"},{"location":"langgraph/advanced/12-performance-optimization/#2","title":"2. \u4e26\u884c\u8655\u7406","text":"Python<pre><code>from concurrent.futures import ThreadPoolExecutor, as_completed\nfrom typing import List\n\ndef parallel_processing(items: List[str]) -&gt; List[str]:\n    \"\"\"\u4e26\u884c\u8655\u7406\u591a\u500b\u9805\u76ee\"\"\"\n\n    def process_item(item):\n        from langchain_openai import ChatOpenAI\n        llm = ChatOpenAI(model=\"gpt-4\")\n        return llm.invoke(f\"\u8655\u7406: {item}\").content\n\n    results = []\n\n    with ThreadPoolExecutor(max_workers=5) as executor:\n        # \u63d0\u4ea4\u6240\u6709\u4efb\u52d9\n        futures = {\n            executor.submit(process_item, item): item\n            for item in items\n        }\n\n        # \u6536\u96c6\u7d50\u679c\n        for future in as_completed(futures):\n            try:\n                result = future.result()\n                results.append(result)\n            except Exception as e:\n                print(f\"\u8655\u7406\u5931\u6557: {e}\")\n\n    return results\n\n# \u4f7f\u7528\nitems = [\"\u9805\u76ee1\", \"\u9805\u76ee2\", \"\u9805\u76ee3\"]\nresults = parallel_processing(items)\n</code></pre>"},{"location":"langgraph/advanced/12-performance-optimization/#3","title":"3. \u6d41\u5f0f\u8f38\u51fa","text":"Python<pre><code>from langchain_openai import ChatOpenAI\n\ndef streaming_response(prompt: str):\n    \"\"\"\u6d41\u5f0f\u8f38\u51fa,\u5373\u6642\u986f\u793a\u7d50\u679c\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\", streaming=True)\n\n    print(\"\u56de\u61c9: \", end=\"\", flush=True)\n    for chunk in llm.stream(prompt):\n        print(chunk.content, end=\"\", flush=True)\n    print()  # \u63db\u884c\n\n# \u4f7f\u7528\nstreaming_response(\"\u5beb\u4e00\u9996\u8a69\")\n</code></pre>"},{"location":"langgraph/advanced/12-performance-optimization/#4","title":"4. \u6279\u6b21\u8655\u7406","text":"Python<pre><code>def batch_processing(queries: List[str], batch_size: int = 5):\n    \"\"\"\u6279\u6b21\u8655\u7406\u67e5\u8a62\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    llm = ChatOpenAI(model=\"gpt-4\")\n    results = []\n\n    for i in range(0, len(queries), batch_size):\n        batch = queries[i:i+batch_size]\n\n        # \u5408\u4f75\u67e5\u8a62\n        combined_prompt = \"\\n\".join([\n            f\"{idx}. {q}\"\n            for idx, q in enumerate(batch, 1)\n        ])\n\n        # \u55ae\u6b21\u8abf\u7528\u8655\u7406\u591a\u500b\n        response = llm.invoke(f\"\u56de\u7b54\u4ee5\u4e0b\u554f\u984c:\\n{combined_prompt}\")\n\n        results.extend(response.content.split('\\n'))\n\n    return results\n</code></pre>"},{"location":"langgraph/advanced/12-performance-optimization/#5-token","title":"5. Token \u512a\u5316","text":"Python<pre><code>def optimize_tokens(text: str, max_tokens: int = 1000) -&gt; str:\n    \"\"\"\u512a\u5316 token \u4f7f\u7528\"\"\"\n    from tiktoken import encoding_for_model\n\n    enc = encoding_for_model(\"gpt-4\")\n    tokens = enc.encode(text)\n\n    if len(tokens) &lt;= max_tokens:\n        return text\n\n    # \u622a\u65b7\u4e26\u4fdd\u7559\u91cd\u8981\u90e8\u5206\n    truncated = tokens[:max_tokens]\n    return enc.decode(truncated)\n\n# \u4f7f\u7528\nlong_text = \"...\" * 10000\noptimized = optimize_tokens(long_text, max_tokens=500)\n</code></pre>"},{"location":"langgraph/advanced/12-performance-optimization/#6","title":"6. \u6a21\u578b\u9078\u64c7\u7b56\u7565","text":"Python<pre><code>def smart_model_selection(query: str, complexity: str):\n    \"\"\"\u6839\u64da\u8907\u96dc\u5ea6\u9078\u64c7\u6a21\u578b\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    if complexity == \"simple\":\n        llm = ChatOpenAI(model=\"gpt-3.5-turbo\")  # \u5feb\u901f\u4fbf\u5b9c\n    elif complexity == \"medium\":\n        llm = ChatOpenAI(model=\"gpt-4-turbo\")\n    else:\n        llm = ChatOpenAI(model=\"gpt-4\")  # \u6700\u5f37\u4f46\u6162\n\n    return llm.invoke(query).content\n</code></pre>"},{"location":"langgraph/advanced/12-performance-optimization/#_3","title":"\u5b8c\u6574\u512a\u5316\u6848\u4f8b","text":"Python<pre><code>from typing import TypedDict\nfrom langgraph.graph import StateGraph, END\nfrom functools import lru_cache\nimport time\n\nclass OptimizedState(TypedDict):\n    query: str\n    result: str\n    cache_hit: bool\n    processing_time: float\n\n# \u5feb\u53d6\u88dd\u98fe\u5668\n@lru_cache(maxsize=100)\ndef cached_process(query: str) -&gt; str:\n    from langchain_openai import ChatOpenAI\n    llm = ChatOpenAI(model=\"gpt-3.5-turbo\")  # \u4f7f\u7528\u8f03\u5feb\u7684\u6a21\u578b\n    return llm.invoke(query).content\n\ndef optimized_node(state: OptimizedState) -&gt; OptimizedState:\n    start = time.time()\n\n    # \u5617\u8a66\u5f9e\u5feb\u53d6\u53d6\u5f97\n    result = cached_process(state[\"query\"])\n\n    processing_time = time.time() - start\n\n    return {\n        \"result\": result,\n        \"processing_time\": processing_time\n    }\n\n# \u5efa\u7acb\u512a\u5316\u7684 Agent\ndef create_optimized_agent():\n    workflow = StateGraph(OptimizedState)\n    workflow.add_node(\"process\", optimized_node)\n    workflow.set_entry_point(\"process\")\n    workflow.add_edge(\"process\", END)\n    return workflow.compile()\n\n# \u4f7f\u7528\u4e26\u6e2c\u8a66\nif __name__ == \"__main__\":\n    agent = create_optimized_agent()\n\n    # \u7b2c\u4e00\u6b21\u67e5\u8a62\n    result1 = agent.invoke({\"query\": \"\u4ec0\u9ebc\u662f AI?\"})\n    print(f\"\u7b2c\u4e00\u6b21: {result1['processing_time']:.2f}\u79d2\")\n\n    # \u76f8\u540c\u67e5\u8a62(\u5feb\u53d6)\n    result2 = agent.invoke({\"query\": \"\u4ec0\u9ebc\u662f AI?\"})\n    print(f\"\u7b2c\u4e8c\u6b21(\u5feb\u53d6): {result2['processing_time']:.2f}\u79d2\")\n</code></pre>"},{"location":"langgraph/advanced/12-performance-optimization/#_4","title":"\u6548\u80fd\u76e3\u63a7","text":"Python<pre><code>import time\nfrom functools import wraps\n\ndef monitor_performance(func):\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        start = time.time()\n        result = func(*args, **kwargs)\n        duration = time.time() - start\n\n        print(f\"\u23f1\ufe0f {func.__name__}: {duration:.2f}\u79d2\")\n        return result\n    return wrapper\n\n@monitor_performance\ndef slow_operation():\n    time.sleep(2)\n    return \"\u5b8c\u6210\"\n</code></pre>"},{"location":"langgraph/advanced/12-performance-optimization/#_5","title":"\u91cd\u9ede\u6574\u7406","text":""},{"location":"langgraph/advanced/12-performance-optimization/#_6","title":"\u6838\u5fc3\u512a\u5316\u6280\u8853","text":"<ul> <li>\u5feb\u53d6: \u907f\u514d\u91cd\u8907\u8a08\u7b97</li> <li>\u4e26\u884c: \u540c\u6642\u8655\u7406\u591a\u500b\u4efb\u52d9</li> <li>\u6d41\u5f0f: \u5373\u6642\u8f38\u51fa\u63d0\u5347\u9ad4\u9a57</li> <li>\u6279\u6b21: \u6e1b\u5c11 API \u8abf\u7528\u6b21\u6578</li> </ul>"},{"location":"langgraph/advanced/12-performance-optimization/#_7","title":"\u9078\u64c7\u7b56\u7565","text":"<ul> <li>\u7c21\u55ae\u4efb\u52d9\u7528\u5feb\u901f\u6a21\u578b</li> <li>\u8907\u96dc\u4efb\u52d9\u7528\u5f37\u5927\u6a21\u578b</li> <li>\u6839\u64da\u9810\u7b97\u548c\u6642\u9593\u8981\u6c42\u8abf\u6574</li> </ul>"},{"location":"langgraph/advanced/12-performance-optimization/#_8","title":"\u76e3\u63a7\u6307\u6a19","text":"<ul> <li>\u56de\u61c9\u6642\u9593</li> <li>Token \u4f7f\u7528\u91cf</li> <li>\u5feb\u53d6\u547d\u4e2d\u7387</li> <li>\u932f\u8aa4\u7387</li> </ul>"},{"location":"langgraph/advanced/12-performance-optimization/#_9","title":"\u6700\u7d42\u5efa\u8b70","text":"<ol> <li>\u91cf\u6e2c\u512a\u5148: \u5148\u6e2c\u91cf\u518d\u512a\u5316</li> <li>\u9010\u6b65\u6539\u9032: \u4e00\u6b21\u512a\u5316\u4e00\u500b\u74f6\u9838</li> <li>\u5e73\u8861\u53d6\u6368: \u901f\u5ea6 vs \u54c1\u8cea vs \u6210\u672c</li> <li>\u6301\u7e8c\u76e3\u63a7: \u751f\u7522\u74b0\u5883\u6301\u7e8c\u8ffd\u8e64</li> </ol>"},{"location":"langgraph/advanced/12-performance-optimization/#_10","title":"\u7df4\u7fd2","text":"<ol> <li>\u70ba\u4f60\u7684 Agent \u6dfb\u52a0\u5feb\u53d6\u6a5f\u5236</li> <li>\u5be6\u4f5c\u4e26\u884c\u8655\u7406\u63d0\u5347\u541e\u5410\u91cf</li> <li>\u5efa\u7acb\u6548\u80fd\u76e3\u63a7\u5100\u8868\u677f</li> </ol>"},{"location":"langgraph/advanced/12-performance-optimization/#_11","title":"\ud83c\udf89 \u8ab2\u7a0b\u5b8c\u6210!","text":"<p>\u606d\u559c\u60a8\u5b8c\u6210\u6240\u6709 12 \u7ae0\u7684\u5b78\u7fd2!\u73fe\u5728\u60a8\u5df2\u7d93\u638c\u63e1:</p> <p>\u2705 LangGraph \u6838\u5fc3\u6982\u5ff5 \u2705 \u72c0\u614b\u7ba1\u7406\u548c\u5de5\u4f5c\u6d41\u7a0b\u8a2d\u8a08 \u2705 \u5be6\u969b Agent \u958b\u767c \u2705 \u751f\u7522\u74b0\u5883\u6700\u4f73\u5be6\u8e10</p>"},{"location":"langgraph/advanced/12-performance-optimization/#_12","title":"\u4e0b\u4e00\u6b65\u884c\u52d5","text":"<ol> <li>\u5be6\u8e10\u5c08\u6848: \u5efa\u7acb\u81ea\u5df1\u7684 Agent \u61c9\u7528</li> <li>\u6df1\u5165\u7814\u7a76: \u63a2\u7d22 LangGraph \u9032\u968e\u529f\u80fd</li> <li>\u793e\u7fa4\u4ea4\u6d41: \u5206\u4eab\u7d93\u9a57\u548c\u5b78\u7fd2\u6210\u679c</li> <li>\u6301\u7e8c\u5b78\u7fd2: \u95dc\u6ce8 LangGraph \u66f4\u65b0</li> </ol> <p>\u795d\u60a8\u5728 AI Agent \u958b\u767c\u4e4b\u8def\u4e0a\u9806\u5229!\ud83d\ude80</p>"},{"location":"langgraph/architecture/04-agent-principles/","title":"Agent \u5de5\u4f5c\u539f\u7406","text":""},{"location":"langgraph/architecture/04-agent-principles/#_1","title":"\u6982\u8ff0","text":"<p>\u7406\u89e3 Agent \u7684\u5de5\u4f5c\u539f\u7406\u662f\u638c\u63e1 LangGraph \u7684\u95dc\u9375\u3002\u672c\u7ae0\u5c07\u6df1\u5165\u63a2\u8a0e LangGraph Agent \u7684\u57f7\u884c\u6d41\u7a0b\u3001\u6c7a\u7b56\u6a5f\u5236\u548c\u72c0\u614b\u7ba1\u7406,\u5e6b\u52a9\u60a8\u8a2d\u8a08\u51fa\u9ad8\u6548\u53ef\u9760\u7684 Agent \u7cfb\u7d71\u3002</p> <pre><code>graph TB\n    subgraph \"Agent \u6838\u5fc3\u5faa\u74b0\"\n        A[\u63a5\u6536\u8f38\u5165] --&gt; B[\u5206\u6790\u7576\u524d\u72c0\u614b]\n        B --&gt; C[\u6c7a\u7b56\u4e0b\u4e00\u6b65]\n        C --&gt; D[\u57f7\u884c\u52d5\u4f5c]\n        D --&gt; E[\u66f4\u65b0\u72c0\u614b]\n        E --&gt; F{\u9054\u6210\u76ee\u6a19?}\n        F --&gt;|\u5426| B\n        F --&gt;|\u662f| G[\u8f38\u51fa\u7d50\u679c]\n    end\n\n    style A fill:#4CAF50,color:#fff\n    style C fill:#FF9800,color:#fff\n    style F fill:#F44336,color:#fff\n    style G fill:#2196F3,color:#fff</code></pre> <p>Agent \u7684\u672c\u8cea</p> <p>Agent \u662f\u4e00\u500b\u80fd\u5920**\u611f\u77e5\u74b0\u5883**\u3001**\u81ea\u4e3b\u6c7a\u7b56**\u4e26**\u63a1\u53d6\u884c\u52d5**\u7684\u667a\u80fd\u7cfb\u7d71\u3002\u5728 LangGraph \u4e2d,\u9019\u900f\u904e State\u3001Node \u548c Edge \u7684\u7d44\u5408\u4f86\u5be6\u73fe\u3002</p>"},{"location":"langgraph/architecture/04-agent-principles/#agent_1","title":"Agent \u7684\u57f7\u884c\u6d41\u7a0b","text":""},{"location":"langgraph/architecture/04-agent-principles/#1","title":"1. \u5b8c\u6574\u57f7\u884c\u9031\u671f","text":"Python<pre><code>from langgraph.graph import StateGraph, END\nfrom typing import TypedDict, Annotated\nfrom operator import add\n\n# \u5b9a\u7fa9 Agent \u72c0\u614b\nclass AgentState(TypedDict):\n    \"\"\"Agent \u7684\u5b8c\u6574\u72c0\u614b\"\"\"\n    # \u8f38\u5165\u8f38\u51fa\n    input: str\n    output: str\n\n    # \u57f7\u884c\u8ffd\u8e64\n    current_step: str\n    step_history: Annotated[list[str], add]\n\n    # \u6c7a\u7b56\u8cc7\u8a0a\n    thoughts: Annotated[list[str], add]\n    actions: Annotated[list[dict], add]\n\n    # \u57f7\u884c\u63a7\u5236\n    iteration: int\n    max_iterations: int\n    is_finished: bool\n\n# Agent \u57f7\u884c\u6d41\u7a0b\u793a\u610f\ndef perception_node(state: AgentState) -&gt; AgentState:\n    \"\"\"\u611f\u77e5\u968e\u6bb5:\u5206\u6790\u7576\u524d\u72c0\u614b\u548c\u9700\u6c42\"\"\"\n    analysis = f\"\u5206\u6790\u8f38\u5165: {state['input']}\"\n\n    return {\n        \"current_step\": \"perception\",\n        \"step_history\": [\"perception\"],\n        \"thoughts\": [analysis]\n    }\n\ndef planning_node(state: AgentState) -&gt; AgentState:\n    \"\"\"\u898f\u5283\u968e\u6bb5:\u6c7a\u5b9a\u57f7\u884c\u7b56\u7565\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u4efb\u52d9: {state['input']}\n    \u5df2\u57f7\u884c\u6b65\u9a5f: {state['step_history']}\n\n    \u8acb\u898f\u5283\u4e0b\u4e00\u6b65\u61c9\u8a72\u57f7\u884c\u4ec0\u9ebc\u52d5\u4f5c\u3002\n    \"\"\"\n\n    plan = llm.invoke(prompt).content\n\n    return {\n        \"current_step\": \"planning\",\n        \"step_history\": [\"planning\"],\n        \"thoughts\": [f\"\u8a08\u756b: {plan}\"]\n    }\n\ndef execution_node(state: AgentState) -&gt; AgentState:\n    \"\"\"\u57f7\u884c\u968e\u6bb5:\u5be6\u969b\u57f7\u884c\u52d5\u4f5c\"\"\"\n    # \u6a21\u64ec\u57f7\u884c\u52d5\u4f5c\n    action_result = f\"\u57f7\u884c\u7d50\u679c: \u5b8c\u6210\u7b2c {state['iteration']} \u6b21\u8fed\u4ee3\"\n\n    return {\n        \"current_step\": \"execution\",\n        \"step_history\": [\"execution\"],\n        \"actions\": [{\"iteration\": state[\"iteration\"], \"result\": action_result}],\n        \"iteration\": state[\"iteration\"] + 1\n    }\n\ndef evaluation_node(state: AgentState) -&gt; AgentState:\n    \"\"\"\u8a55\u4f30\u968e\u6bb5:\u6aa2\u67e5\u662f\u5426\u5b8c\u6210\u76ee\u6a19\"\"\"\n    # \u7c21\u5316\u7684\u5b8c\u6210\u5224\u65b7\n    is_done = state[\"iteration\"] &gt;= state[\"max_iterations\"]\n\n    return {\n        \"current_step\": \"evaluation\",\n        \"step_history\": [\"evaluation\"],\n        \"is_finished\": is_done,\n        \"thoughts\": [f\"\u8a55\u4f30: {'\u5df2\u5b8c\u6210' if is_done else '\u7e7c\u7e8c\u57f7\u884c'}\"]\n    }\n\n# \u5efa\u7acb Agent \u5de5\u4f5c\u6d41\u7a0b\ndef create_agent():\n    workflow = StateGraph(AgentState)\n\n    # \u6dfb\u52a0\u5404\u968e\u6bb5\u7bc0\u9ede\n    workflow.add_node(\"perceive\", perception_node)\n    workflow.add_node(\"plan\", planning_node)\n    workflow.add_node(\"execute\", execution_node)\n    workflow.add_node(\"evaluate\", evaluation_node)\n\n    # \u8a2d\u5b9a\u6d41\u7a0b\n    workflow.set_entry_point(\"perceive\")\n    workflow.add_edge(\"perceive\", \"plan\")\n    workflow.add_edge(\"plan\", \"execute\")\n    workflow.add_edge(\"execute\", \"evaluate\")\n\n    # \u689d\u4ef6\u5faa\u74b0\n    def should_continue(state: AgentState) -&gt; str:\n        if state[\"is_finished\"]:\n            return \"end\"\n        return \"continue\"\n\n    workflow.add_conditional_edges(\n        \"evaluate\",\n        should_continue,\n        {\n            \"continue\": \"perceive\",  # \u56de\u5230\u611f\u77e5\u968e\u6bb5\n            \"end\": END\n        }\n    )\n\n    return workflow.compile()\n\n# \u57f7\u884c Agent\nagent = create_agent()\n\nresult = agent.invoke({\n    \"input\": \"\u5206\u6790\u570b\u6cf0\u4eba\u58fd 2024 Q1 \u696d\u7e3e\u5831\u544a\",\n    \"iteration\": 0,\n    \"max_iterations\": 3,\n    \"is_finished\": False,\n    \"step_history\": [],\n    \"thoughts\": [],\n    \"actions\": []\n})\n\nprint(\"\u57f7\u884c\u6b77\u7a0b:\", result[\"step_history\"])\nprint(\"\u601d\u8003\u904e\u7a0b:\", result[\"thoughts\"])\nprint(\"\u57f7\u884c\u52d5\u4f5c:\", result[\"actions\"])\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#2","title":"2. \u57f7\u884c\u6d41\u7a0b\u8996\u89ba\u5316","text":"<pre><code>sequenceDiagram\n    participant U as \u4f7f\u7528\u8005\n    participant A as Agent\n    participant P as Perception\n    participant PL as Planning\n    participant E as Execution\n    participant EV as Evaluation\n\n    U-&gt;&gt;A: \u8f38\u5165\u4efb\u52d9\n\n    loop Agent \u5faa\u74b0\n        A-&gt;&gt;P: \u5206\u6790\u7576\u524d\u72c0\u614b\n        P--&gt;&gt;A: \u8fd4\u56de\u5206\u6790\u7d50\u679c\n\n        A-&gt;&gt;PL: \u898f\u5283\u4e0b\u4e00\u6b65\n        PL--&gt;&gt;A: \u8fd4\u56de\u57f7\u884c\u8a08\u756b\n\n        A-&gt;&gt;E: \u57f7\u884c\u52d5\u4f5c\n        E--&gt;&gt;A: \u8fd4\u56de\u57f7\u884c\u7d50\u679c\n\n        A-&gt;&gt;EV: \u8a55\u4f30\u5b8c\u6210\u5ea6\n        EV--&gt;&gt;A: \u662f\u5426\u7e7c\u7e8c\n\n        alt \u672a\u5b8c\u6210\n            A-&gt;&gt;P: \u7e7c\u7e8c\u4e0b\u4e00\u8f2a\n        else \u5df2\u5b8c\u6210\n            A-&gt;&gt;U: \u8fd4\u56de\u6700\u7d42\u7d50\u679c\n        end\n    end</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#_2","title":"\u6c7a\u7b56\u6a5f\u5236","text":""},{"location":"langgraph/architecture/04-agent-principles/#1-react-reasoning-acting","title":"1. ReAct \u6a21\u5f0f (Reasoning + Acting)","text":"<p>LangGraph \u5929\u7136\u652f\u63f4 ReAct \u6a21\u5f0f,\u4ea4\u66ff\u9032\u884c\u63a8\u7406\u548c\u884c\u52d5:</p> Python<pre><code>from langchain_openai import ChatOpenAI\nfrom langchain.tools import Tool\n\nclass ReActState(TypedDict):\n    question: str\n    thoughts: Annotated[list[str], add]\n    actions: Annotated[list[dict], add]\n    observations: Annotated[list[str], add]\n    answer: str\n    iteration: int\n\n# \u5de5\u5177\u5b9a\u7fa9\ndef search_tool(query: str) -&gt; str:\n    \"\"\"\u641c\u5c0b\u5de5\u5177\"\"\"\n    # \u6a21\u64ec\u641c\u5c0b\n    return f\"\u641c\u5c0b\u7d50\u679c: {query} \u7684\u76f8\u95dc\u8cc7\u8a0a...\"\n\ndef calculator_tool(expression: str) -&gt; str:\n    \"\"\"\u8a08\u7b97\u5de5\u5177\"\"\"\n    try:\n        result = eval(expression)\n        return f\"\u8a08\u7b97\u7d50\u679c: {result}\"\n    except:\n        return \"\u8a08\u7b97\u932f\u8aa4\"\n\ntools = {\n    \"search\": search_tool,\n    \"calculator\": calculator_tool\n}\n\ndef thought_node(state: ReActState) -&gt; ReActState:\n    \"\"\"\u63a8\u7406\u968e\u6bb5:\u601d\u8003\u4e0b\u4e00\u6b65\u8981\u505a\u4ec0\u9ebc\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    context = f\"\"\"\n    \u554f\u984c: {state['question']}\n    \u5df2\u57f7\u884c\u7684\u601d\u8003: {state['thoughts']}\n    \u5df2\u57f7\u884c\u7684\u52d5\u4f5c: {state['actions']}\n    \u89c0\u5bdf\u5230\u7684\u7d50\u679c: {state['observations']}\n\n    \u601d\u8003\u4e0b\u4e00\u6b65\u61c9\u8a72:\n    1. \u4f7f\u7528\u4ec0\u9ebc\u5de5\u5177?\n    2. \u6216\u8005\u5df2\u7d93\u53ef\u4ee5\u56de\u7b54\u554f\u984c?\n\n    \u8acb\u56de\u7b54\u683c\u5f0f:\n    Thought: [\u4f60\u7684\u601d\u8003]\n    Action: [\u5de5\u5177\u540d\u7a31] \u6216 \"Answer\"\n    Action Input: [\u5de5\u5177\u8f38\u5165] \u6216 [\u6700\u7d42\u7b54\u6848]\n    \"\"\"\n\n    response = llm.invoke(context).content\n\n    # \u89e3\u6790\u56de\u61c9\n    thought = extract_thought(response)\n    action = extract_action(response)\n    action_input = extract_action_input(response)\n\n    return {\n        \"thoughts\": [thought],\n        \"actions\": [{\n            \"action\": action,\n            \"input\": action_input,\n            \"iteration\": state[\"iteration\"]\n        }],\n        \"iteration\": state[\"iteration\"] + 1\n    }\n\ndef action_node(state: ReActState) -&gt; ReActState:\n    \"\"\"\u884c\u52d5\u968e\u6bb5:\u57f7\u884c\u5de5\u5177\u6216\u751f\u6210\u7b54\u6848\"\"\"\n    last_action = state[\"actions\"][-1]\n    action_name = last_action[\"action\"]\n    action_input = last_action[\"input\"]\n\n    if action_name == \"Answer\":\n        # \u751f\u6210\u6700\u7d42\u7b54\u6848\n        return {\n            \"answer\": action_input,\n            \"observations\": [\"\u4efb\u52d9\u5b8c\u6210\"]\n        }\n\n    # \u57f7\u884c\u5de5\u5177\n    if action_name in tools:\n        observation = tools[action_name](action_input)\n        return {\n            \"observations\": [observation]\n        }\n\n    return {\n        \"observations\": [\"\u672a\u77e5\u52d5\u4f5c\"]\n    }\n\ndef extract_thought(response: str) -&gt; str:\n    \"\"\"\u63d0\u53d6\u601d\u8003\u5167\u5bb9\"\"\"\n    if \"Thought:\" in response:\n        return response.split(\"Thought:\")[1].split(\"\\n\")[0].strip()\n    return response\n\ndef extract_action(response: str) -&gt; str:\n    \"\"\"\u63d0\u53d6\u52d5\u4f5c\"\"\"\n    if \"Action:\" in response:\n        return response.split(\"Action:\")[1].split(\"\\n\")[0].strip()\n    return \"Answer\"\n\ndef extract_action_input(response: str) -&gt; str:\n    \"\"\"\u63d0\u53d6\u52d5\u4f5c\u8f38\u5165\"\"\"\n    if \"Action Input:\" in response:\n        return response.split(\"Action Input:\")[1].split(\"\\n\")[0].strip()\n    return \"\"\n\n# \u5efa\u7acb ReAct Agent\nworkflow = StateGraph(ReActState)\n\nworkflow.add_node(\"think\", thought_node)\nworkflow.add_node(\"act\", action_node)\n\nworkflow.set_entry_point(\"think\")\nworkflow.add_edge(\"think\", \"act\")\n\ndef should_continue(state: ReActState) -&gt; str:\n    if state.get(\"answer\") or state[\"iteration\"] &gt;= 5:\n        return \"end\"\n    return \"continue\"\n\nworkflow.add_conditional_edges(\n    \"act\",\n    should_continue,\n    {\n        \"continue\": \"think\",\n        \"end\": END\n    }\n)\n\nreact_agent = workflow.compile()\n\n# \u4f7f\u7528\u7bc4\u4f8b\nresult = react_agent.invoke({\n    \"question\": \"\u570b\u6cf0\u4eba\u58fd 2023 \u5e74\u7e3d\u4fdd\u8cbb\u6536\u5165\u662f\u591a\u5c11?\u6210\u9577\u7387\u5982\u4f55?\",\n    \"thoughts\": [],\n    \"actions\": [],\n    \"observations\": [],\n    \"iteration\": 0\n})\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#2-chain-of-thought","title":"2. Chain of Thought (\u601d\u7dad\u93c8)","text":"Python<pre><code>class CoTState(TypedDict):\n    problem: str\n    reasoning_steps: Annotated[list[str], add]\n    current_step: int\n    total_steps: int\n    answer: str\n\ndef decompose_problem(state: CoTState) -&gt; CoTState:\n    \"\"\"\u5206\u89e3\u554f\u984c\u70ba\u591a\u500b\u6b65\u9a5f\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u5c07\u4ee5\u4e0b\u8907\u96dc\u554f\u984c\u5206\u89e3\u70ba 3-5 \u500b\u7c21\u55ae\u6b65\u9a5f:\n    {state['problem']}\n\n    \u4ee5\u5217\u8868\u5f62\u5f0f\u56de\u7b54,\u6bcf\u884c\u4e00\u500b\u6b65\u9a5f\u3002\n    \"\"\"\n\n    steps = llm.invoke(prompt).content.split(\"\\n\")\n    steps = [s.strip() for s in steps if s.strip()]\n\n    return {\n        \"reasoning_steps\": steps,\n        \"total_steps\": len(steps),\n        \"current_step\": 0\n    }\n\ndef solve_step(state: CoTState) -&gt; CoTState:\n    \"\"\"\u89e3\u6c7a\u7576\u524d\u6b65\u9a5f\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    current = state[\"current_step\"]\n    step = state[\"reasoning_steps\"][current]\n\n    prompt = f\"\"\"\n    \u554f\u984c: {state['problem']}\n    \u7576\u524d\u6b65\u9a5f: {step}\n    \u4e4b\u524d\u7684\u63a8\u7406: {state['reasoning_steps'][:current]}\n\n    \u8acb\u89e3\u6c7a\u9019\u4e00\u6b65\u9a5f\u3002\n    \"\"\"\n\n    solution = llm.invoke(prompt).content\n\n    return {\n        \"reasoning_steps\": [f\"\u6b65\u9a5f {current + 1}: {solution}\"],\n        \"current_step\": current + 1\n    }\n\ndef synthesize_answer(state: CoTState) -&gt; CoTState:\n    \"\"\"\u7d9c\u5408\u6240\u6709\u6b65\u9a5f\u5f97\u51fa\u6700\u7d42\u7b54\u6848\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u554f\u984c: {state['problem']}\n    \u63a8\u7406\u904e\u7a0b: {state['reasoning_steps']}\n\n    \u6839\u64da\u4ee5\u4e0a\u63a8\u7406,\u7d66\u51fa\u6700\u7d42\u7b54\u6848\u3002\n    \"\"\"\n\n    answer = llm.invoke(prompt).content\n\n    return {\"answer\": answer}\n\n# \u5efa\u7acb CoT Agent\ncot_workflow = StateGraph(CoTState)\n\ncot_workflow.add_node(\"decompose\", decompose_problem)\ncot_workflow.add_node(\"solve\", solve_step)\ncot_workflow.add_node(\"synthesize\", synthesize_answer)\n\ncot_workflow.set_entry_point(\"decompose\")\ncot_workflow.add_edge(\"decompose\", \"solve\")\n\ndef check_completion(state: CoTState) -&gt; str:\n    if state[\"current_step\"] &gt;= state[\"total_steps\"]:\n        return \"synthesize\"\n    return \"solve\"\n\ncot_workflow.add_conditional_edges(\n    \"solve\",\n    check_completion,\n    {\n        \"solve\": \"solve\",\n        \"synthesize\": \"synthesize\"\n    }\n)\n\ncot_workflow.add_edge(\"synthesize\", END)\n\ncot_agent = cot_workflow.compile()\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#_3","title":"\u72c0\u614b\u7ba1\u7406\u6df1\u5ea6\u89e3\u6790","text":""},{"location":"langgraph/architecture/04-agent-principles/#1_1","title":"1. \u72c0\u614b\u7684\u751f\u547d\u9031\u671f","text":"Python<pre><code>from typing import TypedDict, Annotated, Optional\nfrom operator import add\nfrom datetime import datetime\n\nclass StateLifecycle(TypedDict):\n    \"\"\"\u5b8c\u6574\u7684\u72c0\u614b\u751f\u547d\u9031\u671f\u7ba1\u7406\"\"\"\n\n    # 1. \u521d\u59cb\u5316\u72c0\u614b\n    created_at: datetime\n    session_id: str\n\n    # 2. \u8f38\u5165\u72c0\u614b\n    user_input: str\n    parsed_input: dict\n\n    # 3. \u8655\u7406\u72c0\u614b\n    current_node: str\n    visited_nodes: Annotated[list[str], add]\n    execution_path: Annotated[list[dict], add]\n\n    # 4. \u4e2d\u9593\u72c0\u614b\n    intermediate_results: dict\n    cached_data: dict\n\n    # 5. \u932f\u8aa4\u72c0\u614b\n    errors: Annotated[list[dict], add]\n    retry_count: int\n    last_error: Optional[str]\n\n    # 6. \u8f38\u51fa\u72c0\u614b\n    final_result: Optional[dict]\n    completed: bool\n    completed_at: Optional[datetime]\n\n    # 7. \u8ffd\u8e64\u72c0\u614b\n    metrics: dict  # \u57f7\u884c\u6642\u9593\u3001token \u4f7f\u7528\u7b49\n\ndef initialize_state(user_input: str) -&gt; StateLifecycle:\n    \"\"\"\u521d\u59cb\u5316\u72c0\u614b\"\"\"\n    return {\n        \"created_at\": datetime.now(),\n        \"session_id\": generate_session_id(),\n        \"user_input\": user_input,\n        \"visited_nodes\": [],\n        \"execution_path\": [],\n        \"errors\": [],\n        \"retry_count\": 0,\n        \"completed\": False,\n        \"metrics\": {\n            \"start_time\": datetime.now(),\n            \"total_tokens\": 0\n        }\n    }\n\ndef track_node_execution(state: StateLifecycle, node_name: str):\n    \"\"\"\u8ffd\u8e64\u7bc0\u9ede\u57f7\u884c\"\"\"\n    return {\n        \"current_node\": node_name,\n        \"visited_nodes\": [node_name],\n        \"execution_path\": [{\n            \"node\": node_name,\n            \"timestamp\": datetime.now(),\n            \"state_snapshot\": str(state)[:100]  # \u7c21\u5316\u7684\u5feb\u7167\n        }]\n    }\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#2_1","title":"2. \u72c0\u614b\u6301\u4e45\u5316","text":"Python<pre><code>import json\nfrom pathlib import Path\n\nclass StatePersistence:\n    \"\"\"\u72c0\u614b\u6301\u4e45\u5316\u7ba1\u7406\"\"\"\n\n    def __init__(self, storage_path: str = \"./agent_states\"):\n        self.storage_path = Path(storage_path)\n        self.storage_path.mkdir(exist_ok=True)\n\n    def save_state(self, session_id: str, state: dict):\n        \"\"\"\u5132\u5b58\u72c0\u614b\"\"\"\n        file_path = self.storage_path / f\"{session_id}.json\"\n\n        # \u8655\u7406\u4e0d\u53ef\u5e8f\u5217\u5316\u7684\u7269\u4ef6\n        serializable_state = self._make_serializable(state)\n\n        with open(file_path, 'w', encoding='utf-8') as f:\n            json.dump(serializable_state, f, ensure_ascii=False, indent=2)\n\n    def load_state(self, session_id: str) -&gt; dict:\n        \"\"\"\u8f09\u5165\u72c0\u614b\"\"\"\n        file_path = self.storage_path / f\"{session_id}.json\"\n\n        if not file_path.exists():\n            raise ValueError(f\"Session {session_id} not found\")\n\n        with open(file_path, 'r', encoding='utf-8') as f:\n            return json.load(f)\n\n    def _make_serializable(self, obj):\n        \"\"\"\u8f49\u63db\u70ba\u53ef\u5e8f\u5217\u5316\u7269\u4ef6\"\"\"\n        if isinstance(obj, datetime):\n            return obj.isoformat()\n        elif isinstance(obj, dict):\n            return {k: self._make_serializable(v) for k, v in obj.items()}\n        elif isinstance(obj, list):\n            return [self._make_serializable(i) for i in obj]\n        return obj\n\n# \u5728\u7bc0\u9ede\u4e2d\u4f7f\u7528\u6301\u4e45\u5316\npersistence = StatePersistence()\n\ndef checkpoint_node(state: StateLifecycle) -&gt; StateLifecycle:\n    \"\"\"\u6aa2\u67e5\u9ede\u7bc0\u9ede:\u5132\u5b58\u72c0\u614b\"\"\"\n    persistence.save_state(state[\"session_id\"], state)\n    return {\"visited_nodes\": [\"checkpoint\"]}\n\ndef recovery_node(session_id: str) -&gt; StateLifecycle:\n    \"\"\"\u6062\u5fa9\u7bc0\u9ede:\u5f9e\u6aa2\u67e5\u9ede\u6062\u5fa9\"\"\"\n    return persistence.load_state(session_id)\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#3","title":"3. \u72c0\u614b\u5feb\u7167\u548c\u7248\u672c\u63a7\u5236","text":"Python<pre><code>from collections import deque\nfrom copy import deepcopy\n\nclass StateHistory:\n    \"\"\"\u72c0\u614b\u6b77\u53f2\u7ba1\u7406\"\"\"\n\n    def __init__(self, max_history: int = 10):\n        self.history = deque(maxlen=max_history)\n        self.current_version = 0\n\n    def snapshot(self, state: dict) -&gt; int:\n        \"\"\"\u5efa\u7acb\u72c0\u614b\u5feb\u7167\"\"\"\n        snapshot = {\n            \"version\": self.current_version,\n            \"timestamp\": datetime.now(),\n            \"state\": deepcopy(state)\n        }\n        self.history.append(snapshot)\n        self.current_version += 1\n        return snapshot[\"version\"]\n\n    def rollback(self, version: int) -&gt; dict:\n        \"\"\"\u56de\u6efe\u5230\u6307\u5b9a\u7248\u672c\"\"\"\n        for snapshot in reversed(self.history):\n            if snapshot[\"version\"] == version:\n                return deepcopy(snapshot[\"state\"])\n        raise ValueError(f\"Version {version} not found\")\n\n    def get_diff(self, version1: int, version2: int) -&gt; dict:\n        \"\"\"\u6bd4\u8f03\u5169\u500b\u7248\u672c\u7684\u5dee\u7570\"\"\"\n        state1 = self.rollback(version1)\n        state2 = self.rollback(version2)\n\n        diff = {}\n        for key in set(state1.keys()) | set(state2.keys()):\n            if state1.get(key) != state2.get(key):\n                diff[key] = {\n                    \"old\": state1.get(key),\n                    \"new\": state2.get(key)\n                }\n\n        return diff\n\n# \u4f7f\u7528\u7bc4\u4f8b\nhistory = StateHistory()\n\ndef versioned_node(state: AgentState) -&gt; AgentState:\n    \"\"\"\u5e36\u7248\u672c\u63a7\u5236\u7684\u7bc0\u9ede\"\"\"\n    # \u57f7\u884c\u524d\u5efa\u7acb\u5feb\u7167\n    version = history.snapshot(state)\n\n    try:\n        # \u57f7\u884c\u8655\u7406\n        result = process_data(state)\n        return result\n    except Exception as e:\n        # \u767c\u751f\u932f\u8aa4\u6642\u56de\u6efe\n        print(f\"\u932f\u8aa4\u767c\u751f,\u56de\u6efe\u5230\u7248\u672c {version}\")\n        return history.rollback(version)\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#_4","title":"\u57f7\u884c\u63a7\u5236\u6a5f\u5236","text":""},{"location":"langgraph/architecture/04-agent-principles/#1_2","title":"1. \u8fed\u4ee3\u63a7\u5236","text":"Python<pre><code>class IterationControl(TypedDict):\n    iteration: int\n    max_iterations: int\n    early_stop_threshold: float\n    quality_scores: Annotated[list[float], add]\n\ndef controlled_iteration_node(state: IterationControl) -&gt; IterationControl:\n    \"\"\"\u5e36\u8fed\u4ee3\u63a7\u5236\u7684\u7bc0\u9ede\"\"\"\n\n    # \u57f7\u884c\u8655\u7406\u4e26\u8a08\u7b97\u54c1\u8cea\u5206\u6578\n    result, quality = process_with_quality_check(state)\n\n    return {\n        \"iteration\": state[\"iteration\"] + 1,\n        \"quality_scores\": [quality],\n        \"result\": result\n    }\n\ndef should_continue_iteration(state: IterationControl) -&gt; str:\n    \"\"\"\u6c7a\u5b9a\u662f\u5426\u7e7c\u7e8c\u8fed\u4ee3\"\"\"\n\n    # \u6aa2\u67e5 1: \u9054\u5230\u6700\u5927\u8fed\u4ee3\u6b21\u6578\n    if state[\"iteration\"] &gt;= state[\"max_iterations\"]:\n        return \"max_iterations_reached\"\n\n    # \u6aa2\u67e5 2: \u54c1\u8cea\u9054\u6a19\u53ef\u63d0\u524d\u505c\u6b62\n    if state[\"quality_scores\"]:\n        latest_quality = state[\"quality_scores\"][-1]\n        if latest_quality &gt;= state[\"early_stop_threshold\"]:\n            return \"quality_threshold_met\"\n\n    # \u6aa2\u67e5 3: \u54c1\u8cea\u9023\u7e8c\u4e0b\u964d\u5247\u505c\u6b62\n    if len(state[\"quality_scores\"]) &gt;= 3:\n        recent = state[\"quality_scores\"][-3:]\n        if all(recent[i] &gt; recent[i+1] for i in range(len(recent)-1)):\n            return \"quality_degrading\"\n\n    return \"continue\"\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#2_2","title":"2. \u8d85\u6642\u63a7\u5236","text":"Python<pre><code>import time\nfrom functools import wraps\n\nclass TimeoutControl(TypedDict):\n    start_time: float\n    timeout_seconds: int\n    elapsed_time: float\n\ndef with_timeout(timeout_seconds: int):\n    \"\"\"\u8d85\u6642\u88dd\u98fe\u5668\"\"\"\n    def decorator(func):\n        @wraps(func)\n        def wrapper(state):\n            start = time.time()\n\n            # \u6aa2\u67e5\u662f\u5426\u5df2\u8d85\u6642\n            if \"start_time\" in state:\n                elapsed = time.time() - state[\"start_time\"]\n                if elapsed &gt; timeout_seconds:\n                    raise TimeoutError(f\"\u57f7\u884c\u8d85\u6642: {elapsed:.2f}\u79d2\")\n\n            # \u57f7\u884c\u51fd\u6578\n            result = func(state)\n\n            # \u66f4\u65b0\u57f7\u884c\u6642\u9593\n            if isinstance(result, dict):\n                result[\"elapsed_time\"] = time.time() - state.get(\"start_time\", start)\n\n            return result\n        return wrapper\n    return decorator\n\n@with_timeout(timeout_seconds=30)\ndef time_limited_node(state: TimeoutControl) -&gt; TimeoutControl:\n    \"\"\"\u6709\u6642\u9593\u9650\u5236\u7684\u7bc0\u9ede\"\"\"\n    # \u57f7\u884c\u8017\u6642\u64cd\u4f5c\n    result = expensive_operation(state)\n    return {\"result\": result}\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#3_1","title":"3. \u8cc7\u6e90\u63a7\u5236","text":"Python<pre><code>class ResourceControl(TypedDict):\n    token_budget: int\n    tokens_used: int\n    cost_budget: float\n    cost_used: float\n\ndef track_resource_usage(state: ResourceControl, tokens: int, cost: float):\n    \"\"\"\u8ffd\u8e64\u8cc7\u6e90\u4f7f\u7528\"\"\"\n    new_tokens = state[\"tokens_used\"] + tokens\n    new_cost = state[\"cost_used\"] + cost\n\n    # \u6aa2\u67e5\u9810\u7b97\n    if new_tokens &gt; state[\"token_budget\"]:\n        raise ResourceError(f\"Token \u9810\u7b97\u8d85\u652f: {new_tokens}/{state['token_budget']}\")\n\n    if new_cost &gt; state[\"cost_budget\"]:\n        raise ResourceError(f\"\u6210\u672c\u9810\u7b97\u8d85\u652f: ${new_cost:.2f}/${state['cost_budget']:.2f}\")\n\n    return {\n        \"tokens_used\": new_tokens,\n        \"cost_used\": new_cost\n    }\n\ndef resource_aware_node(state: ResourceControl) -&gt; ResourceControl:\n    \"\"\"\u8cc7\u6e90\u611f\u77e5\u7bc0\u9ede\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\", callbacks=[TokenTracker()])\n\n    response = llm.invoke(state[\"prompt\"])\n\n    # \u8a08\u7b97\u4f7f\u7528\u7684\u8cc7\u6e90\n    tokens_used = count_tokens(response)\n    cost = calculate_cost(tokens_used, model=\"gpt-4\")\n\n    # \u66f4\u65b0\u8cc7\u6e90\u8ffd\u8e64\n    resource_update = track_resource_usage(state, tokens_used, cost)\n\n    return {\n        **resource_update,\n        \"response\": response.content\n    }\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#agent_2","title":"\u570b\u6cf0\u4eba\u58fd\u5be6\u6230:\u7406\u8ce0\u7533\u8acb Agent","text":"Python<pre><code>from enum import Enum\n\nclass ClaimStatus(Enum):\n    SUBMITTED = \"\u5df2\u63d0\u4ea4\"\n    DOCUMENT_REVIEW = \"\u6587\u4ef6\u5be9\u6838\u4e2d\"\n    MEDICAL_REVIEW = \"\u91ab\u7642\u5be9\u6838\u4e2d\"\n    APPROVED = \"\u5df2\u6838\u51c6\"\n    REJECTED = \"\u5df2\u62d2\u7d55\"\n    PENDING_INFO = \"\u5f85\u88dc\u5145\u8cc7\u6599\"\n\nclass ClaimAgentState(TypedDict):\n    # \u7533\u8acb\u8cc7\u8a0a\n    claim_id: str\n    policy_number: str\n    claim_amount: float\n    claim_type: str\n\n    # \u6587\u4ef6\u8cc7\u8a0a\n    documents: list[dict]\n    document_status: dict\n\n    # \u5be9\u6838\u72c0\u614b\n    status: str\n    review_stage: str\n    approval_level: int\n\n    # \u5be9\u6838\u7d50\u679c\n    document_issues: Annotated[list[str], add]\n    medical_findings: dict\n    decision: Optional[str]\n    approved_amount: Optional[float]\n\n    # \u6d41\u7a0b\u8ffd\u8e64\n    timeline: Annotated[list[dict], add]\n    assigned_reviewer: str\n\ndef submit_claim_node(state: ClaimAgentState) -&gt; ClaimAgentState:\n    \"\"\"\u63d0\u4ea4\u7406\u8ce0\u7533\u8acb\"\"\"\n    return {\n        \"claim_id\": generate_claim_id(),\n        \"status\": ClaimStatus.SUBMITTED.value,\n        \"timeline\": [{\n            \"event\": \"\u7406\u8ce0\u7533\u8acb\u5df2\u63d0\u4ea4\",\n            \"timestamp\": datetime.now().isoformat()\n        }]\n    }\n\ndef verify_documents_node(state: ClaimAgentState) -&gt; ClaimAgentState:\n    \"\"\"\u9a57\u8b49\u6587\u4ef6\u5b8c\u6574\u6027\"\"\"\n    required_docs = get_required_documents(state[\"claim_type\"])\n    submitted_docs = [doc[\"type\"] for doc in state[\"documents\"]]\n\n    issues = []\n    for req_doc in required_docs:\n        if req_doc not in submitted_docs:\n            issues.append(f\"\u7f3a\u5c11\u6587\u4ef6: {req_doc}\")\n\n    # \u4f7f\u7528 AI \u6aa2\u67e5\u6587\u4ef6\u54c1\u8cea\n    for doc in state[\"documents\"]:\n        quality_check = check_document_quality(doc)\n        if not quality_check[\"passed\"]:\n            issues.extend(quality_check[\"issues\"])\n\n    status = ClaimStatus.DOCUMENT_REVIEW.value\n\n    return {\n        \"document_issues\": issues,\n        \"status\": status,\n        \"timeline\": [{\n            \"event\": \"\u6587\u4ef6\u5be9\u6838\u5b8c\u6210\",\n            \"issues_found\": len(issues),\n            \"timestamp\": datetime.now().isoformat()\n        }]\n    }\n\ndef medical_review_node(state: ClaimAgentState) -&gt; ClaimAgentState:\n    \"\"\"\u91ab\u7642\u5be9\u6838\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u5be9\u6838\u4ee5\u4e0b\u7406\u8ce0\u7533\u8acb:\n    - \u4fdd\u55ae\u985e\u578b: {state['claim_type']}\n    - \u7406\u8ce0\u91d1\u984d: {state['claim_amount']}\n    - \u63d0\u4ea4\u6587\u4ef6: {state['documents']}\n\n    \u8acb\u5206\u6790:\n    1. \u662f\u5426\u7b26\u5408\u4fdd\u55ae\u689d\u6b3e\n    2. \u91d1\u984d\u662f\u5426\u5408\u7406\n    3. \u662f\u5426\u6709\u53ef\u7591\u4e4b\u8655\n\n    \u4ee5 JSON \u683c\u5f0f\u56de\u7b54\u3002\n    \"\"\"\n\n    import json\n    review = json.loads(llm.invoke(prompt).content)\n\n    return {\n        \"medical_findings\": review,\n        \"status\": ClaimStatus.MEDICAL_REVIEW.value,\n        \"timeline\": [{\n            \"event\": \"\u91ab\u7642\u5be9\u6838\u5b8c\u6210\",\n            \"timestamp\": datetime.now().isoformat()\n        }]\n    }\n\ndef make_decision_node(state: ClaimAgentState) -&gt; ClaimAgentState:\n    \"\"\"\u505a\u51fa\u7406\u8ce0\u6c7a\u5b9a\"\"\"\n\n    # \u81ea\u52d5\u6c7a\u7b56\u908f\u8f2f\n    if state[\"document_issues\"]:\n        decision = \"PENDING_INFO\"\n        approved_amount = None\n    elif state[\"medical_findings\"].get(\"suspicious\"):\n        decision = \"REJECTED\"\n        approved_amount = None\n    elif state[\"claim_amount\"] &lt;= state[\"medical_findings\"].get(\"reasonable_amount\", 0):\n        decision = \"APPROVED\"\n        approved_amount = state[\"claim_amount\"]\n    else:\n        decision = \"APPROVED\"\n        approved_amount = state[\"medical_findings\"][\"reasonable_amount\"]\n\n    return {\n        \"decision\": decision,\n        \"approved_amount\": approved_amount,\n        \"status\": ClaimStatus[decision].value,\n        \"timeline\": [{\n            \"event\": f\"\u7406\u8ce0\u6c7a\u5b9a: {decision}\",\n            \"amount\": approved_amount,\n            \"timestamp\": datetime.now().isoformat()\n        }]\n    }\n\ndef notify_customer_node(state: ClaimAgentState) -&gt; ClaimAgentState:\n    \"\"\"\u901a\u77e5\u5ba2\u6236\"\"\"\n    send_notification(\n        customer_id=get_customer_from_policy(state[\"policy_number\"]),\n        message=generate_notification_message(state)\n    )\n\n    return {\n        \"timeline\": [{\n            \"event\": \"\u5df2\u901a\u77e5\u5ba2\u6236\",\n            \"timestamp\": datetime.now().isoformat()\n        }]\n    }\n\n# \u5efa\u7acb\u7406\u8ce0 Agent\ndef create_claim_agent():\n    workflow = StateGraph(ClaimAgentState)\n\n    # \u6dfb\u52a0\u7bc0\u9ede\n    workflow.add_node(\"submit\", submit_claim_node)\n    workflow.add_node(\"verify_docs\", verify_documents_node)\n    workflow.add_node(\"medical_review\", medical_review_node)\n    workflow.add_node(\"decide\", make_decision_node)\n    workflow.add_node(\"notify\", notify_customer_node)\n\n    # \u8a2d\u5b9a\u6d41\u7a0b\n    workflow.set_entry_point(\"submit\")\n    workflow.add_edge(\"submit\", \"verify_docs\")\n\n    # \u6587\u4ef6\u5be9\u6838\u5f8c\u7684\u8def\u7531\n    def after_document_review(state: ClaimAgentState) -&gt; str:\n        if state[\"document_issues\"]:\n            return \"request_more_docs\"\n        return \"proceed_to_medical\"\n\n    workflow.add_conditional_edges(\n        \"verify_docs\",\n        after_document_review,\n        {\n            \"request_more_docs\": \"notify\",\n            \"proceed_to_medical\": \"medical_review\"\n        }\n    )\n\n    workflow.add_edge(\"medical_review\", \"decide\")\n    workflow.add_edge(\"decide\", \"notify\")\n    workflow.add_edge(\"notify\", END)\n\n    return workflow.compile()\n\n# \u4f7f\u7528\u7bc4\u4f8b\nclaim_agent = create_claim_agent()\n\nresult = claim_agent.invoke({\n    \"policy_number\": \"P123456\",\n    \"claim_amount\": 50000,\n    \"claim_type\": \"\u91ab\u7642\u96aa\",\n    \"documents\": [\n        {\"type\": \"diagnosis\", \"content\": \"...\"},\n        {\"type\": \"receipts\", \"content\": \"...\"}\n    ],\n    \"document_issues\": [],\n    \"timeline\": []\n})\n\nprint(f\"\u7406\u8ce0\u6c7a\u5b9a: {result['decision']}\")\nprint(f\"\u6838\u51c6\u91d1\u984d: {result['approved_amount']}\")\nprint(f\"\u8655\u7406\u6642\u9593\u8ef8: {result['timeline']}\")\n</code></pre>"},{"location":"langgraph/architecture/04-agent-principles/#_5","title":"\u91cd\u9ede\u6574\u7406","text":""},{"location":"langgraph/architecture/04-agent-principles/#agent_3","title":"Agent \u57f7\u884c\u6d41\u7a0b","text":"<ol> <li>\u611f\u77e5\u968e\u6bb5: \u5206\u6790\u8f38\u5165\u548c\u7576\u524d\u72c0\u614b</li> <li>\u898f\u5283\u968e\u6bb5: \u6c7a\u5b9a\u57f7\u884c\u7b56\u7565</li> <li>\u57f7\u884c\u968e\u6bb5: \u5be6\u969b\u57f7\u884c\u52d5\u4f5c</li> <li>\u8a55\u4f30\u968e\u6bb5: \u6aa2\u67e5\u5b8c\u6210\u5ea6,\u6c7a\u5b9a\u662f\u5426\u7e7c\u7e8c</li> </ol>"},{"location":"langgraph/architecture/04-agent-principles/#_6","title":"\u6c7a\u7b56\u6a5f\u5236","text":"<ol> <li>ReAct \u6a21\u5f0f: \u4ea4\u66ff\u9032\u884c\u63a8\u7406\u548c\u884c\u52d5</li> <li>Chain of Thought: \u5206\u6b65\u9a5f\u63a8\u7406</li> <li>\u689d\u4ef6\u8def\u7531: \u6839\u64da\u72c0\u614b\u52d5\u614b\u6c7a\u7b56</li> </ol>"},{"location":"langgraph/architecture/04-agent-principles/#_7","title":"\u72c0\u614b\u7ba1\u7406","text":"<ol> <li>\u751f\u547d\u9031\u671f\u7ba1\u7406: \u8ffd\u8e64\u72c0\u614b\u5f9e\u521d\u59cb\u5316\u5230\u5b8c\u6210</li> <li>\u6301\u4e45\u5316: \u5132\u5b58\u548c\u6062\u5fa9\u72c0\u614b</li> <li>\u7248\u672c\u63a7\u5236: \u5feb\u7167\u548c\u56de\u6efe\u6a5f\u5236</li> </ol>"},{"location":"langgraph/architecture/04-agent-principles/#_8","title":"\u57f7\u884c\u63a7\u5236","text":"<ol> <li>\u8fed\u4ee3\u63a7\u5236: \u9650\u5236\u5faa\u74b0\u6b21\u6578,\u63d0\u524d\u505c\u6b62</li> <li>\u8d85\u6642\u63a7\u5236: \u9632\u6b62\u7121\u9650\u57f7\u884c</li> <li>\u8cc7\u6e90\u63a7\u5236: \u7ba1\u7406 token \u548c\u6210\u672c\u9810\u7b97</li> </ol>"},{"location":"langgraph/architecture/04-agent-principles/#_9","title":"\u7df4\u7fd2\u5efa\u8b70","text":""},{"location":"langgraph/architecture/04-agent-principles/#1-react-agent","title":"\u7df4\u7fd2 1: \u5be6\u4f5c ReAct Agent","text":"<p>\u5efa\u7acb\u4e00\u500b ReAct Agent \u4f86\u56de\u7b54\u8907\u96dc\u554f\u984c,\u9700\u8981: - \u81f3\u5c11 3 \u500b\u5de5\u5177 - \u5b8c\u6574\u7684\u63a8\u7406\u904e\u7a0b\u8a18\u9304 - \u8fed\u4ee3\u6b21\u6578\u9650\u5236</p>"},{"location":"langgraph/architecture/04-agent-principles/#2_3","title":"\u7df4\u7fd2 2: \u72c0\u614b\u6301\u4e45\u5316","text":"<p>\u70ba\u4efb\u4e00 Agent \u6dfb\u52a0: - \u72c0\u614b\u5132\u5b58\u529f\u80fd - \u5f9e\u6aa2\u67e5\u9ede\u6062\u5fa9 - \u67e5\u770b\u57f7\u884c\u6b77\u53f2</p>"},{"location":"langgraph/architecture/04-agent-principles/#3_2","title":"\u7df4\u7fd2 3: \u8cc7\u6e90\u63a7\u5236","text":"<p>\u5be6\u4f5c\u8cc7\u6e90\u611f\u77e5 Agent: - Token \u4f7f\u7528\u8ffd\u8e64 - \u6210\u672c\u8a08\u7b97 - \u9810\u7b97\u8d85\u652f\u8b66\u544a</p>"},{"location":"langgraph/architecture/04-agent-principles/#_10","title":"\u4e0b\u4e00\u6b65","text":"<p>\u73fe\u5728\u60a8\u5df2\u7d93\u6df1\u5165\u7406\u89e3 Agent \u7684\u5de5\u4f5c\u539f\u7406!\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2\u5982\u4f55\u8a2d\u8a08\u512a\u96c5\u7684 State Graph,\u904b\u7528\u5404\u7a2e\u8a2d\u8a08\u6a21\u5f0f\u4f86\u5efa\u7acb\u5f37\u5927\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p>          \u4e0b\u4e00\u7ae0: State Graph \u8a2d\u8a08\u6a21\u5f0f \u2192"},{"location":"langgraph/architecture/05-state-graph/","title":"State Graph \u8a2d\u8a08\u6a21\u5f0f","text":""},{"location":"langgraph/architecture/05-state-graph/#_1","title":"\u6982\u8ff0","text":"<p>State Graph \u662f LangGraph \u7684\u6838\u5fc3,\u826f\u597d\u7684\u5716\u5f62\u8a2d\u8a08\u80fd\u8b93 Agent \u66f4\u6e05\u6670\u3001\u53ef\u7dad\u8b77\u548c\u9ad8\u6548\u3002\u672c\u7ae0\u5c07\u4ecb\u7d39\u5e38\u898b\u7684\u8a2d\u8a08\u6a21\u5f0f\u548c\u6700\u4f73\u5be6\u8e10,\u5e6b\u52a9\u60a8\u8a2d\u8a08\u51fa\u512a\u96c5\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p> <pre><code>mindmap\n  root((State Graph&lt;br/&gt;\u8a2d\u8a08\u6a21\u5f0f))\n    \u7d50\u69cb\u6a21\u5f0f\n      \u7dda\u6027\u6d41\u7a0b\n      \u5206\u652f\u5408\u4f75\n      \u5faa\u74b0\u8fed\u4ee3\n      \u5c64\u7d1a\u7d50\u69cb\n    \u884c\u70ba\u6a21\u5f0f\n      \u7b56\u7565\u6a21\u5f0f\n      \u8cac\u4efb\u93c8\n      \u72c0\u614b\u6a5f\n      \u7ba1\u9053\u904e\u6ffe\u5668\n    \u4e26\u767c\u6a21\u5f0f\n      \u5206\u6563\u805a\u5408\n      \u4e26\u884c\u8655\u7406\n      \u7570\u6b65\u57f7\u884c</code></pre>"},{"location":"langgraph/architecture/05-state-graph/#_2","title":"\u57fa\u790e\u8a2d\u8a08\u6a21\u5f0f","text":""},{"location":"langgraph/architecture/05-state-graph/#1-sequential-pipeline","title":"1. \u7dda\u6027\u6d41\u7a0b\u6a21\u5f0f (Sequential Pipeline)","text":"<p>\u6700\u7c21\u55ae\u7684\u6a21\u5f0f,\u6309\u9806\u5e8f\u57f7\u884c\u7bc0\u9ede:</p> Python<pre><code>from langgraph.graph import StateGraph, END\nfrom typing import TypedDict\n\nclass PipelineState(TypedDict):\n    raw_data: str\n    cleaned_data: str\n    processed_data: str\n    result: str\n\ndef clean_data(state: PipelineState) -&gt; PipelineState:\n    \"\"\"\u6e05\u7406\u6578\u64da\"\"\"\n    cleaned = state[\"raw_data\"].strip().lower()\n    return {\"cleaned_data\": cleaned}\n\ndef process_data(state: PipelineState) -&gt; PipelineState:\n    \"\"\"\u8655\u7406\u6578\u64da\"\"\"\n    processed = f\"\u8655\u7406\u5f8c: {state['cleaned_data']}\"\n    return {\"processed_data\": processed}\n\ndef generate_result(state: PipelineState) -&gt; PipelineState:\n    \"\"\"\u751f\u6210\u7d50\u679c\"\"\"\n    result = f\"\u6700\u7d42\u7d50\u679c: {state['processed_data']}\"\n    return {\"result\": result}\n\n# \u5efa\u7acb\u7dda\u6027\u6d41\u7a0b\nworkflow = StateGraph(PipelineState)\nworkflow.add_node(\"clean\", clean_data)\nworkflow.add_node(\"process\", process_data)\nworkflow.add_node(\"generate\", generate_result)\n\nworkflow.set_entry_point(\"clean\")\nworkflow.add_edge(\"clean\", \"process\")\nworkflow.add_edge(\"process\", \"generate\")\nworkflow.add_edge(\"generate\", END)\n\npipeline = workflow.compile()\n</code></pre> <p>\u9069\u7528\u5834\u666f: \u8cc7\u6599\u8655\u7406\u7ba1\u9053\u3001ETL \u6d41\u7a0b\u3001\u7c21\u55ae\u7684\u8f49\u63db\u93c8</p>"},{"location":"langgraph/architecture/05-state-graph/#2-conditional-branching","title":"2. \u689d\u4ef6\u5206\u652f\u6a21\u5f0f (Conditional Branching)","text":"<p>\u6839\u64da\u72c0\u614b\u9078\u64c7\u4e0d\u540c\u7684\u57f7\u884c\u8def\u5f91:</p> Python<pre><code>class BranchingState(TypedDict):\n    user_type: str  # \"new\" or \"existing\"\n    message: str\n    response: str\n\ndef classify_user(state: BranchingState) -&gt; BranchingState:\n    \"\"\"\u5206\u985e\u4f7f\u7528\u8005\"\"\"\n    # \u5be6\u969b\u6703\u5f9e\u8cc7\u6599\u5eab\u67e5\u8a62\n    user_type = \"new\" if not user_exists(state) else \"existing\"\n    return {\"user_type\": user_type}\n\ndef onboard_new_user(state: BranchingState) -&gt; BranchingState:\n    \"\"\"\u65b0\u7528\u6236\u5f15\u5c0e\"\"\"\n    response = \"\u6b61\u8fce\u65b0\u7528\u6236!\u9019\u662f\u5f15\u5c0e\u6d41\u7a0b...\"\n    return {\"response\": response}\n\ndef serve_existing_user(state: BranchingState) -&gt; BranchingState:\n    \"\"\"\u670d\u52d9\u73fe\u6709\u7528\u6236\"\"\"\n    response = \"\u6b61\u8fce\u56de\u4f86!\u70ba\u60a8\u63d0\u4f9b\u670d\u52d9...\"\n    return {\"response\": response}\n\n# \u8def\u7531\u51fd\u6578\ndef route_by_user_type(state: BranchingState) -&gt; str:\n    return state[\"user_type\"]\n\nworkflow = StateGraph(BranchingState)\nworkflow.add_node(\"classify\", classify_user)\nworkflow.add_node(\"onboard\", onboard_new_user)\nworkflow.add_node(\"serve\", serve_existing_user)\n\nworkflow.set_entry_point(\"classify\")\nworkflow.add_conditional_edges(\n    \"classify\",\n    route_by_user_type,\n    {\n        \"new\": \"onboard\",\n        \"existing\": \"serve\"\n    }\n)\n\nworkflow.add_edge(\"onboard\", END)\nworkflow.add_edge(\"serve\", END)\n</code></pre> <p>\u9069\u7528\u5834\u666f: \u4f7f\u7528\u8005\u5206\u985e\u3001\u5167\u5bb9\u8def\u7531\u3001\u500b\u6027\u5316\u670d\u52d9</p>"},{"location":"langgraph/architecture/05-state-graph/#3-iterative-loop","title":"3. \u5faa\u74b0\u8fed\u4ee3\u6a21\u5f0f (Iterative Loop)","text":"<p>\u91cd\u8907\u57f7\u884c\u76f4\u5230\u6eff\u8db3\u689d\u4ef6:</p> Python<pre><code>class IterativeState(TypedDict):\n    prompt: str\n    response: str\n    quality_score: float\n    iteration: int\n    max_iterations: int\n\ndef generate_response(state: IterativeState) -&gt; IterativeState:\n    \"\"\"\u751f\u6210\u56de\u61c9\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    llm = ChatOpenAI(model=\"gpt-4\")\n    response = llm.invoke(state[\"prompt\"]).content\n\n    return {\n        \"response\": response,\n        \"iteration\": state[\"iteration\"] + 1\n    }\n\ndef evaluate_quality(state: IterativeState) -&gt; IterativeState:\n    \"\"\"\u8a55\u4f30\u54c1\u8cea\"\"\"\n    # \u7c21\u5316\u7684\u54c1\u8cea\u8a55\u4f30\n    score = len(state[\"response\"]) / 100  # \u793a\u4f8b\n    return {\"quality_score\": min(score, 1.0)}\n\ndef refine_prompt(state: IterativeState) -&gt; IterativeState:\n    \"\"\"\u512a\u5316\u63d0\u793a\u8a5e\"\"\"\n    refined = f\"{state['prompt']}\\n\u8acb\u63d0\u4f9b\u66f4\u8a73\u7d30\u7684\u56de\u7b54\u3002\"\n    return {\"prompt\": refined}\n\ndef should_continue(state: IterativeState) -&gt; str:\n    if state[\"quality_score\"] &gt;= 0.8:\n        return \"done\"\n    if state[\"iteration\"] &gt;= state[\"max_iterations\"]:\n        return \"done\"\n    return \"refine\"\n\nworkflow = StateGraph(IterativeState)\nworkflow.add_node(\"generate\", generate_response)\nworkflow.add_node(\"evaluate\", evaluate_quality)\nworkflow.add_node(\"refine\", refine_prompt)\n\nworkflow.set_entry_point(\"generate\")\nworkflow.add_edge(\"generate\", \"evaluate\")\nworkflow.add_conditional_edges(\n    \"evaluate\",\n    should_continue,\n    {\n        \"done\": END,\n        \"refine\": \"refine\"\n    }\n)\nworkflow.add_edge(\"refine\", \"generate\")\n</code></pre> <p>\u9069\u7528\u5834\u666f: \u7d50\u679c\u512a\u5316\u3001\u81ea\u6211\u6539\u9032\u3001\u54c1\u8cea\u4fdd\u8b49</p>"},{"location":"langgraph/architecture/05-state-graph/#4-scatter-gather","title":"4. \u5206\u6563\u805a\u5408\u6a21\u5f0f (Scatter-Gather)","text":"<p>\u4e26\u884c\u8655\u7406\u591a\u500b\u4efb\u52d9\u5f8c\u5408\u4f75\u7d50\u679c:</p> Python<pre><code>from concurrent.futures import ThreadPoolExecutor\nfrom typing import Annotated\nfrom operator import add\n\nclass ScatterGatherState(TypedDict):\n    query: str\n    search_results: Annotated[list, add]\n    database_results: Annotated[list, add]\n    api_results: Annotated[list, add]\n    merged_results: list\n\ndef scatter_node(state: ScatterGatherState) -&gt; ScatterGatherState:\n    \"\"\"\u5206\u6563\u4efb\u52d9\"\"\"\n    # \u9019\u88e1\u53ea\u662f\u6a19\u8a18,\u5be6\u969b\u4e26\u884c\u5728\u5404\u500b\u7bc0\u9ede\u5167\u90e8\n    return {\"query\": state[\"query\"]}\n\ndef search_web(state: ScatterGatherState) -&gt; ScatterGatherState:\n    \"\"\"\u7db2\u9801\u641c\u5c0b\"\"\"\n    results = perform_web_search(state[\"query\"])\n    return {\"search_results\": results}\n\ndef query_database(state: ScatterGatherState) -&gt; ScatterGatherState:\n    \"\"\"\u8cc7\u6599\u5eab\u67e5\u8a62\"\"\"\n    results = query_db(state[\"query\"])\n    return {\"database_results\": results}\n\ndef call_api(state: ScatterGatherState) -&gt; ScatterGatherState:\n    \"\"\"API \u8abf\u7528\"\"\"\n    results = call_external_api(state[\"query\"])\n    return {\"api_results\": results}\n\ndef parallel_search_node(state: ScatterGatherState) -&gt; ScatterGatherState:\n    \"\"\"\u4e26\u884c\u57f7\u884c\u6240\u6709\u641c\u5c0b\"\"\"\n    with ThreadPoolExecutor(max_workers=3) as executor:\n        # \u4e26\u884c\u57f7\u884c\n        web_future = executor.submit(perform_web_search, state[\"query\"])\n        db_future = executor.submit(query_db, state[\"query\"])\n        api_future = executor.submit(call_external_api, state[\"query\"])\n\n        # \u6536\u96c6\u7d50\u679c\n        return {\n            \"search_results\": [web_future.result()],\n            \"database_results\": [db_future.result()],\n            \"api_results\": [api_future.result()]\n        }\n\ndef gather_node(state: ScatterGatherState) -&gt; ScatterGatherState:\n    \"\"\"\u805a\u5408\u7d50\u679c\"\"\"\n    all_results = (\n        state[\"search_results\"] +\n        state[\"database_results\"] +\n        state[\"api_results\"]\n    )\n\n    # \u53bb\u91cd\u548c\u6392\u5e8f\n    merged = deduplicate_and_rank(all_results)\n\n    return {\"merged_results\": merged}\n\nworkflow = StateGraph(ScatterGatherState)\nworkflow.add_node(\"parallel_search\", parallel_search_node)\nworkflow.add_node(\"gather\", gather_node)\n\nworkflow.set_entry_point(\"parallel_search\")\nworkflow.add_edge(\"parallel_search\", \"gather\")\nworkflow.add_edge(\"gather\", END)\n</code></pre> <p>\u9069\u7528\u5834\u666f: \u591a\u4f86\u6e90\u8cc7\u6599\u6574\u5408\u3001\u4e26\u884c\u641c\u5c0b\u3001\u5206\u6563\u5f0f\u8655\u7406</p>"},{"location":"langgraph/architecture/05-state-graph/#_3","title":"\u9032\u968e\u8a2d\u8a08\u6a21\u5f0f","text":""},{"location":"langgraph/architecture/05-state-graph/#5-state-machine","title":"5. \u72c0\u614b\u6a5f\u6a21\u5f0f (State Machine)","text":"<p>\u7ba1\u7406\u8907\u96dc\u7684\u72c0\u614b\u8f49\u63db:</p> Python<pre><code>from enum import Enum\n\nclass OrderStatus(Enum):\n    CREATED = \"created\"\n    PAYMENT_PENDING = \"payment_pending\"\n    PAYMENT_CONFIRMED = \"payment_confirmed\"\n    PROCESSING = \"processing\"\n    SHIPPED = \"shipped\"\n    DELIVERED = \"delivered\"\n    CANCELLED = \"cancelled\"\n\nclass OrderState(TypedDict):\n    order_id: str\n    status: str\n    payment_method: str\n    shipping_address: str\n    timeline: Annotated[list[dict], add]\n\ndef create_order(state: OrderState) -&gt; OrderState:\n    return {\n        \"order_id\": generate_order_id(),\n        \"status\": OrderStatus.CREATED.value,\n        \"timeline\": [{\"event\": \"\u8a02\u55ae\u5efa\u7acb\", \"timestamp\": now()}]\n    }\n\ndef process_payment(state: OrderState) -&gt; OrderState:\n    # \u8655\u7406\u652f\u4ed8\n    payment_success = process_payment_gateway(state)\n\n    new_status = (\n        OrderStatus.PAYMENT_CONFIRMED.value if payment_success\n        else OrderStatus.PAYMENT_PENDING.value\n    )\n\n    return {\n        \"status\": new_status,\n        \"timeline\": [{\"event\": \"\u652f\u4ed8\u8655\u7406\", \"timestamp\": now()}]\n    }\n\ndef prepare_shipment(state: OrderState) -&gt; OrderState:\n    return {\n        \"status\": OrderStatus.PROCESSING.value,\n        \"timeline\": [{\"event\": \"\u6e96\u5099\u51fa\u8ca8\", \"timestamp\": now()}]\n    }\n\ndef ship_order(state: OrderState) -&gt; OrderState:\n    return {\n        \"status\": OrderStatus.SHIPPED.value,\n        \"timeline\": [{\"event\": \"\u5df2\u51fa\u8ca8\", \"timestamp\": now()}]\n    }\n\n# \u72c0\u614b\u8f49\u63db\u8def\u7531\ndef route_order_status(state: OrderState) -&gt; str:\n    status = OrderStatus(state[\"status\"])\n\n    transitions = {\n        OrderStatus.CREATED: \"payment\",\n        OrderStatus.PAYMENT_CONFIRMED: \"prepare\",\n        OrderStatus.PROCESSING: \"ship\",\n        OrderStatus.SHIPPED: \"end\"\n    }\n\n    return transitions.get(status, \"end\")\n\nworkflow = StateGraph(OrderState)\nworkflow.add_node(\"create\", create_order)\nworkflow.add_node(\"payment\", process_payment)\nworkflow.add_node(\"prepare\", prepare_shipment)\nworkflow.add_node(\"ship\", ship_order)\n\nworkflow.set_entry_point(\"create\")\nworkflow.add_edge(\"create\", \"payment\")\n\nworkflow.add_conditional_edges(\n    \"payment\",\n    lambda s: \"prepare\" if s[\"status\"] == OrderStatus.PAYMENT_CONFIRMED.value else END\n)\n\nworkflow.add_edge(\"prepare\", \"ship\")\nworkflow.add_edge(\"ship\", END)\n</code></pre> <p>\u9069\u7528\u5834\u666f: \u8a02\u55ae\u8655\u7406\u3001\u5de5\u55ae\u6d41\u7a0b\u3001\u5be9\u6279\u7cfb\u7d71</p>"},{"location":"langgraph/architecture/05-state-graph/#6-chain-of-responsibility","title":"6. \u8cac\u4efb\u93c8\u6a21\u5f0f (Chain of Responsibility)","text":"<p>\u4f9d\u5e8f\u5617\u8a66\u591a\u500b\u8655\u7406\u5668:</p> Python<pre><code>class HandlerState(TypedDict):\n    request: str\n    handled: bool\n    handler_used: str\n    response: str\n\ndef basic_handler(state: HandlerState) -&gt; HandlerState:\n    \"\"\"\u57fa\u790e\u8655\u7406\u5668\"\"\"\n    if is_basic_query(state[\"request\"]):\n        return {\n            \"handled\": True,\n            \"handler_used\": \"basic\",\n            \"response\": \"\u57fa\u790e\u56de\u7b54\"\n        }\n    return {\"handled\": False}\n\ndef advanced_handler(state: HandlerState) -&gt; HandlerState:\n    \"\"\"\u9032\u968e\u8655\u7406\u5668\"\"\"\n    if is_advanced_query(state[\"request\"]):\n        return {\n            \"handled\": True,\n            \"handler_used\": \"advanced\",\n            \"response\": \"\u9032\u968e\u56de\u7b54\"\n        }\n    return {\"handled\": False}\n\ndef expert_handler(state: HandlerState) -&gt; HandlerState:\n    \"\"\"\u5c08\u5bb6\u8655\u7406\u5668\"\"\"\n    return {\n        \"handled\": True,\n        \"handler_used\": \"expert\",\n        \"response\": \"\u5c08\u5bb6\u7d1a\u56de\u7b54\"\n    }\n\ndef route_to_next_handler(state: HandlerState) -&gt; str:\n    if state[\"handled\"]:\n        return \"done\"\n\n    # \u6839\u64da\u7576\u524d\u8655\u7406\u5668\u6c7a\u5b9a\u4e0b\u4e00\u500b\n    current = state.get(\"handler_used\", \"\")\n    if current == \"basic\":\n        return \"advanced\"\n    elif current == \"advanced\":\n        return \"expert\"\n    return \"basic\"\n\nworkflow = StateGraph(HandlerState)\nworkflow.add_node(\"basic\", basic_handler)\nworkflow.add_node(\"advanced\", advanced_handler)\nworkflow.add_node(\"expert\", expert_handler)\n\nworkflow.set_entry_point(\"basic\")\n\nworkflow.add_conditional_edges(\n    \"basic\",\n    route_to_next_handler,\n    {\"done\": END, \"advanced\": \"advanced\"}\n)\n\nworkflow.add_conditional_edges(\n    \"advanced\",\n    route_to_next_handler,\n    {\"done\": END, \"expert\": \"expert\"}\n)\n\nworkflow.add_edge(\"expert\", END)\n</code></pre> <p>\u9069\u7528\u5834\u666f: \u9010\u7d1a\u5347\u7d1a\u8655\u7406\u3001\u6b0a\u9650\u9a57\u8b49\u93c8\u3001\u7570\u5e38\u8655\u7406</p>"},{"location":"langgraph/architecture/05-state-graph/#7-strategy-pattern","title":"7. \u7b56\u7565\u6a21\u5f0f (Strategy Pattern)","text":"<p>\u52d5\u614b\u9078\u64c7\u8655\u7406\u7b56\u7565:</p> Python<pre><code>class StrategyState(TypedDict):\n    problem_type: str\n    complexity: str\n    strategy: str\n    solution: str\n\ndef analyze_problem(state: StrategyState) -&gt; StrategyState:\n    \"\"\"\u5206\u6790\u554f\u984c\u4e26\u9078\u64c7\u7b56\u7565\"\"\"\n    # \u6839\u64da\u554f\u984c\u7279\u6027\u9078\u64c7\u7b56\u7565\n    if state[\"complexity\"] == \"low\":\n        strategy = \"simple\"\n    elif state[\"complexity\"] == \"medium\":\n        strategy = \"standard\"\n    else:\n        strategy = \"advanced\"\n\n    return {\"strategy\": strategy}\n\ndef simple_strategy(state: StrategyState) -&gt; StrategyState:\n    \"\"\"\u7c21\u55ae\u7b56\u7565\"\"\"\n    return {\"solution\": \"\u4f7f\u7528\u7c21\u55ae\u65b9\u6cd5\u89e3\u6c7a\"}\n\ndef standard_strategy(state: StrategyState) -&gt; StrategyState:\n    \"\"\"\u6a19\u6e96\u7b56\u7565\"\"\"\n    return {\"solution\": \"\u4f7f\u7528\u6a19\u6e96\u65b9\u6cd5\u89e3\u6c7a\"}\n\ndef advanced_strategy(state: StrategyState) -&gt; StrategyState:\n    \"\"\"\u9032\u968e\u7b56\u7565\"\"\"\n    return {\"solution\": \"\u4f7f\u7528\u9032\u968e\u65b9\u6cd5\u89e3\u6c7a\"}\n\ndef select_strategy(state: StrategyState) -&gt; str:\n    return state[\"strategy\"]\n\nworkflow = StateGraph(StrategyState)\nworkflow.add_node(\"analyze\", analyze_problem)\nworkflow.add_node(\"simple\", simple_strategy)\nworkflow.add_node(\"standard\", standard_strategy)\nworkflow.add_node(\"advanced\", advanced_strategy)\n\nworkflow.set_entry_point(\"analyze\")\nworkflow.add_conditional_edges(\n    \"analyze\",\n    select_strategy,\n    {\n        \"simple\": \"simple\",\n        \"standard\": \"standard\",\n        \"advanced\": \"advanced\"\n    }\n)\n\nworkflow.add_edge(\"simple\", END)\nworkflow.add_edge(\"standard\", END)\nworkflow.add_edge(\"advanced\", END)\n</code></pre> <p>\u9069\u7528\u5834\u666f: \u6f14\u7b97\u6cd5\u9078\u64c7\u3001\u8655\u7406\u7b56\u7565\u5207\u63db\u3001\u914d\u7f6e\u9a45\u52d5\u6d41\u7a0b</p>"},{"location":"langgraph/architecture/05-state-graph/#_4","title":"\u570b\u6cf0\u4eba\u58fd\u6848\u4f8b:\u5ba2\u6236\u670d\u52d9\u6d41\u7a0b","text":"<p>\u6574\u5408\u591a\u7a2e\u6a21\u5f0f\u7684\u5b8c\u6574\u6848\u4f8b:</p> Python<pre><code>class CustomerServiceState(TypedDict):\n    # \u5ba2\u6236\u8cc7\u8a0a\n    customer_id: str\n    customer_tier: str  # bronze, silver, gold, platinum\n\n    # \u8acb\u6c42\u8cc7\u8a0a\n    request_type: str\n    request_detail: str\n    urgency: str\n\n    # \u8655\u7406\u6d41\u7a0b\n    current_handler: str\n    escalation_level: int\n    timeline: Annotated[list[dict], add]\n\n    # \u7d50\u679c\n    resolution: str\n    satisfaction_score: float\n\n# 1. \u521d\u59cb\u5206\u985e (\u7b56\u7565\u6a21\u5f0f)\ndef classify_request(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u5206\u985e\u5ba2\u6236\u8acb\u6c42\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u5206\u985e\u4ee5\u4e0b\u5ba2\u6236\u8acb\u6c42:\n    {state['request_detail']}\n\n    \u985e\u5225: policy_query, claim, complaint, consultation\n    \u6025\u8feb\u6027: low, medium, high\n\n    \u4ee5 JSON \u56de\u7b54: {{\"type\": \"...\", \"urgency\": \"...\"}}\n    \"\"\"\n\n    import json\n    result = json.loads(llm.invoke(prompt).content)\n\n    return {\n        \"request_type\": result[\"type\"],\n        \"urgency\": result[\"urgency\"],\n        \"timeline\": [{\"event\": \"\u8acb\u6c42\u5df2\u5206\u985e\", \"timestamp\": now()}]\n    }\n\n# 2. \u512a\u5148\u7d1a\u8def\u7531 (\u689d\u4ef6\u5206\u652f)\ndef route_by_priority(state: CustomerServiceState) -&gt; str:\n    \"\"\"\u6839\u64da\u5ba2\u6236\u5c64\u7d1a\u548c\u6025\u8feb\u6027\u8def\u7531\"\"\"\n    tier = state[\"customer_tier\"]\n    urgency = state[\"urgency\"]\n\n    # VIP \u5ba2\u6236\u6216\u9ad8\u6025\u8feb\u6027\u76f4\u63a5\u8f49\u5c08\u54e1\n    if tier in [\"gold\", \"platinum\"] or urgency == \"high\":\n        return \"specialist\"\n\n    # \u4e00\u822c\u5ba2\u6236\u5148\u5617\u8a66\u81ea\u52d5\u8655\u7406\n    return \"auto_handler\"\n\n# 3. \u81ea\u52d5\u8655\u7406 (\u8cac\u4efb\u93c8\u6a21\u5f0f)\ndef auto_handler(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u81ea\u52d5\u8655\u7406\u7cfb\u7d71\"\"\"\n    # \u5617\u8a66\u5f9e\u77e5\u8b58\u5eab\u627e\u7b54\u6848\n    kb_result = search_knowledge_base(state[\"request_detail\"])\n\n    if kb_result[\"confidence\"] &gt; 0.8:\n        return {\n            \"current_handler\": \"auto\",\n            \"resolution\": kb_result[\"answer\"],\n            \"timeline\": [{\"event\": \"\u81ea\u52d5\u8655\u7406\u5b8c\u6210\", \"timestamp\": now()}]\n        }\n\n    # \u7121\u6cd5\u81ea\u52d5\u8655\u7406,\u5347\u7d1a\n    return {\n        \"current_handler\": \"auto_failed\",\n        \"escalation_level\": 1,\n        \"timeline\": [{\"event\": \"\u5347\u7d1a\u81f3\u4eba\u5de5\u8655\u7406\", \"timestamp\": now()}]\n    }\n\n# 4. \u4eba\u5de5\u8655\u7406 (\u72c0\u614b\u6a5f\u6a21\u5f0f)\ndef specialist_handler(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u5c08\u54e1\u8655\u7406\"\"\"\n    # \u5206\u914d\u7d66\u9069\u5408\u7684\u5c08\u54e1\n    specialist = assign_specialist(state[\"request_type\"])\n\n    return {\n        \"current_handler\": f\"specialist_{specialist}\",\n        \"timeline\": [{\"event\": f\"\u5df2\u5206\u914d\u7d66\u5c08\u54e1 {specialist}\", \"timestamp\": now()}]\n    }\n\ndef senior_handler(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8cc7\u6df1\u5c08\u54e1\u8655\u7406\"\"\"\n    return {\n        \"current_handler\": \"senior\",\n        \"escalation_level\": 2,\n        \"timeline\": [{\"event\": \"\u8cc7\u6df1\u5c08\u54e1\u63a5\u624b\", \"timestamp\": now()}]\n    }\n\ndef manager_handler(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u7d93\u7406\u8655\u7406\"\"\"\n    return {\n        \"current_handler\": \"manager\",\n        \"escalation_level\": 3,\n        \"resolution\": \"\u7531\u7d93\u7406\u89aa\u81ea\u8655\u7406\u4e26\u89e3\u6c7a\",\n        \"timeline\": [{\"event\": \"\u7d93\u7406\u89aa\u81ea\u8655\u7406\", \"timestamp\": now()}]\n    }\n\n# 5. \u5f8c\u7e8c\u8ffd\u8e64 (\u5faa\u74b0\u6a21\u5f0f)\ndef follow_up(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u5f8c\u7e8c\u8ffd\u8e64\"\"\"\n    # \u767c\u9001\u6eff\u610f\u5ea6\u8abf\u67e5\n    score = collect_satisfaction(state[\"customer_id\"])\n\n    return {\n        \"satisfaction_score\": score,\n        \"timeline\": [{\"event\": \"\u5b8c\u6210\u6eff\u610f\u5ea6\u8abf\u67e5\", \"timestamp\": now()}]\n    }\n\ndef should_escalate(state: CustomerServiceState) -&gt; str:\n    \"\"\"\u6c7a\u5b9a\u662f\u5426\u5347\u7d1a\"\"\"\n    # \u81ea\u52d5\u8655\u7406\u5931\u6557\n    if state[\"current_handler\"] == \"auto_failed\":\n        return \"specialist\"\n\n    # \u6eff\u610f\u5ea6\u592a\u4f4e\u9700\u8981\u5347\u7d1a\n    if state.get(\"satisfaction_score\", 1.0) &lt; 0.6:\n        level = state[\"escalation_level\"]\n        if level == 1:\n            return \"senior\"\n        elif level == 2:\n            return \"manager\"\n\n    return \"done\"\n\n# \u5efa\u7acb\u5b8c\u6574\u5de5\u4f5c\u6d41\u7a0b\ndef create_customer_service_agent():\n    workflow = StateGraph(CustomerServiceState)\n\n    # \u6dfb\u52a0\u6240\u6709\u7bc0\u9ede\n    workflow.add_node(\"classify\", classify_request)\n    workflow.add_node(\"auto\", auto_handler)\n    workflow.add_node(\"specialist\", specialist_handler)\n    workflow.add_node(\"senior\", senior_handler)\n    workflow.add_node(\"manager\", manager_handler)\n    workflow.add_node(\"follow_up\", follow_up)\n\n    # \u8a2d\u5b9a\u6d41\u7a0b\n    workflow.set_entry_point(\"classify\")\n\n    # \u512a\u5148\u7d1a\u8def\u7531\n    workflow.add_conditional_edges(\n        \"classify\",\n        route_by_priority,\n        {\n            \"auto_handler\": \"auto\",\n            \"specialist\": \"specialist\"\n        }\n    )\n\n    # \u81ea\u52d5\u8655\u7406\u5f8c\u7684\u8def\u7531\n    workflow.add_conditional_edges(\n        \"auto\",\n        should_escalate,\n        {\n            \"specialist\": \"specialist\",\n            \"done\": \"follow_up\"\n        }\n    )\n\n    # \u4eba\u5de5\u8655\u7406\u93c8\n    workflow.add_edge(\"specialist\", \"follow_up\")\n\n    # \u8ffd\u8e64\u5f8c\u53ef\u80fd\u5347\u7d1a\n    workflow.add_conditional_edges(\n        \"follow_up\",\n        should_escalate,\n        {\n            \"senior\": \"senior\",\n            \"manager\": \"manager\",\n            \"done\": END\n        }\n    )\n\n    workflow.add_edge(\"senior\", END)\n    workflow.add_edge(\"manager\", END)\n\n    return workflow.compile()\n\n# \u4f7f\u7528\u7bc4\u4f8b\ncs_agent = create_customer_service_agent()\n\nresult = cs_agent.invoke({\n    \"customer_id\": \"C12345\",\n    \"customer_tier\": \"silver\",\n    \"request_detail\": \"\u6211\u7684\u4fdd\u55ae\u7406\u8ce0\u9032\u5ea6\u5982\u4f55?\",\n    \"escalation_level\": 0,\n    \"timeline\": []\n})\n\nprint(f\"\u8655\u7406\u4eba\u54e1: {result['current_handler']}\")\nprint(f\"\u89e3\u6c7a\u65b9\u6848: {result['resolution']}\")\nprint(f\"\u8655\u7406\u6642\u9593\u8ef8: {result['timeline']}\")\n</code></pre>"},{"location":"langgraph/architecture/05-state-graph/#_5","title":"\u8a2d\u8a08\u6700\u4f73\u5be6\u8e10","text":""},{"location":"langgraph/architecture/05-state-graph/#1","title":"1. \u55ae\u4e00\u8077\u8cac\u539f\u5247","text":"<p>\u6bcf\u500b\u7bc0\u9ede\u53ea\u505a\u4e00\u4ef6\u4e8b:</p> Python<pre><code># \u274c \u4e0d\u597d\u7684\u8a2d\u8a08\ndef big_node(state):\n    # \u505a\u592a\u591a\u4e8b\u60c5\n    data = fetch_data()\n    cleaned = clean_data(data)\n    processed = process(cleaned)\n    validated = validate(processed)\n    saved = save(validated)\n    return {\"result\": saved}\n\n# \u2705 \u597d\u7684\u8a2d\u8a08\ndef fetch_node(state):\n    return {\"raw_data\": fetch_data()}\n\ndef clean_node(state):\n    return {\"cleaned_data\": clean_data(state[\"raw_data\"])}\n\ndef process_node(state):\n    return {\"processed_data\": process(state[\"cleaned_data\"])}\n</code></pre>"},{"location":"langgraph/architecture/05-state-graph/#2","title":"2. \u6e05\u6670\u7684\u72c0\u614b\u6d41\u52d5","text":"<p>\u4f7f\u7528\u6709\u610f\u7fa9\u7684\u72c0\u614b\u6b04\u4f4d\u540d\u7a31:</p> Python<pre><code># \u274c \u4e0d\u6e05\u6670\nclass State(TypedDict):\n    data: str\n    result: str\n    temp: str\n\n# \u2705 \u6e05\u6670\nclass State(TypedDict):\n    user_input: str\n    extracted_entities: dict\n    generated_response: str\n    validation_result: dict\n</code></pre>"},{"location":"langgraph/architecture/05-state-graph/#3","title":"3. \u932f\u8aa4\u8655\u7406\u8def\u5f91","text":"<p>\u70ba\u932f\u8aa4\u60c5\u6cc1\u8a2d\u8a08\u660e\u78ba\u7684\u8def\u5f91:</p> Python<pre><code>def safe_node(state):\n    try:\n        result = risky_operation(state)\n        return {\"result\": result, \"error\": None}\n    except Exception as e:\n        return {\"error\": str(e), \"retry_count\": state.get(\"retry_count\", 0) + 1}\n\ndef error_router(state):\n    if state.get(\"error\"):\n        if state[\"retry_count\"] &lt; 3:\n            return \"retry\"\n        return \"fallback\"\n    return \"continue\"\n</code></pre>"},{"location":"langgraph/architecture/05-state-graph/#_6","title":"\u91cd\u9ede\u6574\u7406","text":""},{"location":"langgraph/architecture/05-state-graph/#_7","title":"\u57fa\u790e\u6a21\u5f0f","text":"<ul> <li>\u7dda\u6027\u6d41\u7a0b: \u9806\u5e8f\u57f7\u884c,\u9069\u5408\u7c21\u55ae\u7ba1\u9053</li> <li>\u689d\u4ef6\u5206\u652f: \u6839\u64da\u689d\u4ef6\u9078\u64c7\u8def\u5f91</li> <li>\u5faa\u74b0\u8fed\u4ee3: \u91cd\u8907\u512a\u5316\u76f4\u5230\u6eff\u8db3\u689d\u4ef6</li> <li>\u5206\u6563\u805a\u5408: \u4e26\u884c\u8655\u7406\u5f8c\u5408\u4f75</li> </ul>"},{"location":"langgraph/architecture/05-state-graph/#_8","title":"\u9032\u968e\u6a21\u5f0f","text":"<ul> <li>\u72c0\u614b\u6a5f: \u7ba1\u7406\u8907\u96dc\u72c0\u614b\u8f49\u63db</li> <li>\u8cac\u4efb\u93c8: \u9010\u7d1a\u5617\u8a66\u8655\u7406\u5668</li> <li>\u7b56\u7565\u6a21\u5f0f: \u52d5\u614b\u9078\u64c7\u8655\u7406\u7b56\u7565</li> </ul>"},{"location":"langgraph/architecture/05-state-graph/#_9","title":"\u8a2d\u8a08\u539f\u5247","text":"<ul> <li>\u55ae\u4e00\u8077\u8cac</li> <li>\u6e05\u6670\u7684\u72c0\u614b\u6d41\u52d5</li> <li>\u660e\u78ba\u7684\u932f\u8aa4\u8655\u7406</li> <li>\u53ef\u8996\u5316\u512a\u5148</li> </ul>"},{"location":"langgraph/architecture/05-state-graph/#_10","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u9078\u64c7 3 \u7a2e\u8a2d\u8a08\u6a21\u5f0f,\u5efa\u7acb\u5be6\u969b\u61c9\u7528</li> <li>\u8a2d\u8a08\u4e00\u500b\u8a02\u55ae\u8655\u7406\u6d41\u7a0b,\u6574\u5408\u591a\u7a2e\u6a21\u5f0f</li> <li>\u70ba\u73fe\u6709 Agent \u7e6a\u88fd\u6d41\u7a0b\u5716\u4e26\u512a\u5316</li> </ol>"},{"location":"langgraph/architecture/05-state-graph/#_11","title":"\u4e0b\u4e00\u6b65","text":"<p>\u638c\u63e1\u4e86\u8a2d\u8a08\u6a21\u5f0f\u5f8c,\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u6df1\u5165\u5b78\u7fd2\u689d\u4ef6\u908a\u7684\u9032\u968e\u4f7f\u7528,\u5be6\u73fe\u66f4\u8907\u96dc\u7684\u8def\u7531\u908f\u8f2f\u3002</p>"},{"location":"langgraph/architecture/06-conditional-edges/","title":"\u689d\u4ef6\u908a\u4f7f\u7528","text":""},{"location":"langgraph/architecture/06-conditional-edges/#_2","title":"\u6982\u8ff0","text":"<p>\u689d\u4ef6\u908a(Conditional Edges)\u662f LangGraph \u6700\u5f37\u5927\u7684\u529f\u80fd\u4e4b\u4e00,\u5141\u8a31\u6839\u64da\u72c0\u614b\u52d5\u614b\u6c7a\u5b9a\u5de5\u4f5c\u6d41\u7a0b\u7684\u57f7\u884c\u8def\u5f91\u3002\u638c\u63e1\u689d\u4ef6\u908a\u7684\u4f7f\u7528\u662f\u5efa\u7acb\u667a\u80fd Agent \u7684\u95dc\u9375\u3002</p> <pre><code>graph TB\n    A[Node A] --&gt; B{\u8def\u7531\u51fd\u6578}\n    B --&gt;|\u689d\u4ef6 1| C[Node B]\n    B --&gt;|\u689d\u4ef6 2| D[Node C]\n    B --&gt;|\u689d\u4ef6 3| E[Node D]\n    B --&gt;|\u9810\u8a2d| F[Node E]\n\n    style B fill:#FF9800,color:#fff</code></pre> <p>\u689d\u4ef6\u908a\u7684\u672c\u8cea</p> <p>\u689d\u4ef6\u908a\u8b93 Agent \u80fd\u5920**\u52d5\u614b\u6c7a\u7b56**,\u6839\u64da\u7576\u524d\u72c0\u614b\u9078\u64c7\u6700\u9069\u5408\u7684\u57f7\u884c\u8def\u5f91,\u5be6\u73fe\u771f\u6b63\u7684\u667a\u80fd\u5316\u3002</p>"},{"location":"langgraph/architecture/06-conditional-edges/#_3","title":"\u57fa\u790e\u7528\u6cd5","text":""},{"location":"langgraph/architecture/06-conditional-edges/#1","title":"1. \u7c21\u55ae\u689d\u4ef6\u8def\u7531","text":"Python<pre><code>from langgraph.graph import StateGraph, END\nfrom typing import TypedDict\n\nclass SimpleState(TypedDict):\n    score: float\n    result: str\n\ndef evaluate_node(state: SimpleState) -&gt; SimpleState:\n    # \u8a08\u7b97\u5206\u6578\n    score = calculate_score(state)\n    return {\"score\": score}\n\ndef high_score_handler(state: SimpleState) -&gt; SimpleState:\n    return {\"result\": \"\u512a\u79c0!\"}\n\ndef low_score_handler(state: SimpleState) -&gt; SimpleState:\n    return {\"result\": \"\u9700\u8981\u6539\u9032\"}\n\n# \u8def\u7531\u51fd\u6578\ndef route_by_score(state: SimpleState) -&gt; str:\n    \"\"\"\u6839\u64da\u5206\u6578\u8def\u7531\"\"\"\n    if state[\"score\"] &gt;= 0.8:\n        return \"high\"\n    else:\n        return \"low\"\n\n# \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(SimpleState)\nworkflow.add_node(\"evaluate\", evaluate_node)\nworkflow.add_node(\"high_handler\", high_score_handler)\nworkflow.add_node(\"low_handler\", low_score_handler)\n\nworkflow.set_entry_point(\"evaluate\")\n\n# \u6dfb\u52a0\u689d\u4ef6\u908a\nworkflow.add_conditional_edges(\n    \"evaluate\",          # \u5f9e\u54ea\u500b\u7bc0\u9ede\u51fa\u767c\n    route_by_score,      # \u8def\u7531\u51fd\u6578\n    {\n        \"high\": \"high_handler\",    # \u6620\u5c04:\u8fd4\u56de\u503c -&gt; \u76ee\u6a19\u7bc0\u9ede\n        \"low\": \"low_handler\"\n    }\n)\n\nworkflow.add_edge(\"high_handler\", END)\nworkflow.add_edge(\"low_handler\", END)\n\napp = workflow.compile()\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#2","title":"2. \u591a\u689d\u4ef6\u8def\u7531","text":"Python<pre><code>class MultiConditionState(TypedDict):\n    user_type: str      # \"individual\" or \"corporate\"\n    urgency: str        # \"low\", \"medium\", \"high\"\n    complexity: str     # \"simple\" or \"complex\"\n    route: str\n\ndef multi_condition_router(state: MultiConditionState) -&gt; str:\n    \"\"\"\u8907\u96dc\u7684\u591a\u689d\u4ef6\u8def\u7531\"\"\"\n\n    # \u9ad8\u512a\u5148\u7d1a:\u4f01\u696d\u5ba2\u6236 + \u9ad8\u6025\u8feb\u6027\n    if state[\"user_type\"] == \"corporate\" and state[\"urgency\"] == \"high\":\n        return \"vip_fast_track\"\n\n    # \u8907\u96dc\u554f\u984c\u9700\u8981\u5c08\u5bb6\n    if state[\"complexity\"] == \"complex\":\n        return \"expert_handler\"\n\n    # \u4e00\u822c\u4f01\u696d\u5ba2\u6236\n    if state[\"user_type\"] == \"corporate\":\n        return \"corporate_handler\"\n\n    # \u6025\u8feb\u7684\u500b\u4eba\u5ba2\u6236\n    if state[\"urgency\"] == \"high\":\n        return \"priority_handler\"\n\n    # \u9810\u8a2d\u8def\u5f91\n    return \"standard_handler\"\n\nworkflow = StateGraph(MultiConditionState)\n\n# ... \u6dfb\u52a0\u7bc0\u9ede ...\n\nworkflow.add_conditional_edges(\n    \"classify\",\n    multi_condition_router,\n    {\n        \"vip_fast_track\": \"vip_node\",\n        \"expert_handler\": \"expert_node\",\n        \"corporate_handler\": \"corporate_node\",\n        \"priority_handler\": \"priority_node\",\n        \"standard_handler\": \"standard_node\"\n    }\n)\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#3-ai","title":"3. \u57fa\u65bc AI \u7684\u52d5\u614b\u8def\u7531","text":"Python<pre><code>from langchain_openai import ChatOpenAI\n\nclass AIRoutingState(TypedDict):\n    user_message: str\n    intent: str\n    confidence: float\n\ndef ai_intent_classifier(state: AIRoutingState) -&gt; AIRoutingState:\n    \"\"\"\u4f7f\u7528 AI \u8b58\u5225\u610f\u5716\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u5206\u6790\u4ee5\u4e0b\u4f7f\u7528\u8005\u8a0a\u606f\u7684\u610f\u5716:\n    \"{state['user_message']}\"\n\n    \u53ef\u80fd\u7684\u610f\u5716:\n    - policy_query: \u4fdd\u55ae\u67e5\u8a62\n    - claim_filing: \u7406\u8ce0\u7533\u8acb\n    - payment_issue: \u7e73\u8cbb\u554f\u984c\n    - general_inquiry: \u4e00\u822c\u8aee\u8a62\n\n    \u56de\u7b54\u683c\u5f0f: {{\"intent\": \"...\", \"confidence\": 0.95}}\n    \"\"\"\n\n    import json\n    result = json.loads(llm.invoke(prompt).content)\n\n    return {\n        \"intent\": result[\"intent\"],\n        \"confidence\": result[\"confidence\"]\n    }\n\ndef intelligent_router(state: AIRoutingState) -&gt; str:\n    \"\"\"\u667a\u80fd\u8def\u7531\"\"\"\n    # \u4fe1\u5fc3\u5ea6\u592a\u4f4e,\u8f49\u4eba\u5de5\n    if state[\"confidence\"] &lt; 0.7:\n        return \"human_agent\"\n\n    # \u6839\u64da\u610f\u5716\u8def\u7531\n    intent_mapping = {\n        \"policy_query\": \"policy_handler\",\n        \"claim_filing\": \"claim_handler\",\n        \"payment_issue\": \"payment_handler\",\n        \"general_inquiry\": \"faq_handler\"\n    }\n\n    return intent_mapping.get(state[\"intent\"], \"human_agent\")\n\nworkflow = StateGraph(AIRoutingState)\nworkflow.add_node(\"classify\", ai_intent_classifier)\n# ... \u6dfb\u52a0\u8655\u7406\u7bc0\u9ede ...\n\nworkflow.add_conditional_edges(\n    \"classify\",\n    intelligent_router,\n    {\n        \"policy_handler\": \"policy_node\",\n        \"claim_handler\": \"claim_node\",\n        \"payment_handler\": \"payment_node\",\n        \"faq_handler\": \"faq_node\",\n        \"human_agent\": \"human_node\"\n    }\n)\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#_4","title":"\u9032\u968e\u6280\u5de7","text":""},{"location":"langgraph/architecture/06-conditional-edges/#1_1","title":"1. \u5faa\u74b0\u63a7\u5236","text":"Python<pre><code>from typing import Annotated\nfrom operator import add\n\nclass LoopState(TypedDict):\n    data: str\n    quality: float\n    iteration: int\n    max_iterations: int\n    improvements: Annotated[list[str], add]\n\ndef process_data(state: LoopState) -&gt; LoopState:\n    \"\"\"\u8655\u7406\u8cc7\u6599\"\"\"\n    processed = improve_data(state[\"data\"])\n    quality = evaluate_quality(processed)\n\n    return {\n        \"data\": processed,\n        \"quality\": quality,\n        \"iteration\": state[\"iteration\"] + 1,\n        \"improvements\": [f\"\u8fed\u4ee3 {state['iteration']}: \u54c1\u8cea {quality:.2f}\"]\n    }\n\ndef should_continue_loop(state: LoopState) -&gt; str:\n    \"\"\"\u6c7a\u5b9a\u662f\u5426\u7e7c\u7e8c\u5faa\u74b0\"\"\"\n\n    # \u689d\u4ef6 1: \u9054\u5230\u54c1\u8cea\u6a19\u6e96\n    if state[\"quality\"] &gt;= 0.9:\n        return \"quality_met\"\n\n    # \u689d\u4ef6 2: \u9054\u5230\u6700\u5927\u8fed\u4ee3\u6b21\u6578\n    if state[\"iteration\"] &gt;= state[\"max_iterations\"]:\n        return \"max_iterations\"\n\n    # \u689d\u4ef6 3: \u54c1\u8cea\u4e0d\u518d\u63d0\u5347(\u9023\u7e8c 3 \u6b21)\n    if len(state[\"improvements\"]) &gt;= 3:\n        recent_qualities = [\n            float(imp.split(\": \u54c1\u8cea \")[1])\n            for imp in state[\"improvements\"][-3:]\n        ]\n        if all(recent_qualities[i] &gt;= recent_qualities[i+1]\n               for i in range(len(recent_qualities)-1)):\n            return \"no_improvement\"\n\n    # \u7e7c\u7e8c\u5faa\u74b0\n    return \"continue\"\n\nworkflow = StateGraph(LoopState)\nworkflow.add_node(\"process\", process_data)\n\nworkflow.set_entry_point(\"process\")\n\nworkflow.add_conditional_edges(\n    \"process\",\n    should_continue_loop,\n    {\n        \"continue\": \"process\",      # \u56de\u5230\u81ea\u5df1,\u5f62\u6210\u5faa\u74b0\n        \"quality_met\": END,\n        \"max_iterations\": END,\n        \"no_improvement\": END\n    }\n)\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#2_1","title":"2. \u52d5\u614b\u5b50\u5716\u9078\u64c7","text":"Python<pre><code>class SubgraphState(TypedDict):\n    problem_domain: str  # \"finance\", \"medical\", \"legal\"\n    complexity_level: str\n    result: dict\n\n# \u5b9a\u7fa9\u4e0d\u540c\u9818\u57df\u7684\u5b50\u5716\ndef create_finance_subgraph():\n    \"\"\"\u91d1\u878d\u9818\u57df\u8655\u7406\u6d41\u7a0b\"\"\"\n    sub_workflow = StateGraph(SubgraphState)\n    # ... \u6dfb\u52a0\u91d1\u878d\u76f8\u95dc\u7bc0\u9ede ...\n    return sub_workflow.compile()\n\ndef create_medical_subgraph():\n    \"\"\"\u91ab\u7642\u9818\u57df\u8655\u7406\u6d41\u7a0b\"\"\"\n    sub_workflow = StateGraph(SubgraphState)\n    # ... \u6dfb\u52a0\u91ab\u7642\u76f8\u95dc\u7bc0\u9ede ...\n    return sub_workflow.compile()\n\ndef create_legal_subgraph():\n    \"\"\"\u6cd5\u5f8b\u9818\u57df\u8655\u7406\u6d41\u7a0b\"\"\"\n    sub_workflow = StateGraph(SubgraphState)\n    # ... \u6dfb\u52a0\u6cd5\u5f8b\u76f8\u95dc\u7bc0\u9ede ...\n    return sub_workflow.compile()\n\n# \u4e3b\u6d41\u7a0b\u4e2d\u52d5\u614b\u9078\u64c7\u5b50\u5716\nfinance_graph = create_finance_subgraph()\nmedical_graph = create_medical_subgraph()\nlegal_graph = create_legal_subgraph()\n\ndef execute_domain_specific(state: SubgraphState) -&gt; SubgraphState:\n    \"\"\"\u57f7\u884c\u7279\u5b9a\u9818\u57df\u7684\u8655\u7406\"\"\"\n    domain = state[\"problem_domain\"]\n\n    if domain == \"finance\":\n        result = finance_graph.invoke(state)\n    elif domain == \"medical\":\n        result = medical_graph.invoke(state)\n    elif domain == \"legal\":\n        result = legal_graph.invoke(state)\n    else:\n        result = {\"error\": \"Unknown domain\"}\n\n    return {\"result\": result}\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#3-api","title":"3. \u57fa\u65bc\u5916\u90e8 API \u7684\u8def\u7531","text":"Python<pre><code>import requests\n\nclass APIRoutingState(TypedDict):\n    user_id: str\n    subscription_tier: str\n    api_limit_remaining: int\n    route: str\n\ndef check_api_status(state: APIRoutingState) -&gt; APIRoutingState:\n    \"\"\"\u6aa2\u67e5 API \u72c0\u614b\u548c\u4f7f\u7528\u8005\u6b0a\u9650\"\"\"\n\n    # \u67e5\u8a62\u4f7f\u7528\u8005\u8a02\u95b1\u5c64\u7d1a\n    user_info = requests.get(\n        f\"https://api.company.com/users/{state['user_id']}\"\n    ).json()\n\n    # \u6aa2\u67e5 API \u914d\u984d\n    quota = requests.get(\n        f\"https://api.company.com/quota/{state['user_id']}\"\n    ).json()\n\n    return {\n        \"subscription_tier\": user_info[\"tier\"],\n        \"api_limit_remaining\": quota[\"remaining\"]\n    }\n\ndef api_aware_router(state: APIRoutingState) -&gt; str:\n    \"\"\"\u57fa\u65bc API \u72c0\u614b\u7684\u667a\u80fd\u8def\u7531\"\"\"\n\n    # \u8d85\u904e\u914d\u984d,\u4f7f\u7528\u5feb\u53d6\u6216\u964d\u7d1a\u670d\u52d9\n    if state[\"api_limit_remaining\"] &lt;= 0:\n        return \"cached_response\"\n\n    # \u4ed8\u8cbb\u7528\u6236\u4f7f\u7528\u9ad8\u7d1a API\n    if state[\"subscription_tier\"] in [\"premium\", \"enterprise\"]:\n        return \"advanced_api\"\n\n    # \u914d\u984d\u4e0d\u8db3,\u4f7f\u7528\u7d93\u6fdf\u6a21\u5f0f\n    if state[\"api_limit_remaining\"] &lt; 10:\n        return \"economy_mode\"\n\n    # \u4e00\u822c\u7528\u6236\u4f7f\u7528\u6a19\u6e96 API\n    return \"standard_api\"\n\nworkflow = StateGraph(APIRoutingState)\nworkflow.add_node(\"check_status\", check_api_status)\n\nworkflow.add_conditional_edges(\n    \"check_status\",\n    api_aware_router,\n    {\n        \"advanced_api\": \"advanced_node\",\n        \"standard_api\": \"standard_node\",\n        \"economy_mode\": \"economy_node\",\n        \"cached_response\": \"cache_node\"\n    }\n)\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#4","title":"4. \u6642\u9593\u654f\u611f\u8def\u7531","text":"Python<pre><code>from datetime import datetime, time\n\nclass TimeBasedState(TypedDict):\n    current_time: datetime\n    urgency: str\n    route: str\n\ndef time_based_router(state: TimeBasedState) -&gt; str:\n    \"\"\"\u57fa\u65bc\u6642\u9593\u7684\u8def\u7531\"\"\"\n    current = state[\"current_time\"]\n\n    # \u5de5\u4f5c\u6642\u9593 (9:00-18:00)\n    work_start = time(9, 0)\n    work_end = time(18, 0)\n    current_time = current.time()\n\n    is_work_hours = work_start &lt;= current_time &lt;= work_end\n    is_weekday = current.weekday() &lt; 5  # \u9031\u4e00\u5230\u9031\u4e94\n\n    # \u5de5\u4f5c\u6642\u9593 + \u9ad8\u6025\u8feb\u6027 -&gt; \u5373\u6642\u8655\u7406\n    if is_work_hours and is_weekday and state[\"urgency\"] == \"high\":\n        return \"immediate\"\n\n    # \u5de5\u4f5c\u6642\u9593 + \u4f4e\u6025\u8feb\u6027 -&gt; \u6a19\u6e96\u8655\u7406\n    if is_work_hours and is_weekday:\n        return \"standard\"\n\n    # \u975e\u5de5\u4f5c\u6642\u9593 + \u9ad8\u6025\u8feb\u6027 -&gt; \u5f85\u547d\u4eba\u54e1\n    if state[\"urgency\"] == \"high\":\n        return \"on_call\"\n\n    # \u975e\u5de5\u4f5c\u6642\u9593 + \u4f4e\u6025\u8feb\u6027 -&gt; \u6392\u968a\n    return \"queue\"\n\nworkflow = StateGraph(TimeBasedState)\n\nworkflow.add_conditional_edges(\n    \"classify\",\n    time_based_router,\n    {\n        \"immediate\": \"immediate_handler\",\n        \"standard\": \"standard_handler\",\n        \"on_call\": \"oncall_handler\",\n        \"queue\": \"queue_handler\"\n    }\n)\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#_5","title":"\u570b\u6cf0\u4eba\u58fd\u5be6\u6230:\u667a\u80fd\u6587\u4ef6\u8def\u7531\u7cfb\u7d71","text":"Python<pre><code>from typing import Annotated, Optional\nfrom operator import add\nfrom enum import Enum\n\nclass DocumentType(Enum):\n    POLICY_APPLICATION = \"\u4fdd\u55ae\u7533\u8acb\"\n    CLAIM_FORM = \"\u7406\u8ce0\u7533\u8acb\"\n    ID_DOCUMENT = \"\u8eab\u4efd\u8b49\u660e\"\n    MEDICAL_REPORT = \"\u91ab\u7642\u5831\u544a\"\n    FINANCIAL_STATEMENT = \"\u8ca1\u52d9\u8b49\u660e\"\n    UNKNOWN = \"\u672a\u77e5\"\n\nclass DocumentRoutingState(TypedDict):\n    # \u6587\u4ef6\u8cc7\u8a0a\n    document_id: str\n    raw_content: str\n    file_type: str  # pdf, image, etc\n\n    # \u5206\u985e\u7d50\u679c\n    doc_type: str\n    confidence: float\n    detected_language: str\n\n    # \u54c1\u8cea\u8a55\u4f30\n    quality_score: float\n    quality_issues: Annotated[list[str], add]\n\n    # \u8655\u7406\u72c0\u614b\n    ocr_required: bool\n    translation_required: bool\n    manual_review_required: bool\n\n    # \u8def\u7531\u6c7a\u7b56\n    processing_path: str\n    assigned_department: str\n\n    # \u7d50\u679c\n    extracted_data: dict\n    processing_time: float\n\ndef analyze_document(state: DocumentRoutingState) -&gt; DocumentRoutingState:\n    \"\"\"\u7b2c\u4e00\u968e\u6bb5:\u5206\u6790\u6587\u4ef6\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    llm = ChatOpenAI(model=\"gpt-4-vision\")  # \u652f\u63f4\u5716\u7247\n\n    # \u6aa2\u6e2c\u8a9e\u8a00\n    lang = detect_language(state[\"raw_content\"])\n\n    # \u8a55\u4f30\u54c1\u8cea\n    quality, issues = assess_document_quality(state[\"raw_content\"])\n\n    return {\n        \"detected_language\": lang,\n        \"quality_score\": quality,\n        \"quality_issues\": issues,\n        \"ocr_required\": quality &lt; 0.7,\n        \"translation_required\": lang not in [\"zh-TW\", \"zh-CN\", \"en\"]\n    }\n\ndef classify_document(state: DocumentRoutingState) -&gt; DocumentRoutingState:\n    \"\"\"\u7b2c\u4e8c\u968e\u6bb5:\u5206\u985e\u6587\u4ef6\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u5206\u6790\u4ee5\u4e0b\u6587\u4ef6\u4e26\u5206\u985e:\n    \u5167\u5bb9: {state['raw_content'][:500]}\n\n    \u53ef\u80fd\u985e\u578b:\n    - POLICY_APPLICATION: \u4fdd\u55ae\u7533\u8acb\u66f8\n    - CLAIM_FORM: \u7406\u8ce0\u7533\u8acb\u8868\n    - ID_DOCUMENT: \u8eab\u4efd\u8b49\u660e\u6587\u4ef6\n    - MEDICAL_REPORT: \u91ab\u7642\u5831\u544a\n    - FINANCIAL_STATEMENT: \u8ca1\u52d9\u8b49\u660e\n\n    \u56de\u7b54\u683c\u5f0f: {{\"type\": \"...\", \"confidence\": 0.95}}\n    \"\"\"\n\n    import json\n    result = json.loads(llm.invoke(prompt).content)\n\n    return {\n        \"doc_type\": result[\"type\"],\n        \"confidence\": result[\"confidence\"]\n    }\n\n# \u8def\u7531\u6c7a\u7b56\u51fd\u6578\n\ndef quality_router(state: DocumentRoutingState) -&gt; str:\n    \"\"\"\u7b2c\u4e00\u5c64\u8def\u7531:\u54c1\u8cea\u6aa2\u67e5\"\"\"\n    quality = state[\"quality_score\"]\n\n    if quality &lt; 0.3:\n        return \"reject\"  # \u54c1\u8cea\u592a\u5dee,\u62d2\u7d55\n    elif quality &lt; 0.7:\n        return \"enhance\"  # \u9700\u8981\u589e\u5f37\u8655\u7406\n    else:\n        return \"classify\"  # \u54c1\u8cea\u826f\u597d,\u7e7c\u7e8c\u5206\u985e\n\ndef language_router(state: DocumentRoutingState) -&gt; str:\n    \"\"\"\u7b2c\u4e8c\u5c64\u8def\u7531:\u8a9e\u8a00\u8655\u7406\"\"\"\n    if state[\"translation_required\"]:\n        return \"translate\"\n    if state[\"ocr_required\"]:\n        return \"ocr\"\n    return \"classify\"\n\ndef classification_router(state: DocumentRoutingState) -&gt; str:\n    \"\"\"\u7b2c\u4e09\u5c64\u8def\u7531:\u6839\u64da\u5206\u985e\u7d50\u679c\u8def\u7531\"\"\"\n\n    # \u4fe1\u5fc3\u5ea6\u4e0d\u8db3,\u9700\u8981\u4eba\u5de5\u5be9\u6838\n    if state[\"confidence\"] &lt; 0.8:\n        return \"manual_review\"\n\n    # \u6839\u64da\u6587\u4ef6\u985e\u578b\u8def\u7531\u5230\u4e0d\u540c\u90e8\u9580\n    doc_type = state[\"doc_type\"]\n\n    routing_map = {\n        \"POLICY_APPLICATION\": \"underwriting_dept\",\n        \"CLAIM_FORM\": \"claims_dept\",\n        \"ID_DOCUMENT\": \"compliance_dept\",\n        \"MEDICAL_REPORT\": \"medical_review_dept\",\n        \"FINANCIAL_STATEMENT\": \"finance_dept\",\n        \"UNKNOWN\": \"manual_review\"\n    }\n\n    return routing_map.get(doc_type, \"manual_review\")\n\ndef complexity_router(state: DocumentRoutingState) -&gt; str:\n    \"\"\"\u7b2c\u56db\u5c64\u8def\u7531:\u6839\u64da\u8907\u96dc\u5ea6\u6c7a\u5b9a\u8655\u7406\u65b9\u5f0f\"\"\"\n\n    # \u8a08\u7b97\u8907\u96dc\u5ea6\n    complexity_score = calculate_complexity(state)\n\n    # \u9ad8\u8907\u96dc\u5ea6 + \u9ad8\u50f9\u503c -&gt; \u5c08\u5bb6\u5be9\u6838\n    if complexity_score &gt; 0.8 and is_high_value_case(state):\n        return \"expert_review\"\n\n    # \u7c21\u55ae\u6848\u4ef6 -&gt; \u81ea\u52d5\u8655\u7406\n    if complexity_score &lt; 0.3:\n        return \"automated_processing\"\n\n    # \u4e2d\u7b49\u8907\u96dc\u5ea6 -&gt; \u6a19\u6e96\u6d41\u7a0b\n    return \"standard_processing\"\n\n# \u8655\u7406\u7bc0\u9ede\n\ndef enhance_quality(state: DocumentRoutingState) -&gt; DocumentRoutingState:\n    \"\"\"\u589e\u5f37\u6587\u4ef6\u54c1\u8cea\"\"\"\n    enhanced_content = apply_image_enhancement(state[\"raw_content\"])\n    new_quality = assess_document_quality(enhanced_content)[0]\n\n    return {\n        \"raw_content\": enhanced_content,\n        \"quality_score\": new_quality\n    }\n\ndef ocr_processing(state: DocumentRoutingState) -&gt; DocumentRoutingState:\n    \"\"\"OCR \u8655\u7406\"\"\"\n    text = perform_ocr(state[\"raw_content\"])\n    return {\"raw_content\": text, \"ocr_required\": False}\n\ndef translate_document(state: DocumentRoutingState) -&gt; DocumentRoutingState:\n    \"\"\"\u7ffb\u8b6f\u6587\u4ef6\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    llm = ChatOpenAI(model=\"gpt-4\")\n    translated = llm.invoke(f\"\u7ffb\u8b6f\u6210\u7e41\u9ad4\u4e2d\u6587: {state['raw_content']}\").content\n\n    return {\n        \"raw_content\": translated,\n        \"translation_required\": False,\n        \"detected_language\": \"zh-TW\"\n    }\n\ndef underwriting_processor(state: DocumentRoutingState) -&gt; DocumentRoutingState:\n    \"\"\"\u6838\u4fdd\u90e8\u9580\u8655\u7406\"\"\"\n    # \u63d0\u53d6\u4fdd\u55ae\u7533\u8acb\u8cc7\u8a0a\n    extracted = extract_policy_application_data(state[\"raw_content\"])\n\n    return {\n        \"extracted_data\": extracted,\n        \"assigned_department\": \"\u6838\u4fdd\u90e8\",\n        \"processing_path\": \"underwriting\"\n    }\n\ndef claims_processor(state: DocumentRoutingState) -&gt; DocumentRoutingState:\n    \"\"\"\u7406\u8ce0\u90e8\u9580\u8655\u7406\"\"\"\n    extracted = extract_claim_form_data(state[\"raw_content\"])\n\n    return {\n        \"extracted_data\": extracted,\n        \"assigned_department\": \"\u7406\u8ce0\u90e8\",\n        \"processing_path\": \"claims\"\n    }\n\ndef manual_review_processor(state: DocumentRoutingState) -&gt; DocumentRoutingState:\n    \"\"\"\u4eba\u5de5\u5be9\u6838\"\"\"\n    return {\n        \"manual_review_required\": True,\n        \"processing_path\": \"manual_review\",\n        \"assigned_department\": \"\u4eba\u5de5\u5be9\u6838\u7d44\"\n    }\n\n# \u5efa\u7acb\u5b8c\u6574\u7684\u6587\u4ef6\u8def\u7531\u7cfb\u7d71\n\ndef create_document_routing_system():\n    \"\"\"\u5efa\u7acb\u667a\u80fd\u6587\u4ef6\u8def\u7531\u7cfb\u7d71\"\"\"\n    workflow = StateGraph(DocumentRoutingState)\n\n    # \u6dfb\u52a0\u6240\u6709\u7bc0\u9ede\n    workflow.add_node(\"analyze\", analyze_document)\n    workflow.add_node(\"enhance\", enhance_quality)\n    workflow.add_node(\"ocr\", ocr_processing)\n    workflow.add_node(\"translate\", translate_document)\n    workflow.add_node(\"classify\", classify_document)\n    workflow.add_node(\"underwriting\", underwriting_processor)\n    workflow.add_node(\"claims\", claims_processor)\n    workflow.add_node(\"manual_review\", manual_review_processor)\n\n    # \u7b2c\u4e00\u5c64:\u54c1\u8cea\u6aa2\u67e5\n    workflow.set_entry_point(\"analyze\")\n\n    workflow.add_conditional_edges(\n        \"analyze\",\n        quality_router,\n        {\n            \"reject\": END,  # \u76f4\u63a5\u7d50\u675f\n            \"enhance\": \"enhance\",\n            \"classify\": \"classify\"\n        }\n    )\n\n    # \u589e\u5f37\u54c1\u8cea\u5f8c\u91cd\u65b0\u5206\u6790\n    workflow.add_edge(\"enhance\", \"analyze\")\n\n    # \u7b2c\u4e8c\u5c64:\u8a9e\u8a00\u548c OCR \u8655\u7406\n    workflow.add_conditional_edges(\n        \"classify\",\n        lambda s: \"ocr\" if s[\"ocr_required\"] else (\n            \"translate\" if s[\"translation_required\"] else \"classify_final\"\n        )\n    )\n\n    workflow.add_edge(\"ocr\", \"classify\")\n    workflow.add_edge(\"translate\", \"classify\")\n\n    # \u5047\u8a2d\u6709\u4e00\u500b\u6700\u7d42\u5206\u985e\u7bc0\u9ede\n    workflow.add_node(\"classify_final\", classify_document)\n\n    # \u7b2c\u4e09\u5c64:\u90e8\u9580\u8def\u7531\n    workflow.add_conditional_edges(\n        \"classify_final\",\n        classification_router,\n        {\n            \"underwriting_dept\": \"underwriting\",\n            \"claims_dept\": \"claims\",\n            \"manual_review\": \"manual_review\"\n        }\n    )\n\n    # \u6240\u6709\u8655\u7406\u8def\u5f91\u6700\u7d42\u90fd\u7d50\u675f\n    workflow.add_edge(\"underwriting\", END)\n    workflow.add_edge(\"claims\", END)\n    workflow.add_edge(\"manual_review\", END)\n\n    return workflow.compile()\n\n# \u4f7f\u7528\u7bc4\u4f8b\nrouter_system = create_document_routing_system()\n\nresult = router_system.invoke({\n    \"document_id\": \"DOC20240315001\",\n    \"raw_content\": \"... \u4fdd\u55ae\u7533\u8acb\u66f8\u5167\u5bb9 ...\",\n    \"file_type\": \"pdf\",\n    \"quality_issues\": []\n})\n\nprint(f\"\u6587\u4ef6\u985e\u578b: {result['doc_type']}\")\nprint(f\"\u4fe1\u5fc3\u5ea6: {result['confidence']}\")\nprint(f\"\u5206\u914d\u90e8\u9580: {result['assigned_department']}\")\nprint(f\"\u8655\u7406\u8def\u5f91: {result['processing_path']}\")\nprint(f\"\u63d0\u53d6\u8cc7\u6599: {result['extracted_data']}\")\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#_6","title":"\u6700\u4f73\u5be6\u8e10","text":""},{"location":"langgraph/architecture/06-conditional-edges/#1_2","title":"1. \u8def\u7531\u51fd\u6578\u8a2d\u8a08\u539f\u5247","text":"Python<pre><code>def good_router(state: StateType) -&gt; str:\n    \"\"\"\u826f\u597d\u7684\u8def\u7531\u51fd\u6578\u8a2d\u8a08\"\"\"\n\n    # \u2705 1. \u6e05\u6670\u7684\u908f\u8f2f\n    # \u2705 2. \u5b8c\u6574\u7684\u689d\u4ef6\u8986\u84cb\n    # \u2705 3. \u9810\u8a2d\u8def\u5f91\n    # \u2705 4. \u65e5\u8a8c\u8a18\u9304\n\n    import logging\n    logger = logging.getLogger(__name__)\n\n    # \u8a18\u9304\u8def\u7531\u6c7a\u7b56\n    logger.info(f\"\u8def\u7531\u6c7a\u7b56: \u7576\u524d\u72c0\u614b = {state}\")\n\n    # \u660e\u78ba\u7684\u689d\u4ef6\u5224\u65b7\n    if condition_a(state):\n        logger.info(\"\u9078\u64c7\u8def\u5f91 A\")\n        return \"path_a\"\n    elif condition_b(state):\n        logger.info(\"\u9078\u64c7\u8def\u5f91 B\")\n        return \"path_b\"\n    else:\n        logger.warning(\"\u4f7f\u7528\u9810\u8a2d\u8def\u5f91\")\n        return \"default_path\"  # \u7e3d\u662f\u6709\u9810\u8a2d\u8def\u5f91\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#2_2","title":"2. \u907f\u514d\u5e38\u898b\u9677\u9631","text":"Python<pre><code># \u274c \u932f\u8aa4:\u6c92\u6709\u9810\u8a2d\u8def\u5f91\ndef bad_router_1(state):\n    if state[\"value\"] &gt; 10:\n        return \"high\"\n    elif state[\"value\"] &lt; 5:\n        return \"low\"\n    # \u5982\u679c value \u5728 5-10 \u4e4b\u9593\u6703\u600e\u6a23?\u6c92\u6709\u8655\u7406!\n\n# \u274c \u932f\u8aa4:\u8def\u7531\u51fd\u6578\u4fee\u6539\u72c0\u614b\ndef bad_router_2(state):\n    state[\"counter\"] += 1  # \u4e0d\u61c9\u8a72\u5728\u8def\u7531\u51fd\u6578\u4e2d\u4fee\u6539\u72c0\u614b\n    return \"next\"\n\n# \u274c \u932f\u8aa4:\u8907\u96dc\u7684\u696d\u52d9\u908f\u8f2f\ndef bad_router_3(state):\n    # \u8def\u7531\u51fd\u6578\u4e2d\u4e0d\u61c9\u8a72\u6709\u8907\u96dc\u7684\u8655\u7406\u908f\u8f2f\n    result = complex_calculation(state)\n    data = fetch_from_database(state)\n    # ... \u5f88\u591a\u884c\u7a0b\u5f0f\u78bc ...\n    return \"path\"\n\n# \u2705 \u6b63\u78ba:\u7c21\u55ae\u3001\u7d14\u51fd\u6578\ndef good_router(state):\n    # \u53ea\u8b80\u53d6\u72c0\u614b,\u4e0d\u4fee\u6539\n    # \u908f\u8f2f\u7c21\u55ae\u6e05\u6670\n    # \u7e3d\u662f\u8fd4\u56de\u6709\u6548\u7684\u8def\u5f91\u540d\u7a31\n    return \"high\" if state[\"value\"] &gt; 10 else \"low\"\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#3","title":"3. \u6e2c\u8a66\u8def\u7531\u908f\u8f2f","text":"Python<pre><code>def test_router():\n    \"\"\"\u6e2c\u8a66\u8def\u7531\u51fd\u6578\"\"\"\n\n    # \u6e2c\u8a66\u5404\u7a2e\u60c5\u6cc1\n    assert route_by_score({\"score\": 0.9}) == \"high\"\n    assert route_by_score({\"score\": 0.5}) == \"low\"\n    assert route_by_score({\"score\": 0.8}) == \"high\"\n\n    # \u6e2c\u8a66\u908a\u754c\u689d\u4ef6\n    assert route_by_score({\"score\": 0.0}) == \"low\"\n    assert route_by_score({\"score\": 1.0}) == \"high\"\n\n    # \u6e2c\u8a66\u7570\u5e38\u8f38\u5165\n    assert route_by_score({\"score\": -0.1}) == \"low\"  # \u8ca0\u6578\n    assert route_by_score({\"score\": 1.5}) == \"high\"  # \u8d85\u904e 1\n\n    print(\"\u6240\u6709\u6e2c\u8a66\u901a\u904e!\")\n\ntest_router()\n</code></pre>"},{"location":"langgraph/architecture/06-conditional-edges/#_7","title":"\u91cd\u9ede\u6574\u7406","text":""},{"location":"langgraph/architecture/06-conditional-edges/#_8","title":"\u689d\u4ef6\u908a\u57fa\u790e","text":"<ul> <li>\u6839\u64da\u72c0\u614b\u52d5\u614b\u6c7a\u5b9a\u8def\u5f91</li> <li>\u4f7f\u7528\u8def\u7531\u51fd\u6578\u8fd4\u56de\u8def\u5f91\u540d\u7a31</li> <li>\u9700\u8981\u6620\u5c04\u8868\u9023\u63a5\u8fd4\u56de\u503c\u548c\u76ee\u6a19\u7bc0\u9ede</li> </ul>"},{"location":"langgraph/architecture/06-conditional-edges/#_9","title":"\u9032\u968e\u61c9\u7528","text":"<ul> <li>\u5faa\u74b0\u63a7\u5236with \u591a\u91cd\u9000\u51fa\u689d\u4ef6</li> <li>\u57fa\u65bc AI \u7684\u667a\u80fd\u8def\u7531</li> <li>\u6642\u9593\u548c\u8cc7\u6e90\u611f\u77e5\u8def\u7531</li> <li>\u591a\u5c64\u7d1a\u8def\u7531\u7b56\u7565</li> </ul>"},{"location":"langgraph/architecture/06-conditional-edges/#_10","title":"\u6700\u4f73\u5be6\u8e10","text":"<ul> <li>\u8def\u7531\u51fd\u6578\u4fdd\u6301\u7c21\u55ae\u7d14\u7cb9</li> <li>\u7e3d\u662f\u63d0\u4f9b\u9810\u8a2d\u8def\u5f91</li> <li>\u5145\u5206\u7684\u65e5\u8a8c\u8a18\u9304</li> <li>\u5b8c\u6574\u7684\u6e2c\u8a66\u8986\u84cb</li> </ul>"},{"location":"langgraph/architecture/06-conditional-edges/#_11","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5be6\u4f5c\u4e00\u500b\u4e09\u5c64\u8def\u7531\u7cfb\u7d71(\u54c1\u8cea-&gt;\u985e\u578b-&gt;\u90e8\u9580)</li> <li>\u5efa\u7acb\u57fa\u65bc AI \u7684\u667a\u80fd\u8def\u7531,\u5305\u542b\u56de\u9000\u6a5f\u5236</li> <li>\u8a2d\u8a08\u6642\u9593\u654f\u611f\u7684\u5de5\u4f5c\u6d41\u7a0b\u8def\u7531</li> </ol>"},{"location":"langgraph/architecture/06-conditional-edges/#_12","title":"\u4e0b\u4e00\u6b65","text":"<p>\u2705 \u67b6\u69cb\u8a2d\u8a08\u7bc7\u5b8c\u6210!</p> <p>\u63a5\u4e0b\u4f86\u9032\u5165**\u5be6\u4f5c\u7bc4\u4f8b\u7bc7**,\u6211\u5011\u5c07\u52d5\u624b\u5efa\u7acb\u5b8c\u6574\u7684 LangGraph Agent,\u5f9e\u7b2c\u4e00\u500b Hello World \u5230\u8907\u96dc\u7684\u591a\u6b65\u9a5f\u63a8\u7406\u7cfb\u7d71!</p>"},{"location":"langgraph/basics/01-langgraph-intro/","title":"LangGraph \u57fa\u790e\u6982\u5ff5","text":""},{"location":"langgraph/basics/01-langgraph-intro/#langgraph_1","title":"\u4ec0\u9ebc\u662f LangGraph?","text":"<p>LangGraph \u662f LangChain \u751f\u614b\u7cfb\u7d71\u4e2d\u7684\u4e00\u500b\u5f37\u5927\u6846\u67b6,\u5c08\u9580\u7528\u65bc\u5efa\u7acb**\u6709\u72c0\u614b\u3001\u591a\u6b65\u9a5f\u63a8\u7406\u7684 AI Agent**\u3002\u5b83\u900f\u904e\u5716\u5f62\u5316(Graph)\u7684\u65b9\u5f0f\u4f86\u5b9a\u7fa9\u548c\u7ba1\u7406 Agent \u7684\u5de5\u4f5c\u6d41\u7a0b,\u8b93\u8907\u96dc\u7684 AI \u61c9\u7528\u958b\u767c\u8b8a\u5f97\u66f4\u52a0\u76f4\u89c0\u548c\u53ef\u7dad\u8b77\u3002</p> <p>\u5b98\u65b9\u5b9a\u7fa9</p> <p>LangGraph is a library for building stateful, multi-actor applications with LLMs, built on top of (and intended to be used with) LangChain.</p>"},{"location":"langgraph/basics/01-langgraph-intro/#_1","title":"\u6838\u5fc3\u7279\u6027","text":"<pre><code>mindmap\n  root((LangGraph))\n    \u6709\u72c0\u614b\u7ba1\u7406\n      \u6301\u4e45\u5316\u72c0\u614b\n      \u72c0\u614b\u8ffd\u8e64\n      \u7248\u672c\u63a7\u5236\n    \u5faa\u74b0\u57f7\u884c\n      \u591a\u8f2a\u5c0d\u8a71\n      \u8fed\u4ee3\u512a\u5316\n      \u52d5\u614b\u6c7a\u7b56\n    \u9748\u6d3b\u8def\u7531\n      \u689d\u4ef6\u5206\u652f\n      \u4e26\u884c\u8655\u7406\n      \u932f\u8aa4\u6062\u5fa9\n    \u53ef\u8996\u5316\n      \u5716\u5f62\u5448\u73fe\n      \u9664\u932f\u53cb\u5584\n      \u6613\u65bc\u7406\u89e3</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#langgraph_2","title":"\u70ba\u4f55\u9700\u8981 LangGraph?","text":""},{"location":"langgraph/basics/01-langgraph-intro/#langchain","title":"\u50b3\u7d71 LangChain \u7684\u9650\u5236","text":"<p>\u5728 LangGraph \u51fa\u73fe\u4e4b\u524d,\u4f7f\u7528 LangChain \u5efa\u7acb\u8907\u96dc Agent \u6642\u6703\u9047\u5230\u4e00\u4e9b\u6311\u6230:</p> Python<pre><code># \u50b3\u7d71 LangChain Agent \u7684\u554f\u984c\nfrom langchain.agents import AgentExecutor, create_openai_functions_agent\n\n# \u274c \u554f\u984c 1: \u96e3\u4ee5\u5be6\u73fe\u8907\u96dc\u7684\u591a\u6b65\u9a5f\u908f\u8f2f\n# \u274c \u554f\u984c 2: \u72c0\u614b\u7ba1\u7406\u4e0d\u5920\u9748\u6d3b\n# \u274c \u554f\u984c 3: \u5faa\u74b0\u548c\u689d\u4ef6\u5206\u652f\u8655\u7406\u56f0\u96e3\n# \u274c \u554f\u984c 4: \u9664\u932f\u548c\u8ffd\u8e64\u4e0d\u5920\u76f4\u89c0\n\nagent_executor = AgentExecutor(\n    agent=agent,\n    tools=tools,\n    # \u53ea\u80fd\u8a2d\u5b9a\u7c21\u55ae\u7684\u53c3\u6578,\u7121\u6cd5\u5be6\u73fe\u8907\u96dc\u908f\u8f2f\n    max_iterations=5,\n    verbose=True\n)\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#langgraph_3","title":"LangGraph \u7684\u512a\u52e2","text":"Python<pre><code># \u2705 LangGraph \u7684\u89e3\u6c7a\u65b9\u6848\nfrom langgraph.graph import StateGraph, END\nfrom typing import TypedDict, Annotated\n\n# \u6e05\u6670\u5b9a\u7fa9\u72c0\u614b\u7d50\u69cb\nclass AgentState(TypedDict):\n    messages: list\n    current_step: str\n    retry_count: int\n    result: dict\n\n# \u900f\u904e\u5716\u5f62\u5b9a\u7fa9\u8907\u96dc\u6d41\u7a0b\nworkflow = StateGraph(AgentState)\nworkflow.add_node(\"analyze\", analyze_node)\nworkflow.add_node(\"process\", process_node)\nworkflow.add_node(\"validate\", validate_node)\n\n# \u9748\u6d3b\u7684\u689d\u4ef6\u8def\u7531\nworkflow.add_conditional_edges(\n    \"analyze\",\n    route_function,\n    {\n        \"process\": \"process\",\n        \"end\": END\n    }\n)\n\n# \u6613\u65bc\u9664\u932f\u548c\u8996\u89ba\u5316\napp = workflow.compile()\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#langgraph_4","title":"LangGraph \u89e3\u6c7a\u7684\u6838\u5fc3\u554f\u984c","text":""},{"location":"langgraph/basics/01-langgraph-intro/#1-stateful","title":"1. \u6709\u72c0\u614b\u7ba1\u7406 (Stateful)","text":"<p>\u50b3\u7d71\u7684 Chain \u901a\u5e38\u662f\u7121\u72c0\u614b\u7684,\u800c LangGraph \u63d0\u4f9b\u4e86\u5f37\u5927\u7684\u72c0\u614b\u7ba1\u7406\u80fd\u529b:</p> Python<pre><code>from typing import TypedDict, Annotated\nfrom operator import add\n\n# \u5b9a\u7fa9\u53ef\u7d2f\u52a0\u7684\u72c0\u614b\nclass ConversationState(TypedDict):\n    # \u4f7f\u7528 Annotated \u5b9a\u7fa9\u5982\u4f55\u66f4\u65b0\u72c0\u614b\n    messages: Annotated[list, add]  # \u8a0a\u606f\u6703\u7d2f\u52a0\n    user_info: dict  # \u4f7f\u7528\u8005\u8cc7\u8a0a\u6703\u88ab\u8986\u84cb\n    context: Annotated[list, add]  # \u4e0a\u4e0b\u6587\u6703\u7d2f\u52a0\n\n# \u72c0\u614b\u6703\u5728\u6574\u500b\u6d41\u7a0b\u4e2d\u4fdd\u6301\u548c\u66f4\u65b0\n</code></pre> <p>\u72c0\u614b\u7ba1\u7406\u7684\u91cd\u8981\u6027</p> <p>\u5728\u5be6\u969b\u61c9\u7528\u4e2d,\u4f8b\u5982\u5ba2\u6236\u670d\u52d9 Agent,\u9700\u8981\u8a18\u4f4f:</p> <ul> <li>\u5c0d\u8a71\u6b77\u53f2</li> <li>\u5ba2\u6236\u8cc7\u6599</li> <li>\u67e5\u8a62\u7d50\u679c</li> <li>\u8655\u7406\u9032\u5ea6</li> </ul> <p>\u9019\u4e9b\u90fd\u9700\u8981\u6709\u6548\u7684\u72c0\u614b\u7ba1\u7406\u6a5f\u5236\u3002</p>"},{"location":"langgraph/basics/01-langgraph-intro/#2-cycles","title":"2. \u5faa\u74b0\u57f7\u884c (Cycles)","text":"<p>\u652f\u63f4\u5faa\u74b0\u548c\u8fed\u4ee3,Agent \u53ef\u4ee5\u591a\u6b21\u5617\u8a66\u548c\u512a\u5316\u7d50\u679c:</p> <pre><code>graph LR\n    A[\u958b\u59cb] --&gt; B[\u5206\u6790\u9700\u6c42]\n    B --&gt; C{\u7d50\u679c\u6eff\u610f?}\n    C --&gt;|\u5426| D[\u512a\u5316\u65b9\u6848]\n    D --&gt; B\n    C --&gt;|\u662f| E[\u8f38\u51fa\u7d50\u679c]\n    style C fill:#fff4e1\n    style D fill:#ffe1e1</code></pre> Python<pre><code># \u5be6\u73fe\u5faa\u74b0\u908f\u8f2f\ndef should_continue(state: AgentState) -&gt; str:\n    \"\"\"\u6c7a\u5b9a\u662f\u5426\u7e7c\u7e8c\u512a\u5316\"\"\"\n    if state[\"quality_score\"] &gt;= 0.8:\n        return \"end\"\n    elif state[\"retry_count\"] &gt;= 3:\n        return \"end\"\n    else:\n        return \"optimize\"\n\nworkflow.add_conditional_edges(\n    \"validate\",\n    should_continue,\n    {\n        \"optimize\": \"analyze\",  # \u56de\u5230\u5206\u6790\u6b65\u9a5f\n        \"end\": END\n    }\n)\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#3-conditional-routing","title":"3. \u9748\u6d3b\u8def\u7531 (Conditional Routing)","text":"<p>\u6839\u64da\u72c0\u614b\u52d5\u614b\u6c7a\u5b9a\u4e0b\u4e00\u6b65\u57f7\u884c\u54ea\u500b\u7bc0\u9ede:</p> Python<pre><code>def route_by_intent(state: AgentState) -&gt; str:\n    \"\"\"\u6839\u64da\u4f7f\u7528\u8005\u610f\u5716\u8def\u7531\"\"\"\n    intent = state[\"user_intent\"]\n\n    if intent == \"\u67e5\u8a62\u4fdd\u55ae\":\n        return \"policy_search\"\n    elif intent == \"\u7406\u8ce0\u7533\u8acb\":\n        return \"claim_process\"\n    elif intent == \"\u7522\u54c1\u8aee\u8a62\":\n        return \"product_recommend\"\n    else:\n        return \"general_qa\"\n\nworkflow.add_conditional_edges(\n    \"intent_recognition\",\n    route_by_intent,\n    {\n        \"policy_search\": \"policy_node\",\n        \"claim_process\": \"claim_node\",\n        \"product_recommend\": \"recommend_node\",\n        \"general_qa\": \"qa_node\"\n    }\n)\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#_2","title":"\u5be6\u969b\u61c9\u7528\u5834\u666f","text":""},{"location":"langgraph/basics/01-langgraph-intro/#1-agent","title":"\u5834\u666f 1: \u667a\u80fd\u5ba2\u670d Agent","text":"<pre><code>graph TB\n    START[\u5ba2\u6236\u63d0\u554f] --&gt; INTENT[\u610f\u5716\u8b58\u5225]\n    INTENT --&gt; |\u4fdd\u55ae\u67e5\u8a62| POLICY[\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a]\n    INTENT --&gt; |\u7406\u8ce0\u554f\u984c| CLAIM[\u7406\u8ce0\u6d41\u7a0b\u8655\u7406]\n    INTENT --&gt; |\u4e00\u822c\u554f\u984c| QA[\u77e5\u8b58\u5eab\u67e5\u8a62]\n\n    POLICY --&gt; VALIDATE{\u8cc7\u8a0a\u5b8c\u6574?}\n    VALIDATE --&gt; |\u5426| ASK[\u8a62\u554f\u88dc\u5145\u8cc7\u8a0a]\n    ASK --&gt; POLICY\n    VALIDATE --&gt; |\u662f| RESPOND[\u751f\u6210\u56de\u61c9]\n\n    CLAIM --&gt; CHECK{\u9700\u8981\u4eba\u5de5?}\n    CHECK --&gt; |\u662f| HUMAN[\u8f49\u4eba\u5de5\u5ba2\u670d]\n    CHECK --&gt; |\u5426| RESPOND\n\n    QA --&gt; RESPOND\n\n    RESPOND --&gt; END[\u7d50\u675f]\n    HUMAN --&gt; END\n\n    style INTENT fill:#e1f5ff\n    style VALIDATE fill:#fff4e1\n    style CHECK fill:#fff4e1\n    style RESPOND fill:#e8f5e9</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#2","title":"\u5834\u666f 2: \u6587\u4ef6\u8655\u7406\u6d41\u7a0b","text":"Python<pre><code>from langgraph.graph import StateGraph, END\nfrom typing import TypedDict\n\nclass DocumentState(TypedDict):\n    \"\"\"\u6587\u4ef6\u8655\u7406\u72c0\u614b\"\"\"\n    raw_text: str\n    doc_type: str  # \u4fdd\u55ae\u3001\u7406\u8ce0\u55ae\u3001\u7533\u8acb\u66f8\n    extracted_data: dict\n    validation_errors: list\n    status: str\n\n# \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(DocumentState)\n\n# \u7bc0\u9ede\u5b9a\u7fa9\ndef classify_document(state: DocumentState) -&gt; DocumentState:\n    \"\"\"\u6587\u4ef6\u5206\u985e\"\"\"\n    # \u4f7f\u7528 LLM \u5206\u985e\u6587\u4ef6\u985e\u578b\n    doc_type = llm_classifier(state[\"raw_text\"])\n    return {\"doc_type\": doc_type}\n\ndef extract_info(state: DocumentState) -&gt; DocumentState:\n    \"\"\"\u8cc7\u8a0a\u63d0\u53d6\"\"\"\n    # \u6839\u64da\u6587\u4ef6\u985e\u578b\u63d0\u53d6\u4e0d\u540c\u6b04\u4f4d\n    if state[\"doc_type\"] == \"\u4fdd\u55ae\":\n        data = extract_policy_info(state[\"raw_text\"])\n    elif state[\"doc_type\"] == \"\u7406\u8ce0\u55ae\":\n        data = extract_claim_info(state[\"raw_text\"])\n    return {\"extracted_data\": data}\n\ndef validate_data(state: DocumentState) -&gt; DocumentState:\n    \"\"\"\u8cc7\u6599\u9a57\u8b49\"\"\"\n    errors = []\n    # \u9a57\u8b49\u5fc5\u586b\u6b04\u4f4d\n    if not state[\"extracted_data\"].get(\"policy_number\"):\n        errors.append(\"\u7f3a\u5c11\u4fdd\u55ae\u865f\u78bc\")\n    return {\"validation_errors\": errors}\n\n# \u6dfb\u52a0\u7bc0\u9ede\nworkflow.add_node(\"classify\", classify_document)\nworkflow.add_node(\"extract\", extract_info)\nworkflow.add_node(\"validate\", validate_data)\n\n# \u8a2d\u5b9a\u6d41\u7a0b\nworkflow.set_entry_point(\"classify\")\nworkflow.add_edge(\"classify\", \"extract\")\nworkflow.add_edge(\"extract\", \"validate\")\n\n# \u689d\u4ef6\u7d50\u675f\ndef should_retry(state: DocumentState) -&gt; str:\n    if state[\"validation_errors\"]:\n        return \"extract\"  # \u91cd\u65b0\u63d0\u53d6\n    return END\n\nworkflow.add_conditional_edges(\"validate\", should_retry)\n\n# \u7de8\u8b6f\u57f7\u884c\napp = workflow.compile()\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#langgraph_5","title":"LangGraph \u6838\u5fc3\u6982\u5ff5\u9810\u89bd","text":"<p>\u5728\u5f8c\u7e8c\u7ae0\u7bc0\u4e2d,\u6211\u5011\u6703\u6df1\u5165\u5b78\u7fd2\u9019\u4e9b\u6838\u5fc3\u6982\u5ff5:</p>"},{"location":"langgraph/basics/01-langgraph-intro/#1-graph","title":"1. Graph (\u5716)","text":"<p>\u5716\u662f\u6574\u500b\u5de5\u4f5c\u6d41\u7a0b\u7684\u5bb9\u5668,\u5b9a\u7fa9\u4e86 Agent \u7684\u57f7\u884c\u908f\u8f2f:</p> Python<pre><code>from langgraph.graph import StateGraph\n\n# \u5efa\u7acb\u5716\nworkflow = StateGraph(StateType)\n\n# \u6dfb\u52a0\u7bc0\u9ede\u548c\u908a\nworkflow.add_node(\"node1\", function1)\nworkflow.add_edge(\"node1\", \"node2\")\n\n# \u7de8\u8b6f\u6210\u53ef\u57f7\u884c\u7684\u61c9\u7528\napp = workflow.compile()\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#2-state","title":"2. State (\u72c0\u614b)","text":"<p>\u72c0\u614b\u662f\u5728\u7bc0\u9ede\u4e4b\u9593\u50b3\u905e\u7684\u8cc7\u6599\u7d50\u69cb:</p> Python<pre><code>from typing import TypedDict, Annotated\nfrom operator import add\n\nclass MyState(TypedDict):\n    messages: Annotated[list, add]  # \u7d2f\u52a0\n    count: int  # \u8986\u84cb\n    metadata: dict  # \u8986\u84cb\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#3-node","title":"3. Node (\u7bc0\u9ede)","text":"<p>\u7bc0\u9ede\u662f\u57f7\u884c\u5177\u9ad4\u908f\u8f2f\u7684\u51fd\u6578:</p> Python<pre><code>def my_node(state: MyState) -&gt; MyState:\n    \"\"\"\u7bc0\u9ede\u51fd\u6578\u63a5\u6536\u72c0\u614b,\u8fd4\u56de\u66f4\u65b0\u7684\u72c0\u614b\"\"\"\n    # \u57f7\u884c\u908f\u8f2f\n    result = process(state)\n\n    # \u8fd4\u56de\u8981\u66f4\u65b0\u7684\u72c0\u614b\n    return {\n        \"messages\": [result],\n        \"count\": state[\"count\"] + 1\n    }\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#4-edge","title":"4. Edge (\u908a)","text":"<p>\u908a\u5b9a\u7fa9\u4e86\u7bc0\u9ede\u4e4b\u9593\u7684\u9023\u63a5\u95dc\u4fc2:</p> Python<pre><code># \u56fa\u5b9a\u908a\nworkflow.add_edge(\"node1\", \"node2\")\n\n# \u689d\u4ef6\u908a\nworkflow.add_conditional_edges(\n    \"node1\",\n    routing_function,\n    {\n        \"path_a\": \"node2\",\n        \"path_b\": \"node3\"\n    }\n)\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#agent","title":"\u7c21\u55ae\u7bc4\u4f8b:\u5f85\u8fa6\u4e8b\u9805 Agent","text":"<p>\u8b93\u6211\u5011\u900f\u904e\u4e00\u500b\u7c21\u55ae\u7684\u4f8b\u5b50\u4f86\u7406\u89e3 LangGraph:</p> Python<pre><code>from langgraph.graph import StateGraph, END\nfrom typing import TypedDict\nfrom langchain_openai import ChatOpenAI\n\n# 1. \u5b9a\u7fa9\u72c0\u614b\nclass TodoState(TypedDict):\n    task: str\n    priority: str\n    status: str\n    notes: list\n\n# 2. \u5b9a\u7fa9\u7bc0\u9ede\u51fd\u6578\ndef analyze_task(state: TodoState) -&gt; TodoState:\n    \"\"\"\u5206\u6790\u4efb\u52d9\u512a\u5148\u7d1a\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\u5206\u6790\u9019\u500b\u4efb\u52d9\u7684\u512a\u5148\u7d1a(\u9ad8/\u4e2d/\u4f4e): {state['task']}\"\n    priority = llm.invoke(prompt).content\n\n    return {\"priority\": priority.strip()}\n\ndef create_plan(state: TodoState) -&gt; TodoState:\n    \"\"\"\u5efa\u7acb\u57f7\u884c\u8a08\u756b\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u70ba\u4ee5\u4e0b\u4efb\u52d9\u5efa\u7acb\u57f7\u884c\u8a08\u756b:\n    \u4efb\u52d9: {state['task']}\n    \u512a\u5148\u7d1a: {state['priority']}\n    \"\"\"\n    plan = llm.invoke(prompt).content\n\n    return {\n        \"notes\": [plan],\n        \"status\": \"planned\"\n    }\n\n# 3. \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(TodoState)\n\n# \u6dfb\u52a0\u7bc0\u9ede\nworkflow.add_node(\"analyze\", analyze_task)\nworkflow.add_node(\"plan\", create_plan)\n\n# \u8a2d\u5b9a\u6d41\u7a0b\nworkflow.set_entry_point(\"analyze\")\nworkflow.add_edge(\"analyze\", \"plan\")\nworkflow.add_edge(\"plan\", END)\n\n# 4. \u7de8\u8b6f\u548c\u57f7\u884c\napp = workflow.compile()\n\n# 5. \u57f7\u884c\nresult = app.invoke({\n    \"task\": \"\u5b8c\u6210 Q1 \u5b63\u5ea6\u5831\u544a\",\n    \"status\": \"pending\",\n    \"notes\": []\n})\n\nprint(f\"\u512a\u5148\u7d1a: {result['priority']}\")\nprint(f\"\u72c0\u614b: {result['status']}\")\nprint(f\"\u8a08\u756b: {result['notes'][0]}\")\n</code></pre> <p>\u8f38\u51fa\u7bc4\u4f8b:</p> Text Only<pre><code>\u512a\u5148\u7d1a: \u9ad8\n\u72c0\u614b: planned\n\u8a08\u756b:\n1. \u6536\u96c6 Q1 \u5404\u90e8\u9580\u6578\u64da (1-3\u5929)\n2. \u5206\u6790\u95dc\u9375\u6307\u6a19\u548c\u8da8\u52e2 (2-3\u5929)\n3. \u64b0\u5beb\u5831\u544a\u521d\u7a3f (3-4\u5929)\n4. \u5167\u90e8\u5be9\u6838\u548c\u4fee\u8a02 (1-2\u5929)\n5. \u6700\u7d42\u5b9a\u7a3f\u4e26\u63d0\u4ea4 (1\u5929)\n\n\u9810\u8a08\u5b8c\u6210\u6642\u9593: 8-13 \u500b\u5de5\u4f5c\u5929\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#_3","title":"\u8207\u50b3\u7d71\u7a0b\u5f0f\u8a2d\u8a08\u7684\u5c0d\u6bd4","text":""},{"location":"langgraph/basics/01-langgraph-intro/#_4","title":"\u50b3\u7d71\u65b9\u5f0f","text":"Python<pre><code># \u50b3\u7d71\u7684\u7a0b\u5e8f\u5f0f\u7de8\u7a0b\ndef process_customer_request(request):\n    # \u6b65\u9a5f 1\n    intent = classify_intent(request)\n\n    # \u6b65\u9a5f 2\n    if intent == \"query\":\n        data = query_database(request)\n    elif intent == \"complaint\":\n        data = process_complaint(request)\n\n    # \u6b65\u9a5f 3\n    response = generate_response(data)\n\n    return response\n\n# \u274c \u7f3a\u9ede:\n# - \u96e3\u4ee5\u8655\u7406\u8907\u96dc\u5206\u652f\n# - \u72c0\u614b\u7ba1\u7406\u6df7\u4e82\n# - \u9664\u932f\u56f0\u96e3\n# - \u96e3\u4ee5\u64f4\u5c55\u548c\u7dad\u8b77\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#langgraph_6","title":"LangGraph \u65b9\u5f0f","text":"Python<pre><code># LangGraph \u7684\u5716\u5f62\u5316\u7de8\u7a0b\nworkflow = StateGraph(RequestState)\n\n# \u5b9a\u7fa9\u6e05\u6670\u7684\u7bc0\u9ede\nworkflow.add_node(\"classify\", classify_intent_node)\nworkflow.add_node(\"query\", query_database_node)\nworkflow.add_node(\"complaint\", process_complaint_node)\nworkflow.add_node(\"respond\", generate_response_node)\n\n# \u6e05\u6670\u7684\u8def\u7531\u908f\u8f2f\nworkflow.add_conditional_edges(\n    \"classify\",\n    route_by_intent,\n    {\n        \"query\": \"query\",\n        \"complaint\": \"complaint\"\n    }\n)\n\n# \u2705 \u512a\u9ede:\n# - \u6d41\u7a0b\u6e05\u6670\u53ef\u8996\u5316\n# - \u72c0\u614b\u7ba1\u7406\u660e\u78ba\n# - \u6613\u65bc\u9664\u932f\u548c\u6e2c\u8a66\n# - \u6a21\u7d44\u5316\u6613\u64f4\u5c55\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#langgraph_7","title":"LangGraph \u7684\u61c9\u7528\u9818\u57df","text":""},{"location":"langgraph/basics/01-langgraph-intro/#1","title":"1. \u5ba2\u6236\u670d\u52d9 \ud83e\udd1d","text":"Python<pre><code># \u667a\u80fd\u5ba2\u670d Agent\n- \u591a\u8f2a\u5c0d\u8a71\u7ba1\u7406\n- \u610f\u5716\u8b58\u5225\u548c\u8def\u7531\n- \u77e5\u8b58\u5eab\u67e5\u8a62\n- \u4eba\u5de5\u4ecb\u5165\u6a5f\u5236\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#2_1","title":"2. \u8cc7\u6599\u8655\u7406 \ud83d\udcca","text":"Python<pre><code># \u6587\u4ef6\u8655\u7406 Agent\n- \u6587\u4ef6\u5206\u985e\n- \u8cc7\u8a0a\u63d0\u53d6\n- \u8cc7\u6599\u9a57\u8b49\n- \u7d50\u69cb\u5316\u8f38\u51fa\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#3","title":"3. \u6c7a\u7b56\u652f\u63f4 \ud83d\udca1","text":"Python<pre><code># \u6c7a\u7b56\u8f14\u52a9 Agent\n- \u591a\u6b65\u9a5f\u5206\u6790\n- \u65b9\u6848\u6bd4\u8f03\n- \u98a8\u96aa\u8a55\u4f30\n- \u5efa\u8b70\u751f\u6210\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#4","title":"4. \u81ea\u52d5\u5316\u6d41\u7a0b \u2699\ufe0f","text":"Python<pre><code># \u6d41\u7a0b\u81ea\u52d5\u5316 Agent\n- \u5be9\u6279\u6d41\u7a0b\n- \u8cc7\u6599\u540c\u6b65\n- \u5831\u8868\u751f\u6210\n- \u901a\u77e5\u767c\u9001\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#_5","title":"\u570b\u6cf0\u4eba\u58fd\u61c9\u7528\u6848\u4f8b","text":""},{"location":"langgraph/basics/01-langgraph-intro/#_6","title":"\u6848\u4f8b:\u4fdd\u55ae\u67e5\u8a62\u52a9\u624b","text":"<pre><code>graph TB\n    START[\u5ba2\u6236\u8a62\u554f\u4fdd\u55ae] --&gt; VERIFY[\u9a57\u8b49\u8eab\u4efd]\n    VERIFY --&gt; |\u6210\u529f| EXTRACT[\u63d0\u53d6\u67e5\u8a62\u689d\u4ef6]\n    VERIFY --&gt; |\u5931\u6557| AUTH_FAIL[\u8981\u6c42\u8eab\u4efd\u9a57\u8b49]\n    AUTH_FAIL --&gt; END1[\u7d50\u675f]\n\n    EXTRACT --&gt; SEARCH[\u641c\u5c0b\u4fdd\u55ae]\n    SEARCH --&gt; CHECK{\u627e\u5230\u4fdd\u55ae?}\n    CHECK --&gt; |\u662f| FORMAT[\u683c\u5f0f\u5316\u8cc7\u8a0a]\n    CHECK --&gt; |\u5426| CLARIFY[\u8a62\u554f\u66f4\u591a\u8cc7\u8a0a]\n    CLARIFY --&gt; EXTRACT\n\n    FORMAT --&gt; PRESENT[\u5448\u73fe\u7d50\u679c]\n    PRESENT --&gt; SATISFY{\u5ba2\u6236\u6eff\u610f?}\n    SATISFY --&gt; |\u662f| END2[\u7d50\u675f]\n    SATISFY --&gt; |\u5426| FOLLOW[\u8ffd\u554f\u9700\u6c42]\n    FOLLOW --&gt; EXTRACT\n\n    style VERIFY fill:#e1f5ff\n    style CHECK fill:#fff4e1\n    style SATISFY fill:#fff4e1\n    style PRESENT fill:#e8f5e9</code></pre> <p>\u5be6\u969b\u5be6\u4f5c\u6703\u5728\u7b2c 7-9 \u7ae0\u8a73\u7d30\u8aaa\u660e\u3002</p>"},{"location":"langgraph/basics/01-langgraph-intro/#_7","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>LangGraph \u662f\u4ec0\u9ebc</li> <li>\u7528\u65bc\u5efa\u7acb\u6709\u72c0\u614b\u3001\u591a\u6b65\u9a5f AI Agent \u7684\u6846\u67b6</li> <li>\u900f\u904e\u5716\u5f62\u5316\u65b9\u5f0f\u5b9a\u7fa9\u5de5\u4f5c\u6d41\u7a0b</li> <li> <p>\u662f LangChain \u751f\u614b\u7cfb\u7d71\u7684\u4e00\u90e8\u5206</p> </li> <li> <p>\u6838\u5fc3\u512a\u52e2</p> </li> <li>\u2705 \u6709\u72c0\u614b\u7ba1\u7406:\u6301\u4e45\u5316\u8ffd\u8e64\u5c0d\u8a71\u548c\u4e0a\u4e0b\u6587</li> <li>\u2705 \u652f\u63f4\u5faa\u74b0:\u53ef\u4ee5\u591a\u6b21\u8fed\u4ee3\u512a\u5316\u7d50\u679c</li> <li>\u2705 \u9748\u6d3b\u8def\u7531:\u52d5\u614b\u6c7a\u5b9a\u57f7\u884c\u8def\u5f91</li> <li> <p>\u2705 \u6613\u65bc\u9664\u932f:\u5716\u5f62\u5316\u5448\u73fe,\u6e05\u6670\u76f4\u89c0</p> </li> <li> <p>\u4e3b\u8981\u7d44\u6210</p> </li> <li>Graph:\u5de5\u4f5c\u6d41\u7a0b\u5bb9\u5668</li> <li>State:\u7bc0\u9ede\u9593\u50b3\u905e\u7684\u8cc7\u6599</li> <li>Node:\u57f7\u884c\u5177\u9ad4\u908f\u8f2f\u7684\u51fd\u6578</li> <li> <p>Edge:\u9023\u63a5\u7bc0\u9ede\u7684\u8def\u5f91</p> </li> <li> <p>\u9069\u7528\u5834\u666f</p> </li> <li>\u9700\u8981\u591a\u6b65\u9a5f\u63a8\u7406\u7684\u61c9\u7528</li> <li>\u9700\u8981\u4fdd\u6301\u5c0d\u8a71\u72c0\u614b\u7684 Agent</li> <li>\u8907\u96dc\u7684\u6c7a\u7b56\u6d41\u7a0b</li> <li> <p>\u9700\u8981\u4eba\u6a5f\u5354\u4f5c\u7684\u5834\u666f</p> </li> <li> <p>\u8207 LangChain \u7684\u95dc\u4fc2</p> </li> <li>\u5efa\u7acb\u5728 LangChain \u4e4b\u4e0a</li> <li>\u5c08\u6ce8\u65bc\u8907\u96dc\u7684 Agent \u5de5\u4f5c\u6d41\u7a0b</li> <li>\u53ef\u4ee5\u6574\u5408 LangChain \u7684\u6240\u6709\u7d44\u4ef6</li> <li>\u4e0b\u4e00\u7ae0\u6703\u8a73\u7d30\u8aaa\u660e</li> </ol>"},{"location":"langgraph/basics/01-langgraph-intro/#_8","title":"\u7df4\u7fd2\u5efa\u8b70","text":""},{"location":"langgraph/basics/01-langgraph-intro/#1_1","title":"\u7df4\u7fd2 1: \u74b0\u5883\u8a2d\u5b9a","text":"Bash<pre><code># \u5b89\u88dd\u5fc5\u8981\u5957\u4ef6\npip install langgraph langchain langchain-openai\n\n# \u8a2d\u5b9a API Key\nexport OPENAI_API_KEY=\"your-key-here\"\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#2_2","title":"\u7df4\u7fd2 2: \u57f7\u884c\u7c21\u55ae\u7bc4\u4f8b","text":"<p>\u8907\u88fd\u672c\u7ae0\u7684\u300c\u5f85\u8fa6\u4e8b\u9805 Agent\u300d\u7bc4\u4f8b,\u4fee\u6539\u70ba:</p> Python<pre><code># \u6539\u6210\u300c\u6703\u8b70\u5b89\u6392 Agent\u300d\n- \u5206\u6790\u6703\u8b70\u4e3b\u984c\n- \u5efa\u8b70\u9069\u5408\u7684\u53c3\u8207\u4eba\u54e1\n- \u63a8\u85a6\u6703\u8b70\u6642\u9593\n- \u751f\u6210\u6703\u8b70\u8b70\u7a0b\n</code></pre>"},{"location":"langgraph/basics/01-langgraph-intro/#3_1","title":"\u7df4\u7fd2 3: \u601d\u8003\u61c9\u7528\u5834\u666f","text":"<p>\u601d\u8003\u4f60\u7684\u5de5\u4f5c\u4e2d\u54ea\u4e9b\u6d41\u7a0b\u53ef\u4ee5\u7528 LangGraph \u81ea\u52d5\u5316:</p> <ul> <li>\u9700\u8981\u54ea\u4e9b\u6b65\u9a5f?</li> <li>\u6709\u54ea\u4e9b\u5206\u652f\u5224\u65b7?</li> <li>\u9700\u8981\u4fdd\u5b58\u4ec0\u9ebc\u72c0\u614b?</li> <li>\u662f\u5426\u9700\u8981\u5faa\u74b0\u8655\u7406?</li> </ul>"},{"location":"langgraph/basics/01-langgraph-intro/#_9","title":"\u5e38\u898b\u554f\u984c","text":""},{"location":"langgraph/basics/01-langgraph-intro/#q1-langgraph-langchain","title":"Q1: LangGraph \u548c LangChain \u6709\u4ec0\u9ebc\u4e0d\u540c?","text":"<p>A: - LangChain:\u63d0\u4f9b\u57fa\u790e\u7d44\u4ef6(LLM\u3001Prompt\u3001Chain\u3001Tools) - LangGraph:\u5728 LangChain \u4e4b\u4e0a,\u5c08\u6ce8\u65bc\u8907\u96dc\u7684\u6709\u72c0\u614b\u5de5\u4f5c\u6d41\u7a0b - \u95dc\u4fc2:LangGraph \u4f7f\u7528 LangChain \u7684\u7d44\u4ef6,\u4f46\u63d0\u4f9b\u66f4\u5f37\u5927\u7684\u6d41\u7a0b\u63a7\u5236</p> <p>\u8a73\u7d30\u8aaa\u660e\u8acb\u898b\u7b2c 3 \u7ae0\u3002</p>"},{"location":"langgraph/basics/01-langgraph-intro/#q2-langgraph","title":"Q2: \u4ec0\u9ebc\u6642\u5019\u61c9\u8a72\u4f7f\u7528 LangGraph?","text":"<p>A: \u7576\u4f60\u7684\u61c9\u7528\u9700\u8981: - \u591a\u6b65\u9a5f\u63a8\u7406\u548c\u6c7a\u7b56 - \u4fdd\u6301\u5c0d\u8a71\u72c0\u614b\u548c\u4e0a\u4e0b\u6587 - \u8907\u96dc\u7684\u689d\u4ef6\u5206\u652f - \u5faa\u74b0\u548c\u8fed\u4ee3 - \u4eba\u6a5f\u5354\u4f5c</p>"},{"location":"langgraph/basics/01-langgraph-intro/#q3-langgraph","title":"Q3: LangGraph \u7684\u5b78\u7fd2\u66f2\u7dda\u9661\u5ced\u55ce?","text":"<p>A: - \u5982\u679c\u719f\u6089 LangChain:\u5f88\u5bb9\u6613\u4e0a\u624b - \u5982\u679c\u662f\u65b0\u624b:\u5efa\u8b70\u5148\u4e86\u89e3 LangChain \u57fa\u790e - \u6838\u5fc3\u6982\u5ff5\u7c21\u55ae:Graph\u3001State\u3001Node\u3001Edge - \u672c\u8ab2\u7a0b\u6703\u5faa\u5e8f\u6f38\u9032\u5f15\u5c0e</p>"},{"location":"langgraph/basics/01-langgraph-intro/#q4","title":"Q4: \u53ef\u4ee5\u7528\u65bc\u751f\u7522\u74b0\u5883\u55ce?","text":"<p>A: \u53ef\u4ee5,\u4f46\u9700\u8981\u6ce8\u610f: - \u932f\u8aa4\u8655\u7406\u548c\u91cd\u8a66\u6a5f\u5236(\u7b2c 11 \u7ae0) - \u6548\u80fd\u512a\u5316(\u7b2c 12 \u7ae0) - \u5b89\u5168\u6027\u8003\u91cf - \u5145\u5206\u7684\u6e2c\u8a66</p>"},{"location":"langgraph/basics/01-langgraph-intro/#_10","title":"\u4e0b\u4e00\u6b65","text":"<p>\u606d\u559c\u5b8c\u6210\u7b2c\u4e00\u7ae0!\u73fe\u5728\u60a8\u5df2\u7d93\u4e86\u89e3:</p> <ul> <li>\u2705 LangGraph \u7684\u57fa\u672c\u6982\u5ff5</li> <li>\u2705 \u70ba\u4ec0\u9ebc\u9700\u8981 LangGraph</li> <li>\u2705 LangGraph \u89e3\u6c7a\u7684\u6838\u5fc3\u554f\u984c</li> <li>\u2705 \u5be6\u969b\u61c9\u7528\u5834\u666f</li> </ul> <p>\u5728\u4e0b\u4e00\u7ae0\u4e2d,\u6211\u5011\u5c07\u6df1\u5165\u5b78\u7fd2 LangGraph \u7684\u6838\u5fc3\u7d44\u4ef6:Node\u3001Edge \u548c State,\u4e26\u4e86\u89e3\u5982\u4f55\u4f7f\u7528\u5b83\u5011\u5efa\u7acb\u8907\u96dc\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002</p>          \u4e0b\u4e00\u7ae0:\u6838\u5fc3\u7d44\u4ef6\u4ecb\u7d39 \u2192"},{"location":"langgraph/basics/02-core-components/","title":"\u6838\u5fc3\u7d44\u4ef6\u4ecb\u7d39","text":""},{"location":"langgraph/basics/02-core-components/#_2","title":"\u6982\u8ff0","text":"<p>LangGraph \u7684\u5f37\u5927\u4e4b\u8655\u5728\u65bc\u5176\u7c21\u55ae\u800c\u9748\u6d3b\u7684\u6838\u5fc3\u7d44\u4ef6\u3002\u672c\u7ae0\u5c07\u6df1\u5165\u4ecb\u7d39\u4e09\u500b\u6700\u91cd\u8981\u7684\u6982\u5ff5:State(\u72c0\u614b)\u3001Node(\u7bc0\u9ede) \u548c Edge(\u908a),\u4ee5\u53ca\u5982\u4f55\u7d44\u5408\u5b83\u5011\u5efa\u7acb\u8907\u96dc\u7684 Agent \u5de5\u4f5c\u6d41\u7a0b\u3002</p> <pre><code>graph LR\n    A[State&lt;br/&gt;\u72c0\u614b] --&gt; B[Node&lt;br/&gt;\u7bc0\u9ede]\n    B --&gt; C[Edge&lt;br/&gt;\u908a]\n    C --&gt; A\n    style A fill:#e1f5ff\n    style B fill:#e8f5e9\n    style C fill:#fff4e1</code></pre> <p>\u6838\u5fc3\u4e09\u8981\u7d20</p> <ul> <li>State:\u8cc7\u6599\u7684\u5bb9\u5668,\u5728\u7bc0\u9ede\u9593\u50b3\u905e</li> <li>Node:\u8655\u7406\u908f\u8f2f\u7684\u51fd\u6578,\u8f49\u63db\u72c0\u614b</li> <li>Edge:\u9023\u63a5\u7bc0\u9ede\u7684\u8def\u5f91,\u63a7\u5236\u6d41\u7a0b</li> </ul>"},{"location":"langgraph/basics/02-core-components/#state","title":"State (\u72c0\u614b)","text":""},{"location":"langgraph/basics/02-core-components/#state_1","title":"\u4ec0\u9ebc\u662f State?","text":"<p>State \u662f\u5728\u6574\u500b\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u50b3\u905e\u548c\u66f4\u65b0\u7684\u8cc7\u6599\u7d50\u69cb\u3002\u5b83\u8a18\u9304\u4e86 Agent \u7684\u300c\u8a18\u61b6\u300d\u548c\u300c\u4e0a\u4e0b\u6587\u300d\u3002</p> Python<pre><code>from typing import TypedDict, Annotated\nfrom operator import add\n\n# \u5b9a\u7fa9\u72c0\u614b\u7d50\u69cb\nclass AgentState(TypedDict):\n    \"\"\"\n    AgentState \u5b9a\u7fa9\u4e86\u5728\u5de5\u4f5c\u6d41\u7a0b\u4e2d\u50b3\u905e\u7684\u6240\u6709\u8cc7\u6599\n    \"\"\"\n    # \u5c0d\u8a71\u8a0a\u606f\u5217\u8868\n    messages: Annotated[list, add]  # \u4f7f\u7528 add \u8868\u793a\u7d2f\u52a0\n\n    # \u7576\u524d\u6b65\u9a5f\n    current_step: str  # \u76f4\u63a5\u8986\u84cb\n\n    # \u4f7f\u7528\u8005\u8cc7\u8a0a\n    user_info: dict  # \u76f4\u63a5\u8986\u84cb\n\n    # \u932f\u8aa4\u8a08\u6578\n    error_count: int  # \u76f4\u63a5\u8986\u84cb\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#state_2","title":"State \u7684\u66f4\u65b0\u6a5f\u5236","text":"<p>LangGraph \u63d0\u4f9b\u5169\u7a2e\u72c0\u614b\u66f4\u65b0\u65b9\u5f0f:</p>"},{"location":"langgraph/basics/02-core-components/#1-replace","title":"1. \u8986\u84cb\u66f4\u65b0 (Replace)","text":"<p>\u9810\u8a2d\u884c\u70ba,\u65b0\u503c\u6703\u8986\u84cb\u820a\u503c:</p> Python<pre><code>from typing import TypedDict\n\nclass SimpleState(TypedDict):\n    counter: int\n    name: str\n\n# \u7bc0\u9ede\u51fd\u6578\ndef increment(state: SimpleState) -&gt; SimpleState:\n    # \u8fd4\u56de\u7684\u503c\u6703\u8986\u84cb\u539f\u6709\u503c\n    return {\n        \"counter\": state[\"counter\"] + 1,\n        \"name\": \"updated\"\n    }\n\n# \u57f7\u884c\u524d: {\"counter\": 0, \"name\": \"original\"}\n# \u57f7\u884c\u5f8c: {\"counter\": 1, \"name\": \"updated\"}\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#2-add","title":"2. \u7d2f\u52a0\u66f4\u65b0 (Add)","text":"<p>\u4f7f\u7528 <code>Annotated</code> \u6307\u5b9a\u7d2f\u52a0\u884c\u70ba:</p> Python<pre><code>from typing import TypedDict, Annotated\nfrom operator import add\n\nclass ConversationState(TypedDict):\n    # \u8a0a\u606f\u6703\u7d2f\u52a0,\u4e0d\u6703\u88ab\u8986\u84cb\n    messages: Annotated[list, add]\n    # \u8a08\u6578\u6703\u8986\u84cb\n    message_count: int\n\ndef add_message(state: ConversationState) -&gt; ConversationState:\n    new_msg = {\"role\": \"assistant\", \"content\": \"\u4f60\u597d!\"}\n\n    return {\n        \"messages\": [new_msg],  # \u6703\u52a0\u5230\u73fe\u6709\u8a0a\u606f\u5f8c\u9762\n        \"message_count\": len(state[\"messages\"]) + 1  # \u6703\u8986\u84cb\n    }\n\n# \u57f7\u884c\u524d: {\"messages\": [{\"role\": \"user\", \"content\": \"\u55e8\"}], \"message_count\": 1}\n# \u57f7\u884c\u5f8c: {\"messages\": [{\"role\": \"user\", \"content\": \"\u55e8\"},\n#                       {\"role\": \"assistant\", \"content\": \"\u4f60\u597d!\"}],\n#          \"message_count\": 2}\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#state_3","title":"State \u7684\u6700\u4f73\u5be6\u8e10","text":"Python<pre><code>from typing import TypedDict, Annotated, Optional\nfrom operator import add\nfrom datetime import datetime\n\nclass ProductionState(TypedDict):\n    \"\"\"\u751f\u7522\u74b0\u5883\u7684\u72c0\u614b\u8a2d\u8a08\u7bc4\u4f8b\"\"\"\n\n    # 1. \u5c0d\u8a71\u6b77\u53f2 - \u4f7f\u7528\u7d2f\u52a0\n    messages: Annotated[list[dict], add]\n\n    # 2. \u4f7f\u7528\u8005\u8cc7\u8a0a - \u4f7f\u7528\u8986\u84cb\n    user_id: str\n    user_name: str\n    user_role: str\n\n    # 3. \u7576\u524d\u6703\u8a71\u8cc7\u8a0a - \u4f7f\u7528\u8986\u84cb\n    session_id: str\n    timestamp: datetime\n\n    # 4. \u8655\u7406\u72c0\u614b - \u4f7f\u7528\u8986\u84cb\n    current_step: str\n    is_processing: bool\n\n    # 5. \u7d2f\u8a08\u8cc7\u8a0a - \u4f7f\u7528\u7d2f\u52a0\n    search_results: Annotated[list[dict], add]\n    execution_logs: Annotated[list[str], add]\n\n    # 6. \u932f\u8aa4\u8655\u7406 - \u4f7f\u7528\u8986\u84cb\n    error_count: int\n    last_error: Optional[str]\n\n    # 7. \u7d50\u679c\u8cc7\u6599 - \u4f7f\u7528\u8986\u84cb\n    final_result: Optional[dict]\n</code></pre> <p>State \u8a2d\u8a08\u6ce8\u610f\u4e8b\u9805</p> <ol> <li>\u907f\u514d\u5b58\u653e\u5927\u578b\u7269\u4ef6:State \u6703\u5728\u7bc0\u9ede\u9593\u50b3\u905e,\u592a\u5927\u6703\u5f71\u97ff\u6548\u80fd</li> <li>\u4f7f\u7528\u660e\u78ba\u7684\u578b\u5225:\u6709\u52a9\u65bc\u9664\u932f\u548c\u7dad\u8b77</li> <li>\u5340\u5206\u7d2f\u52a0\u548c\u8986\u84cb:\u6839\u64da\u696d\u52d9\u908f\u8f2f\u9078\u64c7\u5408\u9069\u7684\u66f4\u65b0\u65b9\u5f0f</li> <li>\u4fdd\u6301\u6241\u5e73\u7d50\u69cb:\u907f\u514d\u904e\u6df1\u7684\u5de2\u72c0\u7d50\u69cb</li> </ol>"},{"location":"langgraph/basics/02-core-components/#node","title":"Node (\u7bc0\u9ede)","text":""},{"location":"langgraph/basics/02-core-components/#node_1","title":"\u4ec0\u9ebc\u662f Node?","text":"<p>Node \u662f\u57f7\u884c\u5177\u9ad4\u908f\u8f2f\u7684\u51fd\u6578,\u5b83\u63a5\u6536\u7576\u524d State,\u57f7\u884c\u8655\u7406,\u7136\u5f8c\u8fd4\u56de\u66f4\u65b0\u7684 State\u3002</p> Python<pre><code>def my_node(state: AgentState) -&gt; AgentState:\n    \"\"\"\n    \u7bc0\u9ede\u51fd\u6578\u7684\u6a19\u6e96\u7d50\u69cb\n\n    Args:\n        state: \u7576\u524d\u72c0\u614b\n\n    Returns:\n        \u66f4\u65b0\u7684\u72c0\u614b(\u53ea\u9700\u8981\u8fd4\u56de\u8b8a\u66f4\u7684\u6b04\u4f4d)\n    \"\"\"\n    # 1. \u5f9e\u72c0\u614b\u4e2d\u8b80\u53d6\u9700\u8981\u7684\u8cc7\u6599\n    user_input = state[\"messages\"][-1][\"content\"]\n\n    # 2. \u57f7\u884c\u696d\u52d9\u908f\u8f2f\n    result = process(user_input)\n\n    # 3. \u8fd4\u56de\u8981\u66f4\u65b0\u7684\u72c0\u614b\n    return {\n        \"messages\": [{\"role\": \"assistant\", \"content\": result}],\n        \"current_step\": \"completed\"\n    }\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#node_2","title":"Node \u7684\u985e\u578b","text":""},{"location":"langgraph/basics/02-core-components/#1-processing-node","title":"1. \u8655\u7406\u7bc0\u9ede (Processing Node)","text":"<p>\u57f7\u884c\u4e3b\u8981\u696d\u52d9\u908f\u8f2f:</p> Python<pre><code>from langchain_openai import ChatOpenAI\n\ndef analyze_sentiment(state: ConversationState) -&gt; ConversationState:\n    \"\"\"\u60c5\u611f\u5206\u6790\u7bc0\u9ede\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    # \u53d6\u5f97\u6700\u5f8c\u4e00\u5247\u4f7f\u7528\u8005\u8a0a\u606f\n    last_message = state[\"messages\"][-1][\"content\"]\n\n    # LLM \u5206\u6790\u60c5\u611f\n    prompt = f\"\u5206\u6790\u4ee5\u4e0b\u6587\u5b57\u7684\u60c5\u611f(\u6b63\u9762/\u8ca0\u9762/\u4e2d\u6027):\\n{last_message}\"\n    sentiment = llm.invoke(prompt).content\n\n    # \u66f4\u65b0\u72c0\u614b\n    return {\n        \"sentiment\": sentiment,\n        \"messages\": [{\"role\": \"system\", \"content\": f\"\u60c5\u611f: {sentiment}\"}]\n    }\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#2-decision-node","title":"2. \u6c7a\u7b56\u7bc0\u9ede (Decision Node)","text":"<p>\u6839\u64da\u689d\u4ef6\u8a2d\u5b9a\u6a19\u8a18,\u4f9b\u5f8c\u7e8c\u8def\u7531\u4f7f\u7528:</p> Python<pre><code>def check_quality(state: AgentState) -&gt; AgentState:\n    \"\"\"\u54c1\u8cea\u6aa2\u67e5\u7bc0\u9ede\"\"\"\n    result = state[\"result\"]\n\n    # \u8a08\u7b97\u54c1\u8cea\u5206\u6578\n    quality_score = calculate_quality(result)\n\n    # \u8a2d\u5b9a\u6c7a\u7b56\u6a19\u8a18\n    return {\n        \"quality_score\": quality_score,\n        \"needs_improvement\": quality_score &lt; 0.8,\n        \"current_step\": \"quality_checked\"\n    }\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#3-integration-node","title":"3. \u6574\u5408\u7bc0\u9ede (Integration Node)","text":"<p>\u8207\u5916\u90e8\u7cfb\u7d71\u6216 API \u4e92\u52d5:</p> Python<pre><code>import requests\n\ndef query_database(state: AgentState) -&gt; AgentState:\n    \"\"\"\u8cc7\u6599\u5eab\u67e5\u8a62\u7bc0\u9ede\"\"\"\n    policy_number = state[\"policy_number\"]\n\n    # \u547c\u53eb\u5167\u90e8 API\n    response = requests.get(\n        f\"https://api.company.com/policy/{policy_number}\",\n        headers={\"Authorization\": f\"Bearer {API_KEY}\"}\n    )\n\n    if response.status_code == 200:\n        policy_data = response.json()\n        return {\n            \"policy_data\": policy_data,\n            \"error_count\": 0,\n            \"current_step\": \"data_retrieved\"\n        }\n    else:\n        return {\n            \"error_count\": state[\"error_count\"] + 1,\n            \"last_error\": f\"API Error: {response.status_code}\",\n            \"current_step\": \"error\"\n        }\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#4-formatting-node","title":"4. \u683c\u5f0f\u5316\u7bc0\u9ede (Formatting Node)","text":"<p>\u6e96\u5099\u8f38\u51fa\u683c\u5f0f:</p> Python<pre><code>def format_response(state: AgentState) -&gt; AgentState:\n    \"\"\"\u683c\u5f0f\u5316\u56de\u61c9\u7bc0\u9ede\"\"\"\n    data = state[\"policy_data\"]\n\n    # \u683c\u5f0f\u5316\u8f38\u51fa\n    formatted_text = f\"\"\"\n\u4fdd\u55ae\u8cc7\u8a0a:\n- \u4fdd\u55ae\u865f\u78bc: {data['policy_number']}\n- \u4fdd\u96aa\u4eba: {data['holder_name']}\n- \u4fdd\u984d: NT$ {data['amount']:,}\n- \u6709\u6548\u671f: {data['start_date']} \u81f3 {data['end_date']}\n\"\"\"\n\n    return {\n        \"final_result\": formatted_text,\n        \"messages\": [{\"role\": \"assistant\", \"content\": formatted_text}]\n    }\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#node_3","title":"Node \u7684\u6700\u4f73\u5be6\u8e10","text":"Python<pre><code>from typing import TypedDict\nfrom langchain_openai import ChatOpenAI\nimport logging\n\n# \u8a2d\u5b9a\u65e5\u8a8c\nlogger = logging.getLogger(__name__)\n\ndef robust_node(state: AgentState) -&gt; AgentState:\n    \"\"\"\u5065\u58ef\u7684\u7bc0\u9ede\u8a2d\u8a08\u7bc4\u4f8b\"\"\"\n\n    # 1. \u8f38\u5165\u9a57\u8b49\n    if not state.get(\"user_input\"):\n        logger.warning(\"Missing user_input in state\")\n        return {\n            \"error_count\": state.get(\"error_count\", 0) + 1,\n            \"last_error\": \"Missing user input\"\n        }\n\n    # 2. \u932f\u8aa4\u8655\u7406\n    try:\n        # \u696d\u52d9\u908f\u8f2f\n        llm = ChatOpenAI(model=\"gpt-4\", timeout=30)\n        result = llm.invoke(state[\"user_input\"])\n\n        # 3. \u65e5\u8a8c\u8a18\u9304\n        logger.info(f\"Successfully processed: {state['user_input'][:50]}...\")\n\n        # 4. \u8fd4\u56de\u66f4\u65b0\n        return {\n            \"result\": result.content,\n            \"current_step\": \"processed\",\n            \"error_count\": 0  # \u91cd\u8a2d\u932f\u8aa4\u8a08\u6578\n        }\n\n    except Exception as e:\n        # 5. \u932f\u8aa4\u8655\u7406\n        logger.error(f\"Node error: {str(e)}\")\n        return {\n            \"error_count\": state.get(\"error_count\", 0) + 1,\n            \"last_error\": str(e),\n            \"current_step\": \"error\"\n        }\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#edge","title":"Edge (\u908a)","text":""},{"location":"langgraph/basics/02-core-components/#edge_1","title":"\u4ec0\u9ebc\u662f Edge?","text":"<p>Edge \u5b9a\u7fa9\u4e86\u7bc0\u9ede\u4e4b\u9593\u7684\u9023\u63a5\u95dc\u4fc2\u548c\u57f7\u884c\u9806\u5e8f\u3002LangGraph \u63d0\u4f9b\u4e09\u7a2e\u985e\u578b\u7684\u908a:</p> <pre><code>graph TB\n    A[Entry Point] --&gt; B[Node 1]\n\n    B --&gt; |Normal Edge| C[Node 2]\n\n    C --&gt; D{Conditional&lt;br/&gt;Edge}\n    D --&gt; |\u689d\u4ef6 A| E[Node 3]\n    D --&gt; |\u689d\u4ef6 B| F[Node 4]\n\n    E --&gt; G[END]\n    F --&gt; G\n\n    style A fill:#4CAF50,color:#fff\n    style D fill:#FF9800,color:#fff\n    style G fill:#F44336,color:#fff</code></pre>"},{"location":"langgraph/basics/02-core-components/#1-normal-edge","title":"1. \u4e00\u822c\u908a (Normal Edge)","text":"<p>\u56fa\u5b9a\u7684\u9023\u63a5\u95dc\u4fc2:</p> Python<pre><code>from langgraph.graph import StateGraph, END\n\nworkflow = StateGraph(AgentState)\n\n# \u6dfb\u52a0\u7bc0\u9ede\nworkflow.add_node(\"step1\", step1_function)\nworkflow.add_node(\"step2\", step2_function)\nworkflow.add_node(\"step3\", step3_function)\n\n# \u6dfb\u52a0\u56fa\u5b9a\u7684\u908a\nworkflow.add_edge(\"step1\", \"step2\")  # step1 \u5b8c\u6210\u5f8c\u57f7\u884c step2\nworkflow.add_edge(\"step2\", \"step3\")  # step2 \u5b8c\u6210\u5f8c\u57f7\u884c step3\nworkflow.add_edge(\"step3\", END)       # step3 \u5b8c\u6210\u5f8c\u7d50\u675f\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#2-conditional-edge","title":"2. \u689d\u4ef6\u908a (Conditional Edge)","text":"<p>\u6839\u64da\u72c0\u614b\u52d5\u614b\u6c7a\u5b9a\u4e0b\u4e00\u6b65:</p> Python<pre><code>def route_based_on_quality(state: AgentState) -&gt; str:\n    \"\"\"\n    \u8def\u7531\u51fd\u6578:\u6839\u64da\u72c0\u614b\u6c7a\u5b9a\u4e0b\u4e00\u500b\u7bc0\u9ede\n\n    Returns:\n        \u4e0b\u4e00\u500b\u7bc0\u9ede\u7684\u540d\u7a31\n    \"\"\"\n    if state[\"quality_score\"] &gt;= 0.9:\n        return \"excellent_path\"\n    elif state[\"quality_score\"] &gt;= 0.7:\n        return \"good_path\"\n    else:\n        return \"needs_improvement\"\n\n# \u6dfb\u52a0\u689d\u4ef6\u908a\nworkflow.add_conditional_edges(\n    \"check_quality\",  # \u5f9e\u9019\u500b\u7bc0\u9ede\u51fa\u767c\n    route_based_on_quality,  # \u8def\u7531\u51fd\u6578\n    {\n        # \u6620\u5c04:\u8def\u7531\u51fd\u6578\u8fd4\u56de\u503c -&gt; \u76ee\u6a19\u7bc0\u9ede\n        \"excellent_path\": \"finalize\",\n        \"good_path\": \"minor_adjustments\",\n        \"needs_improvement\": \"major_revision\"\n    }\n)\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#3-entry-point","title":"3. \u5165\u53e3\u9ede (Entry Point)","text":"<p>\u5b9a\u7fa9\u5de5\u4f5c\u6d41\u7a0b\u7684\u8d77\u9ede:</p> Python<pre><code>workflow = StateGraph(AgentState)\n\nworkflow.add_node(\"start\", start_function)\nworkflow.add_node(\"process\", process_function)\n\n# \u8a2d\u5b9a\u5165\u53e3\u9ede\nworkflow.set_entry_point(\"start\")\n\n# \u9023\u63a5\u5f8c\u7e8c\u7bc0\u9ede\nworkflow.add_edge(\"start\", \"process\")\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#_3","title":"\u5b8c\u6574\u7bc4\u4f8b:\u5ba2\u6236\u670d\u52d9\u6d41\u7a0b","text":"Python<pre><code>from langgraph.graph import StateGraph, END\nfrom typing import TypedDict, Annotated\nfrom operator import add\n\n# 1. \u5b9a\u7fa9\u72c0\u614b\nclass CustomerServiceState(TypedDict):\n    messages: Annotated[list[dict], add]\n    user_intent: str\n    user_verified: bool\n    query_result: dict\n    satisfaction_score: float\n\n# 2. \u5b9a\u7fa9\u7bc0\u9ede\u51fd\u6578\ndef verify_identity(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u9a57\u8b49\u4f7f\u7528\u8005\u8eab\u4efd\"\"\"\n    # \u6a21\u64ec\u8eab\u4efd\u9a57\u8b49\n    verified = True  # \u5be6\u969b\u6703\u547c\u53eb\u9a57\u8b49 API\n\n    return {\n        \"user_verified\": verified,\n        \"messages\": [{\"role\": \"system\", \"content\": \"\u8eab\u4efd\u9a57\u8b49\u5b8c\u6210\"}]\n    }\n\ndef recognize_intent(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8b58\u5225\u4f7f\u7528\u8005\u610f\u5716\"\"\"\n    from langchain_openai import ChatOpenAI\n\n    llm = ChatOpenAI(model=\"gpt-4\")\n    user_message = state[\"messages\"][-1][\"content\"]\n\n    prompt = f\"\"\"\n    \u5206\u6790\u4f7f\u7528\u8005\u610f\u5716,\u56de\u7b54\u4ee5\u4e0b\u5176\u4e2d\u4e00\u500b:\n    - policy_query (\u4fdd\u55ae\u67e5\u8a62)\n    - claim_inquiry (\u7406\u8ce0\u8aee\u8a62)\n    - product_info (\u7522\u54c1\u8cc7\u8a0a)\n    - general_question (\u4e00\u822c\u554f\u984c)\n\n    \u4f7f\u7528\u8005\u8a0a\u606f: {user_message}\n    \u53ea\u56de\u7b54\u610f\u5716\u985e\u5225,\u4e0d\u8981\u5176\u4ed6\u8aaa\u660e\u3002\n    \"\"\"\n\n    intent = llm.invoke(prompt).content.strip()\n\n    return {\n        \"user_intent\": intent,\n        \"messages\": [{\"role\": \"system\", \"content\": f\"\u610f\u5716: {intent}\"}]\n    }\n\ndef query_policy(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"\"\"\n    # \u6a21\u64ec\u8cc7\u6599\u5eab\u67e5\u8a62\n    result = {\n        \"policy_number\": \"P123456\",\n        \"status\": \"active\",\n        \"coverage\": \"1,000,000\"\n    }\n\n    return {\n        \"query_result\": result,\n        \"messages\": [{\"role\": \"assistant\", \"content\": f\"\u627e\u5230\u4fdd\u55ae: {result}\"}]\n    }\n\ndef handle_claim(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8655\u7406\u7406\u8ce0\u8aee\u8a62\"\"\"\n    return {\n        \"messages\": [{\"role\": \"assistant\", \"content\": \"\u7406\u8ce0\u6d41\u7a0b\u8aaa\u660e...\"}]\n    }\n\ndef provide_product_info(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u63d0\u4f9b\u7522\u54c1\u8cc7\u8a0a\"\"\"\n    return {\n        \"messages\": [{\"role\": \"assistant\", \"content\": \"\u7522\u54c1\u8cc7\u8a0a...\"}]\n    }\n\ndef answer_general(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u56de\u7b54\u4e00\u822c\u554f\u984c\"\"\"\n    return {\n        \"messages\": [{\"role\": \"assistant\", \"content\": \"\u4e00\u822c\u56de\u7b54...\"}]\n    }\n\ndef collect_feedback(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u6536\u96c6\u56de\u994b\"\"\"\n    # \u6a21\u64ec\u6536\u96c6\u6eff\u610f\u5ea6\n    return {\n        \"satisfaction_score\": 4.5,\n        \"messages\": [{\"role\": \"system\", \"content\": \"\u611f\u8b1d\u60a8\u7684\u56de\u994b!\"}]\n    }\n\n# 3. \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(CustomerServiceState)\n\n# \u6dfb\u52a0\u6240\u6709\u7bc0\u9ede\nworkflow.add_node(\"verify\", verify_identity)\nworkflow.add_node(\"intent\", recognize_intent)\nworkflow.add_node(\"policy\", query_policy)\nworkflow.add_node(\"claim\", handle_claim)\nworkflow.add_node(\"product\", provide_product_info)\nworkflow.add_node(\"general\", answer_general)\nworkflow.add_node(\"feedback\", collect_feedback)\n\n# 4. \u8a2d\u5b9a\u5165\u53e3\u9ede\nworkflow.set_entry_point(\"verify\")\n\n# 5. \u6dfb\u52a0\u908a\n# \u9a57\u8b49\u5f8c\u8b58\u5225\u610f\u5716\nworkflow.add_edge(\"verify\", \"intent\")\n\n# 6. \u6839\u64da\u610f\u5716\u8def\u7531\ndef route_by_intent(state: CustomerServiceState) -&gt; str:\n    \"\"\"\u6839\u64da\u610f\u5716\u8def\u7531\u5230\u4e0d\u540c\u8655\u7406\u7bc0\u9ede\"\"\"\n    intent = state[\"user_intent\"]\n\n    intent_mapping = {\n        \"policy_query\": \"policy\",\n        \"claim_inquiry\": \"claim\",\n        \"product_info\": \"product\",\n        \"general_question\": \"general\"\n    }\n\n    return intent_mapping.get(intent, \"general\")\n\nworkflow.add_conditional_edges(\n    \"intent\",\n    route_by_intent,\n    {\n        \"policy\": \"policy\",\n        \"claim\": \"claim\",\n        \"product\": \"product\",\n        \"general\": \"general\"\n    }\n)\n\n# 7. \u6240\u6709\u8655\u7406\u5b8c\u6210\u5f8c\u6536\u96c6\u56de\u994b\nworkflow.add_edge(\"policy\", \"feedback\")\nworkflow.add_edge(\"claim\", \"feedback\")\nworkflow.add_edge(\"product\", \"feedback\")\nworkflow.add_edge(\"general\", \"feedback\")\n\n# 8. \u7d50\u675f\nworkflow.add_edge(\"feedback\", END)\n\n# 9. \u7de8\u8b6f\napp = workflow.compile()\n\n# 10. \u57f7\u884c\nresult = app.invoke({\n    \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u60f3\u67e5\u8a62\u6211\u7684\u4fdd\u55ae\"}],\n    \"user_verified\": False,\n    \"satisfaction_score\": 0.0\n})\n\nprint(\"\u6700\u7d42\u72c0\u614b:\", result)\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#_4","title":"\u57f7\u884c\u6d41\u7a0b\u8996\u89ba\u5316","text":"<pre><code>graph TB\n    START([\u958b\u59cb]) --&gt; VERIFY[\u9a57\u8b49\u8eab\u4efd]\n    VERIFY --&gt; INTENT[\u8b58\u5225\u610f\u5716]\n\n    INTENT --&gt; ROUTE{\u8def\u7531\u5224\u65b7}\n\n    ROUTE --&gt; |\u4fdd\u55ae\u67e5\u8a62| POLICY[\u67e5\u8a62\u4fdd\u55ae]\n    ROUTE --&gt; |\u7406\u8ce0\u8aee\u8a62| CLAIM[\u8655\u7406\u7406\u8ce0]\n    ROUTE --&gt; |\u7522\u54c1\u8cc7\u8a0a| PRODUCT[\u63d0\u4f9b\u7522\u54c1\u8cc7\u8a0a]\n    ROUTE --&gt; |\u4e00\u822c\u554f\u984c| GENERAL[\u56de\u7b54\u4e00\u822c\u554f\u984c]\n\n    POLICY --&gt; FEEDBACK[\u6536\u96c6\u56de\u994b]\n    CLAIM --&gt; FEEDBACK\n    PRODUCT --&gt; FEEDBACK\n    GENERAL --&gt; FEEDBACK\n\n    FEEDBACK --&gt; END([\u7d50\u675f])\n\n    style START fill:#4CAF50,color:#fff\n    style VERIFY fill:#2196F3,color:#fff\n    style INTENT fill:#2196F3,color:#fff\n    style ROUTE fill:#FF9800,color:#fff\n    style FEEDBACK fill:#9C27B0,color:#fff\n    style END fill:#F44336,color:#fff</code></pre>"},{"location":"langgraph/basics/02-core-components/#_5","title":"\u7d44\u4ef6\u7d44\u5408\u6a21\u5f0f","text":""},{"location":"langgraph/basics/02-core-components/#1","title":"\u6a21\u5f0f 1:\u7dda\u6027\u6d41\u7a0b","text":"Python<pre><code># \u7c21\u55ae\u7684\u9806\u5e8f\u57f7\u884c\nworkflow.set_entry_point(\"step1\")\nworkflow.add_edge(\"step1\", \"step2\")\nworkflow.add_edge(\"step2\", \"step3\")\nworkflow.add_edge(\"step3\", END)\n</code></pre> <pre><code>graph LR\n    A[Step 1] --&gt; B[Step 2]\n    B --&gt; C[Step 3]\n    C --&gt; D[END]</code></pre>"},{"location":"langgraph/basics/02-core-components/#2","title":"\u6a21\u5f0f 2:\u689d\u4ef6\u5206\u652f","text":"Python<pre><code># \u6839\u64da\u689d\u4ef6\u9078\u64c7\u4e0d\u540c\u8def\u5f91\nworkflow.add_conditional_edges(\n    \"decision\",\n    decision_function,\n    {\n        \"path_a\": \"handler_a\",\n        \"path_b\": \"handler_b\"\n    }\n)\n</code></pre> <pre><code>graph TB\n    A[Decision] --&gt; B{\u689d\u4ef6\u5224\u65b7}\n    B --&gt; |\u8def\u5f91 A| C[Handler A]\n    B --&gt; |\u8def\u5f91 B| D[Handler B]</code></pre>"},{"location":"langgraph/basics/02-core-components/#3","title":"\u6a21\u5f0f 3:\u5faa\u74b0\u8655\u7406","text":"Python<pre><code># \u8fed\u4ee3\u512a\u5316\u76f4\u5230\u6eff\u8db3\u689d\u4ef6\ndef should_continue(state):\n    if state[\"quality\"] &gt; 0.8 or state[\"attempts\"] &gt;= 3:\n        return \"end\"\n    return \"retry\"\n\nworkflow.add_conditional_edges(\n    \"validate\",\n    should_continue,\n    {\n        \"retry\": \"process\",  # \u56de\u5230\u8655\u7406\u6b65\u9a5f\n        \"end\": END\n    }\n)\n</code></pre> <pre><code>graph TB\n    A[Process] --&gt; B[Validate]\n    B --&gt; C{\u54c1\u8cea\u6aa2\u67e5}\n    C --&gt; |\u4e0d\u8db3| A\n    C --&gt; |\u6eff\u8db3| D[END]</code></pre>"},{"location":"langgraph/basics/02-core-components/#4","title":"\u6a21\u5f0f 4:\u4e26\u884c\u5f8c\u5408\u4f75","text":"<p>\u96d6\u7136 LangGraph \u672c\u8eab\u4e0d\u76f4\u63a5\u652f\u63f4\u4e26\u884c,\u4f46\u53ef\u4ee5\u900f\u904e\u8a2d\u8a08\u5be6\u73fe:</p> Python<pre><code>def parallel_processor(state: AgentState) -&gt; AgentState:\n    \"\"\"\u5728\u55ae\u4e00\u7bc0\u9ede\u4e2d\u4e26\u884c\u8655\u7406\u591a\u500b\u4efb\u52d9\"\"\"\n    from concurrent.futures import ThreadPoolExecutor\n\n    def task1():\n        return process_a(state)\n\n    def task2():\n        return process_b(state)\n\n    with ThreadPoolExecutor(max_workers=2) as executor:\n        future1 = executor.submit(task1)\n        future2 = executor.submit(task2)\n\n        result1 = future1.result()\n        result2 = future2.result()\n\n    # \u5408\u4f75\u7d50\u679c\n    return {\n        \"result_a\": result1,\n        \"result_b\": result2\n    }\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#_6","title":"\u5be6\u6230\u7bc4\u4f8b:\u6587\u4ef6\u8655\u7406\u6d41\u7a0b","text":"Python<pre><code>from langgraph.graph import StateGraph, END\nfrom typing import TypedDict, Annotated, Optional\nfrom operator import add\nfrom langchain_openai import ChatOpenAI\n\n# 1. \u5b9a\u7fa9\u72c0\u614b\nclass DocumentProcessingState(TypedDict):\n    # \u539f\u59cb\u6587\u4ef6\n    raw_text: str\n\n    # \u6587\u4ef6\u985e\u578b\n    doc_type: Optional[str]\n\n    # \u63d0\u53d6\u7684\u8cc7\u6599\n    extracted_fields: dict\n\n    # \u9a57\u8b49\u7d50\u679c\n    validation_errors: Annotated[list[str], add]\n\n    # \u8655\u7406\u72c0\u614b\n    retry_count: int\n    status: str\n\n# 2. \u7bc0\u9ede:\u6587\u4ef6\u5206\u985e\ndef classify_document(state: DocumentProcessingState) -&gt; DocumentProcessingState:\n    \"\"\"\u4f7f\u7528 LLM \u5206\u985e\u6587\u4ef6\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u5206\u6790\u4ee5\u4e0b\u6587\u4ef6\u4e26\u5206\u985e:\n    - policy_application (\u4fdd\u55ae\u7533\u8acb\u66f8)\n    - claim_form (\u7406\u8ce0\u7533\u8acb\u8868)\n    - id_document (\u8eab\u4efd\u8b49\u660e\u6587\u4ef6)\n\n    \u6587\u4ef6\u5167\u5bb9:\n    {state['raw_text'][:500]}\n\n    \u53ea\u56de\u7b54\u6587\u4ef6\u985e\u578b,\u4e0d\u8981\u5176\u4ed6\u8aaa\u660e\u3002\n    \"\"\"\n\n    doc_type = llm.invoke(prompt).content.strip()\n\n    return {\n        \"doc_type\": doc_type,\n        \"status\": \"classified\"\n    }\n\n# 3. \u7bc0\u9ede:\u8cc7\u8a0a\u63d0\u53d6\ndef extract_information(state: DocumentProcessingState) -&gt; DocumentProcessingState:\n    \"\"\"\u6839\u64da\u6587\u4ef6\u985e\u578b\u63d0\u53d6\u6b04\u4f4d\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    # \u6839\u64da\u6587\u4ef6\u985e\u578b\u5b9a\u7fa9\u8981\u63d0\u53d6\u7684\u6b04\u4f4d\n    field_definitions = {\n        \"policy_application\": [\n            \"applicant_name\",\n            \"id_number\",\n            \"policy_type\",\n            \"coverage_amount\"\n        ],\n        \"claim_form\": [\n            \"policy_number\",\n            \"claim_amount\",\n            \"incident_date\",\n            \"description\"\n        ],\n        \"id_document\": [\n            \"name\",\n            \"id_number\",\n            \"birth_date\"\n        ]\n    }\n\n    fields = field_definitions.get(state[\"doc_type\"], [])\n\n    prompt = f\"\"\"\n    \u5f9e\u4ee5\u4e0b\u6587\u4ef6\u4e2d\u63d0\u53d6\u9019\u4e9b\u6b04\u4f4d: {', '.join(fields)}\n\n    \u6587\u4ef6\u5167\u5bb9:\n    {state['raw_text']}\n\n    \u4ee5 JSON \u683c\u5f0f\u56de\u7b54,\u6b04\u4f4d\u540d\u7a31\u4f7f\u7528\u82f1\u6587\u3002\n    \"\"\"\n\n    import json\n    extracted = json.loads(llm.invoke(prompt).content)\n\n    return {\n        \"extracted_fields\": extracted,\n        \"status\": \"extracted\"\n    }\n\n# 4. \u7bc0\u9ede:\u8cc7\u6599\u9a57\u8b49\ndef validate_data(state: DocumentProcessingState) -&gt; DocumentProcessingState:\n    \"\"\"\u9a57\u8b49\u63d0\u53d6\u7684\u8cc7\u6599\"\"\"\n    errors = []\n    fields = state[\"extracted_fields\"]\n\n    # \u9a57\u8b49\u5fc5\u586b\u6b04\u4f4d\n    if state[\"doc_type\"] == \"policy_application\":\n        required = [\"applicant_name\", \"id_number\", \"policy_type\"]\n        for field in required:\n            if not fields.get(field):\n                errors.append(f\"\u7f3a\u5c11\u5fc5\u586b\u6b04\u4f4d: {field}\")\n\n    # \u9a57\u8b49\u683c\u5f0f\n    if \"id_number\" in fields:\n        id_num = fields[\"id_number\"]\n        if not (len(id_num) == 10 and id_num[0].isalpha()):\n            errors.append(\"\u8eab\u4efd\u8b49\u865f\u683c\u5f0f\u932f\u8aa4\")\n\n    return {\n        \"validation_errors\": errors,\n        \"status\": \"validated\" if not errors else \"validation_failed\"\n    }\n\n# 5. \u7bc0\u9ede:\u4eba\u5de5\u5be9\u6838\ndef human_review(state: DocumentProcessingState) -&gt; DocumentProcessingState:\n    \"\"\"\u6a19\u8a18\u9700\u8981\u4eba\u5de5\u5be9\u6838\"\"\"\n    return {\n        \"status\": \"pending_human_review\",\n        \"validation_errors\": [\"\u9700\u8981\u4eba\u5de5\u5be9\u6838\"]\n    }\n\n# 6. \u8def\u7531\u51fd\u6578\ndef route_after_validation(state: DocumentProcessingState) -&gt; str:\n    \"\"\"\u6c7a\u5b9a\u9a57\u8b49\u5f8c\u7684\u8def\u5f91\"\"\"\n    if not state[\"validation_errors\"]:\n        return \"success\"\n\n    # \u91cd\u8a66\u6b21\u6578\u9650\u5236\n    if state[\"retry_count\"] &gt;= 2:\n        return \"human_review\"\n\n    return \"retry\"\n\n# 7. \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(DocumentProcessingState)\n\n# \u6dfb\u52a0\u7bc0\u9ede\nworkflow.add_node(\"classify\", classify_document)\nworkflow.add_node(\"extract\", extract_information)\nworkflow.add_node(\"validate\", validate_data)\nworkflow.add_node(\"human\", human_review)\n\n# \u8a2d\u5b9a\u6d41\u7a0b\nworkflow.set_entry_point(\"classify\")\nworkflow.add_edge(\"classify\", \"extract\")\nworkflow.add_edge(\"extract\", \"validate\")\n\n# \u689d\u4ef6\u8def\u7531\nworkflow.add_conditional_edges(\n    \"validate\",\n    route_after_validation,\n    {\n        \"success\": END,\n        \"retry\": \"extract\",  # \u91cd\u65b0\u63d0\u53d6\n        \"human_review\": \"human\"\n    }\n)\n\nworkflow.add_edge(\"human\", END)\n\n# \u7de8\u8b6f\ndocument_processor = workflow.compile()\n\n# \u4f7f\u7528\u7bc4\u4f8b\nresult = document_processor.invoke({\n    \"raw_text\": \"\"\"\n    \u4fdd\u55ae\u7533\u8acb\u66f8\n    \u7533\u8acb\u4eba\u59d3\u540d:\u738b\u5927\u660e\n    \u8eab\u4efd\u8b49\u865f:A123456789\n    \u7533\u8acb\u4fdd\u96aa:\u7d42\u8eab\u58fd\u96aa\n    \u4fdd\u984d:3,000,000\u5143\n    \"\"\",\n    \"retry_count\": 0,\n    \"validation_errors\": [],\n    \"extracted_fields\": {}\n})\n\nprint(f\"\u8655\u7406\u72c0\u614b: {result['status']}\")\nprint(f\"\u63d0\u53d6\u6b04\u4f4d: {result['extracted_fields']}\")\nprint(f\"\u9a57\u8b49\u932f\u8aa4: {result['validation_errors']}\")\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#_7","title":"\u91cd\u9ede\u6574\u7406","text":""},{"location":"langgraph/basics/02-core-components/#state_4","title":"State (\u72c0\u614b)","text":"<ol> <li>\u8cc7\u6599\u5bb9\u5668:\u5728\u7bc0\u9ede\u9593\u50b3\u905e\u8cc7\u6599</li> <li>\u5169\u7a2e\u66f4\u65b0\u65b9\u5f0f:</li> <li>\u8986\u84cb(\u9810\u8a2d):\u65b0\u503c\u53d6\u4ee3\u820a\u503c</li> <li>\u7d2f\u52a0(\u4f7f\u7528 <code>Annotated[type, add]</code>):\u65b0\u503c\u52a0\u5230\u820a\u503c\u5f8c\u9762</li> <li>\u8a2d\u8a08\u539f\u5247:</li> <li>\u4f7f\u7528 <code>TypedDict</code> \u5b9a\u7fa9\u6e05\u6670\u7684\u7d50\u69cb</li> <li>\u907f\u514d\u5b58\u653e\u5927\u578b\u7269\u4ef6</li> <li>\u5340\u5206\u7d2f\u52a0\u548c\u8986\u84cb\u6b04\u4f4d</li> </ol>"},{"location":"langgraph/basics/02-core-components/#node_4","title":"Node (\u7bc0\u9ede)","text":"<ol> <li>\u8655\u7406\u55ae\u5143:\u57f7\u884c\u5177\u9ad4\u908f\u8f2f\u7684\u51fd\u6578</li> <li>\u51fd\u6578\u7c3d\u540d:<code>def node(state: StateType) -&gt; StateType</code></li> <li>\u8fd4\u56de\u503c:\u53ea\u9700\u8fd4\u56de\u8981\u66f4\u65b0\u7684\u6b04\u4f4d</li> <li>\u985e\u578b:</li> <li>\u8655\u7406\u7bc0\u9ede:\u57f7\u884c\u4e3b\u8981\u908f\u8f2f</li> <li>\u6c7a\u7b56\u7bc0\u9ede:\u8a2d\u5b9a\u5224\u65b7\u6a19\u8a18</li> <li>\u6574\u5408\u7bc0\u9ede:\u8207\u5916\u90e8\u7cfb\u7d71\u4e92\u52d5</li> <li>\u683c\u5f0f\u5316\u7bc0\u9ede:\u6e96\u5099\u8f38\u51fa</li> </ol>"},{"location":"langgraph/basics/02-core-components/#edge_2","title":"Edge (\u908a)","text":"<ol> <li>\u9023\u63a5\u95dc\u4fc2:\u5b9a\u7fa9\u7bc0\u9ede\u9593\u7684\u57f7\u884c\u9806\u5e8f</li> <li>\u4e09\u7a2e\u985e\u578b:</li> <li>\u5165\u53e3\u9ede:<code>set_entry_point()</code></li> <li>\u4e00\u822c\u908a:<code>add_edge(from, to)</code></li> <li>\u689d\u4ef6\u908a:<code>add_conditional_edges(from, router, mapping)</code></li> <li>\u7279\u6b8a\u7bc0\u9ede:<code>END</code> \u8868\u793a\u7d50\u675f</li> </ol>"},{"location":"langgraph/basics/02-core-components/#_8","title":"\u7d44\u5408\u6a21\u5f0f","text":"<ol> <li>\u7dda\u6027\u6d41\u7a0b:\u9806\u5e8f\u57f7\u884c</li> <li>\u689d\u4ef6\u5206\u652f:\u6839\u64da\u72c0\u614b\u9078\u64c7\u8def\u5f91</li> <li>\u5faa\u74b0\u8655\u7406:\u8fed\u4ee3\u512a\u5316</li> <li>\u4e26\u884c\u8655\u7406:\u5728\u7bc0\u9ede\u5167\u90e8\u5be6\u73fe</li> </ol>"},{"location":"langgraph/basics/02-core-components/#_9","title":"\u7df4\u7fd2\u5efa\u8b70","text":""},{"location":"langgraph/basics/02-core-components/#1_1","title":"\u7df4\u7fd2 1:\u8a2d\u8a08\u72c0\u614b\u7d50\u69cb","text":"<p>\u70ba\u4ee5\u4e0b\u5834\u666f\u8a2d\u8a08\u5408\u9069\u7684 State:</p> Python<pre><code># \u5834\u666f:\u667a\u80fd\u90f5\u4ef6\u5206\u985e\u548c\u56de\u8986\u7cfb\u7d71\nclass EmailState(TypedDict):\n    # TODO: \u8a2d\u8a08\u72c0\u614b\u7d50\u69cb\n    # \u8003\u616e:\u90f5\u4ef6\u5167\u5bb9\u3001\u5206\u985e\u7d50\u679c\u3001\u56de\u8986\u8349\u7a3f\u3001\u512a\u5148\u7d1a\u7b49\n    pass\n</code></pre>"},{"location":"langgraph/basics/02-core-components/#2_1","title":"\u7df4\u7fd2 2:\u5be6\u4f5c\u7bc0\u9ede\u51fd\u6578","text":"<p>\u5be6\u4f5c\u4e00\u500b\u5b8c\u6574\u7684\u7bc0\u9ede,\u5305\u542b: - \u8f38\u5165\u9a57\u8b49 - \u932f\u8aa4\u8655\u7406 - \u65e5\u8a8c\u8a18\u9304 - \u8fd4\u56de\u66f4\u65b0</p>"},{"location":"langgraph/basics/02-core-components/#3_1","title":"\u7df4\u7fd2 3:\u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b","text":"<p>\u5efa\u7acb\u4e00\u500b\u300c\u6703\u8b70\u5b89\u6392\u52a9\u624b\u300d\u5de5\u4f5c\u6d41\u7a0b: 1. \u63d0\u53d6\u6703\u8b70\u9700\u6c42 2. \u6aa2\u67e5\u53c3\u8207\u8005\u884c\u7a0b 3. \u5efa\u8b70\u6642\u9593 4. \u767c\u9001\u9080\u8acb 5. \u6536\u96c6\u56de\u8986</p>"},{"location":"langgraph/basics/02-core-components/#_10","title":"\u5e38\u898b\u554f\u984c","text":""},{"location":"langgraph/basics/02-core-components/#q1-state","title":"Q1: State \u53ef\u4ee5\u5305\u542b\u51fd\u6578\u55ce?","text":"<p>A: \u6280\u8853\u4e0a\u53ef\u4ee5,\u4f46\u4e0d\u5efa\u8b70\u3002State \u61c9\u8a72\u53ea\u5305\u542b\u8cc7\u6599,\u908f\u8f2f\u61c9\u8a72\u653e\u5728 Node \u4e2d\u3002</p>"},{"location":"langgraph/basics/02-core-components/#q2-node-node","title":"Q2: Node \u53ef\u4ee5\u547c\u53eb\u5176\u4ed6 Node \u55ce?","text":"<p>A: \u4e0d\u5efa\u8b70\u76f4\u63a5\u547c\u53eb\u3002\u61c9\u8a72\u900f\u904e Edge \u4f86\u9023\u63a5\u7bc0\u9ede,\u4fdd\u6301\u5de5\u4f5c\u6d41\u7a0b\u7684\u6e05\u6670\u6027\u3002</p>"},{"location":"langgraph/basics/02-core-components/#q3-node","title":"Q3: \u5982\u4f55\u5728 Node \u4e2d\u5b58\u53d6\u5916\u90e8\u8cc7\u6e90?","text":"<p>A: \u53ef\u4ee5\u900f\u904e: 1. \u5728 Node \u51fd\u6578\u4e2d\u76f4\u63a5\u5b58\u53d6(\u9069\u5408\u7c21\u55ae\u60c5\u6cc1) 2. \u4f7f\u7528\u4f9d\u8cf4\u6ce8\u5165\u6a21\u5f0f 3. \u4f7f\u7528\u5168\u57df\u914d\u7f6e</p>"},{"location":"langgraph/basics/02-core-components/#q4-state","title":"Q4: \u689d\u4ef6\u908a\u7684\u8def\u7531\u51fd\u6578\u53ef\u4ee5\u4fee\u6539 State \u55ce?","text":"<p>A: \u8def\u7531\u51fd\u6578\u61c9\u8a72\u53ea\u8b80\u53d6 State \u4e26\u8fd4\u56de\u8def\u5f91\u540d\u7a31,\u4e0d\u61c9\u8a72\u4fee\u6539 State\u3002\u72c0\u614b\u4fee\u6539\u61c9\u8a72\u5728 Node \u4e2d\u9032\u884c\u3002</p>"},{"location":"langgraph/basics/02-core-components/#_11","title":"\u4e0b\u4e00\u6b65","text":"<p>\u73fe\u5728\u60a8\u5df2\u7d93\u638c\u63e1\u4e86 LangGraph \u7684\u4e09\u500b\u6838\u5fc3\u7d44\u4ef6!\u5728\u4e0b\u4e00\u7ae0,\u6211\u5011\u5c07\u5b78\u7fd2 LangGraph \u8207 LangChain \u7684\u95dc\u4fc2,\u4ee5\u53ca\u5982\u4f55\u6574\u5408 LangChain \u7684\u5f37\u5927\u529f\u80fd\u3002</p>          \u4e0b\u4e00\u7ae0:\u8207 LangChain \u7684\u95dc\u4fc2 \u2192"},{"location":"langgraph/basics/03-langchain-relation/","title":"\u8207 LangChain \u7684\u95dc\u4fc2","text":""},{"location":"langgraph/basics/03-langchain-relation/#_1","title":"\u6982\u8ff0","text":"<p>LangGraph \u548c LangChain \u662f\u4ec0\u9ebc\u95dc\u4fc2?\u9019\u662f\u521d\u5b78\u8005\u6700\u5e38\u554f\u7684\u554f\u984c\u4e4b\u4e00\u3002\u7c21\u55ae\u4f86\u8aaa:LangGraph \u5efa\u7acb\u5728 LangChain \u4e4b\u4e0a,\u5c08\u6ce8\u65bc\u69cb\u5efa\u8907\u96dc\u7684\u6709\u72c0\u614b Agent \u5de5\u4f5c\u6d41\u7a0b\u3002</p> <pre><code>graph TB\n    subgraph \"LangChain \u751f\u614b\u7cfb\u7d71\"\n        LC[LangChain Core&lt;br/&gt;\u57fa\u790e\u7d44\u4ef6]\n        LG[LangGraph&lt;br/&gt;\u8907\u96dc\u5de5\u4f5c\u6d41\u7a0b]\n        LS[LangSmith&lt;br/&gt;\u76e3\u63a7\u8ffd\u8e64]\n        LSERV[LangServe&lt;br/&gt;\u90e8\u7f72\u670d\u52d9]\n\n        LC --&gt; LG\n        LC --&gt; LS\n        LC --&gt; LSERV\n        LG -.\u4f7f\u7528.-&gt; LS\n    end\n\n    style LC fill:#2196F3,color:#fff\n    style LG fill:#4CAF50,color:#fff\n    style LS fill:#FF9800,color:#fff\n    style LSERV fill:#9C27B0,color:#fff</code></pre> <p>\u6838\u5fc3\u5b9a\u4f4d</p> <ul> <li>LangChain:\u63d0\u4f9b AI \u61c9\u7528\u7684\u57fa\u790e\u7a4d\u6728</li> <li>LangGraph:\u63d0\u4f9b\u7d44\u88dd\u9019\u4e9b\u7a4d\u6728\u7684\u9ad8\u7d1a\u6846\u67b6</li> </ul>"},{"location":"langgraph/basics/03-langchain-relation/#langchain_1","title":"LangChain \u6838\u5fc3\u7d44\u4ef6\u56de\u9867","text":"<p>\u5728\u6df1\u5165 LangGraph \u4e4b\u524d,\u8b93\u6211\u5011\u5feb\u901f\u56de\u9867 LangChain \u7684\u6838\u5fc3\u7d44\u4ef6:</p>"},{"location":"langgraph/basics/03-langchain-relation/#1-models","title":"1. Models (\u6a21\u578b)","text":"<p>\u8207\u5404\u7a2e LLM \u4e92\u52d5\u7684\u4ecb\u9762:</p> Python<pre><code>from langchain_openai import ChatOpenAI\nfrom langchain_anthropic import ChatAnthropic\n\n# OpenAI Models\nopenai_llm = ChatOpenAI(model=\"gpt-4\")\n\n# Anthropic Models\nanthropic_llm = ChatAnthropic(model=\"claude-3-opus\")\n\n# \u7d71\u4e00\u7684\u547c\u53eb\u4ecb\u9762\nresponse = openai_llm.invoke(\"\u4f60\u597d!\")\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#2-prompts","title":"2. Prompts (\u63d0\u793a\u8a5e\u7bc4\u672c)","text":"<p>\u7d50\u69cb\u5316\u7684\u63d0\u793a\u8a5e\u7ba1\u7406:</p> Python<pre><code>from langchain.prompts import ChatPromptTemplate\n\nprompt = ChatPromptTemplate.from_messages([\n    (\"system\", \"\u4f60\u662f\u4e00\u4f4d{role}\u3002\"),\n    (\"human\", \"{user_input}\")\n])\n\n# \u683c\u5f0f\u5316\u63d0\u793a\u8a5e\nformatted = prompt.format_messages(\n    role=\"\u4fdd\u96aa\u9867\u554f\",\n    user_input=\"\u4ec0\u9ebc\u662f\u7d42\u8eab\u58fd\u96aa?\"\n)\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#3-chains","title":"3. Chains (\u93c8)","text":"<p>\u5c07\u591a\u500b\u7d44\u4ef6\u4e32\u63a5\u8d77\u4f86:</p> Python<pre><code>from langchain.chains import LLMChain\n\nchain = LLMChain(\n    llm=openai_llm,\n    prompt=prompt\n)\n\nresult = chain.invoke({\n    \"role\": \"\u4fdd\u96aa\u9867\u554f\",\n    \"user_input\": \"\u4ec0\u9ebc\u662f\u7d42\u8eab\u58fd\u96aa?\"\n})\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#4-tools","title":"4. Tools (\u5de5\u5177)","text":"<p>\u8b93 LLM \u53ef\u4ee5\u547c\u53eb\u5916\u90e8\u529f\u80fd:</p> Python<pre><code>from langchain.tools import Tool\n\ndef search_policy(policy_number: str) -&gt; dict:\n    \"\"\"\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"\"\"\n    # \u5be6\u969b\u6703\u9023\u63a5\u8cc7\u6599\u5eab\n    return {\"policy_number\": policy_number, \"status\": \"active\"}\n\npolicy_tool = Tool(\n    name=\"\u641c\u5c0b\u4fdd\u55ae\",\n    func=search_policy,\n    description=\"\u6839\u64da\u4fdd\u55ae\u865f\u78bc\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"\n)\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#5-agents","title":"5. Agents (\u4ee3\u7406)","text":"<p>\u81ea\u52d5\u6c7a\u5b9a\u4f7f\u7528\u54ea\u4e9b\u5de5\u5177:</p> Python<pre><code>from langchain.agents import create_openai_functions_agent, AgentExecutor\n\nagent = create_openai_functions_agent(\n    llm=openai_llm,\n    tools=[policy_tool],\n    prompt=prompt\n)\n\nagent_executor = AgentExecutor(\n    agent=agent,\n    tools=[policy_tool],\n    verbose=True\n)\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#langchain_2","title":"LangChain \u7684\u9650\u5236","text":"<p>\u96d6\u7136 LangChain \u5f88\u5f37\u5927,\u4f46\u5728\u8655\u7406\u8907\u96dc\u5834\u666f\u6642\u6703\u9047\u5230\u4e00\u4e9b\u6311\u6230:</p>"},{"location":"langgraph/basics/03-langchain-relation/#1","title":"\u9650\u5236 1:\u8907\u96dc\u7684\u63a7\u5236\u6d41\u7a0b","text":"Python<pre><code># \u274c LangChain \u96e3\u4ee5\u5be6\u73fe\u7684\u8907\u96dc\u908f\u8f2f\n# \u5834\u666f:\u9700\u8981\u591a\u6b21\u9a57\u8b49\u548c\u91cd\u8a66\u7684\u6d41\u7a0b\n\n# \u60f3\u8981\u5be6\u73fe:\n# 1. \u63d0\u53d6\u8cc7\u8a0a\n# 2. \u9a57\u8b49\u8cc7\u8a0a\n# 3. \u5982\u679c\u9a57\u8b49\u5931\u6557,\u91cd\u65b0\u63d0\u53d6(\u6700\u591a3\u6b21)\n# 4. \u5982\u679c\u4ecd\u5931\u6557,\u8f49\u4eba\u5de5\u8655\u7406\n# 5. \u9a57\u8b49\u6210\u529f\u5f8c,\u9032\u884c\u4e0b\u4e00\u6b65\u8655\u7406\n\n# LangChain \u7684 AgentExecutor \u96e3\u4ee5\u5be6\u73fe\u9019\u7a2e\u8907\u96dc\u7684\u689d\u4ef6\u548c\u5faa\u74b0\u908f\u8f2f\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#2","title":"\u9650\u5236 2:\u6709\u9650\u7684\u72c0\u614b\u7ba1\u7406","text":"Python<pre><code># \u274c LangChain Agent \u7684\u72c0\u614b\u7ba1\u7406\u6709\u9650\nfrom langchain.memory import ConversationBufferMemory\n\nmemory = ConversationBufferMemory()\n\n# \u53ea\u80fd\u5132\u5b58\u5c0d\u8a71\u6b77\u53f2,\u7121\u6cd5\u9748\u6d3b\u7ba1\u7406\u8907\u96dc\u72c0\u614b\n# \u4f8b\u5982:\u8655\u7406\u9032\u5ea6\u3001\u932f\u8aa4\u8a08\u6578\u3001\u4e2d\u9593\u7d50\u679c\u7b49\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#3","title":"\u9650\u5236 3:\u9664\u932f\u56f0\u96e3","text":"Python<pre><code># \u274c \u96e3\u4ee5\u8ffd\u8e64 Agent \u7684\u6c7a\u7b56\u904e\u7a0b\n# - Agent \u70ba\u4ec0\u9ebc\u9078\u64c7\u9019\u500b\u5de5\u5177?\n# - \u5728\u54ea\u500b\u6b65\u9a5f\u51fa\u932f?\n# - \u5982\u4f55\u91cd\u73fe\u554f\u984c?\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#langgraph","title":"LangGraph \u7684\u89e3\u6c7a\u65b9\u6848","text":"<p>LangGraph \u900f\u904e\u5716\u5f62\u5316\u5de5\u4f5c\u6d41\u7a0b\u89e3\u6c7a\u4e86\u9019\u4e9b\u554f\u984c:</p>"},{"location":"langgraph/basics/03-langchain-relation/#1_1","title":"\u89e3\u6c7a\u65b9\u6848 1:\u6e05\u6670\u7684\u63a7\u5236\u6d41\u7a0b","text":"Python<pre><code># \u2705 LangGraph \u6e05\u6670\u5be6\u73fe\u8907\u96dc\u908f\u8f2f\nfrom langgraph.graph import StateGraph, END\n\ndef should_retry(state):\n    if state[\"validation_passed\"]:\n        return \"next_step\"\n    elif state[\"retry_count\"] &lt; 3:\n        return \"extract_again\"\n    else:\n        return \"human_review\"\n\nworkflow = StateGraph(State)\nworkflow.add_node(\"extract\", extract_node)\nworkflow.add_node(\"validate\", validate_node)\nworkflow.add_node(\"next\", next_step_node)\nworkflow.add_node(\"human\", human_review_node)\n\nworkflow.add_conditional_edges(\n    \"validate\",\n    should_retry,\n    {\n        \"next_step\": \"next\",\n        \"extract_again\": \"extract\",\n        \"human_review\": \"human\"\n    }\n)\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#2_1","title":"\u89e3\u6c7a\u65b9\u6848 2:\u9748\u6d3b\u7684\u72c0\u614b\u7ba1\u7406","text":"Python<pre><code># \u2705 LangGraph \u5f37\u5927\u7684\u72c0\u614b\u7ba1\u7406\nfrom typing import TypedDict, Annotated\nfrom operator import add\n\nclass RichState(TypedDict):\n    # \u5c0d\u8a71\u6b77\u53f2\n    messages: Annotated[list, add]\n\n    # \u8655\u7406\u9032\u5ea6\n    current_step: str\n    completed_steps: Annotated[list, add]\n\n    # \u932f\u8aa4\u8ffd\u8e64\n    retry_count: int\n    errors: Annotated[list, add]\n\n    # \u4e2d\u9593\u7d50\u679c\n    extracted_data: dict\n    validation_result: dict\n\n    # \u696d\u52d9\u8cc7\u6599\n    user_info: dict\n    query_results: list\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#3_1","title":"\u89e3\u6c7a\u65b9\u6848 3:\u53ef\u8996\u5316\u9664\u932f","text":"Python<pre><code># \u2705 LangGraph \u63d0\u4f9b\u8996\u89ba\u5316\u548c\u8ffd\u8e64\napp = workflow.compile()\n\n# \u53ef\u4ee5\u8996\u89ba\u5316\u6574\u500b\u6d41\u7a0b\nfrom IPython.display import Image, display\ndisplay(Image(app.get_graph().draw_mermaid_png()))\n\n# \u6574\u5408 LangSmith \u8ffd\u8e64\n# \u53ef\u4ee5\u770b\u5230\u6bcf\u500b\u7bc0\u9ede\u7684\u8f38\u5165\u8f38\u51fa\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#langchain-langgraph","title":"LangChain + LangGraph \u6574\u5408","text":"<p>LangGraph \u5b8c\u5168\u76f8\u5bb9 LangChain \u7684\u6240\u6709\u7d44\u4ef6,\u53ef\u4ee5\u7121\u7e2b\u6574\u5408\u4f7f\u7528:</p>"},{"location":"langgraph/basics/03-langchain-relation/#1-node-langchain","title":"\u6574\u5408\u7bc4\u4f8b 1:\u5728 Node \u4e2d\u4f7f\u7528 LangChain","text":"Python<pre><code>from langgraph.graph import StateGraph\nfrom langchain_openai import ChatOpenAI\nfrom langchain.prompts import ChatPromptTemplate\nfrom langchain.output_parsers import PydanticOutputParser\nfrom pydantic import BaseModel, Field\n\n# 1. \u5b9a\u7fa9\u8f38\u51fa\u7d50\u69cb(LangChain)\nclass PolicyInfo(BaseModel):\n    policy_number: str = Field(description=\"\u4fdd\u55ae\u865f\u78bc\")\n    holder_name: str = Field(description=\"\u4fdd\u96aa\u4eba\u59d3\u540d\")\n    policy_type: str = Field(description=\"\u4fdd\u96aa\u985e\u578b\")\n\n# 2. \u5efa\u7acb Parser(LangChain)\nparser = PydanticOutputParser(pydantic_object=PolicyInfo)\n\n# 3. \u5efa\u7acb Prompt(LangChain)\nprompt = ChatPromptTemplate.from_messages([\n    (\"system\", \"\u5f9e\u4ee5\u4e0b\u6587\u5b57\u4e2d\u63d0\u53d6\u4fdd\u55ae\u8cc7\u8a0a\u3002\\n{format_instructions}\"),\n    (\"human\", \"{text}\")\n])\n\n# 4. \u5efa\u7acb LLM(LangChain)\nllm = ChatOpenAI(model=\"gpt-4\")\n\n# 5. \u5728 LangGraph Node \u4e2d\u4f7f\u7528\ndef extract_policy_info(state):\n    \"\"\"\u4f7f\u7528 LangChain \u7d44\u4ef6\u7684 LangGraph \u7bc0\u9ede\"\"\"\n\n    # \u683c\u5f0f\u5316 Prompt\n    messages = prompt.format_messages(\n        format_instructions=parser.get_format_instructions(),\n        text=state[\"raw_text\"]\n    )\n\n    # \u547c\u53eb LLM\n    response = llm.invoke(messages)\n\n    # \u89e3\u6790\u7d50\u679c\n    policy_info = parser.parse(response.content)\n\n    return {\n        \"policy_number\": policy_info.policy_number,\n        \"holder_name\": policy_info.holder_name,\n        \"policy_type\": policy_info.policy_type\n    }\n\n# 6. \u6574\u5408\u5230 LangGraph\nworkflow = StateGraph(State)\nworkflow.add_node(\"extract\", extract_policy_info)\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#2-langgraph-tools","title":"\u6574\u5408\u7bc4\u4f8b 2:\u5728 LangGraph \u4e2d\u4f7f\u7528 Tools","text":"Python<pre><code>from langchain.tools import Tool\nfrom langchain_core.messages import HumanMessage, AIMessage\nfrom langgraph.prebuilt import ToolExecutor\n\n# 1. \u5b9a\u7fa9 LangChain Tools\ndef search_database(query: str) -&gt; str:\n    \"\"\"\u641c\u5c0b\u8cc7\u6599\u5eab\"\"\"\n    # \u5be6\u969b\u8cc7\u6599\u5eab\u67e5\u8a62\n    return f\"\u67e5\u8a62\u7d50\u679c: {query}\"\n\ndef send_email(to: str, subject: str) -&gt; str:\n    \"\"\"\u767c\u9001\u90f5\u4ef6\"\"\"\n    return f\"\u5df2\u767c\u9001\u90f5\u4ef6\u7d66 {to}\"\n\ntools = [\n    Tool(\n        name=\"search_database\",\n        func=search_database,\n        description=\"\u641c\u5c0b\u516c\u53f8\u8cc7\u6599\u5eab\"\n    ),\n    Tool(\n        name=\"send_email\",\n        func=send_email,\n        description=\"\u767c\u9001\u96fb\u5b50\u90f5\u4ef6\"\n    )\n]\n\n# 2. \u5efa\u7acb Tool Executor\ntool_executor = ToolExecutor(tools)\n\n# 3. \u5728 LangGraph \u4e2d\u4f7f\u7528\ndef agent_node(state):\n    \"\"\"\u6c7a\u5b9a\u8981\u4f7f\u7528\u54ea\u500b\u5de5\u5177\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n    llm_with_tools = llm.bind_tools(tools)\n\n    messages = state[\"messages\"]\n    response = llm_with_tools.invoke(messages)\n\n    return {\"messages\": [response]}\n\ndef tool_node(state):\n    \"\"\"\u57f7\u884c\u5de5\u5177\"\"\"\n    messages = state[\"messages\"]\n    last_message = messages[-1]\n\n    # \u57f7\u884c\u5de5\u5177\u547c\u53eb\n    if hasattr(last_message, \"tool_calls\") and last_message.tool_calls:\n        tool_call = last_message.tool_calls[0]\n        result = tool_executor.invoke(tool_call)\n        return {\"messages\": [result]}\n\n    return {\"messages\": []}\n\n# 4. \u5efa\u7acb Graph\nworkflow = StateGraph(MessagesState)\nworkflow.add_node(\"agent\", agent_node)\nworkflow.add_node(\"tools\", tool_node)\n\nworkflow.add_conditional_edges(\n    \"agent\",\n    lambda state: \"tools\" if state[\"messages\"][-1].tool_calls else END\n)\nworkflow.add_edge(\"tools\", \"agent\")\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#3-langchain-memory","title":"\u6574\u5408\u7bc4\u4f8b 3:\u4f7f\u7528 LangChain \u7684 Memory","text":"Python<pre><code>from langchain.memory import ConversationBufferMemory\nfrom langgraph.graph import StateGraph\n\n# 1. \u5efa\u7acb LangChain Memory\nmemory = ConversationBufferMemory(return_messages=True)\n\n# 2. \u5728 LangGraph State \u4e2d\u6574\u5408\nclass ConversationState(TypedDict):\n    messages: Annotated[list, add]\n    memory_context: str\n\ndef load_memory_node(state):\n    \"\"\"\u5f9e LangChain Memory \u8f09\u5165\u4e0a\u4e0b\u6587\"\"\"\n    history = memory.load_memory_variables({})\n    context = \"\\n\".join([\n        f\"{msg.type}: {msg.content}\"\n        for msg in history.get(\"history\", [])\n    ])\n\n    return {\"memory_context\": context}\n\ndef save_memory_node(state):\n    \"\"\"\u5132\u5b58\u5230 LangChain Memory\"\"\"\n    for msg in state[\"messages\"]:\n        memory.save_context(\n            {\"input\": msg.get(\"input\", \"\")},\n            {\"output\": msg.get(\"output\", \"\")}\n        )\n    return {}\n\n# 3. \u6574\u5408\u5230\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(ConversationState)\nworkflow.add_node(\"load_memory\", load_memory_node)\nworkflow.add_node(\"process\", process_node)\nworkflow.add_node(\"save_memory\", save_memory_node)\n\nworkflow.set_entry_point(\"load_memory\")\nworkflow.add_edge(\"load_memory\", \"process\")\nworkflow.add_edge(\"process\", \"save_memory\")\nworkflow.add_edge(\"save_memory\", END)\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#langchain-vs-langgraph","title":"\u4f55\u6642\u4f7f\u7528 LangChain vs LangGraph","text":""},{"location":"langgraph/basics/03-langchain-relation/#langchain_3","title":"\u4f7f\u7528 LangChain \u7684\u5834\u666f","text":"<p>\u9069\u5408\u7c21\u55ae\u3001\u7dda\u6027\u7684 AI \u4efb\u52d9:</p> Python<pre><code># \u2705 \u9069\u5408\u4f7f\u7528 LangChain\nscenarios = [\n    \"\u7c21\u55ae\u7684\u554f\u7b54\u7cfb\u7d71\",\n    \"\u6587\u5b57\u6458\u8981\u751f\u6210\",\n    \"\u55ae\u6b21\u8cc7\u6599\u8f49\u63db\",\n    \"\u76f4\u63a5\u7684 RAG \u61c9\u7528\",\n    \"\u7c21\u55ae\u7684 Agent(\u4e0d\u9700\u8907\u96dc\u6c7a\u7b56)\"\n]\n\n# \u7bc4\u4f8b:\u7c21\u55ae RAG\nfrom langchain.chains import RetrievalQA\n\nqa_chain = RetrievalQA.from_chain_type(\n    llm=llm,\n    retriever=vectorstore.as_retriever()\n)\n\nresult = qa_chain.invoke(\"\u4ec0\u9ebc\u662f\u7d42\u8eab\u58fd\u96aa?\")\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#langgraph_1","title":"\u4f7f\u7528 LangGraph \u7684\u5834\u666f","text":"<p>\u9069\u5408\u8907\u96dc\u3001\u6709\u72c0\u614b\u7684 AI \u61c9\u7528:</p> Python<pre><code># \u2705 \u9069\u5408\u4f7f\u7528 LangGraph\nscenarios = [\n    \"\u591a\u6b65\u9a5f\u63a8\u7406\u548c\u6c7a\u7b56\",\n    \"\u9700\u8981\u5faa\u74b0\u548c\u689d\u4ef6\u5206\u652f\",\n    \"\u8907\u96dc\u7684\u72c0\u614b\u7ba1\u7406\",\n    \"\u9700\u8981\u4eba\u6a5f\u5354\u4f5c\",\n    \"\u591a\u8f2a\u5c0d\u8a71\u7cfb\u7d71\",\n    \"\u8907\u96dc\u7684 Agent \u5de5\u4f5c\u6d41\u7a0b\"\n]\n\n# \u7bc4\u4f8b:\u8907\u96dc\u7684\u5ba2\u6236\u670d\u52d9\u6d41\u7a0b\nworkflow = StateGraph(State)\nworkflow.add_node(\"verify\", verify_identity)\nworkflow.add_node(\"classify\", classify_intent)\nworkflow.add_node(\"query\", query_data)\nworkflow.add_node(\"validate\", validate_result)\nworkflow.add_conditional_edges(\"validate\", should_retry)\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#_2","title":"\u6c7a\u7b56\u6d41\u7a0b\u5716","text":"<pre><code>graph TD\n    START[\u9700\u8981\u5efa\u7acb AI \u61c9\u7528] --&gt; Q1{\u9700\u8981\u591a\u6b65\u9a5f&lt;br/&gt;\u63a8\u7406?}\n\n    Q1 --&gt; |\u5426| Q2{\u9700\u8981\u7dad\u8b77&lt;br/&gt;\u8907\u96dc\u72c0\u614b?}\n    Q1 --&gt; |\u662f| LANGGRAPH\n\n    Q2 --&gt; |\u5426| Q3{\u9700\u8981\u5faa\u74b0&lt;br/&gt;\u6216\u689d\u4ef6\u5206\u652f?}\n    Q2 --&gt; |\u662f| LANGGRAPH\n\n    Q3 --&gt; |\u5426| LANGCHAIN[\u4f7f\u7528 LangChain]\n    Q3 --&gt; |\u662f| LANGGRAPH[\u4f7f\u7528 LangGraph]\n\n    style LANGCHAIN fill:#2196F3,color:#fff\n    style LANGGRAPH fill:#4CAF50,color:#fff</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#langchain-langgraph_1","title":"\u9077\u79fb\u6307\u5357:\u5f9e LangChain \u5230 LangGraph","text":""},{"location":"langgraph/basics/03-langchain-relation/#agent-executor","title":"\u9077\u79fb\u7bc4\u4f8b:Agent Executor","text":""},{"location":"langgraph/basics/03-langchain-relation/#langchain_4","title":"\u539f\u59cb LangChain \u7a0b\u5f0f\u78bc","text":"Python<pre><code>from langchain.agents import create_openai_functions_agent, AgentExecutor\nfrom langchain.tools import Tool\nfrom langchain_openai import ChatOpenAI\n\n# \u5b9a\u7fa9\u5de5\u5177\ntools = [\n    Tool(\n        name=\"calculator\",\n        func=lambda x: eval(x),\n        description=\"\u8a08\u7b97\u6578\u5b78\u8868\u9054\u5f0f\"\n    )\n]\n\n# \u5efa\u7acb Agent\nllm = ChatOpenAI(model=\"gpt-4\")\nagent = create_openai_functions_agent(llm, tools, prompt)\n\n# \u57f7\u884c\nagent_executor = AgentExecutor(\n    agent=agent,\n    tools=tools,\n    max_iterations=5,\n    verbose=True\n)\n\nresult = agent_executor.invoke({\"input\": \"\u8a08\u7b97 123 * 456\"})\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#langgraph_2","title":"\u9077\u79fb\u5230 LangGraph","text":"Python<pre><code>from langgraph.graph import StateGraph, END\nfrom langgraph.prebuilt import ToolExecutor\nfrom typing import TypedDict, Annotated\nfrom operator import add\n\n# 1. \u5b9a\u7fa9\u72c0\u614b\nclass AgentState(TypedDict):\n    messages: Annotated[list, add]\n    iterations: int\n\n# 2. \u5b9a\u7fa9\u7bc0\u9ede\ndef agent_node(state: AgentState):\n    llm = ChatOpenAI(model=\"gpt-4\")\n    llm_with_tools = llm.bind_tools(tools)\n\n    response = llm_with_tools.invoke(state[\"messages\"])\n    return {\n        \"messages\": [response],\n        \"iterations\": state.get(\"iterations\", 0) + 1\n    }\n\ndef tool_node(state: AgentState):\n    tool_executor = ToolExecutor(tools)\n    last_message = state[\"messages\"][-1]\n\n    if hasattr(last_message, \"tool_calls\"):\n        results = [tool_executor.invoke(call) for call in last_message.tool_calls]\n        return {\"messages\": results}\n\n    return {}\n\n# 3. \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(AgentState)\nworkflow.add_node(\"agent\", agent_node)\nworkflow.add_node(\"tools\", tool_node)\n\n# 4. \u5b9a\u7fa9\u8def\u7531\ndef should_continue(state: AgentState):\n    messages = state[\"messages\"]\n    last_message = messages[-1]\n\n    # \u6aa2\u67e5\u662f\u5426\u8d85\u904e\u6700\u5927\u8fed\u4ee3\u6b21\u6578\n    if state.get(\"iterations\", 0) &gt;= 5:\n        return \"end\"\n\n    # \u6aa2\u67e5\u662f\u5426\u6709\u5de5\u5177\u547c\u53eb\n    if hasattr(last_message, \"tool_calls\") and last_message.tool_calls:\n        return \"continue\"\n\n    return \"end\"\n\nworkflow.add_conditional_edges(\n    \"agent\",\n    should_continue,\n    {\n        \"continue\": \"tools\",\n        \"end\": END\n    }\n)\n\nworkflow.add_edge(\"tools\", \"agent\")\nworkflow.set_entry_point(\"agent\")\n\n# 5. \u7de8\u8b6f\u548c\u57f7\u884c\napp = workflow.compile()\nresult = app.invoke({\n    \"messages\": [{\"role\": \"user\", \"content\": \"\u8a08\u7b97 123 * 456\"}],\n    \"iterations\": 0\n})\n</code></pre> <p>\u9077\u79fb\u512a\u52e2</p> <p>\u96d6\u7136 LangGraph \u7a0b\u5f0f\u78bc\u8f03\u9577,\u4f46\u7372\u5f97\u4e86:</p> <ul> <li>\u2705 \u6e05\u6670\u7684\u6d41\u7a0b\u8996\u89ba\u5316</li> <li>\u2705 \u5b8c\u6574\u7684\u72c0\u614b\u63a7\u5236</li> <li>\u2705 \u66f4\u9748\u6d3b\u7684\u689d\u4ef6\u5224\u65b7</li> <li>\u2705 \u66f4\u597d\u7684\u9664\u932f\u80fd\u529b</li> </ul>"},{"location":"langgraph/basics/03-langchain-relation/#rag-langgraph","title":"\u5b8c\u6574\u5be6\u6230\u7bc4\u4f8b:RAG + LangGraph","text":"<p>\u7d50\u5408 LangChain \u7684 RAG \u548c LangGraph \u7684\u5de5\u4f5c\u6d41\u7a0b\u63a7\u5236:</p> Python<pre><code>from langchain_openai import ChatOpenAI, OpenAIEmbeddings\nfrom langchain_community.vectorstores import FAISS\nfrom langchain.text_splitter import RecursiveCharacterTextSplitter\nfrom langchain.document_loaders import TextLoader\nfrom langgraph.graph import StateGraph, END\nfrom typing import TypedDict, Annotated\nfrom operator import add\n\n# 1. \u6e96\u5099 RAG \u7d44\u4ef6(LangChain)\ndocuments = TextLoader(\"./docs/policies.txt\").load()\ntext_splitter = RecursiveCharacterTextSplitter(chunk_size=1000)\nchunks = text_splitter.split_documents(documents)\n\nembeddings = OpenAIEmbeddings()\nvectorstore = FAISS.from_documents(chunks, embeddings)\nretriever = vectorstore.as_retriever(search_kwargs={\"k\": 3})\n\n# 2. \u5b9a\u7fa9\u72c0\u614b(LangGraph)\nclass RAGState(TypedDict):\n    question: str\n    retrieved_docs: list\n    answer: str\n    confidence: float\n    messages: Annotated[list, add]\n\n# 3. \u5b9a\u7fa9\u7bc0\u9ede\ndef retrieve_node(state: RAGState):\n    \"\"\"\u6aa2\u7d22\u76f8\u95dc\u6587\u4ef6\"\"\"\n    docs = retriever.get_relevant_documents(state[\"question\"])\n\n    return {\n        \"retrieved_docs\": [doc.page_content for doc in docs],\n        \"messages\": [{\"role\": \"system\", \"content\": f\"\u627e\u5230 {len(docs)} \u500b\u76f8\u95dc\u6587\u4ef6\"}]\n    }\n\ndef generate_node(state: RAGState):\n    \"\"\"\u751f\u6210\u56de\u7b54\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    context = \"\\n\\n\".join(state[\"retrieved_docs\"])\n    prompt = f\"\"\"\n    \u6839\u64da\u4ee5\u4e0b\u8cc7\u6599\u56de\u7b54\u554f\u984c:\n\n    \u8cc7\u6599:\n    {context}\n\n    \u554f\u984c: {state['question']}\n\n    \u8acb\u63d0\u4f9b\u8a73\u7d30\u56de\u7b54\u3002\n    \"\"\"\n\n    response = llm.invoke(prompt)\n\n    return {\n        \"answer\": response.content,\n        \"messages\": [{\"role\": \"assistant\", \"content\": response.content}]\n    }\n\ndef evaluate_node(state: RAGState):\n    \"\"\"\u8a55\u4f30\u56de\u7b54\u54c1\u8cea\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u8a55\u4f30\u4ee5\u4e0b\u56de\u7b54\u7684\u54c1\u8cea(0-1\u5206):\n\n    \u554f\u984c: {state['question']}\n    \u56de\u7b54: {state['answer']}\n\n    \u53ea\u56de\u7b54\u6578\u5b57,\u4f8b\u5982: 0.85\n    \"\"\"\n\n    score = float(llm.invoke(prompt).content)\n\n    return {\n        \"confidence\": score,\n        \"messages\": [{\"role\": \"system\", \"content\": f\"\u4fe1\u5fc3\u5206\u6578: {score}\"}]\n    }\n\ndef refine_node(state: RAGState):\n    \"\"\"\u6539\u9032\u56de\u7b54\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u6539\u9032\u4ee5\u4e0b\u56de\u7b54,\u4f7f\u5176\u66f4\u6e96\u78ba\u5b8c\u6574:\n\n    \u554f\u984c: {state['question']}\n    \u539f\u56de\u7b54: {state['answer']}\n    \u53c3\u8003\u8cc7\u6599: {state['retrieved_docs']}\n\n    \u63d0\u4f9b\u6539\u9032\u5f8c\u7684\u56de\u7b54\u3002\n    \"\"\"\n\n    refined = llm.invoke(prompt).content\n\n    return {\n        \"answer\": refined,\n        \"messages\": [{\"role\": \"assistant\", \"content\": refined}]\n    }\n\n# 4. \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(RAGState)\n\nworkflow.add_node(\"retrieve\", retrieve_node)\nworkflow.add_node(\"generate\", generate_node)\nworkflow.add_node(\"evaluate\", evaluate_node)\nworkflow.add_node(\"refine\", refine_node)\n\n# 5. \u8a2d\u5b9a\u6d41\u7a0b\nworkflow.set_entry_point(\"retrieve\")\nworkflow.add_edge(\"retrieve\", \"generate\")\nworkflow.add_edge(\"generate\", \"evaluate\")\n\n# 6. \u689d\u4ef6\u8def\u7531\ndef should_refine(state: RAGState):\n    if state[\"confidence\"] &gt;= 0.8:\n        return \"accept\"\n    return \"refine\"\n\nworkflow.add_conditional_edges(\n    \"evaluate\",\n    should_refine,\n    {\n        \"accept\": END,\n        \"refine\": \"refine\"\n    }\n)\n\nworkflow.add_edge(\"refine\", END)\n\n# 7. \u57f7\u884c\nrag_app = workflow.compile()\n\nresult = rag_app.invoke({\n    \"question\": \"\u4ec0\u9ebc\u662f\u7d42\u8eab\u58fd\u96aa\u7684\u4fdd\u969c\u7bc4\u570d?\",\n    \"messages\": []\n})\n\nprint(f\"\u56de\u7b54: {result['answer']}\")\nprint(f\"\u4fe1\u5fc3\u5206\u6578: {result['confidence']}\")\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#_3","title":"\u91cd\u9ede\u6574\u7406","text":""},{"location":"langgraph/basics/03-langchain-relation/#langchain-vs-langgraph_1","title":"LangChain vs LangGraph","text":"\u7279\u6027 LangChain LangGraph \u5b9a\u4f4d \u57fa\u790e\u7d44\u4ef6\u5eab \u5de5\u4f5c\u6d41\u7a0b\u6846\u67b6 \u9069\u7528 \u7c21\u55ae\u4efb\u52d9 \u8907\u96dc\u6d41\u7a0b \u72c0\u614b\u7ba1\u7406 \u57fa\u790e \u5f37\u5927 \u63a7\u5236\u6d41\u7a0b \u6709\u9650 \u9748\u6d3b \u8996\u89ba\u5316 \u8f03\u5f31 \u512a\u79c0 \u5b78\u7fd2\u66f2\u7dda \u5e73\u7de9 \u7565\u9661"},{"location":"langgraph/basics/03-langchain-relation/#_4","title":"\u6574\u5408\u65b9\u5f0f","text":"<ol> <li>\u5728 LangGraph Node \u4e2d\u4f7f\u7528 LangChain \u7d44\u4ef6</li> <li>LLM\u3001Prompt\u3001Parser</li> <li>Tools\u3001Retriever</li> <li> <p>Memory\u3001Document Loader</p> </li> <li> <p>LangGraph \u63d0\u4f9b\u7684\u984d\u5916\u80fd\u529b</p> </li> <li>\u8907\u96dc\u7684\u689d\u4ef6\u908f\u8f2f</li> <li>\u5faa\u74b0\u548c\u8fed\u4ee3</li> <li>\u9748\u6d3b\u7684\u72c0\u614b\u7ba1\u7406</li> <li>\u8996\u89ba\u5316\u548c\u8ffd\u8e64</li> </ol>"},{"location":"langgraph/basics/03-langchain-relation/#_5","title":"\u9078\u64c7\u5efa\u8b70","text":"Python<pre><code># \u7c21\u55ae\u4efb\u52d9 \u2192 LangChain\nsimple_chain = LLMChain(llm=llm, prompt=prompt)\n\n# \u8907\u96dc\u4efb\u52d9 \u2192 LangGraph\ncomplex_app = workflow.compile()\n\n# \u6700\u4f73\u5be6\u8e10 \u2192 \u7d50\u5408\u4f7f\u7528\n# LangGraph \u63d0\u4f9b\u6846\u67b6\n# LangChain \u63d0\u4f9b\u7d44\u4ef6\n</code></pre>"},{"location":"langgraph/basics/03-langchain-relation/#_6","title":"\u7df4\u7fd2\u5efa\u8b70","text":""},{"location":"langgraph/basics/03-langchain-relation/#1-langchain","title":"\u7df4\u7fd2 1:\u6574\u5408 LangChain \u5de5\u5177","text":"<p>\u5efa\u7acb\u4e00\u500b LangGraph \u5de5\u4f5c\u6d41\u7a0b,\u6574\u5408\u81f3\u5c11 3 \u500b LangChain Tools\u3002</p>"},{"location":"langgraph/basics/03-langchain-relation/#2-agent","title":"\u7df4\u7fd2 2:\u9077\u79fb\u73fe\u6709 Agent","text":"<p>\u5982\u679c\u4f60\u6709\u4f7f\u7528 LangChain AgentExecutor \u7684\u5c08\u6848,\u5617\u8a66\u9077\u79fb\u5230 LangGraph\u3002</p>"},{"location":"langgraph/basics/03-langchain-relation/#3rag","title":"\u7df4\u7fd2 3:RAG + \u5de5\u4f5c\u6d41\u7a0b","text":"<p>\u5efa\u7acb\u4e00\u500b\u9032\u968e RAG \u7cfb\u7d71: 1. \u67e5\u8a62\u6539\u5beb 2. \u591a\u4f86\u6e90\u6aa2\u7d22 3. \u7d50\u679c\u878d\u5408 4. \u54c1\u8cea\u8a55\u4f30 5. \u81ea\u52d5\u91cd\u8a66</p>"},{"location":"langgraph/basics/03-langchain-relation/#_7","title":"\u5e38\u898b\u554f\u984c","text":""},{"location":"langgraph/basics/03-langchain-relation/#q1-langgraph-langchain","title":"Q1: \u4f7f\u7528 LangGraph \u9084\u9700\u8981 LangChain \u55ce?","text":"<p>A: \u9700\u8981\u3002LangGraph \u5efa\u7acb\u5728 LangChain \u4e4b\u4e0a,\u9700\u8981\u5b89\u88dd <code>langchain</code> \u548c\u76f8\u95dc\u5957\u4ef6\u3002</p>"},{"location":"langgraph/basics/03-langchain-relation/#q2-langchain-langgraph","title":"Q2: \u53ef\u4ee5\u6df7\u7528 LangChain \u548c LangGraph \u55ce?","text":"<p>A: \u53ef\u4ee5\u4e14\u5efa\u8b70!\u5728 LangGraph \u7684 Node \u4e2d\u4f7f\u7528 LangChain \u7d44\u4ef6\u662f\u6700\u4f73\u5be6\u8e10\u3002</p>"},{"location":"langgraph/basics/03-langchain-relation/#q3-langgraph-langchain","title":"Q3: LangGraph \u6703\u53d6\u4ee3 LangChain \u55ce?","text":"<p>A: \u4e0d\u6703\u3002\u5b83\u5011\u662f\u4e92\u88dc\u95dc\u4fc2: - LangChain:\u63d0\u4f9b\u57fa\u790e\u7d44\u4ef6 - LangGraph:\u63d0\u4f9b\u5de5\u4f5c\u6d41\u7a0b\u6846\u67b6</p>"},{"location":"langgraph/basics/03-langchain-relation/#q4-langgraph-langchain","title":"Q4: \u5b78\u7fd2 LangGraph \u524d\u9700\u8981\u7cbe\u901a LangChain \u55ce?","text":"<p>A: \u5efa\u8b70\u4e86\u89e3\u57fa\u790e\u6982\u5ff5(LLM\u3001Prompt\u3001Chain\u3001Tools),\u4f46\u4e0d\u9700\u8981\u7cbe\u901a\u3002</p>"},{"location":"langgraph/basics/03-langchain-relation/#_8","title":"\u4e0b\u4e00\u6b65","text":"<p>\u5b8c\u6210\u57fa\u790e\u7bc7!\u73fe\u5728\u60a8\u5df2\u7d93\u4e86\u89e3:</p> <ul> <li>\u2705 LangGraph \u7684\u57fa\u672c\u6982\u5ff5</li> <li>\u2705 \u6838\u5fc3\u7d44\u4ef6(State\u3001Node\u3001Edge)</li> <li>\u2705 \u8207 LangChain \u7684\u95dc\u4fc2\u548c\u6574\u5408\u65b9\u5f0f</li> </ul> <p>\u63a5\u4e0b\u4f86\u9032\u5165**\u67b6\u69cb\u8a2d\u8a08\u7bc7**,\u6211\u5011\u5c07\u6df1\u5165\u5b78\u7fd2 Agent \u7684\u5de5\u4f5c\u539f\u7406\u548c\u8a2d\u8a08\u6a21\u5f0f!</p>          \u9032\u5165\u67b6\u69cb\u8a2d\u8a08\u7bc7 \u2192"},{"location":"langgraph/implementation/07-first-agent/","title":"\u5efa\u7acb\u7b2c\u4e00\u500b LangGraph Agent","text":""},{"location":"langgraph/implementation/07-first-agent/#_1","title":"\u6982\u8ff0","text":"<p>\u672c\u7ae0\u5c07\u5e36\u60a8\u5f9e\u96f6\u958b\u59cb\u5efa\u7acb\u7b2c\u4e00\u500b\u5b8c\u6574\u7684 LangGraph Agent\u3002\u900f\u904e\u5be6\u969b\u52d5\u624b\u64cd\u4f5c,\u60a8\u5c07\u638c\u63e1 Agent \u958b\u767c\u7684\u5b8c\u6574\u6d41\u7a0b\u3002</p>"},{"location":"langgraph/implementation/07-first-agent/#_2","title":"\u74b0\u5883\u6e96\u5099","text":""},{"location":"langgraph/implementation/07-first-agent/#_3","title":"\u5b89\u88dd\u5957\u4ef6","text":"Bash<pre><code># \u5efa\u7acb\u5c08\u6848\u76ee\u9304\nmkdir my-first-langgraph-agent\ncd my-first-langgraph-agent\n\n# \u5efa\u7acb\u865b\u64ec\u74b0\u5883\npython -m venv venv\nsource venv/bin/activate  # Windows: venv\\Scripts\\activate\n\n# \u5b89\u88dd\u5fc5\u8981\u5957\u4ef6\npip install langgraph langchain langchain-openai python-dotenv\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#_4","title":"\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578","text":"<p>\u5efa\u7acb <code>.env</code> \u6a94\u6848:</p> Bash<pre><code># .env\nOPENAI_API_KEY=sk-your-api-key-here\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#_5","title":"\u9a57\u8b49\u5b89\u88dd","text":"Python<pre><code># test_setup.py\nfrom langchain_openai import ChatOpenAI\nfrom langgraph.graph import StateGraph\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\n# \u6e2c\u8a66 LLM\nllm = ChatOpenAI(model=\"gpt-4\")\nprint(\"\u2705 LLM \u9023\u7dda\u6210\u529f\")\n\n# \u6e2c\u8a66 LangGraph\nfrom typing import TypedDict\nclass TestState(TypedDict):\n    message: str\n\nworkflow = StateGraph(TestState)\nprint(\"\u2705 LangGraph \u5c0e\u5165\u6210\u529f\")\n\nprint(\"\\n\ud83c\udf89 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210!\")\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#hello-world-agent","title":"Hello World Agent","text":"<p>\u8b93\u6211\u5011\u5efa\u7acb\u6700\u7c21\u55ae\u7684 Agent:</p> Python<pre><code># hello_agent.py\nfrom typing import TypedDict\nfrom langgraph.graph import StateGraph, END\nfrom langchain_openai import ChatOpenAI\nfrom dotenv import load_dotenv\n\n# \u8f09\u5165\u74b0\u5883\u8b8a\u6578\nload_dotenv()\n\n# 1. \u5b9a\u7fa9\u72c0\u614b\nclass HelloState(TypedDict):\n    user_name: str\n    greeting: str\n\n# 2. \u5b9a\u7fa9\u7bc0\u9ede\u51fd\u6578\ndef generate_greeting(state: HelloState) -&gt; HelloState:\n    \"\"\"\u751f\u6210\u500b\u6027\u5316\u554f\u5019\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\u7528\u53cb\u5584\u7684\u65b9\u5f0f\u5411 {state['user_name']} \u6253\u62db\u547c,\u7528\u7e41\u9ad4\u4e2d\u6587\u3002\"\n    response = llm.invoke(prompt)\n\n    return {\"greeting\": response.content}\n\n# 3. \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nworkflow = StateGraph(HelloState)\n\n# \u6dfb\u52a0\u7bc0\u9ede\nworkflow.add_node(\"greet\", generate_greeting)\n\n# \u8a2d\u5b9a\u6d41\u7a0b\nworkflow.set_entry_point(\"greet\")\nworkflow.add_edge(\"greet\", END)\n\n# 4. \u7de8\u8b6f\napp = workflow.compile()\n\n# 5. \u57f7\u884c\nif __name__ == \"__main__\":\n    result = app.invoke({\"user_name\": \"\u5c0f\u660e\"})\n    print(f\"\u554f\u5019\u8a9e: {result['greeting']}\")\n</code></pre> <p>\u57f7\u884c:</p> Bash<pre><code>python hello_agent.py\n</code></pre> <p>\u8f38\u51fa\u7bc4\u4f8b:</p> Text Only<pre><code>\u554f\u5019\u8a9e: \u4f60\u597d\u5c0f\u660e!\u5f88\u9ad8\u8208\u8a8d\u8b58\u4f60,\u5e0c\u671b\u4eca\u5929\u4e00\u5207\u9806\u5229!\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#_6","title":"\u5be6\u6230\u6848\u4f8b:\u667a\u80fd\u5ba2\u670d\u52a9\u624b","text":"<p>\u73fe\u5728\u8b93\u6211\u5011\u5efa\u7acb\u4e00\u500b\u66f4\u5be6\u7528\u7684\u5ba2\u670d Agent:</p>"},{"location":"langgraph/implementation/07-first-agent/#_7","title":"\u5b8c\u6574\u7a0b\u5f0f\u78bc","text":"Python<pre><code># customer_service_agent.py\nfrom typing import TypedDict, Annotated, Optional\nfrom operator import add\nfrom langgraph.graph import StateGraph, END\nfrom langchain_openai import ChatOpenAI\nfrom dotenv import load_dotenv\nimport logging\n\n# \u8a2d\u5b9a\u65e5\u8a8c\nlogging.basicConfig(level=logging.INFO)\nlogger = logging.getLogger(__name__)\n\nload_dotenv()\n\n# ===== \u72c0\u614b\u5b9a\u7fa9 =====\nclass CustomerServiceState(TypedDict):\n    \"\"\"\u5ba2\u670d Agent \u72c0\u614b\"\"\"\n    # \u4f7f\u7528\u8005\u8f38\u5165\n    user_message: str\n\n    # \u5c0d\u8a71\u6b77\u53f2\n    conversation_history: Annotated[list[dict], add]\n\n    # \u610f\u5716\u8b58\u5225\n    intent: str\n    intent_confidence: float\n\n    # \u8655\u7406\u7d50\u679c\n    response: str\n    requires_human: bool\n\n# ===== \u7bc0\u9ede\u51fd\u6578 =====\ndef recognize_intent(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8b58\u5225\u4f7f\u7528\u8005\u610f\u5716\"\"\"\n    logger.info(\"\u57f7\u884c\u610f\u5716\u8b58\u5225...\")\n\n    llm = ChatOpenAI(model=\"gpt-4\", temperature=0)\n\n    prompt = f\"\"\"\n    \u5206\u6790\u4ee5\u4e0b\u5ba2\u6236\u8a0a\u606f\u7684\u610f\u5716:\n    \"{state['user_message']}\"\n\n    \u53ef\u80fd\u7684\u610f\u5716:\n    - greeting: \u6253\u62db\u547c\n    - question: \u8a62\u554f\u554f\u984c\n    - complaint: \u6295\u8a34\u62b1\u6028\n    - thanks: \u9053\u8b1d\n\n    \u4ee5 JSON \u683c\u5f0f\u56de\u7b54: {{\"intent\": \"...\", \"confidence\": 0.95}}\n    \u53ea\u56de\u7b54 JSON,\u4e0d\u8981\u5176\u4ed6\u5167\u5bb9\u3002\n    \"\"\"\n\n    import json\n    try:\n        response = llm.invoke(prompt).content\n        # \u79fb\u9664\u53ef\u80fd\u7684 markdown \u683c\u5f0f\n        response = response.strip()\n        if response.startswith(\"```json\"):\n            response = response[7:-3].strip()\n        elif response.startswith(\"```\"):\n            response = response[3:-3].strip()\n\n        result = json.loads(response)\n        logger.info(f\"\u610f\u5716: {result['intent']}, \u4fe1\u5fc3\u5ea6: {result['confidence']}\")\n\n        return {\n            \"intent\": result[\"intent\"],\n            \"intent_confidence\": result[\"confidence\"],\n            \"conversation_history\": [{\n                \"role\": \"system\",\n                \"content\": f\"\u610f\u5716\u8b58\u5225: {result['intent']}\"\n            }]\n        }\n    except Exception as e:\n        logger.error(f\"\u610f\u5716\u8b58\u5225\u5931\u6557: {e}\")\n        return {\n            \"intent\": \"question\",\n            \"intent_confidence\": 0.5,\n            \"conversation_history\": [{\n                \"role\": \"system\",\n                \"content\": \"\u610f\u5716\u8b58\u5225\u5931\u6557,\u4f7f\u7528\u9810\u8a2d\u610f\u5716\"\n            }]\n        }\n\ndef handle_greeting(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8655\u7406\u6253\u62db\u547c\"\"\"\n    logger.info(\"\u8655\u7406\u6253\u62db\u547c...\")\n\n    response = \"\u60a8\u597d!\u6211\u662f\u570b\u6cf0\u4eba\u58fd\u667a\u80fd\u5ba2\u670d\u52a9\u624b,\u5f88\u9ad8\u8208\u70ba\u60a8\u670d\u52d9\u3002\u8acb\u554f\u6709\u4ec0\u9ebc\u53ef\u4ee5\u5e6b\u52a9\u60a8\u7684\u55ce?\"\n\n    return {\n        \"response\": response,\n        \"requires_human\": False,\n        \"conversation_history\": [{\n            \"role\": \"assistant\",\n            \"content\": response\n        }]\n    }\n\ndef handle_question(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8655\u7406\u4e00\u822c\u554f\u984c\"\"\"\n    logger.info(\"\u8655\u7406\u4e00\u822c\u554f\u984c...\")\n\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    # \u6e96\u5099\u4e0a\u4e0b\u6587\n    context = \"\\n\".join([\n        f\"{msg['role']}: {msg['content']}\"\n        for msg in state[\"conversation_history\"]\n    ])\n\n    prompt = f\"\"\"\n    \u4f60\u662f\u570b\u6cf0\u4eba\u58fd\u7684\u5ba2\u670d\u52a9\u624b\u3002\u8acb\u6839\u64da\u4ee5\u4e0b\u5c0d\u8a71\u6b77\u53f2\u56de\u7b54\u5ba2\u6236\u554f\u984c\u3002\n\n    \u5c0d\u8a71\u6b77\u53f2:\n    {context}\n\n    \u5ba2\u6236\u554f\u984c: {state['user_message']}\n\n    \u8acb\u63d0\u4f9b\u5c08\u696d\u3001\u53cb\u5584\u7684\u56de\u7b54\u3002\u5982\u679c\u4e0d\u78ba\u5b9a,\u5efa\u8b70\u5ba2\u6236\u806f\u7d61\u4eba\u5de5\u5ba2\u670d\u3002\n    \"\"\"\n\n    response = llm.invoke(prompt).content\n\n    return {\n        \"response\": response,\n        \"requires_human\": False,\n        \"conversation_history\": [{\n            \"role\": \"user\",\n            \"content\": state[\"user_message\"]\n        }, {\n            \"role\": \"assistant\",\n            \"content\": response\n        }]\n    }\n\ndef handle_complaint(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8655\u7406\u6295\u8a34\"\"\"\n    logger.info(\"\u8655\u7406\u6295\u8a34...\")\n\n    response = f\"\"\"\n    \u975e\u5e38\u62b1\u6b49\u7d66\u60a8\u5e36\u4f86\u4e0d\u4fbf\u3002\u6211\u5011\u975e\u5e38\u91cd\u8996\u60a8\u7684\u610f\u898b\u3002\n\n    \u60a8\u7684\u6295\u8a34\u5df2\u7d93\u8a18\u9304,\u6211\u5011\u5c07\u76e1\u5feb\u70ba\u60a8\u5b89\u6392\u5c08\u4eba\u8655\u7406\u3002\n    \u540c\u6642,\u6211\u4e5f\u6703\u7acb\u5373\u70ba\u60a8\u8f49\u63a5\u4eba\u5de5\u5ba2\u670d,\u4ee5\u4fbf\u66f4\u597d\u5730\u89e3\u6c7a\u60a8\u7684\u554f\u984c\u3002\n\n    \u518d\u6b21\u70ba\u9020\u6210\u7684\u56f0\u64fe\u81f4\u6b49!\n    \"\"\"\n\n    return {\n        \"response\": response,\n        \"requires_human\": True,  # \u6295\u8a34\u9700\u8981\u4eba\u5de5\u4ecb\u5165\n        \"conversation_history\": [{\n            \"role\": \"assistant\",\n            \"content\": response\n        }]\n    }\n\ndef handle_thanks(state: CustomerServiceState) -&gt; CustomerServiceState:\n    \"\"\"\u8655\u7406\u9053\u8b1d\"\"\"\n    logger.info(\"\u8655\u7406\u9053\u8b1d...\")\n\n    response = \"\u4e0d\u5ba2\u6c23!\u5f88\u9ad8\u8208\u80fd\u70ba\u60a8\u670d\u52d9\u3002\u5982\u679c\u9084\u6709\u5176\u4ed6\u554f\u984c,\u96a8\u6642\u6b61\u8fce\u8a62\u554f\u3002\u795d\u60a8\u6709\u7f8e\u597d\u7684\u4e00\u5929!\"\n\n    return {\n        \"response\": response,\n        \"requires_human\": False,\n        \"conversation_history\": [{\n            \"role\": \"assistant\",\n            \"content\": response\n        }]\n    }\n\n# ===== \u8def\u7531\u51fd\u6578 =====\ndef route_by_intent(state: CustomerServiceState) -&gt; str:\n    \"\"\"\u6839\u64da\u610f\u5716\u8def\u7531\"\"\"\n    intent = state[\"intent\"]\n\n    # \u4fe1\u5fc3\u5ea6\u592a\u4f4e,\u8f49\u4eba\u5de5\n    if state[\"intent_confidence\"] &lt; 0.7:\n        logger.warning(f\"\u4fe1\u5fc3\u5ea6\u904e\u4f4e ({state['intent_confidence']}),\u8f49\u4eba\u5de5\u8655\u7406\")\n        return \"complaint\"  # \u4fdd\u5b88\u8655\u7406,\u8f49\u6295\u8a34\u6d41\u7a0b\n\n    routing = {\n        \"greeting\": \"greeting\",\n        \"question\": \"question\",\n        \"complaint\": \"complaint\",\n        \"thanks\": \"thanks\"\n    }\n\n    return routing.get(intent, \"question\")  # \u9810\u8a2d\u7576\u4f5c\u554f\u984c\u8655\u7406\n\n# ===== \u5efa\u7acb Agent =====\ndef create_customer_service_agent():\n    \"\"\"\u5efa\u7acb\u5ba2\u670d Agent\"\"\"\n    workflow = StateGraph(CustomerServiceState)\n\n    # \u6dfb\u52a0\u7bc0\u9ede\n    workflow.add_node(\"recognize\", recognize_intent)\n    workflow.add_node(\"greeting\", handle_greeting)\n    workflow.add_node(\"question\", handle_question)\n    workflow.add_node(\"complaint\", handle_complaint)\n    workflow.add_node(\"thanks\", handle_thanks)\n\n    # \u8a2d\u5b9a\u6d41\u7a0b\n    workflow.set_entry_point(\"recognize\")\n\n    # \u689d\u4ef6\u8def\u7531\n    workflow.add_conditional_edges(\n        \"recognize\",\n        route_by_intent,\n        {\n            \"greeting\": \"greeting\",\n            \"question\": \"question\",\n            \"complaint\": \"complaint\",\n            \"thanks\": \"thanks\"\n        }\n    )\n\n    # \u6240\u6709\u8def\u5f91\u90fd\u7d50\u675f\n    workflow.add_edge(\"greeting\", END)\n    workflow.add_edge(\"question\", END)\n    workflow.add_edge(\"complaint\", END)\n    workflow.add_edge(\"thanks\", END)\n\n    return workflow.compile()\n\n# ===== \u4e3b\u7a0b\u5f0f =====\ndef main():\n    \"\"\"\u4e3b\u7a0b\u5f0f\"\"\"\n    print(\"=== \u570b\u6cf0\u4eba\u58fd\u667a\u80fd\u5ba2\u670d\u7cfb\u7d71 ===\\n\")\n\n    agent = create_customer_service_agent()\n\n    # \u6e2c\u8a66\u6848\u4f8b\n    test_cases = [\n        \"\u4f60\u597d,\u8acb\u554f\u4f60\u662f\u8ab0?\",\n        \"\u6211\u60f3\u8a62\u554f\u95dc\u65bc\u58fd\u96aa\u7684\u4fdd\u969c\u7bc4\u570d\",\n        \"\u4f60\u5011\u7684\u670d\u52d9\u614b\u5ea6\u592a\u5dee\u4e86!\u6211\u8981\u6295\u8a34!\",\n        \"\u8b1d\u8b1d\u4f60\u7684\u5e6b\u52a9!\"\n    ]\n\n    for i, message in enumerate(test_cases, 1):\n        print(f\"\\n[\u6e2c\u8a66 {i}]\")\n        print(f\"\u5ba2\u6236: {message}\")\n\n        result = agent.invoke({\n            \"user_message\": message,\n            \"conversation_history\": []\n        })\n\n        print(f\"\u610f\u5716: {result['intent']} (\u4fe1\u5fc3\u5ea6: {result['intent_confidence']:.2f})\")\n        print(f\"\u52a9\u624b: {result['response']}\")\n        print(f\"\u9700\u8981\u4eba\u5de5: {'\u662f' if result['requires_human'] else '\u5426'}\")\n        print(\"-\" * 50)\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#_8","title":"\u57f7\u884c\u7d50\u679c","text":"Bash<pre><code>python customer_service_agent.py\n</code></pre> <p>\u8f38\u51fa\u7bc4\u4f8b:</p> Text Only<pre><code>=== \u570b\u6cf0\u4eba\u58fd\u667a\u80fd\u5ba2\u670d\u7cfb\u7d71 ===\n\n[\u6e2c\u8a66 1]\n\u5ba2\u6236: \u4f60\u597d,\u8acb\u554f\u4f60\u662f\u8ab0?\n\u610f\u5716: greeting (\u4fe1\u5fc3\u5ea6: 0.95)\n\u52a9\u624b: \u60a8\u597d!\u6211\u662f\u570b\u6cf0\u4eba\u58fd\u667a\u80fd\u5ba2\u670d\u52a9\u624b,\u5f88\u9ad8\u8208\u70ba\u60a8\u670d\u52d9\u3002\u8acb\u554f\u6709\u4ec0\u9ebc\u53ef\u4ee5\u5e6b\u52a9\u60a8\u7684\u55ce?\n\u9700\u8981\u4eba\u5de5: \u5426\n--------------------------------------------------\n\n[\u6e2c\u8a66 2]\n\u5ba2\u6236: \u6211\u60f3\u8a62\u554f\u95dc\u65bc\u58fd\u96aa\u7684\u4fdd\u969c\u7bc4\u570d\n\u610f\u5716: question (\u4fe1\u5fc3\u5ea6: 0.92)\n\u52a9\u624b: \u58fd\u96aa\u7684\u4fdd\u969c\u7bc4\u570d\u4e3b\u8981\u5305\u62ec:\n1. \u8eab\u6545\u4fdd\u969c:\u88ab\u4fdd\u96aa\u4eba\u8eab\u6545\u6642,\u7d66\u4ed8\u4fdd\u96aa\u91d1\u7d66\u53d7\u76ca\u4eba\n2. \u5168\u6b98\u4fdd\u969c:\u56e0\u75be\u75c5\u6216\u610f\u5916\u5c0e\u81f4\u5168\u6b98\u6642\u7684\u4fdd\u969c\n3. \u90e8\u5206\u96aa\u7a2e\u9084\u5305\u542b\u91cd\u5927\u75be\u75c5\u3001\u91ab\u7642\u7b49\u9644\u52a0\u4fdd\u969c\n\n\u5177\u9ad4\u4fdd\u969c\u5167\u5bb9\u6703\u4f9d\u64da\u60a8\u9078\u64c7\u7684\u4fdd\u55ae\u800c\u6709\u6240\u4e0d\u540c\u3002\u5efa\u8b70\u60a8\u63d0\u4f9b\u4fdd\u55ae\u865f\u78bc,\u6211\u53ef\u4ee5\u70ba\u60a8\u67e5\u8a62\u8a73\u7d30\u5167\u5bb9,\u6216\u70ba\u60a8\u8f49\u63a5\u5c08\u54e1\u9032\u884c\u8aee\u8a62\u3002\n\u9700\u8981\u4eba\u5de5: \u5426\n--------------------------------------------------\n\n[\u6e2c\u8a66 3]\n\u5ba2\u6236: \u4f60\u5011\u7684\u670d\u52d9\u614b\u5ea6\u592a\u5dee\u4e86!\u6211\u8981\u6295\u8a34!\n\u610f\u5716: complaint (\u4fe1\u5fc3\u5ea6: 0.98)\n\u52a9\u624b: \u975e\u5e38\u62b1\u6b49\u7d66\u60a8\u5e36\u4f86\u4e0d\u4fbf\u3002\u6211\u5011\u975e\u5e38\u91cd\u8996\u60a8\u7684\u610f\u898b\u3002\n\n\u60a8\u7684\u6295\u8a34\u5df2\u7d93\u8a18\u9304,\u6211\u5011\u5c07\u76e1\u5feb\u70ba\u60a8\u5b89\u6392\u5c08\u4eba\u8655\u7406\u3002\n\u540c\u6642,\u6211\u4e5f\u6703\u7acb\u5373\u70ba\u60a8\u8f49\u63a5\u4eba\u5de5\u5ba2\u670d,\u4ee5\u4fbf\u66f4\u597d\u5730\u89e3\u6c7a\u60a8\u7684\u554f\u984c\u3002\n\n\u518d\u6b21\u70ba\u9020\u6210\u7684\u56f0\u64fe\u81f4\u6b49!\n\u9700\u8981\u4eba\u5de5: \u662f\n--------------------------------------------------\n\n[\u6e2c\u8a66 4]\n\u5ba2\u6236: \u8b1d\u8b1d\u4f60\u7684\u5e6b\u52a9!\n\u610f\u5716: thanks (\u4fe1\u5fc3\u5ea6: 0.99)\n\u52a9\u624b: \u4e0d\u5ba2\u6c23!\u5f88\u9ad8\u8208\u80fd\u70ba\u60a8\u670d\u52d9\u3002\u5982\u679c\u9084\u6709\u5176\u4ed6\u554f\u984c,\u96a8\u6642\u6b61\u8fce\u8a62\u554f\u3002\u795d\u60a8\u6709\u7f8e\u597d\u7684\u4e00\u5929!\n\u9700\u8981\u4eba\u5de5: \u5426\n--------------------------------------------------\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#agent","title":"\u53ef\u8996\u5316 Agent \u6d41\u7a0b","text":""},{"location":"langgraph/implementation/07-first-agent/#_9","title":"\u751f\u6210\u6d41\u7a0b\u5716","text":"Python<pre><code># visualize_agent.py\nfrom customer_service_agent import create_customer_service_agent\n\nagent = create_customer_service_agent()\n\n# \u53d6\u5f97\u5716\u5f62\ngraph = agent.get_graph()\n\n# \u751f\u6210 Mermaid \u5716\nmermaid_png = graph.draw_mermaid_png()\n\n# \u5132\u5b58\u5716\u7247\nwith open(\"agent_flowchart.png\", \"wb\") as f:\n    f.write(mermaid_png)\n\nprint(\"\u2705 \u6d41\u7a0b\u5716\u5df2\u5132\u5b58\u70ba agent_flowchart.png\")\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#_10","title":"\u9664\u932f\u6280\u5de7","text":""},{"location":"langgraph/implementation/07-first-agent/#1","title":"1. \u555f\u7528\u8a73\u7d30\u65e5\u8a8c","text":"Python<pre><code>import logging\n\nlogging.basicConfig(\n    level=logging.DEBUG,\n    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s'\n)\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#2","title":"2. \u8ffd\u8e64\u72c0\u614b\u8b8a\u5316","text":"Python<pre><code>def debug_node(state: StateType) -&gt; StateType:\n    \"\"\"\u9664\u932f\u7bc0\u9ede:\u5370\u51fa\u7576\u524d\u72c0\u614b\"\"\"\n    import json\n    print(\"=\" * 50)\n    print(\"\u7576\u524d\u72c0\u614b:\")\n    print(json.dumps(state, indent=2, ensure_ascii=False))\n    print(\"=\" * 50)\n    return {}\n\n# \u5728\u95dc\u9375\u7bc0\u9ede\u5f8c\u6dfb\u52a0\u9664\u932f\u7bc0\u9ede\nworkflow.add_node(\"debug\", debug_node)\nworkflow.add_edge(\"recognize\", \"debug\")\nworkflow.add_edge(\"debug\", \"next_node\")\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#3-langsmith","title":"3. \u4f7f\u7528 LangSmith \u8ffd\u8e64","text":"Python<pre><code># .env\nLANGCHAIN_TRACING_V2=true\nLANGCHAIN_API_KEY=your-langsmith-key\nLANGCHAIN_PROJECT=customer-service-agent\n\n# \u7a0b\u5f0f\u78bc\u4e2d\u6703\u81ea\u52d5\u555f\u7528\u8ffd\u8e64\n# \u524d\u5f80 https://smith.langchain.com/ \u67e5\u770b\u57f7\u884c\u8a18\u9304\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#_11","title":"\u5e38\u898b\u554f\u984c\u6392\u67e5","text":""},{"location":"langgraph/implementation/07-first-agent/#1-api-key","title":"\u554f\u984c 1: API Key \u932f\u8aa4","text":"Text Only<pre><code>Error: Incorrect API key provided\n</code></pre> <p>\u89e3\u6c7a\u65b9\u6848: 1. \u6aa2\u67e5 <code>.env</code> \u6a94\u6848\u662f\u5426\u5b58\u5728 2. \u78ba\u8a8d API key \u683c\u5f0f\u6b63\u78ba 3. \u78ba\u4fdd <code>load_dotenv()</code> \u5728\u6700\u524d\u9762\u57f7\u884c</p>"},{"location":"langgraph/implementation/07-first-agent/#2-json","title":"\u554f\u984c 2: JSON \u89e3\u6790\u5931\u6557","text":"Text Only<pre><code>JSONDecodeError: Expecting value\n</code></pre> <p>\u89e3\u6c7a\u65b9\u6848: Python<pre><code># \u52a0\u5165\u932f\u8aa4\u8655\u7406\ntry:\n    result = json.loads(response)\nexcept json.JSONDecodeError:\n    # \u4f7f\u7528\u9810\u8a2d\u503c\n    result = {\"intent\": \"question\", \"confidence\": 0.5}\n</code></pre></p>"},{"location":"langgraph/implementation/07-first-agent/#3","title":"\u554f\u984c 3: \u7bc0\u9ede\u8fd4\u56de\u503c\u932f\u8aa4","text":"Text Only<pre><code>KeyError: 'expected_field'\n</code></pre> <p>\u89e3\u6c7a\u65b9\u6848: - \u78ba\u4fdd\u7bc0\u9ede\u8fd4\u56de\u7684\u5b57\u5178\u5305\u542b\u6240\u6709\u9700\u8981\u7684\u6b04\u4f4d - \u4f7f\u7528 Optional \u6a19\u8a18\u53ef\u9078\u6b04\u4f4d</p>"},{"location":"langgraph/implementation/07-first-agent/#_12","title":"\u6539\u9032\u5efa\u8b70","text":""},{"location":"langgraph/implementation/07-first-agent/#1_1","title":"1. \u6dfb\u52a0\u8a18\u61b6\u529f\u80fd","text":"Python<pre><code>class StatefulAgent:\n    def __init__(self):\n        self.agent = create_customer_service_agent()\n        self.conversation_history = []\n\n    def chat(self, message: str):\n        result = self.agent.invoke({\n            \"user_message\": message,\n            \"conversation_history\": self.conversation_history\n        })\n\n        # \u4fdd\u5b58\u5c0d\u8a71\u6b77\u53f2\n        self.conversation_history.extend(result[\"conversation_history\"])\n\n        return result[\"response\"]\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#2_1","title":"2. \u6dfb\u52a0\u932f\u8aa4\u91cd\u8a66","text":"Python<pre><code>from tenacity import retry, stop_after_attempt, wait_exponential\n\n@retry(stop=stop_after_attempt(3), wait=wait_exponential(multiplier=1, min=2, max=10))\ndef recognize_intent_with_retry(state):\n    return recognize_intent(state)\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#3_1","title":"3. \u6dfb\u52a0\u6548\u80fd\u76e3\u63a7","text":"Python<pre><code>import time\n\ndef timed_node(func):\n    def wrapper(state):\n        start = time.time()\n        result = func(state)\n        duration = time.time() - start\n        logger.info(f\"{func.__name__} \u57f7\u884c\u6642\u9593: {duration:.2f}\u79d2\")\n        return result\n    return wrapper\n\n@timed_node\ndef recognize_intent(state):\n    # ... \u539f\u6709\u7a0b\u5f0f\u78bc ...\n</code></pre>"},{"location":"langgraph/implementation/07-first-agent/#_13","title":"\u91cd\u9ede\u6574\u7406","text":"<ol> <li>\u74b0\u5883\u8a2d\u5b9a</li> <li>\u5b89\u88dd\u5fc5\u8981\u5957\u4ef6</li> <li>\u8a2d\u5b9a\u74b0\u5883\u8b8a\u6578</li> <li> <p>\u9a57\u8b49\u5b89\u88dd</p> </li> <li> <p>Agent \u7d50\u69cb</p> </li> <li>\u5b9a\u7fa9\u72c0\u614b (TypedDict)</li> <li>\u5be6\u4f5c\u7bc0\u9ede\u51fd\u6578</li> <li>\u8a2d\u5b9a\u8def\u7531\u908f\u8f2f</li> <li> <p>\u7de8\u8b6f\u548c\u57f7\u884c</p> </li> <li> <p>\u6700\u4f73\u5be6\u8e10</p> </li> <li>\u5b8c\u5584\u7684\u932f\u8aa4\u8655\u7406</li> <li>\u8a73\u7d30\u7684\u65e5\u8a8c\u8a18\u9304</li> <li>\u6e05\u6670\u7684\u72c0\u614b\u6d41\u52d5</li> <li> <p>\u5145\u5206\u7684\u6e2c\u8a66</p> </li> <li> <p>\u9664\u932f\u6280\u5de7</p> </li> <li>\u555f\u7528\u8a73\u7d30\u65e5\u8a8c</li> <li>\u8ffd\u8e64\u72c0\u614b\u8b8a\u5316</li> <li>\u4f7f\u7528\u8996\u89ba\u5316\u5de5\u5177</li> </ol>"},{"location":"langgraph/implementation/07-first-agent/#_14","title":"\u7df4\u7fd2\u5efa\u8b70","text":"<ol> <li>\u64f4\u5c55\u5ba2\u670d Agent,\u589e\u52a0\u66f4\u591a\u610f\u5716\u985e\u578b</li> <li>\u6dfb\u52a0\u8cc7\u6599\u5eab\u67e5\u8a62\u529f\u80fd</li> <li>\u5be6\u4f5c\u591a\u8f2a\u5c0d\u8a71\u8a18\u61b6</li> <li>\u6574\u5408\u5be6\u969b\u7684\u77e5\u8b58\u5eab</li> </ol>"},{"location":"langgraph/implementation/07-first-agent/#_15","title":"\u4e0b\u4e00\u6b65","text":"<p>\u606d\u559c\u5b8c\u6210\u7b2c\u4e00\u500b LangGraph Agent!\u4e0b\u4e00\u7ae0\u6211\u5011\u5c07\u5b78\u7fd2\u5982\u4f55\u5efa\u7acb\u591a\u6b65\u9a5f\u63a8\u7406 Agent,\u8655\u7406\u66f4\u8907\u96dc\u7684\u4efb\u52d9\u3002</p>"},{"location":"langgraph/implementation/08-multi-step-reasoning/","title":"\u591a\u6b65\u9a5f\u63a8\u7406 Agent","text":"<p>\u591a\u6b65\u9a5f\u63a8\u7406 Agent \u80fd\u5920\u5c07\u8907\u96dc\u554f\u984c\u5206\u89e3\u70ba\u591a\u500b\u6b65\u9a5f,\u9010\u6b65\u89e3\u6c7a\u3002\u672c\u7ae0\u5c07\u5efa\u7acb\u4e00\u500b\u5b8c\u6574\u7684\u5206\u6790\u578b Agent\u3002</p>"},{"location":"langgraph/implementation/08-multi-step-reasoning/#_1","title":"\u6838\u5fc3\u6982\u5ff5","text":"<p>\u591a\u6b65\u9a5f\u63a8\u7406\u7684\u95dc\u9375: 1. \u554f\u984c\u5206\u89e3 2. \u9010\u6b65\u57f7\u884c 3. \u7d50\u679c\u6574\u5408 4. \u54c1\u8cea\u9a57\u8b49</p>"},{"location":"langgraph/implementation/08-multi-step-reasoning/#agent_1","title":"\u5b8c\u6574\u5be6\u4f5c:\u696d\u7e3e\u5206\u6790 Agent","text":"Python<pre><code>from typing import TypedDict, Annotated, List\nfrom operator import add\nfrom langgraph.graph import StateGraph, END\nfrom langchain_openai import ChatOpenAI\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\nclass AnalysisState(TypedDict):\n    # \u8f38\u5165\n    query: str\n    raw_data: dict\n\n    # \u5206\u89e3\u6b65\u9a5f\n    sub_tasks: List[str]\n    current_task_index: int\n\n    # \u4e2d\u9593\u7d50\u679c\n    task_results: Annotated[List[dict], add]\n\n    # \u6700\u7d42\u8f38\u51fa\n    final_analysis: str\n    confidence: float\n\n# \u6b65\u9a5f 1: \u5206\u89e3\u4efb\u52d9\ndef decompose_task(state: AnalysisState) -&gt; AnalysisState:\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    prompt = f\"\"\"\n    \u5c07\u4ee5\u4e0b\u5206\u6790\u9700\u6c42\u5206\u89e3\u70ba 3-5 \u500b\u5177\u9ad4\u6b65\u9a5f:\n    \u9700\u6c42: {state['query']}\n\n    \u4ee5\u5217\u8868\u5f62\u5f0f\u56de\u7b54,\u6bcf\u884c\u4e00\u500b\u6b65\u9a5f\u3002\n    \"\"\"\n\n    response = llm.invoke(prompt).content\n    tasks = [line.strip() for line in response.split('\\n') if line.strip() and not line.strip().startswith('#')]\n\n    return {\n        \"sub_tasks\": tasks[:5],  # \u6700\u591a 5 \u500b\u6b65\u9a5f\n        \"current_task_index\": 0\n    }\n\n# \u6b65\u9a5f 2: \u57f7\u884c\u55ae\u4e00\u4efb\u52d9\ndef execute_task(state: AnalysisState) -&gt; AnalysisState:\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    idx = state[\"current_task_index\"]\n    task = state[\"sub_tasks\"][idx]\n\n    # \u6e96\u5099\u4e0a\u4e0b\u6587\n    previous_results = \"\\n\".join([\n        f\"\u6b65\u9a5f {i+1}: {r['result']}\"\n        for i, r in enumerate(state.get(\"task_results\", []))\n    ])\n\n    prompt = f\"\"\"\n    \u57f7\u884c\u4ee5\u4e0b\u5206\u6790\u6b65\u9a5f:\n    \u7576\u524d\u4efb\u52d9: {task}\n\n    \u53ef\u7528\u6578\u64da: {state['raw_data']}\n\n    \u4e4b\u524d\u7684\u5206\u6790\u7d50\u679c:\n    {previous_results}\n\n    \u8acb\u63d0\u4f9b\u5206\u6790\u7d50\u679c\u3002\n    \"\"\"\n\n    result = llm.invoke(prompt).content\n\n    return {\n        \"task_results\": [{\n            \"task\": task,\n            \"result\": result,\n            \"index\": idx\n        }],\n        \"current_task_index\": idx + 1\n    }\n\n# \u6b65\u9a5f 3: \u6574\u5408\u7d50\u679c\ndef synthesize_results(state: AnalysisState) -&gt; AnalysisState:\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    all_results = \"\\n\\n\".join([\n        f\"**{r['task']}**\\n{r['result']}\"\n        for r in state[\"task_results\"]\n    ])\n\n    prompt = f\"\"\"\n    \u7d9c\u5408\u4ee5\u4e0b\u5206\u6790\u7d50\u679c,\u63d0\u4f9b\u6700\u7d42\u7d50\u8ad6:\n\n    \u539f\u59cb\u554f\u984c: {state['query']}\n\n    \u5206\u6790\u904e\u7a0b:\n    {all_results}\n\n    \u8acb\u63d0\u4f9b:\n    1. \u7d9c\u5408\u7d50\u8ad6\n    2. \u95dc\u9375\u767c\u73fe\n    3. \u5efa\u8b70\u884c\u52d5\n    \"\"\"\n\n    final = llm.invoke(prompt).content\n\n    return {\n        \"final_analysis\": final,\n        \"confidence\": 0.9  # \u7c21\u5316\u7684\u4fe1\u5fc3\u5206\u6578\n    }\n\n# \u8def\u7531\u51fd\u6578\ndef should_continue(state: AnalysisState) -&gt; str:\n    if state[\"current_task_index\"] &gt;= len(state[\"sub_tasks\"]):\n        return \"synthesize\"\n    return \"execute\"\n\n# \u5efa\u7acb Agent\ndef create_analysis_agent():\n    workflow = StateGraph(AnalysisState)\n\n    workflow.add_node(\"decompose\", decompose_task)\n    workflow.add_node(\"execute\", execute_task)\n    workflow.add_node(\"synthesize\", synthesize_results)\n\n    workflow.set_entry_point(\"decompose\")\n    workflow.add_edge(\"decompose\", \"execute\")\n\n    workflow.add_conditional_edges(\n        \"execute\",\n        should_continue,\n        {\n            \"execute\": \"execute\",\n            \"synthesize\": \"synthesize\"\n        }\n    )\n\n    workflow.add_edge(\"synthesize\", END)\n\n    return workflow.compile()\n\n# \u4f7f\u7528\u7bc4\u4f8b\nif __name__ == \"__main__\":\n    agent = create_analysis_agent()\n\n    result = agent.invoke({\n        \"query\": \"\u5206\u6790\u570b\u6cf0\u4eba\u58fd 2024 Q1 \u696d\u7e3e\u8868\u73fe\",\n        \"raw_data\": {\n            \"total_premium\": 1500000000,\n            \"new_policies\": 5000,\n            \"customer_satisfaction\": 4.2\n        },\n        \"task_results\": []\n    })\n\n    print(\"=== \u5206\u6790\u7d50\u679c ===\")\n    print(f\"\\n\u6b65\u9a5f\u5206\u89e3: {result['sub_tasks']}\")\n    print(f\"\\n\u6700\u7d42\u5206\u6790:\\n{result['final_analysis']}\")\n</code></pre>"},{"location":"langgraph/implementation/08-multi-step-reasoning/#_2","title":"\u91cd\u9ede\u6574\u7406","text":"<ul> <li>\u4f7f\u7528\u5faa\u74b0\u57f7\u884c\u591a\u500b\u6b65\u9a5f</li> <li>\u7d2f\u7a4d\u4e2d\u9593\u7d50\u679c</li> <li>\u6700\u7d42\u6574\u5408\u6240\u6709\u767c\u73fe</li> <li>\u53ef\u8996\u5316\u63a8\u7406\u904e\u7a0b</li> </ul>"},{"location":"langgraph/implementation/08-multi-step-reasoning/#_3","title":"\u7df4\u7fd2","text":"<p>\u5efa\u7acb\u4e00\u500b\u300c\u5e02\u5834\u8abf\u7814 Agent\u300d,\u5206\u6790\u7af6\u722d\u5c0d\u624b\u4e26\u63d0\u51fa\u7b56\u7565\u5efa\u8b70\u3002</p>"},{"location":"langgraph/implementation/09-tool-calling/","title":"\u5de5\u5177\u8abf\u7528\u6574\u5408","text":"<p>\u672c\u7ae0\u5b78\u7fd2\u5982\u4f55\u8b93 Agent \u4f7f\u7528\u5916\u90e8\u5de5\u5177,\u64f4\u5c55 Agent \u7684\u80fd\u529b\u3002</p>"},{"location":"langgraph/implementation/09-tool-calling/#_2","title":"\u5de5\u5177\u985e\u578b","text":"<ol> <li>\u8cc7\u6599\u5eab\u67e5\u8a62</li> <li>API \u8abf\u7528</li> <li>\u6587\u4ef6\u64cd\u4f5c</li> <li>\u8a08\u7b97\u5de5\u5177</li> </ol>"},{"location":"langgraph/implementation/09-tool-calling/#agent","title":"\u5b8c\u6574\u5be6\u4f5c:\u4fdd\u55ae\u67e5\u8a62 Agent","text":"Python<pre><code>from typing import TypedDict, Annotated, List\nfrom operator import add\nfrom langgraph.graph import StateGraph, END\nfrom langgraph.prebuilt import ToolExecutor\nfrom langchain_openai import ChatOpenAI\nfrom langchain.tools import Tool\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\n# \u5b9a\u7fa9\u5de5\u5177\ndef search_policy(policy_number: str) -&gt; dict:\n    \"\"\"\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"\"\"\n    # \u6a21\u64ec\u8cc7\u6599\u5eab\u67e5\u8a62\n    db = {\n        \"P123456\": {\n            \"holder\": \"\u738b\u5927\u660e\",\n            \"type\": \"\u7d42\u8eab\u58fd\u96aa\",\n            \"amount\": 1000000,\n            \"status\": \"\u6709\u6548\"\n        }\n    }\n    return db.get(policy_number, {\"error\": \"\u67e5\u7121\u6b64\u4fdd\u55ae\"})\n\ndef calculate_premium(age: int, amount: int) -&gt; dict:\n    \"\"\"\u8a08\u7b97\u4fdd\u8cbb\"\"\"\n    base_rate = 0.01\n    age_factor = 1 + (age - 30) * 0.01\n    annual_premium = amount * base_rate * age_factor\n    return {\n        \"annual_premium\": round(annual_premium, 2),\n        \"monthly_premium\": round(annual_premium / 12, 2)\n    }\n\ndef send_notification(customer_id: str, message: str) -&gt; str:\n    \"\"\"\u767c\u9001\u901a\u77e5\"\"\"\n    # \u6a21\u64ec\u767c\u9001\n    return f\"\u2705 \u5df2\u767c\u9001\u901a\u77e5\u7d66\u5ba2\u6236 {customer_id}\"\n\n# \u5efa\u7acb\u5de5\u5177\u5217\u8868\ntools = [\n    Tool(\n        name=\"search_policy\",\n        func=search_policy,\n        description=\"\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\u3002\u8f38\u5165\u4fdd\u55ae\u865f\u78bc\u3002\"\n    ),\n    Tool(\n        name=\"calculate_premium\",\n        func=lambda x: calculate_premium(*map(int, x.split(','))),\n        description=\"\u8a08\u7b97\u4fdd\u8cbb\u3002\u8f38\u5165: age,amount (\u4f8b\u5982: 35,1000000)\"\n    ),\n    Tool(\n        name=\"send_notification\",\n        func=lambda x: send_notification(*x.split(',')),\n        description=\"\u767c\u9001\u901a\u77e5\u3002\u8f38\u5165: customer_id,message\"\n    )\n]\n\ntool_executor = ToolExecutor(tools)\n\n# \u72c0\u614b\u5b9a\u7fa9\nclass ToolAgentState(TypedDict):\n    user_query: str\n    messages: Annotated[List, add]\n    tool_results: Annotated[List[dict], add]\n    final_response: str\n\n# \u7bc0\u9ede:\u6c7a\u5b9a\u4f7f\u7528\u4ec0\u9ebc\u5de5\u5177\ndef agent_node(state: ToolAgentState):\n    llm = ChatOpenAI(model=\"gpt-4\")\n    llm_with_tools = llm.bind_tools(tools)\n\n    messages = [{\"role\": \"user\", \"content\": state[\"user_query\"]}]\n    response = llm_with_tools.invoke(messages)\n\n    return {\"messages\": [response]}\n\n# \u7bc0\u9ede:\u57f7\u884c\u5de5\u5177\ndef tool_node(state: ToolAgentState):\n    last_message = state[\"messages\"][-1]\n\n    if hasattr(last_message, \"tool_calls\") and last_message.tool_calls:\n        results = []\n        for tool_call in last_message.tool_calls:\n            result = tool_executor.invoke(tool_call)\n            results.append({\n                \"tool\": tool_call[\"name\"],\n                \"result\": result\n            })\n\n        return {\"tool_results\": results}\n\n    return {}\n\n# \u7bc0\u9ede:\u751f\u6210\u6700\u7d42\u56de\u61c9\ndef respond_node(state: ToolAgentState):\n    llm = ChatOpenAI(model=\"gpt-4\")\n\n    tool_results_text = \"\\n\".join([\n        f\"\u5de5\u5177 {r['tool']}: {r['result']}\"\n        for r in state[\"tool_results\"]\n    ])\n\n    prompt = f\"\"\"\n    \u4f7f\u7528\u8005\u554f\u984c: {state['user_query']}\n\n    \u5de5\u5177\u57f7\u884c\u7d50\u679c:\n    {tool_results_text}\n\n    \u8acb\u6839\u64da\u7d50\u679c\u56de\u7b54\u4f7f\u7528\u8005\u3002\n    \"\"\"\n\n    response = llm.invoke(prompt).content\n\n    return {\"final_response\": response}\n\n# \u8def\u7531\ndef should_use_tools(state: ToolAgentState) -&gt; str:\n    last_message = state[\"messages\"][-1]\n\n    if hasattr(last_message, \"tool_calls\") and last_message.tool_calls:\n        return \"tools\"\n    return \"respond\"\n\n# \u5efa\u7acb Agent\ndef create_tool_agent():\n    workflow = StateGraph(ToolAgentState)\n\n    workflow.add_node(\"agent\", agent_node)\n    workflow.add_node(\"tools\", tool_node)\n    workflow.add_node(\"respond\", respond_node)\n\n    workflow.set_entry_point(\"agent\")\n\n    workflow.add_conditional_edges(\n        \"agent\",\n        should_use_tools,\n        {\n            \"tools\": \"tools\",\n            \"respond\": \"respond\"\n        }\n    )\n\n    workflow.add_edge(\"tools\", \"respond\")\n    workflow.add_edge(\"respond\", END)\n\n    return workflow.compile()\n\n# \u4f7f\u7528\nif __name__ == \"__main__\":\n    agent = create_tool_agent()\n\n    queries = [\n        \"\u67e5\u8a62\u4fdd\u55ae P123456 \u7684\u8cc7\u8a0a\",\n        \"35 \u6b72\u8cfc\u8cb7 100 \u842c\u4fdd\u984d\u9700\u8981\u591a\u5c11\u4fdd\u8cbb?\",\n    ]\n\n    for query in queries:\n        print(f\"\\n\u7528\u6236: {query}\")\n        result = agent.invoke({\n            \"user_query\": query,\n            \"messages\": [],\n            \"tool_results\": []\n        })\n        print(f\"\u56de\u61c9: {result['final_response']}\")\n</code></pre>"},{"location":"langgraph/implementation/09-tool-calling/#_3","title":"\u91cd\u9ede\u6574\u7406","text":"<ul> <li>\u4f7f\u7528 <code>Tool</code> \u5b9a\u7fa9\u5916\u90e8\u529f\u80fd</li> <li><code>ToolExecutor</code> \u57f7\u884c\u5de5\u5177\u8abf\u7528</li> <li>Agent \u81ea\u52d5\u6c7a\u5b9a\u4f55\u6642\u4f7f\u7528\u5de5\u5177</li> <li>\u6574\u5408\u5de5\u5177\u7d50\u679c\u751f\u6210\u56de\u61c9</li> </ul>"},{"location":"langgraph/implementation/09-tool-calling/#_4","title":"\u7df4\u7fd2","text":"<p>\u5efa\u7acb\u5305\u542b\u81f3\u5c11 5 \u500b\u5be6\u7528\u5de5\u5177\u7684 Agent,\u5982\u5929\u6c23\u67e5\u8a62\u3001\u532f\u7387\u8f49\u63db\u7b49\u3002</p>"},{"location":"langgraph/notebooks/01-basic-agent/","title":"\u7df4\u7fd2 01 - \u57fa\u790e Agent","text":"In\u00a0[1]: Copied! <pre># \u5b89\u88dd\u5fc5\u8981\u5957\u4ef6 (\u7b2c\u4e00\u6b21\u57f7\u884c\u6642\u9700\u8981)\n!uv add langgraph langchain langchain-openai python-dotenv\n</pre> # \u5b89\u88dd\u5fc5\u8981\u5957\u4ef6 (\u7b2c\u4e00\u6b21\u57f7\u884c\u6642\u9700\u8981) !uv add langgraph langchain langchain-openai python-dotenv <pre>Resolved 152 packages in 813ms                                       \n\u2819 Preparing packages... (0/8)                                                   \u280b Preparing packages... (0/0)                                                   \n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \ndistro               ------------------------------     0 B/19.80 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \ndistro               ------------------------------ 16.00 KiB/19.80 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \ndistro               ------------------------------ 16.00 KiB/19.80 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \ndistro               ------------------------------ 16.00 KiB/19.80 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \ndistro               ------------------------------ 16.00 KiB/19.80 KiB\nlangchain-openai     ------------------------------     0 B/80.01 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \ndistro               ------------------------------ 19.80 KiB/19.80 KiB\nlangchain-openai     ------------------------------     0 B/80.01 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \ndistro               ------------------------------ 19.80 KiB/19.80 KiB\nlangchain-openai     ------------------------------     0 B/80.01 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------     0 B/80.01 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------ 13.98 KiB/80.01 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------ 29.98 KiB/80.01 KiB\n\u2819 Preparing packages... (0/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------ 45.98 KiB/80.01 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------ 45.98 KiB/80.01 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------ 61.98 KiB/80.01 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------ 61.98 KiB/80.01 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------ 61.98 KiB/80.01 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/970.70 KiB          \nlangchain-openai     ------------------------------ 61.98 KiB/80.01 KiB\ntiktoken             ------------------------------     0 B/970.70 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/998.72 KiB          \nlangchain-openai     ------------------------------ 61.98 KiB/80.01 KiB\ntiktoken             ------------------------------     0 B/970.70 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/998.72 KiB          \nlangchain-openai     ------------------------------ 61.98 KiB/80.01 KiB\ntiktoken             ------------------------------     0 B/970.70 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/998.72 KiB          \nlangchain-openai     ------------------------------ 61.98 KiB/80.01 KiB\ntiktoken             ------------------------------     0 B/970.70 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/998.72 KiB          \nlangchain-openai     ------------------------------ 61.98 KiB/80.01 KiB\njiter                ------------------------------     0 B/311.14 KiB\ntiktoken             ------------------------------     0 B/970.70 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/998.72 KiB          \ntqdm                 ------------------------------     0 B/76.70 KiB\nlangchain            ------------------------------ 14.89 KiB/91.58 KiB\nregex                ------------------------------     0 B/282.04 KiB\njiter                ------------------------------     0 B/311.14 KiB\ntiktoken             ------------------------------ 16.00 KiB/970.70 KiB\n\u2839 Preparing packages... (1/8)-------------------     0 B/998.72 KiB          \ntqdm                 ------------------------------ 32.00 KiB/76.70 KiB\nlangchain            ------------------------------ 30.89 KiB/91.58 KiB\nregex                ------------------------------ 32.00 KiB/282.04 KiB\njiter                ------------------------------ 31.89 KiB/311.14 KiB\ntiktoken             ------------------------------ 32.00 KiB/970.70 KiB\n\u2839 Preparing packages... (1/8)------------------- 32.00 KiB/998.72 KiB        \nlangchain            ------------------------------ 78.89 KiB/91.58 KiB\nregex                ------------------------------ 80.00 KiB/282.04 KiB\njiter                ------------------------------ 64.00 KiB/311.14 KiB\ntiktoken             ------------------------------ 80.00 KiB/970.70 KiB\n\u2839 Preparing packages... (1/8)------------------- 79.67 KiB/998.72 KiB        \nregex                ------------------------------ 80.00 KiB/282.04 KiB\njiter                ------------------------------ 80.00 KiB/311.14 KiB\ntiktoken             ------------------------------ 96.00 KiB/970.70 KiB\n\u2839 Preparing packages... (1/8)------------------- 95.67 KiB/998.72 KiB        \nregex                ------------------------------ 86.49 KiB/282.04 KiB\njiter                ------------------------------ 80.00 KiB/311.14 KiB\ntiktoken             ------------------------------ 96.00 KiB/970.70 KiB\n\u2839 Preparing packages... (1/8)------------------- 95.67 KiB/998.72 KiB        \nregex                ------------------------------ 192.00 KiB/282.04 KiB\njiter                ------------------------------ 176.00 KiB/311.14 KiB\ntiktoken             ------------------------------ 208.00 KiB/970.70 KiB\n\u2838 Preparing packages... (4/8)------------------- 176.00 KiB/998.72 KiB       \nregex                ------------------------------ 256.00 KiB/282.04 KiB\njiter                ------------------------------ 271.45 KiB/311.14 KiB\ntiktoken             ------------------------------ 304.00 KiB/970.70 KiB\n\u2838 Preparing packages... (4/8)------------------- 288.00 KiB/998.72 KiB       \njiter                ------------------------------ 288.00 KiB/311.14 KiB\ntiktoken             ------------------------------ 336.00 KiB/970.70 KiB\n\u2838 Preparing packages... (4/8)------------------- 304.00 KiB/998.72 KiB       \ntiktoken             ------------------------------ 368.00 KiB/970.70 KiB\n\u2838 Preparing packages... (4/8)------------------- 336.00 KiB/998.72 KiB       \ntiktoken             ------------------------------ 448.00 KiB/970.70 KiB\n\u2838 Preparing packages... (4/8)------------------- 352.00 KiB/998.72 KiB       \ntiktoken             ------------------------------ 608.00 KiB/970.70 KiB\n\u2838 Preparing packages... (4/8)--------------- 512.00 KiB/998.72 KiB       \ntiktoken             ------------------------------ 720.00 KiB/970.70 KiB\n\u2838 Preparing packages... (4/8)30m------------ 608.00 KiB/998.72 KiB       \n\u2838 Preparing packages... (4/8)[30m----------- 640.00 KiB/998.72 KiB       \n\u283c Preparing packages... (7/8)---------- 736.00 KiB/998.72 KiB       \nPrepared 8 packages in 658ms                                                      \nInstalled 8 packages in 20ms                                \n + distro==1.9.0\n + jiter==0.12.0\n + langchain==1.0.5\n + langchain-openai==1.0.2\n + openai==2.8.0\n + regex==2025.11.3\n + tiktoken==0.12.0\n + tqdm==4.67.1\n</pre> In\u00a0[2]: Copied! <pre>import os\nfrom dotenv import load_dotenv\n\n# \u65b9\u6cd5 1: \u5f9e .env \u6a94\u6848\u8f09\u5165\nload_dotenv()\n\n# \u65b9\u6cd5 2: \u76f4\u63a5\u8a2d\u5b9a (\u8acb\u66ff\u63db\u6210\u4f60\u7684 API Key)\n# os.environ['OPENAI_API_KEY'] = 'sk-your-api-key-here'\n\n# \u9a57\u8b49 API Key \u662f\u5426\u8a2d\u5b9a\u6210\u529f\nif os.getenv('OPENAI_API_KEY'):\n    print(\"\u2705 API Key \u8a2d\u5b9a\u6210\u529f!\")\nelse:\n    print(\"\u274c \u8acb\u8a2d\u5b9a OPENAI_API_KEY\")\n</pre> import os from dotenv import load_dotenv  # \u65b9\u6cd5 1: \u5f9e .env \u6a94\u6848\u8f09\u5165 load_dotenv()  # \u65b9\u6cd5 2: \u76f4\u63a5\u8a2d\u5b9a (\u8acb\u66ff\u63db\u6210\u4f60\u7684 API Key) # os.environ['OPENAI_API_KEY'] = 'sk-your-api-key-here'  # \u9a57\u8b49 API Key \u662f\u5426\u8a2d\u5b9a\u6210\u529f if os.getenv('OPENAI_API_KEY'):     print(\"\u2705 API Key \u8a2d\u5b9a\u6210\u529f!\") else:     print(\"\u274c \u8acb\u8a2d\u5b9a OPENAI_API_KEY\") <pre>\u2705 API Key \u8a2d\u5b9a\u6210\u529f!\n</pre> In\u00a0[3]: Copied! <pre>from typing import TypedDict\nfrom langgraph.graph import StateGraph, END\nfrom langchain_openai import ChatOpenAI\n\nprint(\"\u2705 \u6240\u6709\u6a21\u7d44\u5c0e\u5165\u6210\u529f!\")\n</pre> from typing import TypedDict from langgraph.graph import StateGraph, END from langchain_openai import ChatOpenAI  print(\"\u2705 \u6240\u6709\u6a21\u7d44\u5c0e\u5165\u6210\u529f!\") <pre>\u2705 \u6240\u6709\u6a21\u7d44\u5c0e\u5165\u6210\u529f!\n</pre> In\u00a0[4]: Copied! <pre>class GreetingState(TypedDict):\n    \"\"\"\n    \u5b9a\u7fa9 Agent \u7684\u72c0\u614b\u7d50\u69cb\n    \n    \u6b04\u4f4d\u8aaa\u660e:\n    - user_name: \u4f7f\u7528\u8005\u540d\u7a31 (\u8f38\u5165)\n    - greeting: \u751f\u6210\u7684\u554f\u5019\u8a9e (\u8f38\u51fa)\n    \"\"\"\n    user_name: str\n    greeting: str\n\nprint(\"\u2705 State \u5b9a\u7fa9\u5b8c\u6210\")\nprint(f\"State \u6b04\u4f4d: {GreetingState.__annotations__}\")\n</pre> class GreetingState(TypedDict):     \"\"\"     \u5b9a\u7fa9 Agent \u7684\u72c0\u614b\u7d50\u69cb          \u6b04\u4f4d\u8aaa\u660e:     - user_name: \u4f7f\u7528\u8005\u540d\u7a31 (\u8f38\u5165)     - greeting: \u751f\u6210\u7684\u554f\u5019\u8a9e (\u8f38\u51fa)     \"\"\"     user_name: str     greeting: str  print(\"\u2705 State \u5b9a\u7fa9\u5b8c\u6210\") print(f\"State \u6b04\u4f4d: {GreetingState.__annotations__}\") <pre>\u2705 State \u5b9a\u7fa9\u5b8c\u6210\nState \u6b04\u4f4d: {'user_name': &lt;class 'str'&gt;, 'greeting': &lt;class 'str'&gt;}\n</pre> In\u00a0[5]: Copied! <pre>def generate_greeting(state: GreetingState) -&gt; GreetingState:\n    \"\"\"\n    \u751f\u6210\u500b\u6027\u5316\u554f\u5019\u8a9e\u7684\u7bc0\u9ede\n    \n    Args:\n        state: \u7576\u524d\u72c0\u614b,\u5305\u542b user_name\n    \n    Returns:\n        \u66f4\u65b0\u5f8c\u7684\u72c0\u614b,\u5305\u542b\u751f\u6210\u7684 greeting\n    \"\"\"\n    # \u5efa\u7acb LLM \u5be6\u4f8b\n    llm = ChatOpenAI(\n        model=\"gpt-4\",\n        temperature=0.7  # \u63a7\u5236\u5275\u610f\u7a0b\u5ea6\n    )\n    \n    # \u5efa\u7acb\u63d0\u793a\u8a5e\n    prompt = f\"\u7528\u53cb\u5584\u3001\u5c08\u696d\u7684\u65b9\u5f0f\u5411 {state['user_name']} \u6253\u62db\u547c\u3002\u4f7f\u7528\u7e41\u9ad4\u4e2d\u6587,1-2 \u53e5\u8a71\u5373\u53ef\u3002\"\n    \n    # \u547c\u53eb LLM\n    response = llm.invoke(prompt)\n    \n    # \u8fd4\u56de\u66f4\u65b0\u7684\u72c0\u614b\n    return {\n        \"greeting\": response.content\n    }\n\nprint(\"\u2705 \u7bc0\u9ede\u51fd\u6578\u5b9a\u7fa9\u5b8c\u6210\")\n</pre> def generate_greeting(state: GreetingState) -&gt; GreetingState:     \"\"\"     \u751f\u6210\u500b\u6027\u5316\u554f\u5019\u8a9e\u7684\u7bc0\u9ede          Args:         state: \u7576\u524d\u72c0\u614b,\u5305\u542b user_name          Returns:         \u66f4\u65b0\u5f8c\u7684\u72c0\u614b,\u5305\u542b\u751f\u6210\u7684 greeting     \"\"\"     # \u5efa\u7acb LLM \u5be6\u4f8b     llm = ChatOpenAI(         model=\"gpt-4\",         temperature=0.7  # \u63a7\u5236\u5275\u610f\u7a0b\u5ea6     )          # \u5efa\u7acb\u63d0\u793a\u8a5e     prompt = f\"\u7528\u53cb\u5584\u3001\u5c08\u696d\u7684\u65b9\u5f0f\u5411 {state['user_name']} \u6253\u62db\u547c\u3002\u4f7f\u7528\u7e41\u9ad4\u4e2d\u6587,1-2 \u53e5\u8a71\u5373\u53ef\u3002\"          # \u547c\u53eb LLM     response = llm.invoke(prompt)          # \u8fd4\u56de\u66f4\u65b0\u7684\u72c0\u614b     return {         \"greeting\": response.content     }  print(\"\u2705 \u7bc0\u9ede\u51fd\u6578\u5b9a\u7fa9\u5b8c\u6210\") <pre>\u2705 \u7bc0\u9ede\u51fd\u6578\u5b9a\u7fa9\u5b8c\u6210\n</pre> In\u00a0[6]: Copied! <pre># 1. \u5efa\u7acb StateGraph \u5be6\u4f8b\nworkflow = StateGraph(GreetingState)\n\n# 2. \u6dfb\u52a0\u7bc0\u9ede\nworkflow.add_node(\n    \"greet\",              # \u7bc0\u9ede\u540d\u7a31\n    generate_greeting     # \u7bc0\u9ede\u51fd\u6578\n)\n\n# 3. \u8a2d\u5b9a\u5165\u53e3\u9ede (\u5f9e\u54ea\u500b\u7bc0\u9ede\u958b\u59cb)\nworkflow.set_entry_point(\"greet\")\n\n# 4. \u6dfb\u52a0\u908a (\u5b9a\u7fa9\u6d41\u7a0b)\nworkflow.add_edge(\n    \"greet\",   # \u5f9e greet \u7bc0\u9ede\n    END        # \u5230\u7d50\u675f\n)\n\n# 5. \u7de8\u8b6f\u6210\u53ef\u57f7\u884c\u7684 Agent\ngreeting_agent = workflow.compile()\n\nprint(\"\u2705 Agent \u5efa\u7acb\u5b8c\u6210!\")\n</pre> # 1. \u5efa\u7acb StateGraph \u5be6\u4f8b workflow = StateGraph(GreetingState)  # 2. \u6dfb\u52a0\u7bc0\u9ede workflow.add_node(     \"greet\",              # \u7bc0\u9ede\u540d\u7a31     generate_greeting     # \u7bc0\u9ede\u51fd\u6578 )  # 3. \u8a2d\u5b9a\u5165\u53e3\u9ede (\u5f9e\u54ea\u500b\u7bc0\u9ede\u958b\u59cb) workflow.set_entry_point(\"greet\")  # 4. \u6dfb\u52a0\u908a (\u5b9a\u7fa9\u6d41\u7a0b) workflow.add_edge(     \"greet\",   # \u5f9e greet \u7bc0\u9ede     END        # \u5230\u7d50\u675f )  # 5. \u7de8\u8b6f\u6210\u53ef\u57f7\u884c\u7684 Agent greeting_agent = workflow.compile()  print(\"\u2705 Agent \u5efa\u7acb\u5b8c\u6210!\") <pre>\u2705 Agent \u5efa\u7acb\u5b8c\u6210!\n</pre> In\u00a0[7]: Copied! <pre># \u6e96\u5099\u8f38\u5165\u72c0\u614b\ninput_state = {\n    \"user_name\": \"\u5c0f\u660e\"\n}\n\n# \u57f7\u884c Agent\nresult = greeting_agent.invoke(input_state)\n\n# \u986f\u793a\u7d50\u679c\nprint(\"\\n\" + \"=\"*50)\nprint(f\"\u4f7f\u7528\u8005: {result['user_name']}\")\nprint(f\"\u554f\u5019\u8a9e: {result['greeting']}\")\nprint(\"=\"*50)\n</pre> # \u6e96\u5099\u8f38\u5165\u72c0\u614b input_state = {     \"user_name\": \"\u5c0f\u660e\" }  # \u57f7\u884c Agent result = greeting_agent.invoke(input_state)  # \u986f\u793a\u7d50\u679c print(\"\\n\" + \"=\"*50) print(f\"\u4f7f\u7528\u8005: {result['user_name']}\") print(f\"\u554f\u5019\u8a9e: {result['greeting']}\") print(\"=\"*50) <pre>\n==================================================\n\u4f7f\u7528\u8005: \u5c0f\u660e\n\u554f\u5019\u8a9e: \u60a8\u597d\uff0c\u5c0f\u660e\u5148\u751f\uff0c\u6211\u5011\u5f88\u9ad8\u8208\u8207\u60a8\u4ea4\u6d41\uff0c\u8acb\u554f\u6709\u4ec0\u9ebc\u6211\u5011\u53ef\u4ee5\u5354\u52a9\u60a8\u7684\u5462\uff1f\n==================================================\n</pre> In\u00a0[8]: Copied! <pre>from IPython.display import Image, display\n\ntry:\n    # \u751f\u6210 Mermaid \u5716\n    graph_image = greeting_agent.get_graph().draw_mermaid_png()\n    \n    # \u986f\u793a\u5716\u7247\n    display(Image(graph_image))\n    \n    print(\"\u2705 \u6d41\u7a0b\u5716\u751f\u6210\u6210\u529f\")\nexcept Exception as e:\n    print(f\"\u26a0\ufe0f \u6d41\u7a0b\u5716\u751f\u6210\u5931\u6557: {e}\")\n    print(\"\u63d0\u793a: \u9019\u662f\u53ef\u9078\u529f\u80fd,\u4e0d\u5f71\u97ff Agent \u57f7\u884c\")\n</pre> from IPython.display import Image, display  try:     # \u751f\u6210 Mermaid \u5716     graph_image = greeting_agent.get_graph().draw_mermaid_png()          # \u986f\u793a\u5716\u7247     display(Image(graph_image))          print(\"\u2705 \u6d41\u7a0b\u5716\u751f\u6210\u6210\u529f\") except Exception as e:     print(f\"\u26a0\ufe0f \u6d41\u7a0b\u5716\u751f\u6210\u5931\u6557: {e}\")     print(\"\u63d0\u793a: \u9019\u662f\u53ef\u9078\u529f\u80fd,\u4e0d\u5f71\u97ff Agent \u57f7\u884c\") <pre>\u2705 \u6d41\u7a0b\u5716\u751f\u6210\u6210\u529f\n</pre> In\u00a0[9]: Copied! <pre>class MultiStepState(TypedDict):\n    \"\"\"\u591a\u6b65\u9a5f Agent \u7684\u72c0\u614b\"\"\"\n    user_input: str       # \u4f7f\u7528\u8005\u8f38\u5165\n    analysis: str         # \u5206\u6790\u7d50\u679c\n    response: str         # \u6700\u7d42\u56de\u61c9\n    sentiment: str        # \u60c5\u611f\u5206\u6790\u7d50\u679c\n</pre> class MultiStepState(TypedDict):     \"\"\"\u591a\u6b65\u9a5f Agent \u7684\u72c0\u614b\"\"\"     user_input: str       # \u4f7f\u7528\u8005\u8f38\u5165     analysis: str         # \u5206\u6790\u7d50\u679c     response: str         # \u6700\u7d42\u56de\u61c9     sentiment: str        # \u60c5\u611f\u5206\u6790\u7d50\u679c In\u00a0[10]: Copied! <pre>def analyze_input(state: MultiStepState) -&gt; MultiStepState:\n    \"\"\"\u5206\u6790\u4f7f\u7528\u8005\u8f38\u5165\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n    \n    prompt = f\"\u7c21\u77ed\u5206\u6790\u9019\u6bb5\u6587\u5b57\u7684\u4e3b\u984c: {state['user_input']}\"\n    analysis = llm.invoke(prompt).content\n    \n    return {\"analysis\": analysis}\n\n\ndef detect_sentiment(state: MultiStepState) -&gt; MultiStepState:\n    \"\"\"\u5075\u6e2c\u60c5\u611f\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n    \n    prompt = f\"\u5224\u65b7\u9019\u6bb5\u6587\u5b57\u7684\u60c5\u611f (\u6b63\u9762/\u8ca0\u9762/\u4e2d\u6027): {state['user_input']}\"\n    sentiment = llm.invoke(prompt).content\n    \n    return {\"sentiment\": sentiment}\n\n\ndef generate_response(state: MultiStepState) -&gt; MultiStepState:\n    \"\"\"\u751f\u6210\u56de\u61c9\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n    \n    prompt = f\"\"\"\n    \u6839\u64da\u4ee5\u4e0b\u8cc7\u8a0a\u751f\u6210\u9069\u7576\u7684\u56de\u61c9:\n    \n    \u4f7f\u7528\u8005\u8f38\u5165: {state['user_input']}\n    \u4e3b\u984c\u5206\u6790: {state['analysis']}\n    \u60c5\u611f: {state['sentiment']}\n    \n    \u8acb\u7528\u7e41\u9ad4\u4e2d\u6587\u56de\u61c9,\u4fdd\u6301\u53cb\u5584\u548c\u5c08\u696d\u3002\n    \"\"\"\n    \n    response = llm.invoke(prompt).content\n    \n    return {\"response\": response}\n\nprint(\"\u2705 \u6240\u6709\u7bc0\u9ede\u5b9a\u7fa9\u5b8c\u6210\")\n</pre> def analyze_input(state: MultiStepState) -&gt; MultiStepState:     \"\"\"\u5206\u6790\u4f7f\u7528\u8005\u8f38\u5165\"\"\"     llm = ChatOpenAI(model=\"gpt-4\")          prompt = f\"\u7c21\u77ed\u5206\u6790\u9019\u6bb5\u6587\u5b57\u7684\u4e3b\u984c: {state['user_input']}\"     analysis = llm.invoke(prompt).content          return {\"analysis\": analysis}   def detect_sentiment(state: MultiStepState) -&gt; MultiStepState:     \"\"\"\u5075\u6e2c\u60c5\u611f\"\"\"     llm = ChatOpenAI(model=\"gpt-4\")          prompt = f\"\u5224\u65b7\u9019\u6bb5\u6587\u5b57\u7684\u60c5\u611f (\u6b63\u9762/\u8ca0\u9762/\u4e2d\u6027): {state['user_input']}\"     sentiment = llm.invoke(prompt).content          return {\"sentiment\": sentiment}   def generate_response(state: MultiStepState) -&gt; MultiStepState:     \"\"\"\u751f\u6210\u56de\u61c9\"\"\"     llm = ChatOpenAI(model=\"gpt-4\")          prompt = f\"\"\"     \u6839\u64da\u4ee5\u4e0b\u8cc7\u8a0a\u751f\u6210\u9069\u7576\u7684\u56de\u61c9:          \u4f7f\u7528\u8005\u8f38\u5165: {state['user_input']}     \u4e3b\u984c\u5206\u6790: {state['analysis']}     \u60c5\u611f: {state['sentiment']}          \u8acb\u7528\u7e41\u9ad4\u4e2d\u6587\u56de\u61c9,\u4fdd\u6301\u53cb\u5584\u548c\u5c08\u696d\u3002     \"\"\"          response = llm.invoke(prompt).content          return {\"response\": response}  print(\"\u2705 \u6240\u6709\u7bc0\u9ede\u5b9a\u7fa9\u5b8c\u6210\") <pre>\u2705 \u6240\u6709\u7bc0\u9ede\u5b9a\u7fa9\u5b8c\u6210\n</pre> In\u00a0[11]: Copied! <pre># \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\nmulti_workflow = StateGraph(MultiStepState)\n\n# \u6dfb\u52a0\u6240\u6709\u7bc0\u9ede\nmulti_workflow.add_node(\"analyze\", analyze_input)\nmulti_workflow.add_node(\"sentiment\", detect_sentiment)\nmulti_workflow.add_node(\"respond\", generate_response)\n\n# \u8a2d\u5b9a\u6d41\u7a0b\nmulti_workflow.set_entry_point(\"analyze\")\nmulti_workflow.add_edge(\"analyze\", \"sentiment\")    # analyze -&gt; sentiment\nmulti_workflow.add_edge(\"sentiment\", \"respond\")    # sentiment -&gt; respond\nmulti_workflow.add_edge(\"respond\", END)            # respond -&gt; END\n\n# \u7de8\u8b6f\nmulti_agent = multi_workflow.compile()\n\nprint(\"\u2705 \u591a\u7bc0\u9ede Agent \u5efa\u7acb\u5b8c\u6210!\")\n</pre> # \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b multi_workflow = StateGraph(MultiStepState)  # \u6dfb\u52a0\u6240\u6709\u7bc0\u9ede multi_workflow.add_node(\"analyze\", analyze_input) multi_workflow.add_node(\"sentiment\", detect_sentiment) multi_workflow.add_node(\"respond\", generate_response)  # \u8a2d\u5b9a\u6d41\u7a0b multi_workflow.set_entry_point(\"analyze\") multi_workflow.add_edge(\"analyze\", \"sentiment\")    # analyze -&gt; sentiment multi_workflow.add_edge(\"sentiment\", \"respond\")    # sentiment -&gt; respond multi_workflow.add_edge(\"respond\", END)            # respond -&gt; END  # \u7de8\u8b6f multi_agent = multi_workflow.compile()  print(\"\u2705 \u591a\u7bc0\u9ede Agent \u5efa\u7acb\u5b8c\u6210!\") <pre>\u2705 \u591a\u7bc0\u9ede Agent \u5efa\u7acb\u5b8c\u6210!\n</pre> In\u00a0[12]: Copied! <pre># \u57f7\u884c Agent\nresult = multi_agent.invoke({\n    \"user_input\": \"\u4eca\u5929\u5929\u6c23\u771f\u597d,\u5f88\u9069\u5408\u51fa\u9580\u8e0f\u9752!\"\n})\n\n# \u986f\u793a\u7d50\u679c\nprint(\"\\n\" + \"=\"*60)\nprint(f\"\ud83d\udce5 \u4f7f\u7528\u8005\u8f38\u5165: {result['user_input']}\")\nprint(f\"\\n\ud83d\udcca \u4e3b\u984c\u5206\u6790: {result['analysis']}\")\nprint(f\"\\n\ud83d\ude0a \u60c5\u611f\u5224\u65b7: {result['sentiment']}\")\nprint(f\"\\n\ud83d\udcac \u7cfb\u7d71\u56de\u61c9: {result['response']}\")\nprint(\"=\"*60)\n</pre> # \u57f7\u884c Agent result = multi_agent.invoke({     \"user_input\": \"\u4eca\u5929\u5929\u6c23\u771f\u597d,\u5f88\u9069\u5408\u51fa\u9580\u8e0f\u9752!\" })  # \u986f\u793a\u7d50\u679c print(\"\\n\" + \"=\"*60) print(f\"\ud83d\udce5 \u4f7f\u7528\u8005\u8f38\u5165: {result['user_input']}\") print(f\"\\n\ud83d\udcca \u4e3b\u984c\u5206\u6790: {result['analysis']}\") print(f\"\\n\ud83d\ude0a \u60c5\u611f\u5224\u65b7: {result['sentiment']}\") print(f\"\\n\ud83d\udcac \u7cfb\u7d71\u56de\u61c9: {result['response']}\") print(\"=\"*60) <pre>\n============================================================\n\ud83d\udce5 \u4f7f\u7528\u8005\u8f38\u5165: \u4eca\u5929\u5929\u6c23\u771f\u597d,\u5f88\u9069\u5408\u51fa\u9580\u8e0f\u9752!\n\n\ud83d\udcca \u4e3b\u984c\u5206\u6790: \u9019\u6bb5\u6587\u5b57\u7684\u4e3b\u984c\u662f\"\u512a\u826f\u7684\u5929\u6c23\u8207\u6236\u5916\u6d3b\u52d5\"\u3002\u4e3b\u8981\u8b1b\u8ff0\u4e86\u7576\u5929\u7684\u5929\u6c23\u72c0\u6cc1\u4e26\u63a8\u85a6\u51fa\u9580\u53c3\u8207\u6236\u5916\u6d3b\u52d5\u5982\u8e0f\u9752\u3002\n\n\ud83d\ude0a \u60c5\u611f\u5224\u65b7: \u6b63\u9762\n\n\ud83d\udcac \u7cfb\u7d71\u56de\u61c9: \u56de\u61c9: \u78ba\u5be6\u5982\u6b64\uff0c\u7576\u5929\u6c23\u5982\u6b64\u6674\u6717\uff0c\u51fa\u9580\u8e0f\u9752\u7684\u78ba\u662f\u4e0d\u932f\u7684\u9078\u64c7\u3002\u5e0c\u671b\u60a8\u80fd\u5145\u5206\u4eab\u53d7\u5927\u81ea\u7136\u7684\u512a\u7f8e\u98a8\u5149\uff0c\u5728\u6109\u5feb\u7684\u6c1b\u570d\u4e2d\u5ea6\u904e\u4e00\u500b\u8c50\u5bcc\u7684\u65e5\u5b50\u3002\n============================================================\n</pre> In\u00a0[13]: Copied! <pre># \u4f60\u7684\u7a0b\u5f0f\u78bc\nclass PersonalizedState(TypedDict):\n    user_name: str\n    user_age: int\n    greeting: str\n\ndef personalized_greeting(state: PersonalizedState) -&gt; PersonalizedState:\n    # TODO: \u5be6\u4f5c\u9019\u500b\u51fd\u6578\n    # \u63d0\u793a: \u4f7f\u7528 state['user_age'] \u4f86\u8abf\u6574\u554f\u5019\u8a9e\u98a8\u683c\n    pass\n\n# TODO: \u5efa\u7acb\u548c\u57f7\u884c Agent\n</pre> # \u4f60\u7684\u7a0b\u5f0f\u78bc class PersonalizedState(TypedDict):     user_name: str     user_age: int     greeting: str  def personalized_greeting(state: PersonalizedState) -&gt; PersonalizedState:     # TODO: \u5be6\u4f5c\u9019\u500b\u51fd\u6578     # \u63d0\u793a: \u4f7f\u7528 state['user_age'] \u4f86\u8abf\u6574\u554f\u5019\u8a9e\u98a8\u683c     pass  # TODO: \u5efa\u7acb\u548c\u57f7\u884c Agent In\u00a0[14]: Copied! <pre># \u4f60\u7684\u7a0b\u5f0f\u78bc\nclass AnalysisState(TypedDict):\n    # TODO: \u5b9a\u7fa9\u72c0\u614b\u6b04\u4f4d\n    pass\n\n# TODO: \u5b9a\u7fa9 4 \u500b\u7bc0\u9ede\u51fd\u6578\n\n# TODO: \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b\n\n# TODO: \u57f7\u884c\u4e26\u6e2c\u8a66\n</pre> # \u4f60\u7684\u7a0b\u5f0f\u78bc class AnalysisState(TypedDict):     # TODO: \u5b9a\u7fa9\u72c0\u614b\u6b04\u4f4d     pass  # TODO: \u5b9a\u7fa9 4 \u500b\u7bc0\u9ede\u51fd\u6578  # TODO: \u5efa\u7acb\u5de5\u4f5c\u6d41\u7a0b  # TODO: \u57f7\u884c\u4e26\u6e2c\u8a66 In\u00a0[15]: Copied! <pre># \u7df4\u7fd2 1 \u89e3\u7b54\ndef personalized_greeting_solution(state: PersonalizedState) -&gt; PersonalizedState:\n    \"\"\"\u6839\u64da\u5e74\u9f61\u7522\u751f\u500b\u6027\u5316\u554f\u5019\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n    \n    # \u6839\u64da\u5e74\u9f61\u6c7a\u5b9a\u98a8\u683c\n    if state['user_age'] &lt; 18:\n        style = \"\u8f15\u9b06\u6d3b\u6f51,\u9069\u5408\u5e74\u8f15\u4eba\"\n    elif state['user_age'] &lt; 40:\n        style = \"\u53cb\u5584\u89aa\u5207,\u9069\u5408\u6210\u5e74\u4eba\"\n    else:\n        style = \"\u6b63\u5f0f\u6709\u79ae,\u9069\u5408\u9577\u8f29\"\n    \n    prompt = f\"\u7528 {style} \u7684\u65b9\u5f0f\u5411 {state['user_name']} ({state['user_age']}\u6b72) \u6253\u62db\u547c\u3002\u7528\u7e41\u9ad4\u4e2d\u6587\u3002\"\n    \n    response = llm.invoke(prompt)\n    \n    return {\"greeting\": response.content}\n\n# \u5efa\u7acb Agent\npersonalized_workflow = StateGraph(PersonalizedState)\npersonalized_workflow.add_node(\"greet\", personalized_greeting_solution)\npersonalized_workflow.set_entry_point(\"greet\")\npersonalized_workflow.add_edge(\"greet\", END)\npersonalized_agent = personalized_workflow.compile()\n\n# \u6e2c\u8a66\u4e0d\u540c\u5e74\u9f61\nfor age in [15, 30, 60]:\n    result = personalized_agent.invoke({\n        \"user_name\": \"\u6e2c\u8a66\u7528\u6236\",\n        \"user_age\": age\n    })\n    print(f\"\\n\u5e74\u9f61 {age}: {result['greeting']}\")\n</pre> # \u7df4\u7fd2 1 \u89e3\u7b54 def personalized_greeting_solution(state: PersonalizedState) -&gt; PersonalizedState:     \"\"\"\u6839\u64da\u5e74\u9f61\u7522\u751f\u500b\u6027\u5316\u554f\u5019\"\"\"     llm = ChatOpenAI(model=\"gpt-4\")          # \u6839\u64da\u5e74\u9f61\u6c7a\u5b9a\u98a8\u683c     if state['user_age'] &lt; 18:         style = \"\u8f15\u9b06\u6d3b\u6f51,\u9069\u5408\u5e74\u8f15\u4eba\"     elif state['user_age'] &lt; 40:         style = \"\u53cb\u5584\u89aa\u5207,\u9069\u5408\u6210\u5e74\u4eba\"     else:         style = \"\u6b63\u5f0f\u6709\u79ae,\u9069\u5408\u9577\u8f29\"          prompt = f\"\u7528 {style} \u7684\u65b9\u5f0f\u5411 {state['user_name']} ({state['user_age']}\u6b72) \u6253\u62db\u547c\u3002\u7528\u7e41\u9ad4\u4e2d\u6587\u3002\"          response = llm.invoke(prompt)          return {\"greeting\": response.content}  # \u5efa\u7acb Agent personalized_workflow = StateGraph(PersonalizedState) personalized_workflow.add_node(\"greet\", personalized_greeting_solution) personalized_workflow.set_entry_point(\"greet\") personalized_workflow.add_edge(\"greet\", END) personalized_agent = personalized_workflow.compile()  # \u6e2c\u8a66\u4e0d\u540c\u5e74\u9f61 for age in [15, 30, 60]:     result = personalized_agent.invoke({         \"user_name\": \"\u6e2c\u8a66\u7528\u6236\",         \"user_age\": age     })     print(f\"\\n\u5e74\u9f61 {age}: {result['greeting']}\") <pre>\n\u5e74\u9f61 15: \u55e8\uff01\u5c0f\u5925\u4f34\uff0c\u4f60\u597d\uff01\u6b61\u8fce\u4f86\u5230\u6211\u5011\u7684\u6e2c\u8a66\u5340\uff0c\u4f60\u6e96\u5099\u597d\u958b\u59cb\u63a2\u7d22\u9019\u500b\u5145\u6eff\u6a02\u8da3\u7684\u5730\u65b9\u4e86\u55ce\uff1f\u8b93\u6211\u5011\u4e00\u8d77\u8e0f\u4e0a\u9019\u8d9f\u9a5a\u5947\u7684\u65c5\u7a0b\u5427\uff01\u8a18\u5f97\uff0c\u5982\u679c\u6709\u4efb\u4f55\u7591\u554f\u6216\u9700\u8981\u5e6b\u52a9\uff0c\u96a8\u6642\u627e\u6211\uff0c\u6211\u4e00\u76f4\u90fd\u5728\uff01\u8b93\u6211\u5011\u4e00\u8d77\u73a9\u5f97\u958b\u5fc3\u3001\u5b78\u7fd2\u5f97\u958b\u5fc3\uff0c\u958b\u59cb\u5427\uff01\n\n\u5e74\u9f61 30: \u60a8\u597d\uff01\u6b61\u8fce\u60a8\u9032\u5165\u6211\u5011\u7684\u7cfb\u7d71\uff0c\u6709\u4ec0\u9ebc\u9700\u8981\u6211\u70ba\u60a8\u670d\u52d9\u7684\u5730\u65b9\u55ce\uff1f\u8b93\u6211\u5011\u651c\u624b\u5171\u5275\u4e00\u500b\u7f8e\u597d\u7684\u9ad4\u9a57\u65c5\u7a0b\u5427\uff01\n\n\u5e74\u9f61 60: \u5c0a\u656c\u7684\u6e2c\u8a66\u7528\u6236\u5148\u751f/\u5973\u58eb\uff0c\u60a8\u597d\uff01\u611f\u8b1d\u60a8\u62bd\u51fa\u5bf6\u8cb4\u7684\u6642\u9593\u8207\u6211\u5011\u6e9d\u901a\u3002\u795d\u60a8\u5929\u5929\u90fd\u6709\u597d\u5fc3\u60c5\uff0c\u8eab\u9ad4\u5065\u5eb7\uff0c\u842c\u4e8b\u5982\u610f\u3002\n</pre>"},{"location":"langgraph/notebooks/01-basic-agent/#01-langgraph-agent","title":"01 - \u5efa\u7acb\u4f60\u7684\u7b2c\u4e00\u500b LangGraph Agent\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<p>\u5728\u9019\u500b notebook \u4e2d,\u4f60\u5c07\u5b78\u6703:</p> <ul> <li>\u2705 \u5b89\u88dd\u548c\u8a2d\u5b9a LangGraph \u74b0\u5883</li> <li>\u2705 \u7406\u89e3 State\u3001Node\u3001Edge \u7684\u57fa\u672c\u6982\u5ff5</li> <li>\u2705 \u5efa\u7acb\u4e00\u500b\u7c21\u55ae\u4f46\u5b8c\u6574\u7684 LangGraph Agent</li> <li>\u2705 \u57f7\u884c Agent \u4e26\u67e5\u770b\u7d50\u679c</li> <li>\u2705 \u8996\u89ba\u5316 Agent \u7684\u5de5\u4f5c\u6d41\u7a0b</li> </ul>"},{"location":"langgraph/notebooks/01-basic-agent/#30","title":"\u23f0 \u9810\u8a08\u6642\u9593: 30 \u5206\u9418\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#part-1","title":"Part 1: \u74b0\u5883\u8a2d\u5b9a\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/","title":"\ud83d\udce6 \u5b89\u88dd\u5fc5\u8981\u5957\u4ef6\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#api-key","title":"\ud83d\udd11 \u8a2d\u5b9a API Key\u00b6","text":"<p>\u5efa\u7acb <code>.env</code> \u6a94\u6848\u6216\u76f4\u63a5\u5728\u9019\u88e1\u8a2d\u5b9a:</p>"},{"location":"langgraph/notebooks/01-basic-agent/","title":"\ud83d\udcda \u5c0e\u5165\u5fc5\u8981\u6a21\u7d44\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#part-2","title":"Part 2: \u7406\u89e3\u6838\u5fc3\u6982\u5ff5\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#langgraph","title":"\ud83c\udfaf LangGraph \u4e09\u5927\u6838\u5fc3\u7d44\u4ef6\u00b6","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  State (\u72c0\u614b)                           \u2502\n\u2502  - \u8cc7\u6599\u7684\u5bb9\u5668                           \u2502\n\u2502  - \u5728\u7bc0\u9ede\u9593\u50b3\u905e                         \u2502\n\u2502  - \u4f7f\u7528 TypedDict \u5b9a\u7fa9                  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Node (\u7bc0\u9ede)                            \u2502\n\u2502  - \u57f7\u884c\u5177\u9ad4\u908f\u8f2f\u7684\u51fd\u6578                   \u2502\n\u2502  - \u63a5\u6536 State,\u8fd4\u56de\u66f4\u65b0\u7684 State         \u2502\n\u2502  - \u53ef\u4ee5\u547c\u53eb LLM\u3001\u8655\u7406\u8cc7\u6599\u7b49             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n           \u2193\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Edge (\u908a)                              \u2502\n\u2502  - \u9023\u63a5\u7bc0\u9ede\u7684\u8def\u5f91                       \u2502\n\u2502  - \u5b9a\u7fa9\u57f7\u884c\u9806\u5e8f                         \u2502\n\u2502  - \u53ef\u4ee5\u662f\u56fa\u5b9a\u6216\u689d\u4ef6\u5f0f\u7684                 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"langgraph/notebooks/01-basic-agent/#part-3-agent-","title":"Part 3: \u5efa\u7acb\u7b2c\u4e00\u500b Agent - \u554f\u5019\u6a5f\u5668\u4eba\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#step-1-state","title":"Step 1: \u5b9a\u7fa9 State (\u72c0\u614b)\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#step-2-node","title":"Step 2: \u5b9a\u7fa9 Node (\u7bc0\u9ede\u51fd\u6578)\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#step-3-graph","title":"Step 3: \u5efa\u7acb Graph (\u5de5\u4f5c\u6d41\u7a0b)\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#step-4-agent","title":"Step 4: \u57f7\u884c Agent\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#part-4-agent","title":"Part 4: \u8996\u89ba\u5316 Agent \u6d41\u7a0b\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/","title":"\u751f\u6210\u6d41\u7a0b\u5716\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#part-5-agent","title":"Part 5: \u9032\u968e\u7bc4\u4f8b - \u591a\u7bc0\u9ede Agent\u00b6","text":"<p>\u8b93\u6211\u5011\u5efa\u7acb\u4e00\u500b\u7a0d\u5fae\u8907\u96dc\u7684 Agent,\u5305\u542b\u591a\u500b\u8655\u7406\u6b65\u9a5f\u3002</p>"},{"location":"langgraph/notebooks/01-basic-agent/#state","title":"\u5b9a\u7fa9\u591a\u6b65\u9a5f State\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/","title":"\u5b9a\u7fa9\u591a\u500b\u7bc0\u9ede\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/","title":"\u5efa\u7acb\u591a\u7bc0\u9ede\u5de5\u4f5c\u6d41\u7a0b\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#agent","title":"\u57f7\u884c\u591a\u7bc0\u9ede Agent\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/","title":"\ud83c\udfaf \u7df4\u7fd2\u984c\u00b6","text":"<p>\u73fe\u5728\u8f2a\u5230\u4f60\u4e86!\u5617\u8a66\u5b8c\u6210\u4ee5\u4e0b\u7df4\u7fd2:</p>"},{"location":"langgraph/notebooks/01-basic-agent/#1-agent","title":"\u7df4\u7fd2 1: \u500b\u6027\u5316\u554f\u5019 Agent\u00b6","text":"<p>\u4fee\u6539\u7b2c\u4e00\u500b Agent,\u6dfb\u52a0:</p> <ul> <li>\u4f7f\u7528\u8005\u7684\u5e74\u9f61</li> <li>\u6839\u64da\u5e74\u9f61\u8abf\u6574\u554f\u5019\u8a9e\u7684\u98a8\u683c (\u6b63\u5f0f/\u8f15\u9b06)</li> </ul>"},{"location":"langgraph/notebooks/01-basic-agent/#2-agent","title":"\u7df4\u7fd2 2: \u56db\u6b65\u9a5f\u5206\u6790 Agent\u00b6","text":"<p>\u5efa\u7acb\u4e00\u500b\u5305\u542b 4 \u500b\u7bc0\u9ede\u7684 Agent:</p> <ol> <li>\u63d0\u53d6\u95dc\u9375\u5b57</li> <li>\u5206\u6790\u60c5\u611f</li> <li>\u5224\u65b7\u7dca\u6025\u7a0b\u5ea6</li> <li>\u751f\u6210\u56de\u61c9</li> </ol>"},{"location":"langgraph/notebooks/01-basic-agent/","title":"\u2705 \u89e3\u7b54\u53c3\u8003\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/#1","title":"\u7df4\u7fd2 1 \u89e3\u7b54\u00b6","text":""},{"location":"langgraph/notebooks/01-basic-agent/","title":"\ud83d\udcdd \u91cd\u9ede\u56de\u9867\u00b6","text":"<p>\u606d\u559c\u5b8c\u6210\u7b2c\u4e00\u500b notebook!\u4f60\u5df2\u7d93\u5b78\u6703:</p> <ol> <li>\u2705 State \u5b9a\u7fa9: \u4f7f\u7528 <code>TypedDict</code> \u5b9a\u7fa9\u8cc7\u6599\u7d50\u69cb</li> <li>\u2705 Node \u5efa\u7acb: \u64b0\u5beb\u8655\u7406\u908f\u8f2f\u7684\u51fd\u6578</li> <li>\u2705 Graph \u69cb\u5efa: \u7d44\u5408 State\u3001Node\u3001Edge</li> <li>\u2705 Agent \u57f7\u884c: invoke() \u57f7\u884c\u4e26\u53d6\u5f97\u7d50\u679c</li> <li>\u2705 \u591a\u7bc0\u9ede\u6d41\u7a0b: \u5efa\u7acb\u5305\u542b\u591a\u500b\u6b65\u9a5f\u7684 Agent</li> </ol>"},{"location":"langgraph/notebooks/01-basic-agent/","title":"\u6838\u5fc3\u6982\u5ff5\u00b6","text":"<pre># LangGraph \u57fa\u672c\u7d50\u69cb\nState \u2192 Node \u2192 Edge \u2192 Graph \u2192 Agent\n</pre>"},{"location":"langgraph/notebooks/01-basic-agent/","title":"\u4e0b\u4e00\u6b65\u00b6","text":"<p>\u5728\u4e0b\u4e00\u500b notebook \u4e2d,\u6211\u5011\u5c07\u5b78\u7fd2:</p> <ul> <li>\u66f4\u9032\u968e\u7684 State \u7ba1\u7406</li> <li>\u72c0\u614b\u7d2f\u52a0 (Annotated)</li> <li>\u72c0\u614b\u8ffd\u8e64\u548c\u9664\u932f</li> </ul> <p>\u7e7c\u7e8c\u524d\u5f80 <code>02-state-management.ipynb</code> \ud83d\udc49</p>"},{"location":"langgraph/notebooks/02-state-management/","title":"\u7df4\u7fd2 02 - State \u7ba1\u7406","text":"In\u00a0[1]: Copied! <pre># \u74b0\u5883\u8a2d\u5b9a\nfrom typing import TypedDict, Annotated\nfrom operator import add\nfrom langgraph.graph import StateGraph, END\nfrom langchain_openai import ChatOpenAI\nimport os\nfrom dotenv import load_dotenv\n\nload_dotenv()\nprint(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\")\n</pre> # \u74b0\u5883\u8a2d\u5b9a from typing import TypedDict, Annotated from operator import add from langgraph.graph import StateGraph, END from langchain_openai import ChatOpenAI import os from dotenv import load_dotenv  load_dotenv() print(\"\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\") <pre>\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210\n</pre> In\u00a0[2]: Copied! <pre>class SimpleState(TypedDict):\n    \"\"\"\u7c21\u55ae\u7684\u72c0\u614b - \u9810\u8a2d\u662f\u8986\u84cb\u66f4\u65b0\"\"\"\n    counter: int\n    name: str\n\ndef increment(state: SimpleState) -&gt; SimpleState:\n    \"\"\"\u905e\u589e\u8a08\u6578\u5668\"\"\"\n    return {\n        \"counter\": state[\"counter\"] + 1,\n        \"name\": \"updated\"\n    }\n\n# \u6e2c\u8a66\nworkflow = StateGraph(SimpleState)\nworkflow.add_node(\"increment\", increment)\nworkflow.set_entry_point(\"increment\")\nworkflow.add_edge(\"increment\", END)\napp = workflow.compile()\n\nresult = app.invoke({\"counter\": 0, \"name\": \"original\"})\nprint(f\"\u57f7\u884c\u524d: counter=0, name='original'\")\nprint(f\"\u57f7\u884c\u5f8c: counter={result['counter']}, name='{result['name']}'\")\nprint(\"\\n\ud83d\udccc \u8986\u84cb\u66f4\u65b0: \u65b0\u503c\u5b8c\u5168\u53d6\u4ee3\u820a\u503c\")\n</pre> class SimpleState(TypedDict):     \"\"\"\u7c21\u55ae\u7684\u72c0\u614b - \u9810\u8a2d\u662f\u8986\u84cb\u66f4\u65b0\"\"\"     counter: int     name: str  def increment(state: SimpleState) -&gt; SimpleState:     \"\"\"\u905e\u589e\u8a08\u6578\u5668\"\"\"     return {         \"counter\": state[\"counter\"] + 1,         \"name\": \"updated\"     }  # \u6e2c\u8a66 workflow = StateGraph(SimpleState) workflow.add_node(\"increment\", increment) workflow.set_entry_point(\"increment\") workflow.add_edge(\"increment\", END) app = workflow.compile()  result = app.invoke({\"counter\": 0, \"name\": \"original\"}) print(f\"\u57f7\u884c\u524d: counter=0, name='original'\") print(f\"\u57f7\u884c\u5f8c: counter={result['counter']}, name='{result['name']}'\") print(\"\\n\ud83d\udccc \u8986\u84cb\u66f4\u65b0: \u65b0\u503c\u5b8c\u5168\u53d6\u4ee3\u820a\u503c\") <pre>\u57f7\u884c\u524d: counter=0, name='original'\n\u57f7\u884c\u5f8c: counter=1, name='updated'\n\n\ud83d\udccc \u8986\u84cb\u66f4\u65b0: \u65b0\u503c\u5b8c\u5168\u53d6\u4ee3\u820a\u503c\n</pre> In\u00a0[3]: Copied! <pre>class AccumulativeState(TypedDict):\n    \"\"\"\u7d2f\u52a0\u578b\u72c0\u614b\"\"\"\n    messages: Annotated[list[str], add]  # \u7d2f\u52a0\n    count: int                            # \u8986\u84cb\n\ndef add_message(state: AccumulativeState) -&gt; AccumulativeState:\n    \"\"\"\u6dfb\u52a0\u8a0a\u606f\"\"\"\n    return {\n        \"messages\": [f\"\u8a0a\u606f {state['count'] + 1}\"],\n        \"count\": state['count'] + 1\n    }\n\n# \u5efa\u7acb Agent\nworkflow = StateGraph(AccumulativeState)\nworkflow.add_node(\"add_msg\", add_message)\nworkflow.set_entry_point(\"add_msg\")\n\n# \u5faa\u74b0 3 \u6b21\ndef should_continue(state):\n    return \"add\" if state[\"count\"] &lt; 3 else \"end\"\n\nworkflow.add_conditional_edges(\n    \"add_msg\",\n    should_continue,\n    {\"add\": \"add_msg\", \"end\": END}\n)\n\napp = workflow.compile()\nresult = app.invoke({\"messages\": [], \"count\": 0})\n\nprint(\"\u7d2f\u52a0\u7d50\u679c:\")\nprint(f\"\u8a0a\u606f\u5217\u8868: {result['messages']}\")\nprint(f\"\u8a08\u6578: {result['count']}\")\nprint(\"\\n\ud83d\udccc \u7d2f\u52a0\u66f4\u65b0: \u65b0\u503c\u52a0\u5230\u73fe\u6709\u5217\u8868\u5f8c\u9762\")\n</pre> class AccumulativeState(TypedDict):     \"\"\"\u7d2f\u52a0\u578b\u72c0\u614b\"\"\"     messages: Annotated[list[str], add]  # \u7d2f\u52a0     count: int                            # \u8986\u84cb  def add_message(state: AccumulativeState) -&gt; AccumulativeState:     \"\"\"\u6dfb\u52a0\u8a0a\u606f\"\"\"     return {         \"messages\": [f\"\u8a0a\u606f {state['count'] + 1}\"],         \"count\": state['count'] + 1     }  # \u5efa\u7acb Agent workflow = StateGraph(AccumulativeState) workflow.add_node(\"add_msg\", add_message) workflow.set_entry_point(\"add_msg\")  # \u5faa\u74b0 3 \u6b21 def should_continue(state):     return \"add\" if state[\"count\"] &lt; 3 else \"end\"  workflow.add_conditional_edges(     \"add_msg\",     should_continue,     {\"add\": \"add_msg\", \"end\": END} )  app = workflow.compile() result = app.invoke({\"messages\": [], \"count\": 0})  print(\"\u7d2f\u52a0\u7d50\u679c:\") print(f\"\u8a0a\u606f\u5217\u8868: {result['messages']}\") print(f\"\u8a08\u6578: {result['count']}\") print(\"\\n\ud83d\udccc \u7d2f\u52a0\u66f4\u65b0: \u65b0\u503c\u52a0\u5230\u73fe\u6709\u5217\u8868\u5f8c\u9762\") <pre>\u7d2f\u52a0\u7d50\u679c:\n\u8a0a\u606f\u5217\u8868: ['\u8a0a\u606f 1', '\u8a0a\u606f 2', '\u8a0a\u606f 3']\n\u8a08\u6578: 3\n\n\ud83d\udccc \u7d2f\u52a0\u66f4\u65b0: \u65b0\u503c\u52a0\u5230\u73fe\u6709\u5217\u8868\u5f8c\u9762\n</pre> In\u00a0[4]: Copied! <pre>from datetime import datetime\nfrom typing import Optional\n\nclass ConversationState(TypedDict):\n    \"\"\"\u5b8c\u6574\u7684\u5c0d\u8a71\u72c0\u614b\u8a2d\u8a08\"\"\"\n    # \u57fa\u672c\u8cc7\u8a0a\n    session_id: str\n    user_id: str\n    created_at: str\n    \n    # \u5c0d\u8a71\u5167\u5bb9 (\u7d2f\u52a0)\n    messages: Annotated[list[dict], add]\n    \n    # \u5206\u6790\u7d50\u679c (\u8986\u84cb)\n    current_intent: str\n    sentiment: str\n    \n    # \u8655\u7406\u72c0\u614b (\u8986\u84cb)\n    is_resolved: bool\n    requires_human: bool\n    \n    # \u8ffd\u8e64\u8cc7\u8a0a (\u7d2f\u52a0)\n    execution_log: Annotated[list[str], add]\n\nprint(\"\u2705 \u8907\u96dc State \u5b9a\u7fa9\u5b8c\u6210\")\nprint(f\"\u6b04\u4f4d\u6578\u91cf: {len(ConversationState.__annotations__)}\")\nprint(f\"\u7d2f\u52a0\u6b04\u4f4d: messages, execution_log\")\nprint(f\"\u8986\u84cb\u6b04\u4f4d: \u5176\u4ed6\u6240\u6709\u6b04\u4f4d\")\n</pre> from datetime import datetime from typing import Optional  class ConversationState(TypedDict):     \"\"\"\u5b8c\u6574\u7684\u5c0d\u8a71\u72c0\u614b\u8a2d\u8a08\"\"\"     # \u57fa\u672c\u8cc7\u8a0a     session_id: str     user_id: str     created_at: str          # \u5c0d\u8a71\u5167\u5bb9 (\u7d2f\u52a0)     messages: Annotated[list[dict], add]          # \u5206\u6790\u7d50\u679c (\u8986\u84cb)     current_intent: str     sentiment: str          # \u8655\u7406\u72c0\u614b (\u8986\u84cb)     is_resolved: bool     requires_human: bool          # \u8ffd\u8e64\u8cc7\u8a0a (\u7d2f\u52a0)     execution_log: Annotated[list[str], add]  print(\"\u2705 \u8907\u96dc State \u5b9a\u7fa9\u5b8c\u6210\") print(f\"\u6b04\u4f4d\u6578\u91cf: {len(ConversationState.__annotations__)}\") print(f\"\u7d2f\u52a0\u6b04\u4f4d: messages, execution_log\") print(f\"\u8986\u84cb\u6b04\u4f4d: \u5176\u4ed6\u6240\u6709\u6b04\u4f4d\") <pre>\u2705 \u8907\u96dc State \u5b9a\u7fa9\u5b8c\u6210\n\u6b04\u4f4d\u6578\u91cf: 9\n\u7d2f\u52a0\u6b04\u4f4d: messages, execution_log\n\u8986\u84cb\u6b04\u4f4d: \u5176\u4ed6\u6240\u6709\u6b04\u4f4d\n</pre> In\u00a0[5]: Copied! <pre>def process_message(state: ConversationState) -&gt; ConversationState:\n    \"\"\"\u8655\u7406\u4f7f\u7528\u8005\u8a0a\u606f\"\"\"\n    llm = ChatOpenAI(model=\"gpt-4\")\n    \n    # \u53d6\u5f97\u6700\u5f8c\u4e00\u5247\u8a0a\u606f\n    last_msg = state[\"messages\"][-1][\"content\"] if state[\"messages\"] else \"\"\n    \n    # \u5206\u6790\u610f\u5716\n    intent_prompt = f\"\u7c21\u77ed\u5224\u65b7\u610f\u5716(\u67e5\u8a62/\u6295\u8a34/\u8aee\u8a62): {last_msg}\"\n    intent = llm.invoke(intent_prompt).content\n    \n    # \u5206\u6790\u60c5\u611f\n    sentiment_prompt = f\"\u5224\u65b7\u60c5\u611f(\u6b63\u9762/\u8ca0\u9762/\u4e2d\u6027): {last_msg}\"\n    sentiment = llm.invoke(sentiment_prompt).content\n    \n    # \u751f\u6210\u56de\u61c9\n    response = llm.invoke(f\"\u5c08\u696d\u56de\u61c9: {last_msg}\").content\n    \n    return {\n        \"messages\": [{\"role\": \"assistant\", \"content\": response}],\n        \"current_intent\": intent.strip(),\n        \"sentiment\": sentiment.strip(),\n        \"execution_log\": [f\"\u8655\u7406\u8a0a\u606f\u65bc {datetime.now().strftime('%H:%M:%S')}\"]\n    }\n\n# \u5efa\u7acb Agent\nworkflow = StateGraph(ConversationState)\nworkflow.add_node(\"process\", process_message)\nworkflow.set_entry_point(\"process\")\nworkflow.add_edge(\"process\", END)\nconversation_agent = workflow.compile()\n\n# \u6e2c\u8a66\nresult = conversation_agent.invoke({\n    \"session_id\": \"S001\",\n    \"user_id\": \"U001\",\n    \"created_at\": datetime.now().isoformat(),\n    \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u60f3\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"}],\n    \"is_resolved\": False,\n    \"requires_human\": False,\n    \"execution_log\": []\n})\n\nprint(\"\\n\u5c0d\u8a71\u7d50\u679c:\")\nprint(f\"\u610f\u5716: {result['current_intent']}\")\nprint(f\"\u60c5\u611f: {result['sentiment']}\")\nprint(f\"\u8a0a\u606f\u6578: {len(result['messages'])}\")\nprint(f\"\u57f7\u884c\u65e5\u8a8c: {result['execution_log']}\")\n</pre> def process_message(state: ConversationState) -&gt; ConversationState:     \"\"\"\u8655\u7406\u4f7f\u7528\u8005\u8a0a\u606f\"\"\"     llm = ChatOpenAI(model=\"gpt-4\")          # \u53d6\u5f97\u6700\u5f8c\u4e00\u5247\u8a0a\u606f     last_msg = state[\"messages\"][-1][\"content\"] if state[\"messages\"] else \"\"          # \u5206\u6790\u610f\u5716     intent_prompt = f\"\u7c21\u77ed\u5224\u65b7\u610f\u5716(\u67e5\u8a62/\u6295\u8a34/\u8aee\u8a62): {last_msg}\"     intent = llm.invoke(intent_prompt).content          # \u5206\u6790\u60c5\u611f     sentiment_prompt = f\"\u5224\u65b7\u60c5\u611f(\u6b63\u9762/\u8ca0\u9762/\u4e2d\u6027): {last_msg}\"     sentiment = llm.invoke(sentiment_prompt).content          # \u751f\u6210\u56de\u61c9     response = llm.invoke(f\"\u5c08\u696d\u56de\u61c9: {last_msg}\").content          return {         \"messages\": [{\"role\": \"assistant\", \"content\": response}],         \"current_intent\": intent.strip(),         \"sentiment\": sentiment.strip(),         \"execution_log\": [f\"\u8655\u7406\u8a0a\u606f\u65bc {datetime.now().strftime('%H:%M:%S')}\"]     }  # \u5efa\u7acb Agent workflow = StateGraph(ConversationState) workflow.add_node(\"process\", process_message) workflow.set_entry_point(\"process\") workflow.add_edge(\"process\", END) conversation_agent = workflow.compile()  # \u6e2c\u8a66 result = conversation_agent.invoke({     \"session_id\": \"S001\",     \"user_id\": \"U001\",     \"created_at\": datetime.now().isoformat(),     \"messages\": [{\"role\": \"user\", \"content\": \"\u6211\u60f3\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a\"}],     \"is_resolved\": False,     \"requires_human\": False,     \"execution_log\": [] })  print(\"\\n\u5c0d\u8a71\u7d50\u679c:\") print(f\"\u610f\u5716: {result['current_intent']}\") print(f\"\u60c5\u611f: {result['sentiment']}\") print(f\"\u8a0a\u606f\u6578: {len(result['messages'])}\") print(f\"\u57f7\u884c\u65e5\u8a8c: {result['execution_log']}\") <pre>\n\u5c0d\u8a71\u7d50\u679c:\n\u610f\u5716: \u67e5\u8a62\n\u60c5\u611f: \u4e2d\u6027\n\u8a0a\u606f\u6578: 2\n\u57f7\u884c\u65e5\u8a8c: ['\u8655\u7406\u8a0a\u606f\u65bc 01:03:58']\n</pre> In\u00a0[6]: Copied! <pre>class DebugState(TypedDict):\n    \"\"\"\u5e36\u9664\u932f\u8cc7\u8a0a\u7684\u72c0\u614b\"\"\"\n    data: str\n    step_history: Annotated[list[dict], add]\n\ndef debug_node(node_name: str):\n    \"\"\"\u5efa\u7acb\u5e36\u9664\u932f\u7684\u7bc0\u9ede\"\"\"\n    def wrapper(state: DebugState) -&gt; DebugState:\n        print(f\"\\n\ud83d\udd0d \u57f7\u884c\u7bc0\u9ede: {node_name}\")\n        print(f\"   \u8f38\u5165 data: {state['data']}\")\n        \n        # \u8655\u7406\n        new_data = state['data'] + f\" -&gt; {node_name}\"\n        \n        print(f\"   \u8f38\u51fa data: {new_data}\")\n        \n        return {\n            \"data\": new_data,\n            \"step_history\": [{\n                \"node\": node_name,\n                \"input\": state['data'],\n                \"output\": new_data,\n                \"timestamp\": datetime.now().isoformat()\n            }]\n        }\n    return wrapper\n\n# \u5efa\u7acb\u9664\u932f Agent\nworkflow = StateGraph(DebugState)\nworkflow.add_node(\"step1\", debug_node(\"\u6b65\u9a5f1\"))\nworkflow.add_node(\"step2\", debug_node(\"\u6b65\u9a5f2\"))\nworkflow.add_node(\"step3\", debug_node(\"\u6b65\u9a5f3\"))\n\nworkflow.set_entry_point(\"step1\")\nworkflow.add_edge(\"step1\", \"step2\")\nworkflow.add_edge(\"step2\", \"step3\")\nworkflow.add_edge(\"step3\", END)\n\ndebug_agent = workflow.compile()\n\n# \u57f7\u884c\u4e26\u8ffd\u8e64\nprint(\"\\n\" + \"=\"*50)\nprint(\"\u958b\u59cb\u8ffd\u8e64\u57f7\u884c\u904e\u7a0b\")\nprint(\"=\"*50)\n\nresult = debug_agent.invoke({\n    \"data\": \"\u521d\u59cb\u8cc7\u6599\",\n    \"step_history\": []\n})\n\nprint(\"\\n\" + \"=\"*50)\nprint(\"\u57f7\u884c\u6b77\u53f2:\")\nprint(\"=\"*50)\nfor i, step in enumerate(result['step_history'], 1):\n    print(f\"\\n\u6b65\u9a5f {i}: {step['node']}\")\n    print(f\"  \u8f38\u5165: {step['input']}\")\n    print(f\"  \u8f38\u51fa: {step['output']}\")\n    print(f\"  \u6642\u9593: {step['timestamp']}\")\n</pre> class DebugState(TypedDict):     \"\"\"\u5e36\u9664\u932f\u8cc7\u8a0a\u7684\u72c0\u614b\"\"\"     data: str     step_history: Annotated[list[dict], add]  def debug_node(node_name: str):     \"\"\"\u5efa\u7acb\u5e36\u9664\u932f\u7684\u7bc0\u9ede\"\"\"     def wrapper(state: DebugState) -&gt; DebugState:         print(f\"\\n\ud83d\udd0d \u57f7\u884c\u7bc0\u9ede: {node_name}\")         print(f\"   \u8f38\u5165 data: {state['data']}\")                  # \u8655\u7406         new_data = state['data'] + f\" -&gt; {node_name}\"                  print(f\"   \u8f38\u51fa data: {new_data}\")                  return {             \"data\": new_data,             \"step_history\": [{                 \"node\": node_name,                 \"input\": state['data'],                 \"output\": new_data,                 \"timestamp\": datetime.now().isoformat()             }]         }     return wrapper  # \u5efa\u7acb\u9664\u932f Agent workflow = StateGraph(DebugState) workflow.add_node(\"step1\", debug_node(\"\u6b65\u9a5f1\")) workflow.add_node(\"step2\", debug_node(\"\u6b65\u9a5f2\")) workflow.add_node(\"step3\", debug_node(\"\u6b65\u9a5f3\"))  workflow.set_entry_point(\"step1\") workflow.add_edge(\"step1\", \"step2\") workflow.add_edge(\"step2\", \"step3\") workflow.add_edge(\"step3\", END)  debug_agent = workflow.compile()  # \u57f7\u884c\u4e26\u8ffd\u8e64 print(\"\\n\" + \"=\"*50) print(\"\u958b\u59cb\u8ffd\u8e64\u57f7\u884c\u904e\u7a0b\") print(\"=\"*50)  result = debug_agent.invoke({     \"data\": \"\u521d\u59cb\u8cc7\u6599\",     \"step_history\": [] })  print(\"\\n\" + \"=\"*50) print(\"\u57f7\u884c\u6b77\u53f2:\") print(\"=\"*50) for i, step in enumerate(result['step_history'], 1):     print(f\"\\n\u6b65\u9a5f {i}: {step['node']}\")     print(f\"  \u8f38\u5165: {step['input']}\")     print(f\"  \u8f38\u51fa: {step['output']}\")     print(f\"  \u6642\u9593: {step['timestamp']}\") <pre>\n==================================================\n\u958b\u59cb\u8ffd\u8e64\u57f7\u884c\u904e\u7a0b\n==================================================\n\n\ud83d\udd0d \u57f7\u884c\u7bc0\u9ede: \u6b65\u9a5f1\n   \u8f38\u5165 data: \u521d\u59cb\u8cc7\u6599\n   \u8f38\u51fa data: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1\n\n\ud83d\udd0d \u57f7\u884c\u7bc0\u9ede: \u6b65\u9a5f2\n   \u8f38\u5165 data: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1\n   \u8f38\u51fa data: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1 -&gt; \u6b65\u9a5f2\n\n\ud83d\udd0d \u57f7\u884c\u7bc0\u9ede: \u6b65\u9a5f3\n   \u8f38\u5165 data: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1 -&gt; \u6b65\u9a5f2\n   \u8f38\u51fa data: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1 -&gt; \u6b65\u9a5f2 -&gt; \u6b65\u9a5f3\n\n==================================================\n\u57f7\u884c\u6b77\u53f2:\n==================================================\n\n\u6b65\u9a5f 1: \u6b65\u9a5f1\n  \u8f38\u5165: \u521d\u59cb\u8cc7\u6599\n  \u8f38\u51fa: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1\n  \u6642\u9593: 2025-11-15T01:07:21.004373\n\n\u6b65\u9a5f 2: \u6b65\u9a5f2\n  \u8f38\u5165: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1\n  \u8f38\u51fa: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1 -&gt; \u6b65\u9a5f2\n  \u6642\u9593: 2025-11-15T01:07:21.006442\n\n\u6b65\u9a5f 3: \u6b65\u9a5f3\n  \u8f38\u5165: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1 -&gt; \u6b65\u9a5f2\n  \u8f38\u51fa: \u521d\u59cb\u8cc7\u6599 -&gt; \u6b65\u9a5f1 -&gt; \u6b65\u9a5f2 -&gt; \u6b65\u9a5f3\n  \u6642\u9593: 2025-11-15T01:07:21.006996\n</pre> In\u00a0[7]: Copied! <pre># \u5b9a\u7fa9\u8cfc\u7269\u8eca\u72c0\u614b\nclass ShoppingCartState(TypedDict):\n    # TODO: \u8a2d\u8a08\u72c0\u614b\u6b04\u4f4d\n    # \u63d0\u793a: \u9700\u8981\u5546\u54c1\u5217\u8868(\u7d2f\u52a0)\u3001\u7e3d\u91d1\u984d(\u8986\u84cb)\u3001\u512a\u60e0\u78bc\u7b49\n    pass\n\n# TODO: \u5be6\u4f5c\u6dfb\u52a0\u5546\u54c1\u3001\u8a08\u7b97\u7e3d\u984d\u3001\u5957\u7528\u6298\u6263\u7684\u7bc0\u9ede\n\n# TODO: \u5efa\u7acb\u8cfc\u7269\u8eca Agent\n</pre> # \u5b9a\u7fa9\u8cfc\u7269\u8eca\u72c0\u614b class ShoppingCartState(TypedDict):     # TODO: \u8a2d\u8a08\u72c0\u614b\u6b04\u4f4d     # \u63d0\u793a: \u9700\u8981\u5546\u54c1\u5217\u8868(\u7d2f\u52a0)\u3001\u7e3d\u91d1\u984d(\u8986\u84cb)\u3001\u512a\u60e0\u78bc\u7b49     pass  # TODO: \u5be6\u4f5c\u6dfb\u52a0\u5546\u54c1\u3001\u8a08\u7b97\u7e3d\u984d\u3001\u5957\u7528\u6298\u6263\u7684\u7bc0\u9ede  # TODO: \u5efa\u7acb\u8cfc\u7269\u8eca Agent In\u00a0[8]: Copied! <pre># \u8a2d\u8a08\u4e00\u500b\u591a\u7d1a\u5be9\u6279\u7cfb\u7d71\u7684\u72c0\u614b\nclass ApprovalState(TypedDict):\n    # TODO: \u5b9a\u7fa9\u72c0\u614b\n    # \u63d0\u793a: \u5be9\u6279\u6b77\u53f2(\u7d2f\u52a0)\u3001\u7576\u524d\u72c0\u614b(\u8986\u84cb)\u3001\u5be9\u6279\u4eba\u8cc7\u8a0a\u7b49\n    pass\n</pre> # \u8a2d\u8a08\u4e00\u500b\u591a\u7d1a\u5be9\u6279\u7cfb\u7d71\u7684\u72c0\u614b class ApprovalState(TypedDict):     # TODO: \u5b9a\u7fa9\u72c0\u614b     # \u63d0\u793a: \u5be9\u6279\u6b77\u53f2(\u7d2f\u52a0)\u3001\u7576\u524d\u72c0\u614b(\u8986\u84cb)\u3001\u5be9\u6279\u4eba\u8cc7\u8a0a\u7b49     pass In\u00a0[9]: Copied! <pre># \u7df4\u7fd2 1 \u89e3\u7b54\nclass ShoppingCartStateSolution(TypedDict):\n    items: Annotated[list[dict], add]  # \u5546\u54c1\u5217\u8868\n    total: float                        # \u7e3d\u91d1\u984d\n    discount_code: Optional[str]        # \u512a\u60e0\u78bc\n    discount_amount: float              # \u6298\u6263\u91d1\u984d\n    final_total: float                  # \u6700\u7d42\u91d1\u984d\n\ndef add_item(state, item):\n    \"\"\"\u6dfb\u52a0\u5546\u54c1\"\"\"\n    return {\n        \"items\": [item],\n        \"total\": state.get(\"total\", 0) + item[\"price\"]\n    }\n\ndef apply_discount(state):\n    \"\"\"\u5957\u7528\u6298\u6263\"\"\"\n    discount = 0\n    if state.get(\"discount_code\") == \"SAVE10\":\n        discount = state[\"total\"] * 0.1\n    \n    return {\n        \"discount_amount\": discount,\n        \"final_total\": state[\"total\"] - discount\n    }\n\nprint(\"\u2705 \u8cfc\u7269\u8eca\u72c0\u614b\u8a2d\u8a08\u5b8c\u6210\")\n</pre> # \u7df4\u7fd2 1 \u89e3\u7b54 class ShoppingCartStateSolution(TypedDict):     items: Annotated[list[dict], add]  # \u5546\u54c1\u5217\u8868     total: float                        # \u7e3d\u91d1\u984d     discount_code: Optional[str]        # \u512a\u60e0\u78bc     discount_amount: float              # \u6298\u6263\u91d1\u984d     final_total: float                  # \u6700\u7d42\u91d1\u984d  def add_item(state, item):     \"\"\"\u6dfb\u52a0\u5546\u54c1\"\"\"     return {         \"items\": [item],         \"total\": state.get(\"total\", 0) + item[\"price\"]     }  def apply_discount(state):     \"\"\"\u5957\u7528\u6298\u6263\"\"\"     discount = 0     if state.get(\"discount_code\") == \"SAVE10\":         discount = state[\"total\"] * 0.1          return {         \"discount_amount\": discount,         \"final_total\": state[\"total\"] - discount     }  print(\"\u2705 \u8cfc\u7269\u8eca\u72c0\u614b\u8a2d\u8a08\u5b8c\u6210\") <pre>\u2705 \u8cfc\u7269\u8eca\u72c0\u614b\u8a2d\u8a08\u5b8c\u6210\n</pre>"},{"location":"langgraph/notebooks/02-state-management/#02-state","title":"02 - State \u7ba1\u7406\u5be6\u4f5c\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u7406\u89e3 State \u7684\u66f4\u65b0\u6a5f\u5236</li> <li>\u2705 \u4f7f\u7528 Annotated \u5be6\u73fe\u72c0\u614b\u7d2f\u52a0</li> <li>\u2705 \u8ffd\u8e64\u548c\u9664\u932f State \u8b8a\u5316</li> <li>\u2705 \u8a2d\u8a08\u8907\u96dc\u7684 State \u7d50\u69cb</li> </ul>"},{"location":"langgraph/notebooks/02-state-management/#40","title":"\u23f0 \u9810\u8a08\u6642\u9593: 40 \u5206\u9418\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#part-1-state","title":"Part 1: State \u66f4\u65b0\u6a5f\u5236\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#11-replace","title":"1.1 \u8986\u84cb\u66f4\u65b0 (Replace)\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#12-add-with-annotated","title":"1.2 \u7d2f\u52a0\u66f4\u65b0 (Add with Annotated)\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#part-2-state","title":"Part 2: \u8907\u96dc State \u8a2d\u8a08\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/","title":"\u5be6\u6230\u6848\u4f8b: \u5ba2\u6236\u670d\u52d9\u5c0d\u8a71\u72c0\u614b\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#state","title":"\u4f7f\u7528\u8907\u96dc State\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#part-3-state","title":"Part 3: State \u8ffd\u8e64\u8207\u9664\u932f\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/","title":"\ud83c\udfaf \u7df4\u7fd2\u984c\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#1","title":"\u7df4\u7fd2 1: \u8cfc\u7269\u8eca\u72c0\u614b\u7ba1\u7406\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#2","title":"\u7df4\u7fd2 2: \u5be9\u6279\u6d41\u7a0b\u72c0\u614b\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/","title":"\u2705 \u89e3\u7b54\u53c3\u8003\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/","title":"\ud83d\udcdd \u91cd\u9ede\u56de\u9867\u00b6","text":""},{"location":"langgraph/notebooks/02-state-management/#state","title":"State \u66f4\u65b0\u6a5f\u5236\u00b6","text":"<ul> <li>\u8986\u84cb: \u9810\u8a2d\u884c\u70ba,\u65b0\u503c\u53d6\u4ee3\u820a\u503c</li> <li>\u7d2f\u52a0: \u4f7f\u7528 <code>Annotated[type, add]</code>,\u65b0\u503c\u52a0\u5230\u820a\u503c\u5f8c\u9762</li> </ul>"},{"location":"langgraph/notebooks/02-state-management/","title":"\u8a2d\u8a08\u539f\u5247\u00b6","text":"<ol> <li>\u5c0d\u8a71/\u65e5\u8a8c\u985e\u6b04\u4f4d\u4f7f\u7528\u7d2f\u52a0</li> <li>\u72c0\u614b/\u914d\u7f6e\u985e\u6b04\u4f4d\u4f7f\u7528\u8986\u84cb</li> <li>\u4f7f\u7528 Optional \u6a19\u8a18\u53ef\u9078\u6b04\u4f4d</li> <li>\u6dfb\u52a0\u8ffd\u8e64\u6b04\u4f4d\u4fbf\u65bc\u9664\u932f</li> </ol>"},{"location":"langgraph/notebooks/02-state-management/","title":"\u9664\u932f\u6280\u5de7\u00b6","text":"<ul> <li>\u4f7f\u7528 step_history \u8ffd\u8e64\u57f7\u884c\u904e\u7a0b</li> <li>\u5370\u51fa\u6bcf\u500b\u7bc0\u9ede\u7684\u8f38\u5165\u8f38\u51fa</li> <li>\u8a18\u9304\u6642\u9593\u6233\u5354\u52a9\u6548\u80fd\u5206\u6790</li> </ul>"},{"location":"langgraph/notebooks/02-state-management/","title":"\u4e0b\u4e00\u6b65\u00b6","text":"<p>\u7e7c\u7e8c\u524d\u5f80 <code>03-conditional-edges.ipynb</code> \u5b78\u7fd2\u689d\u4ef6\u908a\u7684\u4f7f\u7528 \ud83d\udc49</p>"},{"location":"langgraph/notebooks/03-conditional-edges/","title":"\u7df4\u7fd2 03 - \u689d\u4ef6\u908a","text":"In\u00a0[\u00a0]: Copied! <pre>from typing import TypedDict\nfrom langgraph.graph import StateGraph, END\nfrom langchain_openai import ChatOpenAI\nimport os\nfrom dotenv import load_dotenv\n\nload_dotenv()\nprint('\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210')\n</pre> from typing import TypedDict from langgraph.graph import StateGraph, END from langchain_openai import ChatOpenAI import os from dotenv import load_dotenv  load_dotenv() print('\u2705 \u74b0\u5883\u8a2d\u5b9a\u5b8c\u6210') In\u00a0[\u00a0]: Copied! <pre>class RoutingState(TypedDict):\n    score: float\n    result: str\n\ndef route_by_score(state: RoutingState) -&gt; str:\n    '''\u6839\u64da\u5206\u6578\u8def\u7531'''\n    if state['score'] &gt;= 0.8:\n        return 'high'\n    elif state['score'] &gt;= 0.5:\n        return 'medium'\n    else:\n        return 'low'\n\nprint('\u2705 \u8def\u7531\u51fd\u6578\u5b9a\u7fa9\u5b8c\u6210')\n</pre> class RoutingState(TypedDict):     score: float     result: str  def route_by_score(state: RoutingState) -&gt; str:     '''\u6839\u64da\u5206\u6578\u8def\u7531'''     if state['score'] &gt;= 0.8:         return 'high'     elif state['score'] &gt;= 0.5:         return 'medium'     else:         return 'low'  print('\u2705 \u8def\u7531\u51fd\u6578\u5b9a\u7fa9\u5b8c\u6210') In\u00a0[\u00a0]: Copied! <pre># \u4f60\u7684\u7a0b\u5f0f\u78bc\nclass CustomerState(TypedDict):\n    customer_tier: str  # 'bronze', 'silver', 'gold'\n    urgency: str        # 'low', 'medium', 'high'\n    route: str\n\n# TODO: \u5be6\u4f5c\u8def\u7531\u908f\u8f2f\n</pre> # \u4f60\u7684\u7a0b\u5f0f\u78bc class CustomerState(TypedDict):     customer_tier: str  # 'bronze', 'silver', 'gold'     urgency: str        # 'low', 'medium', 'high'     route: str  # TODO: \u5be6\u4f5c\u8def\u7531\u908f\u8f2f"},{"location":"langgraph/notebooks/03-conditional-edges/#03-","title":"03 - \u689d\u4ef6\u908a\u5be6\u4f5c\u00b6","text":""},{"location":"langgraph/notebooks/03-conditional-edges/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u7406\u89e3\u689d\u4ef6\u908a\u7684\u904b\u4f5c\u539f\u7406</li> <li>\u2705 \u5be6\u4f5c\u8def\u7531\u51fd\u6578</li> <li>\u2705 \u5efa\u7acb\u5206\u652f\u908f\u8f2f</li> <li>\u2705 \u8655\u7406\u8907\u96dc\u7684\u6c7a\u7b56\u6d41\u7a0b</li> </ul>"},{"location":"langgraph/notebooks/03-conditional-edges/#part-1","title":"Part 1: \u7c21\u55ae\u689d\u4ef6\u8def\u7531\u00b6","text":""},{"location":"langgraph/notebooks/03-conditional-edges/","title":"\ud83c\udfaf \u7df4\u7fd2: \u5efa\u7acb\u5ba2\u6236\u5206\u7d1a\u7cfb\u7d71\u00b6","text":"<p>\u8acb\u5b8c\u6210\u4e00\u500b\u6839\u64da\u5ba2\u6236\u8cc7\u8a0a\u8def\u7531\u5230\u4e0d\u540c\u8655\u7406\u6d41\u7a0b\u7684 Agent\u3002</p>"},{"location":"langgraph/notebooks/04-tool-integration/","title":"\u7df4\u7fd2 04 - \u5de5\u5177\u6574\u5408","text":"In\u00a0[\u00a0]: Copied! <pre>from langchain.tools import Tool\nfrom langgraph.prebuilt import ToolExecutor\nfrom langchain_openai import ChatOpenAI\n\nprint('\u2705 \u5c0e\u5165\u5b8c\u6210')\n</pre> from langchain.tools import Tool from langgraph.prebuilt import ToolExecutor from langchain_openai import ChatOpenAI  print('\u2705 \u5c0e\u5165\u5b8c\u6210') In\u00a0[\u00a0]: Copied! <pre>def search_policy(policy_number: str) -&gt; dict:\n    '''\u67e5\u8a62\u4fdd\u55ae'''\n    db = {'P123': {'holder': '\u738b\u5927\u660e', 'amount': 1000000}}\n    return db.get(policy_number, {'error': '\u67e5\u7121\u6b64\u4fdd\u55ae'})\n\ntool = Tool(\n    name='search_policy',\n    func=search_policy,\n    description='\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a'\n)\n\nprint('\u2705 \u5de5\u5177\u5b9a\u7fa9\u5b8c\u6210')\n</pre> def search_policy(policy_number: str) -&gt; dict:     '''\u67e5\u8a62\u4fdd\u55ae'''     db = {'P123': {'holder': '\u738b\u5927\u660e', 'amount': 1000000}}     return db.get(policy_number, {'error': '\u67e5\u7121\u6b64\u4fdd\u55ae'})  tool = Tool(     name='search_policy',     func=search_policy,     description='\u67e5\u8a62\u4fdd\u55ae\u8cc7\u8a0a' )  print('\u2705 \u5de5\u5177\u5b9a\u7fa9\u5b8c\u6210')"},{"location":"langgraph/notebooks/04-tool-integration/#04-","title":"04 - \u5de5\u5177\u6574\u5408\u00b6","text":""},{"location":"langgraph/notebooks/04-tool-integration/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u5b9a\u7fa9\u81ea\u8a02\u5de5\u5177</li> <li>\u2705 \u6574\u5408\u5916\u90e8 API</li> <li>\u2705 \u5de5\u5177\u932f\u8aa4\u8655\u7406</li> <li>\u2705 \u591a\u5de5\u5177\u5354\u4f5c</li> </ul>"},{"location":"langgraph/notebooks/04-tool-integration/#part-1","title":"Part 1: \u5b9a\u7fa9\u5de5\u5177\u00b6","text":""},{"location":"langgraph/notebooks/04-tool-integration/#agent","title":"\ud83c\udfaf \u7df4\u7fd2: \u5efa\u7acb\u591a\u5de5\u5177 Agent\u00b6","text":"<p>\u5efa\u7acb\u5305\u542b\u81f3\u5c11 3 \u500b\u5de5\u5177\u7684 Agent,\u8655\u7406\u4fdd\u96aa\u696d\u52d9\u67e5\u8a62\u3002</p>"},{"location":"langgraph/notebooks/05-human-in-loop/","title":"\u7df4\u7fd2 05 - Human-in-Loop","text":"In\u00a0[\u00a0]: Copied! <pre>from typing import TypedDict, Optional\nfrom langgraph.graph import StateGraph, END\n\nprint('\u2705 \u5c0e\u5165\u5b8c\u6210')\n</pre> from typing import TypedDict, Optional from langgraph.graph import StateGraph, END  print('\u2705 \u5c0e\u5165\u5b8c\u6210') In\u00a0[\u00a0]: Copied! <pre>class ApprovalState(TypedDict):\n    amount: float\n    auto_approved: bool\n    human_decision: Optional[str]\n\ndef check_auto_approval(state):\n    '''\u6aa2\u67e5\u662f\u5426\u9700\u8981\u4eba\u5de5\u5be9\u6838'''\n    return {'auto_approved': state['amount'] &lt; 50000}\n\ndef human_checkpoint(state):\n    '''\u4eba\u5de5\u5be9\u6838\u9ede'''\n    print(f'\u23f8\ufe0f \u9700\u8981\u5be9\u6838\u91d1\u984d: ${state[\"amount\"]:,.0f}')\n    decision = input('\u6279\u51c6? (y/n): ')\n    return {'human_decision': 'approved' if decision == 'y' else 'rejected'}\n\nprint('\u2705 \u5be9\u6838\u7bc0\u9ede\u5b9a\u7fa9\u5b8c\u6210')\n</pre> class ApprovalState(TypedDict):     amount: float     auto_approved: bool     human_decision: Optional[str]  def check_auto_approval(state):     '''\u6aa2\u67e5\u662f\u5426\u9700\u8981\u4eba\u5de5\u5be9\u6838'''     return {'auto_approved': state['amount'] &lt; 50000}  def human_checkpoint(state):     '''\u4eba\u5de5\u5be9\u6838\u9ede'''     print(f'\u23f8\ufe0f \u9700\u8981\u5be9\u6838\u91d1\u984d: ${state[\"amount\"]:,.0f}')     decision = input('\u6279\u51c6? (y/n): ')     return {'human_decision': 'approved' if decision == 'y' else 'rejected'}  print('\u2705 \u5be9\u6838\u7bc0\u9ede\u5b9a\u7fa9\u5b8c\u6210')"},{"location":"langgraph/notebooks/05-human-in-loop/#05-human-in-the-loop","title":"05 - Human-in-the-Loop\u00b6","text":""},{"location":"langgraph/notebooks/05-human-in-loop/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u5be6\u4f5c\u4eba\u5de5\u5be9\u6838\u9ede</li> <li>\u2705 \u4e2d\u65b7\u548c\u7e7c\u7e8c\u57f7\u884c</li> <li>\u2705 \u591a\u7d1a\u5be9\u6279\u6d41\u7a0b</li> <li>\u2705 \u5be9\u6838\u6b77\u53f2\u8a18\u9304</li> </ul>"},{"location":"langgraph/notebooks/05-human-in-loop/#part-1","title":"Part 1: \u7c21\u55ae\u5be9\u6838\u9ede\u00b6","text":""},{"location":"langgraph/notebooks/05-human-in-loop/","title":"\ud83c\udfaf \u7df4\u7fd2: \u591a\u7d1a\u5be9\u6279\u7cfb\u7d71\u00b6","text":"<p>\u5be6\u4f5c\u4e00\u500b\u5305\u542b\u5c08\u54e1\u3001\u4e3b\u7ba1\u3001\u7d93\u7406\u4e09\u7d1a\u5be9\u6279\u7684\u7cfb\u7d71\u3002</p>"},{"location":"langgraph/notebooks/06-advanced-patterns/","title":"\u7df4\u7fd2 06 - \u9032\u968e\u6a21\u5f0f","text":"In\u00a0[\u00a0]: Copied! <pre>from functools import lru_cache\nfrom tenacity import retry, stop_after_attempt\nimport time\n\nprint('\u2705 \u5c0e\u5165\u5b8c\u6210')\n</pre> from functools import lru_cache from tenacity import retry, stop_after_attempt import time  print('\u2705 \u5c0e\u5165\u5b8c\u6210') In\u00a0[\u00a0]: Copied! <pre>@lru_cache(maxsize=100)\ndef cached_llm_call(prompt: str) -&gt; str:\n    '''\u5e36\u5feb\u53d6\u7684 LLM \u8abf\u7528'''\n    from langchain_openai import ChatOpenAI\n    llm = ChatOpenAI()\n    return llm.invoke(prompt).content\n\n# \u6e2c\u8a66\u5feb\u53d6\u6548\u679c\nstart = time.time()\nresult1 = cached_llm_call('\u4ec0\u9ebc\u662f AI?')\ntime1 = time.time() - start\n\nstart = time.time()\nresult2 = cached_llm_call('\u4ec0\u9ebc\u662f AI?')  # \u5f9e\u5feb\u53d6\u53d6\u5f97\ntime2 = time.time() - start\n\nprint(f'\u7b2c\u4e00\u6b21: {time1:.2f}\u79d2')\nprint(f'\u7b2c\u4e8c\u6b21(\u5feb\u53d6): {time2:.2f}\u79d2')\nprint(f'\u52a0\u901f: {time1/time2:.1f}x')\n</pre> @lru_cache(maxsize=100) def cached_llm_call(prompt: str) -&gt; str:     '''\u5e36\u5feb\u53d6\u7684 LLM \u8abf\u7528'''     from langchain_openai import ChatOpenAI     llm = ChatOpenAI()     return llm.invoke(prompt).content  # \u6e2c\u8a66\u5feb\u53d6\u6548\u679c start = time.time() result1 = cached_llm_call('\u4ec0\u9ebc\u662f AI?') time1 = time.time() - start  start = time.time() result2 = cached_llm_call('\u4ec0\u9ebc\u662f AI?')  # \u5f9e\u5feb\u53d6\u53d6\u5f97 time2 = time.time() - start  print(f'\u7b2c\u4e00\u6b21: {time1:.2f}\u79d2') print(f'\u7b2c\u4e8c\u6b21(\u5feb\u53d6): {time2:.2f}\u79d2') print(f'\u52a0\u901f: {time1/time2:.1f}x') In\u00a0[\u00a0]: Copied! <pre>@retry(stop=stop_after_attempt(3))\ndef resilient_function():\n    '''\u5e36\u91cd\u8a66\u7684\u51fd\u6578'''\n    # \u6a21\u64ec\u53ef\u80fd\u5931\u6557\u7684\u64cd\u4f5c\n    import random\n    if random.random() &lt; 0.5:\n        raise Exception('\u96a8\u6a5f\u932f\u8aa4')\n    return '\u6210\u529f!'\n\nprint('\u2705 \u932f\u8aa4\u8655\u7406\u8a2d\u5b9a\u5b8c\u6210')\n</pre> @retry(stop=stop_after_attempt(3)) def resilient_function():     '''\u5e36\u91cd\u8a66\u7684\u51fd\u6578'''     # \u6a21\u64ec\u53ef\u80fd\u5931\u6557\u7684\u64cd\u4f5c     import random     if random.random() &lt; 0.5:         raise Exception('\u96a8\u6a5f\u932f\u8aa4')     return '\u6210\u529f!'  print('\u2705 \u932f\u8aa4\u8655\u7406\u8a2d\u5b9a\u5b8c\u6210')"},{"location":"langgraph/notebooks/06-advanced-patterns/#06-","title":"06 - \u9032\u968e\u6a21\u5f0f\u00b6","text":""},{"location":"langgraph/notebooks/06-advanced-patterns/","title":"\ud83d\udcda \u5b78\u7fd2\u76ee\u6a19\u00b6","text":"<ul> <li>\u2705 \u6548\u80fd\u512a\u5316\u6280\u5de7</li> <li>\u2705 \u932f\u8aa4\u8655\u7406\u8207\u91cd\u8a66</li> <li>\u2705 \u5feb\u53d6\u6a5f\u5236</li> <li>\u2705 \u8907\u96dc\u5de5\u4f5c\u6d41\u7a0b\u8a2d\u8a08</li> </ul>"},{"location":"langgraph/notebooks/06-advanced-patterns/#part-1","title":"Part 1: \u5feb\u53d6\u512a\u5316\u00b6","text":""},{"location":"langgraph/notebooks/06-advanced-patterns/#part-2","title":"Part 2: \u932f\u8aa4\u8655\u7406\u00b6","text":""},{"location":"langgraph/notebooks/06-advanced-patterns/","title":"\ud83c\udfaf \u7d9c\u5408\u5c08\u6848: \u5b8c\u6574\u7684\u5ba2\u670d\u7cfb\u7d71\u00b6","text":"<p>\u6574\u5408\u6240\u6709\u5b78\u5230\u7684\u6280\u5de7,\u5efa\u7acb\u4e00\u500b\u751f\u7522\u7d1a\u7684\u5ba2\u670d Agent\u3002</p> <p>\u8981\u6c42:</p> <ol> <li>\u591a\u6b65\u9a5f\u8655\u7406\u6d41\u7a0b</li> <li>\u689d\u4ef6\u8def\u7531</li> <li>\u5de5\u5177\u6574\u5408</li> <li>\u4eba\u5de5\u5be9\u6838</li> <li>\u932f\u8aa4\u8655\u7406</li> <li>\u6548\u80fd\u512a\u5316</li> </ol>"},{"location":"react-pattern/","title":"ReAct \u6a21\u5f0f\u5b78\u7fd2\u8def\u5f91","text":""},{"location":"react-pattern/#react_1","title":"\u6b61\u8fce\u4f86\u5230 ReAct \u6a21\u5f0f\u5b78\u7fd2\u4e4b\u65c5","text":"<p>ReAct (Reasoning and Acting) \u662f\u4e00\u7a2e\u9769\u547d\u6027\u7684 AI Agent \u8a2d\u8a08\u6a21\u5f0f,\u5b83\u5c07**\u63a8\u7406 (Reasoning)** \u8207**\u884c\u52d5 (Acting)** \u5b8c\u7f8e\u7d50\u5408,\u8b93 AI \u80fd\u5920\u50cf\u4eba\u985e\u4e00\u6a23\u601d\u8003\u4e26\u89e3\u6c7a\u8907\u96dc\u554f\u984c\u3002</p> <p>\u5728\u50b3\u7d71\u7684 AI \u7cfb\u7d71\u4e2d,\u6a21\u578b\u8981\u9ebc\u53ea\u6703\u63a8\u7406(\u7d14\u601d\u8003,\u7121\u6cd5\u884c\u52d5),\u8981\u9ebc\u53ea\u6703\u884c\u52d5(\u76f2\u76ee\u57f7\u884c,\u7f3a\u4e4f\u601d\u8003)\u3002ReAct \u6253\u7834\u4e86\u9019\u500b\u9650\u5236,\u901a\u904e**\u4ea4\u66ff\u9032\u884c\u63a8\u7406\u548c\u884c\u52d5**,\u4f7f AI Agent \u80fd\u5920:</p> <ul> <li>\ud83e\udde0 \u4e3b\u52d5\u601d\u8003:\u5728\u6bcf\u4e00\u6b65\u4e4b\u524d\u5148\u5206\u6790\u554f\u984c,\u898f\u5283\u7b56\u7565</li> <li>\ud83c\udfaf \u7cbe\u6e96\u884c\u52d5:\u6839\u64da\u601d\u8003\u7d50\u679c\u9078\u64c7\u6700\u5408\u9069\u7684\u5de5\u5177\u57f7\u884c</li> <li>\ud83d\udc41\ufe0f \u6301\u7e8c\u89c0\u5bdf:\u5f9e\u884c\u52d5\u7d50\u679c\u4e2d\u5b78\u7fd2,\u8abf\u6574\u4e0b\u4e00\u6b65\u7b56\u7565</li> <li>\ud83d\udd04 \u52d5\u614b\u8abf\u6574:\u6839\u64da\u89c0\u5bdf\u7d50\u679c\u4e0d\u65b7\u512a\u5316\u63a8\u7406\u548c\u884c\u52d5</li> </ul> <p>\u9019\u7a2e\u6a21\u5f0f\u7279\u5225\u9069\u5408\u9700\u8981**\u591a\u6b65\u9a5f\u63a8\u7406**\u3001**\u5de5\u5177\u8abf\u7528**\u548c**\u52d5\u614b\u6c7a\u7b56**\u7684\u8907\u96dc\u4efb\u52d9,\u662f\u76ee\u524d\u6700\u5148\u9032\u7684 AI Agent \u5be6\u4f5c\u65b9\u6cd5\u4e4b\u4e00\u3002</p>"},{"location":"react-pattern/#_1","title":"\ud83d\udcda \u5b78\u7fd2\u5730\u5716","text":"<pre><code>flowchart TD\n    Start([\u958b\u59cb\u5b78\u7fd2 ReAct]) --&gt; Index[\u5b78\u7fd2\u8def\u5f91\u7e3d\u89bd]\n\n    Index --&gt; Basic[\u57fa\u790e\u7bc7]\n    Basic --&gt; B1[01. ReAct \u6a21\u5f0f\u4ecb\u7d39]\n    Basic --&gt; B2[02. ReAct \u6838\u5fc3\u7d44\u4ef6]\n    Basic --&gt; B3[03. Prompt Engineering]\n\n    B3 --&gt; Implement[\u5be6\u4f5c\u7bc7]\n    Implement --&gt; I1[04. LangChain \u5be6\u4f5c]\n    Implement --&gt; I2[05. \u81ea\u5b9a\u7fa9 Tools]\n    Implement --&gt; I3[06. \u932f\u8aa4\u8655\u7406]\n\n    I3 --&gt; Advanced[\u9032\u968e\u7bc7]\n    Advanced --&gt; A1[07. \u591a Agent \u5354\u4f5c]\n    Advanced --&gt; A2[08. \u6548\u80fd\u512a\u5316]\n    Advanced --&gt; A3[09. \u751f\u7522\u90e8\u7f72]\n\n    A3 --&gt; Practice[\u5be6\u6230\u5c08\u6848]\n    Practice --&gt; P1[\u5c08\u6848 1: \u667a\u80fd\u5ba2\u670d]\n    Practice --&gt; P2[\u5c08\u6848 2: \u6578\u64da\u5206\u6790\u52a9\u624b]\n    Practice --&gt; P3[\u5c08\u6848 3: \u81ea\u52d5\u5316\u5de5\u4f5c\u6d41]\n\n    P3 --&gt; End([\u5b8c\u6210\u5b78\u7fd2])\n\n    style Start fill:#e1f5e1\n    style End fill:#e1f5e1\n    style Basic fill:#fff4e1\n    style Implement fill:#e1f0ff\n    style Advanced fill:#ffe1f0\n    style Practice fill:#f0e1ff</code></pre>"},{"location":"react-pattern/#_2","title":"\ud83c\udfaf \u5efa\u8b70\u5b78\u7fd2\u9806\u5e8f","text":""},{"location":"react-pattern/#3-4","title":"\ud83c\udf31 \u521d\u7d1a\u968e\u6bb5 (\u9810\u8a08 3-4 \u5c0f\u6642)","text":"<p>\u638c\u63e1 ReAct \u7684\u6838\u5fc3\u6982\u5ff5\u548c\u57fa\u672c\u539f\u7406\u3002</p> <p>\u5b78\u7fd2\u76ee\u6a19: - \u2705 \u7406\u89e3 ReAct \u662f\u4ec0\u9ebc,\u70ba\u4ec0\u9ebc\u9700\u8981\u5b83 - \u2705 \u638c\u63e1 Thought\u3001Action\u3001Observation \u4e09\u5927\u7d44\u4ef6 - \u2705 \u4e86\u89e3\u5982\u4f55\u8a2d\u8a08 ReAct Prompt - \u2705 \u80fd\u5920\u95b1\u8b80\u548c\u7406\u89e3 ReAct \u57f7\u884c\u65e5\u8a8c</p> <p>\u5b78\u7fd2\u5167\u5bb9: 1. ReAct \u6a21\u5f0f\u4ecb\u7d39 (01-react-intro.md)    - ReAct \u7684\u5b9a\u7fa9\u8207\u6838\u5fc3\u7406\u5ff5    - \u5de5\u4f5c\u539f\u7406\u8207\u57f7\u884c\u6d41\u7a0b    - \u512a\u52e2\u8207\u9650\u5236\u5206\u6790    - \u5be6\u969b\u57f7\u884c\u7bc4\u4f8b</p> <ol> <li>ReAct \u6838\u5fc3\u7d44\u4ef6 (02-react-components.md)</li> <li>Thought \u7d44\u4ef6\u6df1\u5165\u89e3\u6790</li> <li>Action \u7d44\u4ef6\u8a2d\u8a08\u898f\u7bc4</li> <li>Observation \u7d44\u4ef6\u8655\u7406\u65b9\u5f0f</li> <li> <p>\u4e09\u8005\u4e92\u52d5\u7684\u5b8c\u6574\u6d41\u7a0b</p> </li> <li> <p>Prompt Engineering (03-prompt-engineering.md)</p> </li> <li>ReAct Prompt \u7d50\u69cb\u8a2d\u8a08</li> <li>\u5982\u4f55\u5f15\u5c0e\u6a21\u578b\u601d\u8003</li> <li>\u5e38\u898b Prompt \u6a21\u677f</li> <li>Prompt \u512a\u5316\u6280\u5de7</li> </ol> <p>\u5b78\u7fd2\u9a57\u8b49: - [ ] \u80fd\u5920\u89e3\u91cb ReAct \u7684\u57f7\u884c\u5faa\u74b0 - [ ] \u80fd\u5920\u8b58\u5225 Thought\u3001Action\u3001Observation - [ ] \u80fd\u5920\u8a2d\u8a08\u7c21\u55ae\u7684 ReAct Prompt</p>"},{"location":"react-pattern/#5-6","title":"\ud83d\ude80 \u4e2d\u7d1a\u968e\u6bb5 (\u9810\u8a08 5-6 \u5c0f\u6642)","text":"<p>\u5b78\u7fd2\u5982\u4f55\u5728\u5be6\u969b\u5c08\u6848\u4e2d\u5be6\u4f5c ReAct Agent\u3002</p> <p>\u5b78\u7fd2\u76ee\u6a19: - \u2705 \u4f7f\u7528 LangChain \u6846\u67b6\u5efa\u7acb ReAct Agent - \u2705 \u81ea\u5b9a\u7fa9\u5de5\u5177\u4e26\u6574\u5408\u5230 Agent - \u2705 \u8655\u7406\u57f7\u884c\u932f\u8aa4\u8207\u7570\u5e38\u60c5\u6cc1 - \u2705 \u5efa\u7acb\u53ef\u7528\u65bc\u751f\u7522\u7684 Agent</p> <p>\u5b78\u7fd2\u5167\u5bb9: 4. LangChain \u5be6\u4f5c (04-langchain-implementation.md)    - LangChain ReAct Agent \u67b6\u69cb    - create_react_agent \u8a73\u89e3    - Agent Executor \u914d\u7f6e    - \u5be6\u6230\u6848\u4f8b:\u5ba2\u670d\u52a9\u624b</p> <ol> <li>\u81ea\u5b9a\u7fa9 Tools (05-custom-tools.md)</li> <li>Tool \u7684\u5b9a\u7fa9\u8207\u8a2d\u8a08\u539f\u5247</li> <li>\u4f7f\u7528 @tool \u88dd\u98fe\u5668</li> <li>Tool \u53c3\u6578\u8a2d\u8a08</li> <li> <p>Tool \u932f\u8aa4\u8655\u7406</p> </li> <li> <p>\u932f\u8aa4\u8655\u7406\u8207\u9664\u932f (06-error-handling.md)</p> </li> <li>\u5e38\u898b\u932f\u8aa4\u985e\u578b</li> <li>\u932f\u8aa4\u8655\u7406\u7b56\u7565</li> <li>\u91cd\u8a66\u6a5f\u5236\u8a2d\u8a08</li> <li>\u9664\u932f\u6280\u5de7\u8207\u5de5\u5177</li> </ol> <p>\u5b78\u7fd2\u9a57\u8b49: - [ ] \u80fd\u5920\u5efa\u7acb\u57fa\u672c\u7684 ReAct Agent - [ ] \u80fd\u5920\u81ea\u5b9a\u7fa9\u81f3\u5c11 3 \u500b Tools - [ ] \u80fd\u5920\u8655\u7406\u5e38\u898b\u7684\u57f7\u884c\u932f\u8aa4</p>"},{"location":"react-pattern/#6-8","title":"\ud83c\udf93 \u9032\u968e\u968e\u6bb5 (\u9810\u8a08 6-8 \u5c0f\u6642)","text":"<p>\u63a2\u7d22 ReAct \u7684\u9ad8\u7d1a\u61c9\u7528\u548c\u6700\u4f73\u5be6\u8e10\u3002</p> <p>\u5b78\u7fd2\u76ee\u6a19: - \u2705 \u8a2d\u8a08\u591a Agent \u5354\u4f5c\u7cfb\u7d71 - \u2705 \u512a\u5316 Agent \u6548\u80fd\u8207\u6210\u672c - \u2705 \u90e8\u7f72 Agent \u5230\u751f\u7522\u74b0\u5883 - \u2705 \u76e3\u63a7\u8207\u7dad\u8b77 Agent \u7cfb\u7d71</p> <p>\u5b78\u7fd2\u5167\u5bb9: 7. \u591a Agent \u5354\u4f5c (07-multi-agent.md)    - \u591a Agent \u67b6\u69cb\u8a2d\u8a08    - Agent \u9593\u901a\u8a0a\u6a5f\u5236    - \u4efb\u52d9\u5206\u914d\u8207\u5354\u8abf    - \u5be6\u6230\u6848\u4f8b:\u5718\u968a\u5354\u4f5c\u7cfb\u7d71</p> <ol> <li>\u6548\u80fd\u512a\u5316 (08-performance-optimization.md)</li> <li>Token \u4f7f\u7528\u512a\u5316</li> <li>\u5feb\u53d6\u7b56\u7565\u8a2d\u8a08</li> <li>\u4e26\u884c\u8655\u7406\u6280\u5de7</li> <li> <p>\u6210\u672c\u63a7\u5236\u65b9\u6cd5</p> </li> <li> <p>\u751f\u7522\u90e8\u7f72 (09-production-deployment.md)</p> </li> <li>\u90e8\u7f72\u67b6\u69cb\u8a2d\u8a08</li> <li>API \u670d\u52d9\u5efa\u7acb</li> <li>\u76e3\u63a7\u8207\u65e5\u8a8c</li> <li>\u5b89\u5168\u6027\u8003\u91cf</li> </ol> <p>\u5b78\u7fd2\u9a57\u8b49: - [ ] \u80fd\u5920\u8a2d\u8a08\u591a Agent \u7cfb\u7d71 - [ ] \u80fd\u5920\u512a\u5316 Agent \u6548\u80fd - [ ] \u80fd\u5920\u90e8\u7f72 Agent \u5230\u751f\u7522\u74b0\u5883</p>"},{"location":"react-pattern/#10-15","title":"\ud83d\udcbc \u5be6\u6230\u5c08\u6848\u968e\u6bb5 (\u9810\u8a08 10-15 \u5c0f\u6642)","text":"<p>\u901a\u904e\u5b8c\u6574\u5c08\u6848\u6574\u5408\u6240\u5b78\u77e5\u8b58\u3002</p> <p>\u5c08\u6848 1: \u667a\u80fd\u5ba2\u670d\u7cfb\u7d71 - \u5efa\u7acb\u591a\u8f2a\u5c0d\u8a71\u5ba2\u670d Agent - \u6574\u5408\u4fdd\u55ae\u67e5\u8a62\u3001\u7406\u8ce0\u67e5\u8a62\u7b49\u5de5\u5177 - \u5be6\u4f5c\u5c0d\u8a71\u6b77\u53f2\u7ba1\u7406 - \u90e8\u7f72\u70ba Web API \u670d\u52d9</p> <p>\u5c08\u6848 2: \u6578\u64da\u5206\u6790\u52a9\u624b - \u5efa\u7acb\u80fd\u5920\u5206\u6790\u8cc7\u6599\u7684 Agent - \u6574\u5408 SQL \u67e5\u8a62\u3001\u5716\u8868\u751f\u6210\u5de5\u5177 - \u5be6\u4f5c\u81ea\u7136\u8a9e\u8a00\u8f49 SQL - \u751f\u6210\u5206\u6790\u5831\u544a</p> <p>\u5c08\u6848 3: \u81ea\u52d5\u5316\u5de5\u4f5c\u6d41 Agent - \u5efa\u7acb\u4efb\u52d9\u81ea\u52d5\u5316 Agent - \u6574\u5408\u90f5\u4ef6\u3001\u6a94\u6848\u8655\u7406\u5de5\u5177 - \u5be6\u4f5c\u591a\u6b65\u9a5f\u5de5\u4f5c\u6d41 - \u7570\u5e38\u8655\u7406\u8207\u901a\u77e5</p>"},{"location":"react-pattern/#_3","title":"\u23f1\ufe0f \u9810\u8a08\u5b78\u7fd2\u6642\u9593","text":"\u968e\u6bb5 \u5167\u5bb9 \u9810\u8a08\u6642\u9593 \u7d2f\u8a08\u6642\u9593 \ud83c\udf31 \u521d\u7d1a \u57fa\u790e\u7406\u8ad6 (3 \u7bc7) 3-4 \u5c0f\u6642 3-4 \u5c0f\u6642 \ud83d\ude80 \u4e2d\u7d1a \u5be6\u4f5c\u6280\u8853 (3 \u7bc7) 5-6 \u5c0f\u6642 8-10 \u5c0f\u6642 \ud83c\udf93 \u9032\u968e \u9ad8\u7d1a\u61c9\u7528 (3 \u7bc7) 6-8 \u5c0f\u6642 14-18 \u5c0f\u6642 \ud83d\udcbc \u5be6\u6230 \u5b8c\u6574\u5c08\u6848 (3 \u500b) 10-15 \u5c0f\u6642 24-33 \u5c0f\u6642 \u7e3d\u8a08 \u5b8c\u6574\u5b78\u7fd2 24-33 \u5c0f\u6642 - <p>\ud83d\udca1 \u5b78\u7fd2\u5efa\u8b70: \u5efa\u8b70\u6bcf\u5929\u5b78\u7fd2 2-3 \u5c0f\u6642,\u6301\u7e8c 2-3 \u9031\u5b8c\u6210\u6574\u500b\u8ab2\u7a0b\u3002\u6bcf\u5b78\u5b8c\u4e00\u500b\u968e\u6bb5\u5f8c,\u5be6\u969b\u52d5\u624b\u7df4\u7fd2\u81f3\u5c11 2-3 \u500b\u5c0f\u6642\u3002</p>"},{"location":"react-pattern/#_4","title":"\ud83d\udccb \u5148\u4fee\u77e5\u8b58\u8981\u6c42","text":""},{"location":"react-pattern/#_5","title":"\u5fc5\u5099\u77e5\u8b58 \u2705","text":"<ol> <li>Python \u7a0b\u5f0f\u8a2d\u8a08</li> <li>\u57fa\u790e\u8a9e\u6cd5 (\u8b8a\u6578\u3001\u51fd\u6578\u3001\u985e\u5225)</li> <li>\u88dd\u98fe\u5668 (Decorators)</li> <li>\u578b\u5225\u63d0\u793a (Type Hints)</li> <li> <p>\u7570\u6b65\u7a0b\u5f0f\u8a2d\u8a08 (Async/Await) - \u57fa\u790e\u5373\u53ef</p> </li> <li> <p>LLM \u57fa\u790e\u6982\u5ff5</p> </li> <li>\u4e86\u89e3\u4ec0\u9ebc\u662f Large Language Model</li> <li>\u77e5\u9053 Prompt Engineering \u57fa\u672c\u539f\u7406</li> <li> <p>\u719f\u6089 OpenAI API \u4f7f\u7528 (\u6216\u5176\u4ed6 LLM API)</p> </li> <li> <p>LangChain \u6846\u67b6 (\u63a8\u85a6)</p> </li> <li>\u4e86\u89e3 LangChain \u57fa\u672c\u67b6\u69cb</li> <li>\u719f\u6089 Chains \u548c Agents \u6982\u5ff5</li> <li>\u5b8c\u6210\u904e LangChain \u57fa\u790e\u6559\u5b78</li> </ol>"},{"location":"react-pattern/#_6","title":"\u5efa\u8b70\u5148\u4fee\u8ab2\u7a0b \ud83d\udcda","text":"<p>\u5982\u679c\u4f60\u9084\u4e0d\u719f\u6089\u4ee5\u4e0a\u77e5\u8b58,\u5efa\u8b70\u5148\u5b8c\u6210:</p> <ul> <li>Python \u57fa\u790e: \u4efb\u4f55 Python \u5165\u9580\u8ab2\u7a0b</li> <li>LangChain \u57fa\u790e: \u672c\u7ad9\u7684 LangChain Tutorial</li> <li>LLM \u6982\u5ff5: OpenAI \u5b98\u65b9\u6587\u6a94\u6216\u76f8\u95dc\u5165\u9580\u6587\u7ae0</li> </ul>"},{"location":"react-pattern/#_7","title":"\ud83c\udfaf \u9069\u7528\u5834\u666f","text":"<p>ReAct \u6a21\u5f0f\u7279\u5225\u9069\u5408\u4ee5\u4e0b\u61c9\u7528\u5834\u666f:</p>"},{"location":"react-pattern/#react_2","title":"\u2705 \u63a8\u85a6\u4f7f\u7528 ReAct","text":"<ol> <li>\u9700\u8981\u591a\u6b65\u9a5f\u63a8\u7406\u7684\u4efb\u52d9</li> <li>\u8907\u96dc\u554f\u984c\u5206\u6790</li> <li>\u6578\u5b78\u8a08\u7b97\u8207\u63a8\u5c0e</li> <li> <p>\u908f\u8f2f\u63a8\u7406\u554f\u984c</p> </li> <li> <p>\u9700\u8981\u5de5\u5177\u8abf\u7528\u7684\u4efb\u52d9</p> </li> <li>\u8cc7\u6599\u67e5\u8a62 (\u8cc7\u6599\u5eab\u3001API)</li> <li>\u8a08\u7b97\u57f7\u884c (\u8a08\u7b97\u5668\u3001\u7a0b\u5f0f\u57f7\u884c)</li> <li> <p>\u8cc7\u8a0a\u6aa2\u7d22 (\u641c\u5c0b\u5f15\u64ce\u3001\u6587\u6a94\u67e5\u8a62)</p> </li> <li> <p>\u9700\u8981\u52d5\u614b\u6c7a\u7b56\u7684\u4efb\u52d9</p> </li> <li>\u5ba2\u670d\u5c0d\u8a71\u7cfb\u7d71</li> <li>\u4efb\u52d9\u898f\u5283\u8207\u57f7\u884c</li> <li> <p>\u6578\u64da\u5206\u6790\u8207\u5831\u544a\u751f\u6210</p> </li> <li> <p>\u9700\u8981\u53ef\u89e3\u91cb\u6027\u7684\u4efb\u52d9</p> </li> <li>\u9700\u8981\u8ffd\u8e64\u6c7a\u7b56\u904e\u7a0b</li> <li>\u9700\u8981\u9664\u932f\u548c\u512a\u5316</li> <li>\u9700\u8981\u5411\u4f7f\u7528\u8005\u89e3\u91cb\u57f7\u884c\u908f\u8f2f</li> </ol>"},{"location":"react-pattern/#react_3","title":"\u274c \u4e0d\u63a8\u85a6\u4f7f\u7528 ReAct","text":"<ol> <li>\u7c21\u55ae\u7684\u554f\u7b54\u4efb\u52d9</li> <li>\u55ae\u4e00\u67e5\u8a62\u5373\u53ef\u56de\u7b54</li> <li>\u4e0d\u9700\u8981\u5de5\u5177\u8abf\u7528</li> <li> <p>\u6210\u672c\u8003\u91cf (ReAct \u8f03\u6602\u8cb4)</p> </li> <li> <p>\u5373\u6642\u6027\u8981\u6c42\u6975\u9ad8\u7684\u4efb\u52d9</p> </li> <li>\u9700\u8981\u6beb\u79d2\u7d1a\u56de\u61c9</li> <li>\u5ef6\u9072\u654f\u611f\u7684\u61c9\u7528</li> <li> <p>(\u53ef\u8003\u616e\u7c21\u5316\u7248\u6216\u5feb\u53d6\u7b56\u7565)</p> </li> <li> <p>\u8cc7\u6e90\u53d7\u9650\u7684\u74b0\u5883</p> </li> <li>Token \u9810\u7b97\u6709\u9650</li> <li>API \u547c\u53eb\u6b21\u6578\u53d7\u9650</li> <li>\u6210\u672c\u654f\u611f\u7684\u61c9\u7528</li> </ol>"},{"location":"react-pattern/#_8","title":"\ud83d\udcd6 \u5b78\u7fd2\u8cc7\u6e90","text":""},{"location":"react-pattern/#_9","title":"\u5b98\u65b9\u6587\u6a94","text":"<ul> <li>ReAct \u539f\u59cb\u8ad6\u6587 - Yao et al., 2022</li> <li>LangChain ReAct Agent</li> <li>OpenAI Function Calling</li> </ul>"},{"location":"react-pattern/#_10","title":"\u63a8\u85a6\u95b1\u8b80","text":"<ul> <li>\u57fa\u790e\u7bc7: \u5148\u95b1\u8b80 LangChain \u5b98\u65b9\u7684 Agent \u6587\u6a94</li> <li>\u9032\u968e\u7bc7: \u95b1\u8b80 ReAct \u8ad6\u6587\u4e86\u89e3\u7406\u8ad6\u57fa\u790e</li> <li>\u5be6\u6230\u7bc7: \u53c3\u8003 LangChain Cookbook \u7684\u7bc4\u4f8b</li> </ul>"},{"location":"react-pattern/#_11","title":"\u793e\u7fa4\u8cc7\u6e90","text":"<ul> <li>GitHub: \u641c\u5c0b \"langchain react agent\" \u627e\u5be6\u4f5c\u7bc4\u4f8b</li> <li>Discord: \u52a0\u5165 LangChain \u5b98\u65b9 Discord \u793e\u7fa4</li> <li>Stack Overflow: \u641c\u5c0b\u76f8\u95dc\u554f\u984c\u8207\u89e3\u7b54</li> </ul>"},{"location":"react-pattern/#_12","title":"\ud83d\ude80 \u958b\u59cb\u5b78\u7fd2","text":"<p>\u6e96\u5099\u597d\u4e86\u55ce?\u8b93\u6211\u5011\u5f9e\u7b2c\u4e00\u7bc7\u958b\u59cb:</p> <p>\ud83d\udc49 01. ReAct \u6a21\u5f0f\u4ecb\u7d39</p> <p>\u5728\u9019\u7bc7\u6587\u7ae0\u4e2d,\u4f60\u5c07\u5b78\u5230: - ReAct \u7684\u6838\u5fc3\u7406\u5ff5 - \u5b8c\u6574\u7684\u57f7\u884c\u6d41\u7a0b - \u5be6\u969b\u7684\u57f7\u884c\u7bc4\u4f8b - \u70ba\u4ec0\u9ebc ReAct \u5982\u6b64\u5f37\u5927</p>"},{"location":"react-pattern/#_13","title":"\ud83d\udcac \u5b78\u7fd2\u5efa\u8b70","text":"<ol> <li>\u5faa\u5e8f\u6f38\u9032: \u6309\u7167\u5efa\u8b70\u9806\u5e8f\u5b78\u7fd2,\u4e0d\u8981\u8df3\u904e\u57fa\u790e\u7bc7</li> <li>\u52d5\u624b\u5be6\u4f5c: \u6bcf\u5b78\u5b8c\u4e00\u7bc7\u6587\u7ae0,\u7acb\u5373\u52d5\u624b\u5beb\u7a0b\u5f0f\u9a57\u8b49</li> <li>\u8a18\u9304\u7b46\u8a18: \u8a18\u9304\u9047\u5230\u7684\u554f\u984c\u548c\u89e3\u6c7a\u65b9\u6cd5</li> <li>\u53c3\u8207\u8a0e\u8ad6: \u5728\u793e\u7fa4\u4e2d\u5206\u4eab\u5b78\u7fd2\u5fc3\u5f97,\u5411\u4ed6\u4eba\u8acb\u6559</li> <li>\u5b8c\u6210\u5c08\u6848: \u6700\u5f8c\u7684\u5be6\u6230\u5c08\u6848\u52d9\u5fc5\u5b8c\u6210\u81f3\u5c11\u4e00\u500b</li> </ol> <p>\u8a18\u4f4f: ReAct \u4e0d\u53ea\u662f\u4e00\u500b\u6280\u8853,\u66f4\u662f\u4e00\u7a2e\u601d\u8003\u65b9\u5f0f\u3002\u7406\u89e3\u5176\u80cc\u5f8c\u7684\u63a8\u7406\u908f\u8f2f,\u6bd4\u55ae\u7d14\u8a18\u61b6\u8a9e\u6cd5\u66f4\u91cd\u8981!</p> <p>\u6e96\u5099\u597d\u958b\u59cb\u9019\u6bb5\u7cbe\u5f69\u7684\u5b78\u7fd2\u4e4b\u65c5\u4e86\u55ce? \ud83c\udf89</p> <p>\u8b93\u6211\u5011\u4e00\u8d77\u63a2\u7d22 ReAct \u6a21\u5f0f\u7684\u5967\u79d8,\u5efa\u7acb\u771f\u6b63\u667a\u80fd\u7684 AI Agent!</p>"},{"location":"react-pattern/01-react-intro/","title":"01. ReAct \u6a21\u5f0f\u4ecb\u7d39","text":""},{"location":"react-pattern/01-react-intro/#react","title":"\u4ec0\u9ebc\u662f ReAct?","text":"<p>ReAct \u662f **Re**asoning and **Act**ing \u7684\u7e2e\u5beb,\u662f\u4e00\u7a2e\u9769\u547d\u6027\u7684 AI Agent \u8a2d\u8a08\u6a21\u5f0f,\u7531 Yao et al. \u5728 2022 \u5e74\u63d0\u51fa\u3002\u5b83\u7684\u6838\u5fc3\u7406\u5ff5\u662f:</p> <p>\u8b93 AI \u50cf\u4eba\u985e\u4e00\u6a23,\u5728\u601d\u8003 (Reasoning) \u548c\u884c\u52d5 (Acting) \u4e4b\u9593\u4e0d\u65b7\u5faa\u74b0,\u900f\u904e\u89c0\u5bdf\u884c\u52d5\u7d50\u679c\u4f86\u6301\u7e8c\u512a\u5316\u63a8\u7406\u904e\u7a0b\u3002</p>"},{"location":"react-pattern/01-react-intro/#react_1","title":"ReAct \u7684\u6838\u5fc3\u7406\u5ff5","text":"<p>\u60f3\u50cf\u4f60\u6b63\u5728\u89e3\u6c7a\u4e00\u500b\u8907\u96dc\u554f\u984c,\u4f8b\u5982\u898f\u5283\u4e00\u8d9f\u65c5\u884c:</p> <ol> <li>\ud83e\udde0 \u601d\u8003: \"\u6211\u9700\u8981\u5148\u67e5\u8a62\u76ee\u7684\u5730\u7684\u5929\u6c23\"</li> <li>\ud83c\udfaf \u884c\u52d5: \u4f7f\u7528\u5929\u6c23\u67e5\u8a62\u5de5\u5177</li> <li>\ud83d\udc41\ufe0f \u89c0\u5bdf: \"\u672a\u4f86\u4e09\u5929\u90fd\u662f\u6674\u5929\"</li> <li>\ud83e\udde0 \u601d\u8003: \"\u5929\u6c23\u4e0d\u932f,\u90a3\u6211\u518d\u67e5\u8a62\u98ef\u5e97\u50f9\u683c\"</li> <li>\ud83c\udfaf \u884c\u52d5: \u4f7f\u7528\u98ef\u5e97\u50f9\u683c\u67e5\u8a62\u5de5\u5177</li> <li>\ud83d\udc41\ufe0f \u89c0\u5bdf: \"\u4e94\u661f\u7d1a\u98ef\u5e97\u4e00\u665a 5000 \u5143\"</li> <li>\ud83e\udde0 \u601d\u8003: \"\u9810\u7b97\u5167\u53ef\u63a5\u53d7,\u78ba\u8a8d\u8a02\u623f\"</li> </ol> <p>\u9019\u5c31\u662f ReAct \u7684\u6838\u5fc3:\u4e0d\u65b7\u5728**\u601d\u8003**\u3001\u884c\u52d5\u3001**\u89c0\u5bdf**\u4e4b\u9593\u5faa\u74b0,\u76f4\u5230\u554f\u984c\u89e3\u6c7a\u3002</p>"},{"location":"react-pattern/01-react-intro/#react_2","title":"ReAct \u7684\u8a95\u751f\u80cc\u666f","text":"<p>\u5728 ReAct \u51fa\u73fe\u4e4b\u524d,AI Agent \u9762\u81e8\u5169\u5927\u56f0\u5883:</p>"},{"location":"react-pattern/01-react-intro/#1","title":"\u274c \u56f0\u5883 1: \u7d14\u63a8\u7406\u6a21\u578b\u7684\u9650\u5236","text":"<p>\u50b3\u7d71\u7684 Chain-of-Thought (CoT) \u6a21\u578b\u53ea\u6703\u63a8\u7406,\u7121\u6cd5\u57f7\u884c\u5be6\u969b\u64cd\u4f5c:</p> Text Only<pre><code>\u4f7f\u7528\u8005: \u53f0\u5317\u4eca\u5929\u7684\u5929\u6c23\u5982\u4f55?\n\nAI (\u7d14\u63a8\u7406):\n\u601d\u8003: \u6211\u9700\u8981\u77e5\u9053\u53f0\u5317\u4eca\u5929\u7684\u5929\u6c23...\n\u601d\u8003: \u53f0\u5317\u662f\u53f0\u7063\u7684\u9996\u90fd,\u901a\u5e38\u6c23\u5019\u6eab\u6696...\n\u601d\u8003: \u4eca\u5929\u662f\u590f\u5929,\u53ef\u80fd\u6703\u5f88\u71b1...\n\u56de\u7b54: \u6839\u64da\u63a8\u7406,\u53f0\u5317\u4eca\u5929\u61c9\u8a72\u662f\u708e\u71b1\u7684\u5929\u6c23\n\n\u274c \u554f\u984c: \u7d14\u9760\u63a8\u7406,\u7121\u6cd5\u53d6\u5f97\u5373\u6642\u6e96\u78ba\u7684\u5929\u6c23\u8cc7\u8a0a\n</code></pre>"},{"location":"react-pattern/01-react-intro/#2","title":"\u274c \u56f0\u5883 2: \u7d14\u884c\u52d5\u6a21\u578b\u7684\u9650\u5236","text":"<p>\u53ea\u6703\u4f7f\u7528\u5de5\u5177\u7684\u6a21\u578b\u7f3a\u4e4f\u63a8\u7406\u80fd\u529b,\u53ef\u80fd\u76f2\u76ee\u57f7\u884c:</p> Text Only<pre><code>\u4f7f\u7528\u8005: \u53f0\u5317\u4eca\u5929\u7684\u5929\u6c23\u5982\u4f55?\n\nAI (\u7d14\u884c\u52d5):\n\u884c\u52d5: \u547c\u53eb weather_api(\"\u53f0\u5317\")\n\u884c\u52d5: \u547c\u53eb traffic_api(\"\u53f0\u5317\")  \u274c \u4e0d\u9700\u8981\n\u884c\u52d5: \u547c\u53eb stock_api(\"\u53f0\u5317\")   \u274c \u4e0d\u9700\u8981\n\n\u274c \u554f\u984c: \u6c92\u6709\u601d\u8003\u5c31\u884c\u52d5,\u6d6a\u8cbb\u8cc7\u6e90\u4e14\u53ef\u80fd\u5f97\u5230\u7121\u95dc\u7d50\u679c\n</code></pre>"},{"location":"react-pattern/01-react-intro/#react_3","title":"\u2705 ReAct \u7684\u89e3\u6c7a\u65b9\u6848","text":"<p>ReAct \u7d50\u5408\u4e86\u5169\u8005\u7684\u512a\u52e2:</p> Text Only<pre><code>\u4f7f\u7528\u8005: \u53f0\u5317\u4eca\u5929\u7684\u5929\u6c23\u5982\u4f55?\n\nAI (ReAct):\nThought: \u6211\u9700\u8981\u67e5\u8a62\u53f0\u5317\u7684\u5373\u6642\u5929\u6c23\u8cc7\u8a0a\nAction: weather_api\nAction Input: {\"location\": \"\u53f0\u5317\", \"date\": \"today\"}\nObservation: \u6674\u5929,\u6eab\u5ea6 28\u00b0C,\u6fd5\u5ea6 65%\n\nThought: \u6211\u5df2\u7d93\u53d6\u5f97\u6e96\u78ba\u7684\u5929\u6c23\u8cc7\u8a0a,\u53ef\u4ee5\u56de\u7b54\u4e86\nFinal Answer: \u53f0\u5317\u4eca\u5929\u662f\u6674\u5929,\u6eab\u5ea6 28\u00b0C,\u6fd5\u5ea6 65%,\u5929\u6c23\u4e0d\u932f!\n\n\u2705 \u5b8c\u7f8e\u7d50\u5408\u63a8\u7406\u8207\u884c\u52d5!\n</code></pre>"},{"location":"react-pattern/01-react-intro/#react_4","title":"ReAct \u7684\u5de5\u4f5c\u539f\u7406","text":"<p>ReAct \u7684\u6838\u5fc3\u662f\u4e09\u500b\u7d44\u4ef6\u7684\u5faa\u74b0\u4e92\u52d5:</p>"},{"location":"react-pattern/01-react-intro/#1-reasoning","title":"1\ufe0f\u20e3 Reasoning (\u63a8\u7406)","text":"<p>\u5728\u6bcf\u4e00\u6b65\u884c\u52d5\u524d,AI \u6703\u5148**\u601d\u8003**: - \u7576\u524d\u7684\u76ee\u6a19\u662f\u4ec0\u9ebc? - \u6211\u5df2\u7d93\u77e5\u9053\u54ea\u4e9b\u8cc7\u8a0a? - \u4e0b\u4e00\u6b65\u61c9\u8a72\u505a\u4ec0\u9ebc? - \u61c9\u8a72\u4f7f\u7528\u54ea\u500b\u5de5\u5177?</p>"},{"location":"react-pattern/01-react-intro/#2-acting","title":"2\ufe0f\u20e3 Acting (\u884c\u52d5)","text":"<p>\u6839\u64da\u63a8\u7406\u7d50\u679c,AI \u9078\u64c7\u4e26**\u57f7\u884c**\u5177\u9ad4\u64cd\u4f5c: - \u9078\u64c7\u5408\u9069\u7684\u5de5\u5177 - \u63d0\u4f9b\u6b63\u78ba\u7684\u8f38\u5165\u53c3\u6578 - \u5be6\u969b\u547c\u53eb\u5de5\u5177</p>"},{"location":"react-pattern/01-react-intro/#3-observation","title":"3\ufe0f\u20e3 Observation (\u89c0\u5bdf)","text":"<p>AI **\u89c0\u5bdf**\u884c\u52d5\u7684\u7d50\u679c: - \u5de5\u5177\u57f7\u884c\u6210\u529f\u4e86\u55ce? - \u5f97\u5230\u4e86\u4ec0\u9ebc\u8cc7\u8a0a? - \u662f\u5426\u9700\u8981\u9032\u4e00\u6b65\u884c\u52d5?</p>"},{"location":"react-pattern/01-react-intro/#react_5","title":"ReAct \u5faa\u74b0\u6d41\u7a0b","text":"<pre><code>graph TD\n    A[\u4f7f\u7528\u8005\u554f\u984c] --&gt; B[Thought: \u63a8\u7406\u601d\u8003]\n    B --&gt; C{\u9700\u8981\u884c\u52d5?}\n    C --&gt;|\u662f| D[Action: \u9078\u64c7\u4e26\u57f7\u884c\u5de5\u5177]\n    D --&gt; E[Observation: \u89c0\u5bdf\u7d50\u679c]\n    E --&gt; F{\u8cc7\u8a0a\u8db3\u5920?}\n    F --&gt;|\u5426| B\n    F --&gt;|\u662f| G[Final Answer: \u63d0\u4f9b\u7b54\u6848]\n    C --&gt;|\u5426| G\n\n    style A fill:#e1f5e1\n    style G fill:#e1f5e1\n    style B fill:#fff4e1\n    style D fill:#e1f0ff\n    style E fill:#ffe1f0</code></pre>"},{"location":"react-pattern/01-react-intro/#_1","title":"\u57f7\u884c\u6b65\u9a5f\u8a73\u89e3","text":"<ol> <li>\u958b\u59cb: \u4f7f\u7528\u8005\u63d0\u51fa\u554f\u984c</li> <li>Thought: AI \u5206\u6790\u554f\u984c,\u898f\u5283\u7b56\u7565</li> <li>\u5224\u65b7: \u662f\u5426\u9700\u8981\u4f7f\u7528\u5de5\u5177?</li> <li>\u5982\u679c**\u662f** \u2192 \u9032\u5165 Action</li> <li>\u5982\u679c**\u5426** \u2192 \u76f4\u63a5\u56de\u7b54</li> <li>Action: \u57f7\u884c\u5de5\u5177\u53d6\u5f97\u8cc7\u8a0a</li> <li>Observation: \u89c0\u5bdf\u5de5\u5177\u57f7\u884c\u7d50\u679c</li> <li>\u5224\u65b7: \u8cc7\u8a0a\u662f\u5426\u8db3\u5920\u56de\u7b54\u554f\u984c?</li> <li>\u5982\u679c**\u5426** \u2192 \u56de\u5230 Thought,\u7e7c\u7e8c\u601d\u8003</li> <li>\u5982\u679c**\u662f** \u2192 \u63d0\u4f9b\u6700\u7d42\u7b54\u6848</li> <li>\u7d50\u675f: \u554f\u984c\u89e3\u6c7a</li> </ol>"},{"location":"react-pattern/01-react-intro/#_2","title":"\u5be6\u969b\u57f7\u884c\u7bc4\u4f8b","text":"<p>\u8b93\u6211\u5011\u770b\u4e00\u500b\u5b8c\u6574\u7684 ReAct \u57f7\u884c\u904e\u7a0b:</p>"},{"location":"react-pattern/01-react-intro/#_3","title":"\u554f\u984c","text":"<p>\"\u53f0\u5317\u4eca\u5929\u7684\u5929\u6c23\u5982\u4f55?\u9069\u5408\u6236\u5916\u6d3b\u52d5\u55ce?\"</p>"},{"location":"react-pattern/01-react-intro/#_4","title":"\u5b8c\u6574\u57f7\u884c\u904e\u7a0b","text":"Text Only<pre><code>=== Round 1 ===\n\nThought: \u6211\u9700\u8981\u5148\u67e5\u8a62\u53f0\u5317\u4eca\u5929\u7684\u5929\u6c23\u8cc7\u8a0a,\n        \u5305\u62ec\u6eab\u5ea6\u3001\u964d\u96e8\u6a5f\u7387\u548c\u7a7a\u6c23\u54c1\u8cea\u3002\n\nAction: weather_search\nAction Input: {\"location\": \"\u53f0\u5317\", \"date\": \"today\"}\n\nObservation: {\n  \"temperature\": 28,\n  \"weather\": \"\u6674\u5929\",\n  \"rainfall_probability\": 10,\n  \"humidity\": 65,\n  \"wind_speed\": 12\n}\n\n---\n\n=== Round 2 ===\n\nThought: \u6211\u5df2\u7d93\u53d6\u5f97\u5929\u6c23\u8cc7\u8a0a,\u4f46\u8981\u5224\u65b7\u662f\u5426\u9069\u5408\u6236\u5916\u6d3b\u52d5,\n        \u9084\u9700\u8981\u78ba\u8a8d\u7a7a\u6c23\u54c1\u8cea\u6307\u6a19 (AQI)\u3002\n\nAction: air_quality_search\nAction Input: {\"location\": \"\u53f0\u5317\"}\n\nObservation: {\n  \"aqi\": 45,\n  \"level\": \"\u826f\u597d\",\n  \"pm2.5\": 18\n}\n\n---\n\n=== Round 3 ===\n\nThought: \u73fe\u5728\u6211\u6709\u5b8c\u6574\u7684\u8cc7\u8a0a\u4e86:\n        - \u5929\u6c23: \u6674\u5929,28\u00b0C\n        - \u964d\u96e8\u6a5f\u7387: 10% (\u5f88\u4f4e)\n        - \u7a7a\u6c23\u54c1\u8cea: \u826f\u597d (AQI 45)\n        \u6211\u53ef\u4ee5\u63d0\u4f9b\u5b8c\u6574\u7684\u5efa\u8b70\u4e86\u3002\n\nFinal Answer: \u53f0\u5317\u4eca\u5929\u5929\u6c23\u975e\u5e38\u9069\u5408\u6236\u5916\u6d3b\u52d5!\n\u2600\ufe0f \u5929\u6c23: \u6674\u5929,\u6eab\u5ea6\u8212\u9069 (28\u00b0C)\n\ud83d\udca7 \u964d\u96e8\u6a5f\u7387: \u50c5 10%,\u5e7e\u4e4e\u4e0d\u6703\u4e0b\u96e8\n\ud83c\udf2c\ufe0f \u7a7a\u6c23\u54c1\u8cea: \u826f\u597d (AQI 45)\n\n\u5efa\u8b70\u60a8\u53ef\u4ee5\u5b89\u5fc3\u9032\u884c\u6236\u5916\u6d3b\u52d5,\u8a18\u5f97\u505a\u597d\u9632\u66ec\u63aa\u65bd!\n</code></pre>"},{"location":"react-pattern/01-react-intro/#_5","title":"\u57f7\u884c\u5206\u6790","text":"<p>\u5728\u9019\u500b\u7bc4\u4f8b\u4e2d,ReAct \u9032\u884c\u4e86 3 \u8f2a\u5faa\u74b0:</p> \u8f2a\u6b21 Thought Action Observation \u4e0b\u4e00\u6b65 1 \u9700\u8981\u5929\u6c23\u8cc7\u8a0a \u67e5\u8a62\u5929\u6c23 API \u53d6\u5f97\u6eab\u5ea6\u3001\u964d\u96e8\u7b49\u8cc7\u8a0a \u7e7c\u7e8c 2 \u9700\u8981\u7a7a\u6c23\u54c1\u8cea\u8cc7\u8a0a \u67e5\u8a62\u7a7a\u6c23\u54c1\u8cea API \u53d6\u5f97 AQI \u8cc7\u8a0a \u7e7c\u7e8c 3 \u8cc7\u8a0a\u5b8c\u6574,\u53ef\u56de\u7b54 - - \u7d50\u675f"},{"location":"react-pattern/01-react-intro/#react_6","title":"\u70ba\u4ec0\u9ebc\u9700\u8981 ReAct?","text":""},{"location":"react-pattern/01-react-intro/#_6","title":"\u50b3\u7d71\u65b9\u6cd5\u7684\u554f\u984c","text":""},{"location":"react-pattern/01-react-intro/#1_1","title":"\u554f\u984c 1: \u7d14\u63a8\u7406\u7121\u6cd5\u53d6\u5f97\u5373\u6642\u8cc7\u8a0a","text":"Python<pre><code># \u7d14 CoT (Chain of Thought)\nprompt = \"\u53f0\u5317\u4eca\u5929\u7684\u80a1\u7968\u5e02\u5834\u8868\u73fe\u5982\u4f55?\"\n\n# AI \u53ea\u80fd\u63a8\u7406,\u7121\u6cd5\u67e5\u8a62\u5373\u6642\u8cc7\u6599\n# \u7d50\u679c: \u7d66\u51fa\u904e\u6642\u6216\u731c\u6e2c\u7684\u8cc7\u8a0a \u274c\n</code></pre>"},{"location":"react-pattern/01-react-intro/#2_1","title":"\u554f\u984c 2: \u7d14\u884c\u52d5\u7f3a\u4e4f\u898f\u5283","text":"Python<pre><code># \u7d14 Tool Calling\ntools = [weather_api, stock_api, news_api, traffic_api]\n\n# AI \u53ef\u80fd\u76f2\u76ee\u547c\u53eb\u6240\u6709\u5de5\u5177\n# \u7d50\u679c: \u6d6a\u8cbb\u8cc7\u6e90,\u5f97\u5230\u7121\u95dc\u8cc7\u8a0a \u274c\n</code></pre>"},{"location":"react-pattern/01-react-intro/#react_7","title":"ReAct \u7684\u512a\u52e2","text":"Python<pre><code># ReAct \u6a21\u5f0f\n# \u2705 \u5148\u601d\u8003\u9700\u8981\u4ec0\u9ebc\u8cc7\u8a0a\n# \u2705 \u53ea\u547c\u53eb\u5fc5\u8981\u7684\u5de5\u5177\n# \u2705 \u6839\u64da\u7d50\u679c\u52d5\u614b\u8abf\u6574\n# \u2705 \u63d0\u4f9b\u6e96\u78ba\u4e14\u5373\u6642\u7684\u7b54\u6848\n</code></pre>"},{"location":"react-pattern/01-react-intro/#react_8","title":"ReAct \u7684\u516d\u5927\u512a\u52e2","text":""},{"location":"react-pattern/01-react-intro/#1-interpretability","title":"1. \ud83c\udfaf \u53ef\u89e3\u91cb\u6027 (Interpretability)","text":"<p>\u6bcf\u4e00\u6b65\u7684\u601d\u8003\u904e\u7a0b\u90fd\u662f\u900f\u660e\u7684,\u4f60\u53ef\u4ee5\u6e05\u695a\u770b\u5230 AI \u70ba\u4ec0\u9ebc\u505a\u51fa\u67d0\u500b\u6c7a\u7b56\u3002</p> Text Only<pre><code>Thought: \u6211\u767c\u73fe\u4f7f\u7528\u8005\u8a62\u554f\u7684\u662f\"\u4eca\u5929\"\u7684\u5929\u6c23,\n        \u6240\u4ee5\u6211\u9700\u8981\u547c\u53eb\u5373\u6642\u5929\u6c23 API,\u800c\u4e0d\u662f\u6b77\u53f2\u5929\u6c23\u8cc7\u6599\u3002\n</code></pre>"},{"location":"react-pattern/01-react-intro/#2_2","title":"2. \ud83d\udd04 \u52d5\u614b\u8abf\u6574\u80fd\u529b","text":"<p>AI \u53ef\u4ee5\u6839\u64da\u89c0\u5bdf\u7d50\u679c\u8abf\u6574\u7b56\u7565,\u4e0d\u6703\u56fa\u5b88\u539f\u8a08\u5283\u3002</p> Text Only<pre><code>Observation: API \u56de\u50b3\u932f\u8aa4 \"\u57ce\u5e02\u540d\u7a31\u7121\u6548\"\nThought: \u770b\u4f86\u6211\u9700\u8981\u5148\u641c\u5c0b\u6b63\u78ba\u7684\u57ce\u5e02\u4ee3\u78bc\nAction: city_search\n</code></pre>"},{"location":"react-pattern/01-react-intro/#3","title":"3. \ud83d\udee0\ufe0f \u5de5\u5177\u9748\u6d3b\u904b\u7528","text":"<p>\u53ef\u4ee5\u6574\u5408\u4efb\u610f\u6578\u91cf\u548c\u985e\u578b\u7684\u5de5\u5177,AI \u6703\u6839\u64da\u9700\u6c42\u9078\u64c7\u3002</p> Python<pre><code>available_tools = [\n    weather_api,\n    stock_api,\n    database_query,\n    calculator,\n    web_search,\n    # ... \u53ef\u4ee5\u7121\u9650\u64f4\u5c55\n]\n</code></pre>"},{"location":"react-pattern/01-react-intro/#4","title":"4. \ud83d\udc1b \u932f\u8aa4\u81ea\u6211\u4fee\u6b63","text":"<p>\u9047\u5230\u932f\u8aa4\u6642,AI \u53ef\u4ee5\u601d\u8003\u4e26\u5617\u8a66\u5176\u4ed6\u65b9\u6cd5\u3002</p> Text Only<pre><code>Action: outdated_api\nObservation: Error: API \u5df2\u505c\u7528\nThought: \u9019\u500b API \u5931\u6548\u4e86,\u6211\u61c9\u8a72\u4f7f\u7528\u65b0\u7684 API\nAction: new_api\n</code></pre>"},{"location":"react-pattern/01-react-intro/#5","title":"5. \ud83d\udcca \u591a\u6b65\u9a5f\u63a8\u7406","text":"<p>\u53ef\u4ee5\u8655\u7406\u9700\u8981\u591a\u500b\u6b65\u9a5f\u624d\u80fd\u89e3\u6c7a\u7684\u8907\u96dc\u554f\u984c\u3002</p> Text Only<pre><code>\u6b65\u9a5f 1: \u67e5\u8a62\u5929\u6c23\n\u6b65\u9a5f 2: \u67e5\u8a62\u4ea4\u901a\n\u6b65\u9a5f 3: \u67e5\u8a62\u9910\u5ef3\n\u6b65\u9a5f 4: \u6574\u5408\u8cc7\u8a0a\u63d0\u4f9b\u5efa\u8b70\n</code></pre>"},{"location":"react-pattern/01-react-intro/#6","title":"6. \ud83c\udf93 \u6301\u7e8c\u5b78\u7fd2","text":"<p>\u901a\u904e\u89c0\u5bdf\u884c\u52d5\u7d50\u679c,AI \u5728\u6bcf\u4e00\u6b65\u90fd\u5728\"\u5b78\u7fd2\"\u548c\u6539\u9032\u3002</p>"},{"location":"react-pattern/01-react-intro/#react_9","title":"ReAct \u7684\u9650\u5236","text":"<p>\u96d6\u7136 ReAct \u5f88\u5f37\u5927,\u4f46\u4e5f\u6709\u4e00\u4e9b\u9650\u5236\u9700\u8981\u6ce8\u610f:</p>"},{"location":"react-pattern/01-react-intro/#1_2","title":"1. \ud83d\udcb0 \u6210\u672c\u8f03\u9ad8","text":"<p>\u6bcf\u6b21 Thought \u90fd\u9700\u8981\u547c\u53eb LLM,\u591a\u8f2a\u5faa\u74b0\u6703\u589e\u52a0\u6210\u672c\u3002</p> Text Only<pre><code>\u55ae\u6b21\u554f\u7b54:\n- \u50b3\u7d71\u65b9\u6cd5: 1 \u6b21 LLM \u547c\u53eb\n- ReAct: 3-5 \u6b21 LLM \u547c\u53eb (\u8996\u554f\u984c\u8907\u96dc\u5ea6)\n\n\u6210\u672c\u589e\u52a0: 3-5 \u500d \ud83d\udcb8\n</code></pre> <p>\u89e3\u6c7a\u65b9\u6848: - \u4f7f\u7528\u8f03\u4fbf\u5b9c\u7684\u6a21\u578b (\u5982 GPT-3.5 \u800c\u975e GPT-4) - \u8a2d\u5b9a\u6700\u5927\u8fed\u4ee3\u6b21\u6578\u9650\u5236 - \u5c0d\u7c21\u55ae\u554f\u984c\u4f7f\u7528\u76f4\u63a5\u56de\u7b54,\u4e0d\u555f\u7528 ReAct</p>"},{"location":"react-pattern/01-react-intro/#2_3","title":"2. \ud83d\udd01 \u53ef\u80fd\u7684\u7121\u9650\u5faa\u74b0","text":"<p>\u5982\u679c\u6c92\u6709\u9069\u7576\u7684\u7d42\u6b62\u689d\u4ef6,Agent \u53ef\u80fd\u9677\u5165\u7121\u9650\u5faa\u74b0\u3002</p> Text Only<pre><code>Thought: \u6211\u9700\u8981\u66f4\u591a\u8cc7\u8a0a\nAction: search\nObservation: \u627e\u5230\u4e00\u4e9b\u8cc7\u8a0a\nThought: \u8cc7\u8a0a\u9084\u4e0d\u5920,\u9700\u8981\u66f4\u591a\nAction: search\n... (\u7121\u9650\u5faa\u74b0) \u274c\n</code></pre> <p>\u89e3\u6c7a\u65b9\u6848: - \u8a2d\u5b9a <code>max_iterations</code> \u53c3\u6578 - \u5728 Prompt \u4e2d\u5f37\u8abf\u4f55\u6642\u61c9\u8a72\u505c\u6b62 - \u8a2d\u8a08\u66f4\u597d\u7684\u7d42\u6b62\u5224\u65b7\u908f\u8f2f</p>"},{"location":"react-pattern/01-react-intro/#3-token","title":"3. \ud83e\ude99 Token \u6d88\u8017\u5927","text":"<p>\u6bcf\u4e00\u8f2a\u90fd\u9700\u8981\u50b3\u905e\u5b8c\u6574\u7684\u5c0d\u8a71\u6b77\u53f2,Token \u6d88\u8017\u5feb\u901f\u589e\u9577\u3002</p> Text Only<pre><code>Round 1: 1000 tokens\nRound 2: 1500 tokens (\u5305\u542b Round 1 \u7684\u6b77\u53f2)\nRound 3: 2200 tokens (\u5305\u542b Round 1-2 \u7684\u6b77\u53f2)\n\n\u7e3d\u8a08: 4700 tokens (\u9060\u8d85\u55ae\u6b21\u5c0d\u8a71)\n</code></pre> <p>\u89e3\u6c7a\u65b9\u6848: - \u4f7f\u7528\u5c0d\u8a71\u6458\u8981 (Summarization) - \u53ea\u4fdd\u7559\u95dc\u9375\u7684\u6b77\u53f2\u8cc7\u8a0a - \u5b9a\u671f\u6e05\u7406\u4e0d\u5fc5\u8981\u7684\u6b77\u53f2</p>"},{"location":"react-pattern/01-react-intro/#4_1","title":"4. \u23f1\ufe0f \u901f\u5ea6\u8f03\u6162","text":"<p>\u591a\u8f2a\u63a8\u7406\u9700\u8981\u6642\u9593,\u4e0d\u9069\u5408\u5373\u6642\u6027\u8981\u6c42\u6975\u9ad8\u7684\u5834\u666f\u3002</p> Text Only<pre><code>\u50b3\u7d71\u65b9\u6cd5: ~2 \u79d2\nReAct (3 \u8f2a): ~6 \u79d2\nReAct (5 \u8f2a): ~10 \u79d2\n</code></pre> <p>\u89e3\u6c7a\u65b9\u6848: - \u4f7f\u7528\u66f4\u5feb\u7684\u6a21\u578b - \u4e26\u884c\u57f7\u884c\u90e8\u5206\u5de5\u5177\u547c\u53eb - \u4f7f\u7528\u4e32\u6d41\u56de\u61c9 (Streaming) \u6539\u5584\u4f7f\u7528\u8005\u9ad4\u9a57</p>"},{"location":"react-pattern/01-react-intro/#react-vs","title":"ReAct vs \u5176\u4ed6\u6a21\u5f0f","text":""},{"location":"react-pattern/01-react-intro/#_7","title":"\u5c0d\u6bd4\u8868","text":"\u7279\u6027 ReAct Chain-of-Thought Tool Calling Function Calling \u63a8\u7406\u80fd\u529b \u2705 \u5f37 \u2705 \u5f37 \u274c \u5f31 \u274c \u5f31 \u5de5\u5177\u4f7f\u7528 \u2705 \u662f \u274c \u5426 \u2705 \u662f \u2705 \u662f \u52d5\u614b\u8abf\u6574 \u2705 \u662f \u274c \u5426 \u26a0\ufe0f \u6709\u9650 \u26a0\ufe0f \u6709\u9650 \u53ef\u89e3\u91cb\u6027 \u2705 \u9ad8 \u2705 \u9ad8 \u26a0\ufe0f \u4e2d \u26a0\ufe0f \u4e2d \u6210\u672c \u26a0\ufe0f \u9ad8 \u26a0\ufe0f \u4e2d \u2705 \u4f4e \u2705 \u4f4e \u901f\u5ea6 \u26a0\ufe0f \u6162 \u2705 \u5feb \u2705 \u5feb \u2705 \u5feb"},{"location":"react-pattern/01-react-intro/#_8","title":"\u4f7f\u7528\u5834\u666f\u5efa\u8b70","text":"<ul> <li>\u7c21\u55ae\u554f\u7b54: \u4f7f\u7528 Function Calling \u5373\u53ef</li> <li>\u9700\u8981\u63a8\u7406\u4f46\u4e0d\u9700\u5de5\u5177: \u4f7f\u7528 Chain-of-Thought</li> <li>\u8907\u96dc\u591a\u6b65\u9a5f\u4efb\u52d9: \u4f7f\u7528 ReAct \u2705</li> <li>\u9700\u8981\u52d5\u614b\u6c7a\u7b56: \u4f7f\u7528 ReAct \u2705</li> </ul>"},{"location":"react-pattern/01-react-intro/#_9","title":"\u91cd\u9ede\u6574\u7406","text":""},{"location":"react-pattern/01-react-intro/#_10","title":"\u6838\u5fc3\u6982\u5ff5","text":"<ol> <li>ReAct = Reasoning + Acting</li> <li>\u601d\u8003\u8207\u884c\u52d5\u7684\u5faa\u74b0</li> <li> <p>\u89c0\u5bdf\u7d50\u679c\u6301\u7e8c\u512a\u5316</p> </li> <li> <p>\u4e09\u5927\u7d44\u4ef6</p> </li> <li>Thought: \u63a8\u7406\u601d\u8003</li> <li>Action: \u57f7\u884c\u5de5\u5177</li> <li> <p>Observation: \u89c0\u5bdf\u7d50\u679c</p> </li> <li> <p>\u57f7\u884c\u6d41\u7a0b</p> </li> <li>\u5faa\u74b0\u57f7\u884c\u76f4\u5230\u554f\u984c\u89e3\u6c7a</li> <li>\u6bcf\u4e00\u6b65\u90fd\u662f\u900f\u660e\u53ef\u8ffd\u8e64\u7684</li> </ol>"},{"location":"react-pattern/01-react-intro/#_11","title":"\u9069\u7528\u5834\u666f","text":"<p>\u2705 \u63a8\u85a6\u4f7f\u7528: - \u591a\u6b65\u9a5f\u63a8\u7406\u4efb\u52d9 - \u9700\u8981\u5de5\u5177\u8abf\u7528 - \u9700\u8981\u52d5\u614b\u6c7a\u7b56 - \u9700\u8981\u53ef\u89e3\u91cb\u6027</p> <p>\u274c \u4e0d\u63a8\u85a6: - \u7c21\u55ae\u554f\u7b54 - \u5373\u6642\u6027\u8981\u6c42\u6975\u9ad8 - \u6210\u672c\u654f\u611f\u7684\u61c9\u7528</p>"},{"location":"react-pattern/01-react-intro/#_12","title":"\u95dc\u9375\u512a\u52e2","text":"<ul> <li>\u53ef\u89e3\u91cb\u6027\u5f37</li> <li>\u52d5\u614b\u8abf\u6574\u80fd\u529b</li> <li>\u5de5\u5177\u9748\u6d3b\u904b\u7528</li> <li>\u932f\u8aa4\u81ea\u6211\u4fee\u6b63</li> </ul>"},{"location":"react-pattern/01-react-intro/#_13","title":"\u4e3b\u8981\u9650\u5236","text":"<ul> <li>\u6210\u672c\u8f03\u9ad8 (\u591a\u6b21 LLM \u547c\u53eb)</li> <li>\u53ef\u80fd\u7121\u9650\u5faa\u74b0 (\u9700\u8a2d\u5b9a\u7d42\u6b62\u689d\u4ef6)</li> <li>Token \u6d88\u8017\u5927 (\u6b77\u53f2\u7d2f\u7a4d)</li> <li>\u901f\u5ea6\u8f03\u6162 (\u591a\u8f2a\u63a8\u7406)</li> </ul>"},{"location":"react-pattern/01-react-intro/#_14","title":"\u4e0b\u4e00\u6b65","text":"<p>\u73fe\u5728\u4f60\u5df2\u7d93\u4e86\u89e3 ReAct \u7684\u6838\u5fc3\u6982\u5ff5,\u63a5\u4e0b\u4f86\u8b93\u6211\u5011\u6df1\u5165\u63a2\u8a0e ReAct \u7684\u4e09\u5927\u6838\u5fc3\u7d44\u4ef6:</p> <p>\ud83d\udc49 02. ReAct \u6838\u5fc3\u7d44\u4ef6</p> <p>\u5728\u4e0b\u4e00\u7bc7\u4e2d,\u4f60\u5c07\u5b78\u5230: - Thought\u3001Action\u3001Observation \u7684\u8a73\u7d30\u89e3\u6790 - \u4e09\u8005\u5982\u4f55\u4e92\u52d5 - \u8a2d\u8a08\u6700\u4f73\u5be6\u8e10 - \u5b8c\u6574\u7684\u591a\u6b65\u9a5f\u7bc4\u4f8b</p> <p>\ud83d\udca1 \u5c0f\u63d0\u793a: \u7406\u89e3 ReAct \u7684\u95dc\u9375\u5728\u65bc\u9ad4\u6703\u300c\u601d\u8003\u300d\u548c\u300c\u884c\u52d5\u300d\u7684\u5faa\u74b0\u3002\u8a66\u8457\u5728\u65e5\u5e38\u5de5\u4f5c\u4e2d\u89c0\u5bdf\u81ea\u5df1\u662f\u5982\u4f55\u89e3\u6c7a\u554f\u984c\u7684,\u4f60\u6703\u767c\u73fe\u4eba\u985e\u4e5f\u662f\u9019\u6a23\u904b\u4f5c\u7684!</p>"},{"location":"react-pattern/02-react-components/","title":"02. ReAct \u6838\u5fc3\u7d44\u4ef6","text":""},{"location":"react-pattern/02-react-components/#_1","title":"\u7d44\u4ef6\u6982\u89bd","text":"<p>ReAct \u6a21\u5f0f\u7531\u4e09\u5927\u6838\u5fc3\u7d44\u4ef6\u69cb\u6210,\u5b83\u5011\u5354\u540c\u904b\u4f5c,\u5f62\u6210\u5f37\u5927\u7684\u63a8\u7406-\u884c\u52d5\u5faa\u74b0:</p> <pre><code>graph LR\n    T[Thought&lt;br/&gt;\u601d\u8003] --&gt; A[Action&lt;br/&gt;\u884c\u52d5]\n    A --&gt; O[Observation&lt;br/&gt;\u89c0\u5bdf]\n    O --&gt; T\n\n    style T fill:#fff4e1\n    style A fill:#e1f0ff\n    style O fill:#ffe1f0</code></pre>"},{"location":"react-pattern/02-react-components/#_2","title":"\u4e09\u5927\u7d44\u4ef6\u7c21\u4ecb","text":"\u7d44\u4ef6 \u82f1\u6587\u540d\u7a31 \u529f\u80fd \u8f38\u51fa\u683c\u5f0f \ud83e\udde0 Thought Reasoning \u5206\u6790\u554f\u984c\u3001\u898f\u5283\u7b56\u7565 \u601d\u8003\u904e\u7a0b\u7684\u6587\u5b57\u63cf\u8ff0 \ud83c\udfaf Action Acting \u9078\u64c7\u4e26\u57f7\u884c\u5de5\u5177 \u5de5\u5177\u540d\u7a31 + \u53c3\u6578 \ud83d\udc41\ufe0f Observation Observing \u63a5\u6536\u4e26\u7406\u89e3\u7d50\u679c \u5de5\u5177\u57f7\u884c\u7d50\u679c"},{"location":"react-pattern/02-react-components/#_3","title":"\u7d44\u4ef6\u9593\u7684\u95dc\u4fc2","text":"<pre><code>graph TD\n    Start[\u4f7f\u7528\u8005\u554f\u984c] --&gt; Thought1[Thought: \u5206\u6790\u554f\u984c]\n    Thought1 --&gt; Decision1{\u9700\u8981\u5de5\u5177?}\n\n    Decision1 --&gt;|\u662f| Action1[Action: \u57f7\u884c\u5de5\u5177]\n    Action1 --&gt; Obs1[Observation: \u89c0\u5bdf\u7d50\u679c]\n    Obs1 --&gt; Thought2[Thought: \u5206\u6790\u7d50\u679c]\n\n    Thought2 --&gt; Decision2{\u8cc7\u8a0a\u8db3\u5920?}\n    Decision2 --&gt;|\u5426| Action2[Action: \u518d\u6b21\u57f7\u884c]\n    Action2 --&gt; Obs2[Observation: \u89c0\u5bdf\u7d50\u679c]\n    Obs2 --&gt; Thought3[Thought: \u6700\u7d42\u5206\u6790]\n\n    Decision2 --&gt;|\u662f| Answer[Final Answer]\n    Thought3 --&gt; Answer\n    Decision1 --&gt;|\u5426| Answer\n\n    style Thought1 fill:#fff4e1\n    style Thought2 fill:#fff4e1\n    style Thought3 fill:#fff4e1\n    style Action1 fill:#e1f0ff\n    style Action2 fill:#e1f0ff\n    style Obs1 fill:#ffe1f0\n    style Obs2 fill:#ffe1f0</code></pre>"},{"location":"react-pattern/02-react-components/#thought","title":"Thought (\u601d\u8003) \u7d44\u4ef6","text":""},{"location":"react-pattern/02-react-components/#_4","title":"\u5b9a\u7fa9\u8207\u529f\u80fd","text":"<p>Thought \u662f Agent \u7684\u300c\u5927\u8166\u300d,\u8ca0\u8cac: - \u5206\u6790\u7576\u524d\u60c5\u6cc1 - \u898f\u5283\u4e0b\u4e00\u6b65\u7b56\u7565 - \u9078\u64c7\u5408\u9069\u7684\u5de5\u5177 - \u8a55\u4f30\u884c\u52d5\u7d50\u679c</p>"},{"location":"react-pattern/02-react-components/#_5","title":"\u601d\u8003\u7684\u56db\u500b\u5c64\u6b21","text":""},{"location":"react-pattern/02-react-components/#1","title":"1\ufe0f\u20e3 \u554f\u984c\u5206\u6790","text":"<p>\u7406\u89e3\u4f7f\u7528\u8005\u7684\u771f\u6b63\u9700\u6c42\u3002</p> Text Only<pre><code>\u4f7f\u7528\u8005: \u53f0\u5317\u4eca\u5929\u9069\u5408\u9a0e\u8eca\u55ce?\n\nThought (\u554f\u984c\u5206\u6790):\n\u4f7f\u7528\u8005\u8a62\u554f\u7684\u4e0d\u53ea\u662f\u5929\u6c23,\u800c\u662f\u300c\u9069\u5408\u9a0e\u8eca\u300d\u7684\u7d9c\u5408\u689d\u4ef6\u3002\n\u6211\u9700\u8981\u8003\u616e:\n- \u5929\u6c23\u72c0\u6cc1 (\u6674\u96e8\u3001\u6eab\u5ea6)\n- \u7a7a\u6c23\u54c1\u8cea\n- \u98a8\u901f\n</code></pre>"},{"location":"react-pattern/02-react-components/#2","title":"2\ufe0f\u20e3 \u7b56\u7565\u898f\u5283","text":"<p>\u6c7a\u5b9a\u89e3\u6c7a\u554f\u984c\u7684\u6b65\u9a5f\u3002</p> Text Only<pre><code>Thought (\u7b56\u7565\u898f\u5283):\n\u8981\u56de\u7b54\u9019\u500b\u554f\u984c,\u6211\u9700\u8981:\n1. \u5148\u67e5\u8a62\u5929\u6c23\u8cc7\u8a0a\n2. \u518d\u67e5\u8a62\u7a7a\u6c23\u54c1\u8cea\n3. \u6574\u5408\u8cc7\u8a0a\u5f8c\u7d66\u51fa\u5efa\u8b70\n</code></pre>"},{"location":"react-pattern/02-react-components/#3","title":"3\ufe0f\u20e3 \u5de5\u5177\u9078\u64c7","text":"<p>\u5f9e\u53ef\u7528\u5de5\u5177\u4e2d\u9078\u64c7\u6700\u5408\u9069\u7684\u3002</p> Text Only<pre><code>\u53ef\u7528\u5de5\u5177:\n- weather_api: \u67e5\u8a62\u5929\u6c23\n- air_quality_api: \u67e5\u8a62\u7a7a\u6c23\u54c1\u8cea\n- traffic_api: \u67e5\u8a62\u4ea4\u901a\u72c0\u6cc1\n- stock_api: \u67e5\u8a62\u80a1\u7968\n\nThought (\u5de5\u5177\u9078\u64c7):\n\u6839\u64da\u9700\u6c42,\u6211\u61c9\u8a72\u4f7f\u7528:\n1. weather_api (\u53d6\u5f97\u5929\u6c23)\n2. air_quality_api (\u53d6\u5f97\u7a7a\u6c23\u54c1\u8cea)\n\u4e0d\u9700\u8981 traffic_api \u548c stock_api\n</code></pre>"},{"location":"react-pattern/02-react-components/#4","title":"4\ufe0f\u20e3 \u7d50\u679c\u8a55\u4f30","text":"<p>\u5224\u65b7\u53d6\u5f97\u7684\u8cc7\u8a0a\u662f\u5426\u8db3\u5920\u3002</p> Text Only<pre><code>Observation: \u6674\u5929,28\u00b0C,AQI \u826f\u597d\n\nThought (\u7d50\u679c\u8a55\u4f30):\n\u6211\u5df2\u7d93\u53d6\u5f97:\n\u2705 \u5929\u6c23: \u6674\u5929\n\u2705 \u6eab\u5ea6: 28\u00b0C (\u8212\u9069)\n\u2705 \u7a7a\u6c23\u54c1\u8cea: \u826f\u597d\n\u8cc7\u8a0a\u5b8c\u6574,\u53ef\u4ee5\u63d0\u4f9b\u5efa\u8b70\u4e86\u3002\n</code></pre>"},{"location":"react-pattern/02-react-components/#thought_1","title":"Thought \u7684\u6700\u4f73\u5be6\u8e10","text":""},{"location":"react-pattern/02-react-components/#thought_2","title":"\u2705 \u597d\u7684 Thought","text":"Text Only<pre><code>Thought: \u4f7f\u7528\u8005\u8a62\u554f\u53f0\u5317\u7684\u5929\u6c23,\u6211\u9700\u8981\u547c\u53eb weather_api\n        \u53d6\u5f97\u5373\u6642\u8cc7\u8a0a\u3002\u6211\u5c07\u4f7f\u7528 \"\u53f0\u5317\" \u4f5c\u70ba\u5730\u9ede\u53c3\u6578,\n        \"today\" \u4f5c\u70ba\u65e5\u671f\u53c3\u6578\u3002\n</code></pre> <p>\u7279\u9ede: - \u660e\u78ba\u8aaa\u660e\u8981\u505a\u4ec0\u9ebc - \u89e3\u91cb\u70ba\u4ec0\u9ebc\u9019\u6a23\u505a - \u5177\u9ad4\u8aaa\u660e\u53c3\u6578\u9078\u64c7</p>"},{"location":"react-pattern/02-react-components/#thought_3","title":"\u274c \u4e0d\u597d\u7684 Thought","text":"Text Only<pre><code>Thought: \u67e5\u5929\u6c23\n</code></pre> <p>\u554f\u984c: - \u592a\u7c21\u77ed,\u7f3a\u4e4f\u63a8\u7406\u904e\u7a0b - \u6c92\u6709\u8aaa\u660e\u70ba\u4ec0\u9ebc\u9078\u64c7\u9019\u500b\u5de5\u5177 - \u6c92\u6709\u898f\u5283\u5f8c\u7e8c\u6b65\u9a5f</p>"},{"location":"react-pattern/02-react-components/#thought_4","title":"\u5e38\u898b Thought \u6a21\u5f0f\u7bc4\u4f8b","text":""},{"location":"react-pattern/02-react-components/#1_1","title":"\u6a21\u5f0f 1: \u521d\u6b65\u5206\u6790","text":"Text Only<pre><code>Thought: \u4f7f\u7528\u8005\u60f3\u77e5\u9053 X,\u70ba\u4e86\u56de\u7b54\u9019\u500b\u554f\u984c,\n        \u6211\u9700\u8981\u5148\u53d6\u5f97 Y \u8cc7\u8a0a,\u7136\u5f8c\u5206\u6790 Z\u3002\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_1","title":"\u6a21\u5f0f 2: \u5de5\u5177\u9078\u64c7","text":"Text Only<pre><code>Thought: \u6211\u6709\u4ee5\u4e0b\u53ef\u7528\u5de5\u5177 [A, B, C],\n        \u6839\u64da\u7576\u524d\u9700\u6c42,\u5de5\u5177 B \u6700\u9069\u5408,\n        \u56e0\u70ba\u5b83\u53ef\u4ee5\u76f4\u63a5\u63d0\u4f9b\u6240\u9700\u7684\u8cc7\u8a0a\u3002\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_1","title":"\u6a21\u5f0f 3: \u7d50\u679c\u6574\u5408","text":"Text Only<pre><code>Thought: \u6211\u5df2\u7d93\u53d6\u5f97\u4e86 [\u8cc7\u8a0a 1, \u8cc7\u8a0a 2, \u8cc7\u8a0a 3],\n        \u73fe\u5728\u6211\u53ef\u4ee5\u6574\u5408\u9019\u4e9b\u8cc7\u8a0a\u4f86\u56de\u7b54\u4f7f\u7528\u8005\u7684\u554f\u984c\u3002\n</code></pre>"},{"location":"react-pattern/02-react-components/#4_1","title":"\u6a21\u5f0f 4: \u932f\u8aa4\u8655\u7406","text":"Text Only<pre><code>Thought: \u4e0a\u4e00\u6b21\u7684\u884c\u52d5\u5931\u6557\u4e86,\u932f\u8aa4\u8a0a\u606f\u662f \"XXX\"\u3002\n        \u6211\u61c9\u8a72\u5617\u8a66\u4f7f\u7528\u53e6\u4e00\u500b\u65b9\u6cd5 YYY\u3002\n</code></pre>"},{"location":"react-pattern/02-react-components/#action","title":"Action (\u884c\u52d5) \u7d44\u4ef6","text":""},{"location":"react-pattern/02-react-components/#_6","title":"\u5b9a\u7fa9\u8207\u529f\u80fd","text":"<p>Action \u662f Agent \u7684\u300c\u624b\u300d,\u8ca0\u8cac: - \u57f7\u884c\u5177\u9ad4\u64cd\u4f5c - \u547c\u53eb\u5916\u90e8\u5de5\u5177 - \u50b3\u905e\u6b63\u78ba\u53c3\u6578 - \u89f8\u767c\u5be6\u969b\u529f\u80fd</p>"},{"location":"react-pattern/02-react-components/#action_1","title":"Action \u7684\u985e\u578b","text":""},{"location":"react-pattern/02-react-components/#1_2","title":"\u985e\u578b 1: \u5de5\u5177\u547c\u53eb","text":"<p>\u6700\u5e38\u898b\u7684 Action \u985e\u578b\u3002</p> Text Only<pre><code>Action: weather_search\nAction Input: {\"location\": \"\u53f0\u5317\", \"date\": \"2024-03-15\"}\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_2","title":"\u985e\u578b 2: \u8cc7\u8a0a\u6aa2\u7d22","text":"<p>\u5f9e\u8cc7\u6599\u5eab\u6216\u6587\u4ef6\u4e2d\u67e5\u8a62\u8cc7\u8a0a\u3002</p> Text Only<pre><code>Action: database_query\nAction Input: {\"table\": \"policies\", \"policy_id\": \"CL202401001\"}\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_2","title":"\u985e\u578b 3: \u8a08\u7b97\u57f7\u884c","text":"<p>\u57f7\u884c\u6578\u5b78\u8a08\u7b97\u6216\u7a0b\u5f0f\u908f\u8f2f\u3002</p> Text Only<pre><code>Action: calculator\nAction Input: {\"expression\": \"(25000 * 12) * 0.05\"}\n</code></pre>"},{"location":"react-pattern/02-react-components/#4_2","title":"\u985e\u578b 4: \u6700\u7d42\u7b54\u6848","text":"<p>\u7576\u4e0d\u9700\u8981\u5de5\u5177\u6642,\u76f4\u63a5\u63d0\u4f9b\u7b54\u6848\u3002</p> Text Only<pre><code>Action: Final Answer\nAction Input: \"\u53f0\u5317\u4eca\u5929\u5929\u6c23\u6674\u6717,\u6eab\u5ea6\u8212\u9069,\u975e\u5e38\u9069\u5408\u9a0e\u8eca!\"\n</code></pre>"},{"location":"react-pattern/02-react-components/#action_2","title":"Action \u7684\u683c\u5f0f\u898f\u7bc4","text":""},{"location":"react-pattern/02-react-components/#_7","title":"\u6a19\u6e96\u683c\u5f0f","text":"Text Only<pre><code>Action: [\u5de5\u5177\u540d\u7a31]\nAction Input: [JSON \u683c\u5f0f\u7684\u53c3\u6578]\n</code></pre>"},{"location":"react-pattern/02-react-components/#1_3","title":"\u7bc4\u4f8b 1: \u55ae\u4e00\u53c3\u6578","text":"Text Only<pre><code>Action: web_search\nAction Input: {\"query\": \"\u53f0\u5317\u5929\u6c23\"}\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_3","title":"\u7bc4\u4f8b 2: \u591a\u500b\u53c3\u6578","text":"Text Only<pre><code>Action: send_email\nAction Input: {\n    \"to\": \"user@example.com\",\n    \"subject\": \"\u5929\u6c23\u901a\u77e5\",\n    \"body\": \"\u4eca\u5929\u5929\u6c23\u6674\u6717\"\n}\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_3","title":"\u7bc4\u4f8b 3: \u5de2\u72c0\u53c3\u6578","text":"Text Only<pre><code>Action: database_query\nAction Input: {\n    \"operation\": \"select\",\n    \"table\": \"users\",\n    \"conditions\": {\n        \"age\": {\"gt\": 18},\n        \"city\": \"\u53f0\u5317\"\n    }\n}\n</code></pre>"},{"location":"react-pattern/02-react-components/#action_3","title":"Action \u7684\u8a2d\u8a08\u539f\u5247","text":""},{"location":"react-pattern/02-react-components/#1_4","title":"\u539f\u5247 1: \u660e\u78ba\u6027","text":"<p>Action \u61c9\u8a72\u660e\u78ba\u6307\u5b9a\u8981\u505a\u4ec0\u9ebc\u3002</p> Text Only<pre><code>\u2705 \u597d\u7684 Action:\nAction: get_weather\nAction Input: {\"location\": \"\u53f0\u5317\", \"date\": \"today\"}\n\n\u274c \u4e0d\u597d\u7684 Action:\nAction: search\nAction Input: \"\u5929\u6c23\"\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_4","title":"\u539f\u5247 2: \u5b8c\u6574\u6027","text":"<p>\u63d0\u4f9b\u6240\u6709\u5fc5\u8981\u7684\u53c3\u6578\u3002</p> Text Only<pre><code>\u2705 \u597d\u7684 Action:\nAction: book_hotel\nAction Input: {\n    \"city\": \"\u53f0\u5317\",\n    \"check_in\": \"2024-03-15\",\n    \"check_out\": \"2024-03-16\",\n    \"guests\": 2\n}\n\n\u274c \u4e0d\u597d\u7684 Action:\nAction: book_hotel\nAction Input: {\"city\": \"\u53f0\u5317\"}  # \u7f3a\u5c11\u5fc5\u8981\u53c3\u6578\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_4","title":"\u539f\u5247 3: \u6b63\u78ba\u6027","text":"<p>\u53c3\u6578\u683c\u5f0f\u5fc5\u9808\u7b26\u5408\u5de5\u5177\u8981\u6c42\u3002</p> Text Only<pre><code>\u2705 \u597d\u7684 Action:\nAction: calculator\nAction Input: {\"expression\": \"100 * 0.05\"}\n\n\u274c \u4e0d\u597d\u7684 Action:\nAction: calculator\nAction Input: \"100 * 0.05\"  # \u61c9\u8a72\u662f JSON \u7269\u4ef6\n</code></pre>"},{"location":"react-pattern/02-react-components/#observation","title":"Observation (\u89c0\u5bdf) \u7d44\u4ef6","text":""},{"location":"react-pattern/02-react-components/#_8","title":"\u5b9a\u7fa9\u8207\u529f\u80fd","text":"<p>Observation \u662f Agent \u7684\u300c\u773c\u775b\u300d,\u8ca0\u8cac: - \u63a5\u6536\u5de5\u5177\u57f7\u884c\u7d50\u679c - \u7406\u89e3\u8fd4\u56de\u7684\u8cc7\u8a0a - \u8b58\u5225\u932f\u8aa4\u8a0a\u606f - \u66f4\u65b0\u72c0\u614b\u8cc7\u8a0a</p>"},{"location":"react-pattern/02-react-components/#observation_1","title":"Observation \u7684\u5167\u5bb9\u985e\u578b","text":""},{"location":"react-pattern/02-react-components/#1_5","title":"\u985e\u578b 1: \u6210\u529f\u7d50\u679c","text":"<p>\u5de5\u5177\u6210\u529f\u57f7\u884c\u4e26\u8fd4\u56de\u8cc7\u6599\u3002</p> Text Only<pre><code>Action: weather_search\nAction Input: {\"location\": \"\u53f0\u5317\"}\n\nObservation: {\n    \"temperature\": 28,\n    \"weather\": \"\u6674\u5929\",\n    \"humidity\": 65,\n    \"wind_speed\": 12\n}\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_5","title":"\u985e\u578b 2: \u932f\u8aa4\u8a0a\u606f","text":"<p>\u5de5\u5177\u57f7\u884c\u5931\u6557\u7684\u932f\u8aa4\u8cc7\u8a0a\u3002</p> Text Only<pre><code>Action: database_query\nAction Input: {\"table\": \"invalid_table\"}\n\nObservation: Error: Table 'invalid_table' does not exist\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_5","title":"\u985e\u578b 3: \u90e8\u5206\u6210\u529f","text":"<p>\u90e8\u5206\u8cc7\u8a0a\u53ef\u7528,\u90e8\u5206\u5931\u6557\u3002</p> Text Only<pre><code>Action: get_stock_prices\nAction Input: {\"symbols\": [\"AAPL\", \"INVALID\", \"GOOGL\"]}\n\nObservation: {\n    \"AAPL\": 150.25,\n    \"INVALID\": \"Symbol not found\",\n    \"GOOGL\": 2800.50\n}\n</code></pre>"},{"location":"react-pattern/02-react-components/#4_3","title":"\u985e\u578b 4: \u72c0\u614b\u66f4\u65b0","text":"<p>\u7cfb\u7d71\u72c0\u614b\u7684\u8b8a\u5316\u3002</p> Text Only<pre><code>Action: update_database\nAction Input: {\"record_id\": 123, \"status\": \"completed\"}\n\nObservation: Record updated successfully. Affected rows: 1\n</code></pre>"},{"location":"react-pattern/02-react-components/#observation_2","title":"Observation \u7684\u8655\u7406\u65b9\u5f0f","text":""},{"location":"react-pattern/02-react-components/#1_6","title":"\u65b9\u5f0f 1: \u8cc7\u8a0a\u64f7\u53d6","text":"<p>\u5f9e\u7d50\u679c\u4e2d\u64f7\u53d6\u95dc\u9375\u8cc7\u8a0a\u3002</p> Text Only<pre><code>Observation: {\n    \"temperature\": 28,\n    \"weather\": \"\u6674\u5929\",\n    \"humidity\": 65,\n    \"rainfall_probability\": 10,\n    \"wind_speed\": 12,\n    \"uv_index\": 7\n}\n\nThought: \u5f9e\u7d50\u679c\u4e2d\u6211\u5f97\u77e5:\n- \u6eab\u5ea6 28\u00b0C (\u8212\u9069)\n- \u5929\u6c23\u6674\u6717\n- \u964d\u96e8\u6a5f\u7387\u50c5 10%\n\u9069\u5408\u6236\u5916\u6d3b\u52d5!\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_6","title":"\u65b9\u5f0f 2: \u932f\u8aa4\u5206\u6790","text":"<p>\u5206\u6790\u932f\u8aa4\u539f\u56e0\u4e26\u898f\u5283\u61c9\u5c0d\u3002</p> Text Only<pre><code>Observation: Error: Invalid API key\n\nThought: API \u91d1\u9470\u7121\u6548,\u53ef\u80fd\u662f:\n1. \u91d1\u9470\u904e\u671f\n2. \u91d1\u9470\u8f38\u5165\u932f\u8aa4\n\u6211\u61c9\u8a72\u901a\u77e5\u4f7f\u7528\u8005\u6aa2\u67e5 API \u8a2d\u5b9a\u3002\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_6","title":"\u65b9\u5f0f 3: \u7d50\u679c\u9a57\u8b49","text":"<p>\u6aa2\u67e5\u7d50\u679c\u662f\u5426\u7b26\u5408\u9810\u671f\u3002</p> Text Only<pre><code>Observation: {\"count\": 0, \"results\": []}\n\nThought: \u67e5\u8a62\u7d50\u679c\u70ba\u7a7a,\u9019\u53ef\u80fd\u8868\u793a:\n1. \u8cc7\u6599\u5eab\u4e2d\u6c92\u6709\u7b26\u5408\u689d\u4ef6\u7684\u8a18\u9304\n2. \u67e5\u8a62\u689d\u4ef6\u592a\u56b4\u683c\n\u6211\u61c9\u8a72\u653e\u5bec\u689d\u4ef6\u91cd\u65b0\u67e5\u8a62\u3002\n</code></pre>"},{"location":"react-pattern/02-react-components/#observation_3","title":"Observation \u7684\u6700\u4f73\u5be6\u8e10","text":""},{"location":"react-pattern/02-react-components/#observation_4","title":"\u2705 \u7d50\u69cb\u5316 Observation","text":"Text Only<pre><code>Observation: {\n    \"status\": \"success\",\n    \"data\": {\n        \"temperature\": 28,\n        \"weather\": \"\u6674\u5929\"\n    },\n    \"metadata\": {\n        \"timestamp\": \"2024-03-15T10:00:00\",\n        \"source\": \"weather_api_v2\"\n    }\n}\n</code></pre> <p>\u512a\u9ede: - \u6e05\u6670\u7684\u7d50\u69cb - \u6613\u65bc\u89e3\u6790 - \u5305\u542b\u5143\u8cc7\u8a0a</p>"},{"location":"react-pattern/02-react-components/#observation_5","title":"\u274c \u975e\u7d50\u69cb\u5316 Observation","text":"Text Only<pre><code>Observation: \u5929\u6c23\u6674\u6717,\u5927\u7d04 28 \u5ea6\u5de6\u53f3,\u9084\u4e0d\u932f\n</code></pre> <p>\u554f\u984c: - \u96e3\u4ee5\u7a0b\u5f0f\u5316\u8655\u7406 - \u7f3a\u4e4f\u7cbe\u78ba\u8cc7\u8a0a - \u7121\u6cd5\u9a57\u8b49</p>"},{"location":"react-pattern/02-react-components/#_9","title":"\u4e09\u8005\u7684\u4e92\u52d5\u6d41\u7a0b","text":""},{"location":"react-pattern/02-react-components/#_10","title":"\u8a73\u7d30\u7684\u4e92\u52d5\u5e8f\u5217\u5716","text":"<pre><code>sequenceDiagram\n    participant U as \u4f7f\u7528\u8005\n    participant A as Agent\n    participant T as Tools\n\n    U-&gt;&gt;A: \u63d0\u51fa\u554f\u984c\n\n    Note over A: === Round 1 ===\n    A-&gt;&gt;A: Thought: \u5206\u6790\u554f\u984c\n    A-&gt;&gt;T: Action: \u547c\u53eb\u5de5\u5177 1\n    T-&gt;&gt;A: Observation: \u7d50\u679c 1\n\n    Note over A: === Round 2 ===\n    A-&gt;&gt;A: Thought: \u8a55\u4f30\u7d50\u679c 1\n    A-&gt;&gt;T: Action: \u547c\u53eb\u5de5\u5177 2\n    T-&gt;&gt;A: Observation: \u7d50\u679c 2\n\n    Note over A: === Round 3 ===\n    A-&gt;&gt;A: Thought: \u6574\u5408\u6240\u6709\u7d50\u679c\n    A-&gt;&gt;A: Action: Final Answer\n\n    A-&gt;&gt;U: \u63d0\u4f9b\u5b8c\u6574\u7b54\u6848</code></pre>"},{"location":"react-pattern/02-react-components/#_11","title":"\u57f7\u884c\u6642\u5e8f\u8aaa\u660e","text":""},{"location":"react-pattern/02-react-components/#1_7","title":"\u968e\u6bb5 1: \u521d\u59cb\u5316","text":"Text Only<pre><code>\u6642\u9593\u9ede 0: \u4f7f\u7528\u8005\u63d0\u51fa\u554f\u984c\n         \u2193\n\u6642\u9593\u9ede 1: Agent \u63a5\u6536\u554f\u984c,\u9032\u5165 Round 1\n</code></pre>"},{"location":"react-pattern/02-react-components/#2-round-1-","title":"\u968e\u6bb5 2: Round 1 - \u9996\u6b21\u63a8\u7406","text":"Text Only<pre><code>\u6642\u9593\u9ede 2: Thought 1 - \u5206\u6790\u554f\u984c\n         \"\u6211\u9700\u8981\u5148\u67e5\u8a62 X \u8cc7\u8a0a\"\n         \u2193\n\u6642\u9593\u9ede 3: Action 1 - \u57f7\u884c\u5de5\u5177\n         \u547c\u53eb tool_X\n         \u2193\n\u6642\u9593\u9ede 4: Observation 1 - \u63a5\u6536\u7d50\u679c\n         \u53d6\u5f97 result_X\n</code></pre>"},{"location":"react-pattern/02-react-components/#3-round-2-","title":"\u968e\u6bb5 3: Round 2 - \u6df1\u5165\u63a8\u7406","text":"Text Only<pre><code>\u6642\u9593\u9ede 5: Thought 2 - \u8a55\u4f30\u7d50\u679c\n         \"\u6211\u9084\u9700\u8981 Y \u8cc7\u8a0a\u4f86\u5b8c\u6574\u56de\u7b54\"\n         \u2193\n\u6642\u9593\u9ede 6: Action 2 - \u518d\u6b21\u57f7\u884c\n         \u547c\u53eb tool_Y\n         \u2193\n\u6642\u9593\u9ede 7: Observation 2 - \u63a5\u6536\u7d50\u679c\n         \u53d6\u5f97 result_Y\n</code></pre>"},{"location":"react-pattern/02-react-components/#4-round-3-","title":"\u968e\u6bb5 4: Round 3 - \u6700\u7d42\u6574\u5408","text":"Text Only<pre><code>\u6642\u9593\u9ede 8: Thought 3 - \u6574\u5408\u6240\u6709\u7d50\u679c\n         \"\u6211\u73fe\u5728\u6709\u5b8c\u6574\u8cc7\u8a0a\u4e86\"\n         \u2193\n\u6642\u9593\u9ede 9: Action 3 - \u63d0\u4f9b\u7b54\u6848\n         Final Answer\n         \u2193\n\u6642\u9593\u9ede 10: \u4f7f\u7528\u8005\u6536\u5230\u7b54\u6848\n</code></pre>"},{"location":"react-pattern/02-react-components/#_12","title":"\u5b8c\u6574\u7bc4\u4f8b:\u591a\u6b65\u9a5f\u554f\u984c","text":""},{"location":"react-pattern/02-react-components/#_13","title":"\u554f\u984c","text":"<p>\"\u6bd4\u8f03\u53f0\u5317\u548c\u9ad8\u96c4\u4eca\u5929\u7684\u5929\u6c23,\u63a8\u85a6\u54ea\u500b\u57ce\u5e02\u9069\u5408\u6236\u5916\u6d3b\u52d5?\"</p>"},{"location":"react-pattern/02-react-components/#_14","title":"\u5b8c\u6574\u57f7\u884c\u904e\u7a0b","text":"Text Only<pre><code>===============================\n=== Round 1: \u67e5\u8a62\u53f0\u5317\u5929\u6c23 ===\n===============================\n\nThought:\n\u4f7f\u7528\u8005\u60f3\u6bd4\u8f03\u53f0\u5317\u548c\u9ad8\u96c4\u7684\u5929\u6c23,\u6211\u9700\u8981\u5206\u5225\u67e5\u8a62\u5169\u500b\u57ce\u5e02\u7684\u5929\u6c23\u8cc7\u8a0a\u3002\n\u9996\u5148\u67e5\u8a62\u53f0\u5317\u7684\u5929\u6c23\u3002\n\nAction: weather_search\nAction Input: {\n    \"location\": \"\u53f0\u5317\",\n    \"date\": \"today\"\n}\n\nObservation: {\n    \"location\": \"\u53f0\u5317\",\n    \"temperature\": 28,\n    \"weather\": \"\u6674\u5929\",\n    \"rainfall_probability\": 10,\n    \"humidity\": 65,\n    \"wind_speed\": 12,\n    \"uv_index\": 7\n}\n\n===============================\n=== Round 2: \u67e5\u8a62\u9ad8\u96c4\u5929\u6c23 ===\n===============================\n\nThought:\n\u6211\u5df2\u7d93\u53d6\u5f97\u53f0\u5317\u7684\u5929\u6c23\u8cc7\u8a0a(\u6674\u5929,28\u00b0C),\u73fe\u5728\u9700\u8981\u67e5\u8a62\u9ad8\u96c4\u7684\u5929\u6c23\u9032\u884c\u6bd4\u8f03\u3002\n\nAction: weather_search\nAction Input: {\n    \"location\": \"\u9ad8\u96c4\",\n    \"date\": \"today\"\n}\n\nObservation: {\n    \"location\": \"\u9ad8\u96c4\",\n    \"temperature\": 32,\n    \"weather\": \"\u591a\u96f2\",\n    \"rainfall_probability\": 30,\n    \"humidity\": 75,\n    \"wind_speed\": 8,\n    \"uv_index\": 8\n}\n\n===============================\n=== Round 3: \u67e5\u8a62\u7a7a\u6c23\u54c1\u8cea ===\n===============================\n\nThought:\n\u6211\u5df2\u7d93\u53d6\u5f97\u5169\u500b\u57ce\u5e02\u7684\u5929\u6c23\u8cc7\u8a0a:\n- \u53f0\u5317: \u6674\u5929,28\u00b0C,\u964d\u96e8\u6a5f\u7387 10%\n- \u9ad8\u96c4: \u591a\u96f2,32\u00b0C,\u964d\u96e8\u6a5f\u7387 30%\n\n\u70ba\u4e86\u66f4\u5b8c\u6574\u7684\u5efa\u8b70,\u6211\u9084\u9700\u8981\u67e5\u8a62\u5169\u500b\u57ce\u5e02\u7684\u7a7a\u6c23\u54c1\u8cea\u3002\n\nAction: air_quality_search\nAction Input: {\n    \"locations\": [\"\u53f0\u5317\", \"\u9ad8\u96c4\"]\n}\n\nObservation: {\n    \"\u53f0\u5317\": {\n        \"aqi\": 45,\n        \"level\": \"\u826f\u597d\",\n        \"pm2.5\": 18\n    },\n    \"\u9ad8\u96c4\": {\n        \"aqi\": 68,\n        \"level\": \"\u666e\u901a\",\n        \"pm2.5\": 35\n    }\n}\n\n====================================\n=== Round 4: \u6574\u5408\u8cc7\u8a0a\u4e26\u63d0\u4f9b\u5efa\u8b70 ===\n====================================\n\nThought:\n\u6211\u73fe\u5728\u6709\u5b8c\u6574\u7684\u6bd4\u8f03\u8cc7\u8a0a\u4e86:\n\n\u53f0\u5317:\n- \u5929\u6c23: \u6674\u5929\n- \u6eab\u5ea6: 28\u00b0C (\u8212\u9069)\n- \u964d\u96e8\u6a5f\u7387: 10% (\u4f4e)\n- \u7a7a\u6c23\u54c1\u8cea: AQI 45 (\u826f\u597d)\n- \u512a\u52e2: \u5929\u6c23\u66f4\u597d,\u7a7a\u6c23\u54c1\u8cea\u4f73,\u6eab\u5ea6\u8212\u9069\n\n\u9ad8\u96c4:\n- \u5929\u6c23: \u591a\u96f2\n- \u6eab\u5ea6: 32\u00b0C (\u8f03\u71b1)\n- \u964d\u96e8\u6a5f\u7387: 30% (\u8f03\u9ad8)\n- \u7a7a\u6c23\u54c1\u8cea: AQI 68 (\u666e\u901a)\n- \u52a3\u52e2: \u8f03\u71b1,\u53ef\u80fd\u4e0b\u96e8,\u7a7a\u6c23\u54c1\u8cea\u4e00\u822c\n\n\u7d9c\u5408\u8a55\u4f30,\u53f0\u5317\u66f4\u9069\u5408\u6236\u5916\u6d3b\u52d5\u3002\n\nAction: Final Answer\n\nFinal Answer:\n\ud83d\udcca \u53f0\u5317 vs \u9ad8\u96c4\u5929\u6c23\u6bd4\u8f03:\n\n\ud83c\udfd9\ufe0f \u53f0\u5317 (\u63a8\u85a6 \u2b50\u2b50\u2b50\u2b50\u2b50)\n  \u2600\ufe0f \u5929\u6c23: \u6674\u5929\n  \ud83c\udf21\ufe0f \u6eab\u5ea6: 28\u00b0C (\u8212\u9069\u5b9c\u4eba)\n  \ud83d\udca7 \u964d\u96e8\u6a5f\u7387: 10% (\u5e7e\u4e4e\u4e0d\u6703\u4e0b\u96e8)\n  \ud83c\udf2c\ufe0f \u7a7a\u6c23\u54c1\u8cea: \u826f\u597d (AQI 45)\n\n\ud83c\udfd9\ufe0f \u9ad8\u96c4 (\u2b50\u2b50\u2b50)\n  \u2601\ufe0f \u5929\u6c23: \u591a\u96f2\n  \ud83c\udf21\ufe0f \u6eab\u5ea6: 32\u00b0C (\u8f03\u708e\u71b1)\n  \ud83d\udca7 \u964d\u96e8\u6a5f\u7387: 30% (\u6709\u4e0b\u96e8\u53ef\u80fd)\n  \ud83c\udf2c\ufe0f \u7a7a\u6c23\u54c1\u8cea: \u666e\u901a (AQI 68)\n\n\ud83c\udfaf \u5efa\u8b70: \u53f0\u5317\u66f4\u9069\u5408\u6236\u5916\u6d3b\u52d5!\n\u539f\u56e0:\n1. \u5929\u6c23\u6674\u6717,\u80fd\u898b\u5ea6\u597d\n2. \u6eab\u5ea6\u66f4\u8212\u9069 (28\u00b0C vs 32\u00b0C)\n3. \u964d\u96e8\u98a8\u96aa\u4f4e (10% vs 30%)\n4. \u7a7a\u6c23\u54c1\u8cea\u66f4\u597d (45 vs 68)\n\n\u5982\u679c\u60a8\u5728\u53f0\u5317,\u73fe\u5728\u662f\u7d55\u4f73\u7684\u6236\u5916\u6d3b\u52d5\u6642\u6a5f!\n\u8a18\u5f97\u505a\u597d\u9632\u66ec\u63aa\u65bd(UV\u6307\u6578 7)\u3002\n</code></pre>"},{"location":"react-pattern/02-react-components/#_15","title":"\u57f7\u884c\u5206\u6790\u8868","text":"\u8f2a\u6b21 Thought \u91cd\u9ede Action Observation \u91cd\u9ede \u7372\u5f97\u8cc7\u8a0a 1 \u9700\u8981\u53f0\u5317\u5929\u6c23 weather_search(\"\u53f0\u5317\") \u6674\u5929,28\u00b0C,10%\u964d\u96e8 \u53f0\u5317\u57fa\u672c\u5929\u6c23 2 \u9700\u8981\u9ad8\u96c4\u5929\u6c23 weather_search(\"\u9ad8\u96c4\") \u591a\u96f2,32\u00b0C,30%\u964d\u96e8 \u9ad8\u96c4\u57fa\u672c\u5929\u6c23 3 \u9700\u8981\u7a7a\u6c23\u54c1\u8cea air_quality_search \u53f0\u5317 45, \u9ad8\u96c4 68 \u7a7a\u6c23\u54c1\u8cea\u5c0d\u6bd4 4 \u8cc7\u8a0a\u5b8c\u6574,\u53ef\u6bd4\u8f03 Final Answer - \u63d0\u4f9b\u5efa\u8b70"},{"location":"react-pattern/02-react-components/#_16","title":"\u8a2d\u8a08\u539f\u5247","text":""},{"location":"react-pattern/02-react-components/#thought_5","title":"Thought \u8a2d\u8a08\u539f\u5247","text":""},{"location":"react-pattern/02-react-components/#1_8","title":"1. \u6e05\u6670\u660e\u78ba","text":"Text Only<pre><code>\u2705 Thought: \u6211\u9700\u8981\u67e5\u8a62\u53f0\u5317\u7684\u5929\u6c23,\u4f7f\u7528 weather_api \u5de5\u5177,\n           \u53c3\u6578\u8a2d\u5b9a\u70ba location=\"\u53f0\u5317\", date=\"today\"\n\n\u274c Thought: \u67e5\u5929\u6c23\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_7","title":"2. \u908f\u8f2f\u9023\u8cab","text":"Text Only<pre><code>\u2705 Thought: \u56e0\u70ba\u4f7f\u7528\u8005\u8a62\u554f\u300c\u4eca\u5929\u300d\u7684\u5929\u6c23,\u6240\u4ee5\u6211\u61c9\u8a72\u4f7f\u7528\n           \u5373\u6642\u5929\u6c23 API \u800c\u975e\u6b77\u53f2\u5929\u6c23\u8cc7\u6599\n\n\u274c Thought: \u7528\u5929\u6c23 API\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_7","title":"3. \u524d\u77bb\u898f\u5283","text":"Text Only<pre><code>\u2705 Thought: \u6211\u5c07\u5148\u67e5\u8a62\u5929\u6c23,\u5982\u679c\u5929\u6c23\u826f\u597d,\u518d\u67e5\u8a62\u7a7a\u6c23\u54c1\u8cea,\n           \u6700\u5f8c\u63d0\u4f9b\u7d9c\u5408\u5efa\u8b70\n\n\u274c Thought: \u5148\u67e5\u5929\u6c23\u518d\u8aaa\n</code></pre>"},{"location":"react-pattern/02-react-components/#action_4","title":"Action \u8a2d\u8a08\u539f\u5247","text":""},{"location":"react-pattern/02-react-components/#1_9","title":"1. \u5177\u9ad4\u53ef\u57f7\u884c","text":"Text Only<pre><code>\u2705 Action: weather_search\n   Action Input: {\"location\": \"\u53f0\u5317\", \"date\": \"2024-03-15\"}\n\n\u274c Action: \u67e5\u8a62\n   Action Input: \"\u53f0\u5317\u5929\u6c23\"\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_8","title":"2. \u53c3\u6578\u5b8c\u6574","text":"Text Only<pre><code>\u2705 Action: send_email\n   Action Input: {\n       \"to\": \"user@example.com\",\n       \"subject\": \"\u901a\u77e5\",\n       \"body\": \"\u5167\u5bb9\"\n   }\n\n\u274c Action: send_email\n   Action Input: {\"to\": \"user@example.com\"}  # \u7f3a\u5c11 subject \u548c body\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_8","title":"3. \u683c\u5f0f\u6b63\u78ba","text":"Text Only<pre><code>\u2705 Action Input: {\"city\": \"\u53f0\u5317\", \"count\": 5}\n\n\u274c Action Input: city=\u53f0\u5317, count=5  # \u4e0d\u662f JSON \u683c\u5f0f\n</code></pre>"},{"location":"react-pattern/02-react-components/#observation_6","title":"Observation \u8a2d\u8a08\u539f\u5247","text":""},{"location":"react-pattern/02-react-components/#1_10","title":"1. \u7d50\u69cb\u5316\u8f38\u51fa","text":"Text Only<pre><code>\u2705 Observation: {\n       \"status\": \"success\",\n       \"temperature\": 28,\n       \"weather\": \"\u6674\u5929\"\n   }\n\n\u274c Observation: \u5929\u6c23\u9084\u4e0d\u932f,\u5927\u6982 28 \u5ea6\u5427\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_9","title":"2. \u5305\u542b\u932f\u8aa4\u8cc7\u8a0a","text":"Text Only<pre><code>\u2705 Observation: {\n       \"status\": \"error\",\n       \"error_code\": \"INVALID_LOCATION\",\n       \"message\": \"\u57ce\u5e02\u540d\u7a31\u7121\u6548\"\n   }\n\n\u274c Observation: \u932f\u8aa4\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_9","title":"3. \u63d0\u4f9b\u5143\u8cc7\u8a0a","text":"Text Only<pre><code>\u2705 Observation: {\n       \"data\": {...},\n       \"metadata\": {\n           \"timestamp\": \"2024-03-15T10:00:00\",\n           \"source\": \"weather_api_v2\",\n           \"cache_hit\": false\n       }\n   }\n</code></pre>"},{"location":"react-pattern/02-react-components/#_17","title":"\u5e38\u898b\u932f\u8aa4\u6a21\u5f0f","text":""},{"location":"react-pattern/02-react-components/#1_11","title":"\u932f\u8aa4 1: \u601d\u8003\u4e0d\u5145\u5206\u5c31\u884c\u52d5","text":"Text Only<pre><code>\u274c \u932f\u8aa4\u7bc4\u4f8b:\n\n\u4f7f\u7528\u8005: \u53f0\u5317\u5929\u6c23\u5982\u4f55?\n\nThought: \u67e5\u5929\u6c23\nAction: weather_search\nAction Input: \"\u53f0\u5317\"  # \u53c3\u6578\u683c\u5f0f\u932f\u8aa4\n\nObservation: Error: Invalid input format\n</code></pre> <p>\u554f\u984c: \u6c92\u6709\u4ed4\u7d30\u601d\u8003\u53c3\u6578\u683c\u5f0f\u8981\u6c42</p> <p>\u6539\u9032: Text Only<pre><code>\u2705 \u6b63\u78ba\u7bc4\u4f8b:\n\nThought: \u6211\u9700\u8981\u67e5\u8a62\u53f0\u5317\u7684\u5929\u6c23,weather_search \u5de5\u5177\u9700\u8981\n        JSON \u683c\u5f0f\u7684\u53c3\u6578,\u5305\u542b location \u548c date\n\nAction: weather_search\nAction Input: {\"location\": \"\u53f0\u5317\", \"date\": \"today\"}\n\nObservation: {\"temperature\": 28, \"weather\": \"\u6674\u5929\"}\n</code></pre></p>"},{"location":"react-pattern/02-react-components/#2-observation","title":"\u932f\u8aa4 2: \u5ffd\u7565 Observation \u7684\u8cc7\u8a0a","text":"Text Only<pre><code>\u274c \u932f\u8aa4\u7bc4\u4f8b:\n\nRound 1:\nAction: weather_search\nObservation: Error: API rate limit exceeded\n\nRound 2:\nThought: \u7e7c\u7e8c\u67e5\u8a62\nAction: weather_search  # \u5b8c\u5168\u5ffd\u7565\u932f\u8aa4\nObservation: Error: API rate limit exceeded  # \u91cd\u8907\u932f\u8aa4\n</code></pre> <p>\u554f\u984c: \u6c92\u6709\u6839\u64da Observation \u8abf\u6574\u7b56\u7565</p> <p>\u6539\u9032: Text Only<pre><code>\u2705 \u6b63\u78ba\u7bc4\u4f8b:\n\nRound 1:\nAction: weather_search\nObservation: Error: API rate limit exceeded\n\nRound 2:\nThought: API \u9054\u5230\u901f\u7387\u9650\u5236,\u6211\u61c9\u8a72\u4f7f\u7528\u5099\u7528\u7684\u5929\u6c23\u8cc7\u6599\u6e90\nAction: backup_weather_search\nObservation: {\"temperature\": 28, \"weather\": \"\u6674\u5929\"}\n</code></pre></p>"},{"location":"react-pattern/02-react-components/#3-action","title":"\u932f\u8aa4 3: \u91cd\u8907\u7121\u6548\u7684 Action","text":"Text Only<pre><code>\u274c \u932f\u8aa4\u7bc4\u4f8b:\n\nRound 1-5: (\u5168\u90e8\u91cd\u8907\u76f8\u540c\u7684\u5931\u6557\u64cd\u4f5c)\nAction: invalid_tool\nObservation: Error: Tool not found\n</code></pre> <p>\u554f\u984c: \u6c92\u6709\u5b78\u7fd2\u548c\u8abf\u6574</p> <p>\u6539\u9032: Text Only<pre><code>\u2705 \u6b63\u78ba\u7bc4\u4f8b:\n\nRound 1:\nAction: invalid_tool\nObservation: Error: Tool not found\n\nRound 2:\nThought: \u9019\u500b\u5de5\u5177\u4e0d\u5b58\u5728,\u8b93\u6211\u6aa2\u67e5\u53ef\u7528\u5de5\u5177\u5217\u8868\nAction: list_available_tools\nObservation: [\"weather_search\", \"calculator\", \"database_query\"]\n\nRound 3:\nThought: \u6211\u61c9\u8a72\u4f7f\u7528 weather_search\nAction: weather_search\nObservation: Success\n</code></pre></p>"},{"location":"react-pattern/02-react-components/#4_4","title":"\u932f\u8aa4 4: \u7f3a\u4e4f\u7d42\u6b62\u908f\u8f2f","text":"Text Only<pre><code>\u274c \u932f\u8aa4\u7bc4\u4f8b:\n\nRound 1: \u67e5\u8a62\u5929\u6c23 \u2192 \u6210\u529f\nRound 2: \u518d\u67e5\u8a62\u5929\u6c23 \u2192 \u6210\u529f\nRound 3: \u53c8\u67e5\u8a62\u5929\u6c23 \u2192 \u6210\u529f\n... (\u7121\u9650\u5faa\u74b0)\n</code></pre> <p>\u554f\u984c: \u6c92\u6709\u5224\u65b7\u4f55\u6642\u8a72\u505c\u6b62</p> <p>\u6539\u9032: Text Only<pre><code>\u2705 \u6b63\u78ba\u7bc4\u4f8b:\n\nRound 1:\nThought: \u67e5\u8a62\u5929\u6c23\nAction: weather_search\nObservation: \u6210\u529f\u53d6\u5f97\u8cc7\u6599\n\nRound 2:\nThought: \u6211\u5df2\u7d93\u53d6\u5f97\u6240\u9700\u8cc7\u8a0a,\u53ef\u4ee5\u56de\u7b54\u4e86\nAction: Final Answer\nFinal Answer: \u53f0\u5317\u4eca\u5929\u6674\u5929,28\u00b0C\n</code></pre></p>"},{"location":"react-pattern/02-react-components/#_18","title":"\u7d44\u4ef6\u512a\u5316\u6280\u5de7","text":""},{"location":"react-pattern/02-react-components/#thought_6","title":"\u512a\u5316 Thought \u54c1\u8cea","text":""},{"location":"react-pattern/02-react-components/#1_12","title":"\u6280\u5de7 1: \u4f7f\u7528\u7d50\u69cb\u5316\u601d\u8003\u6846\u67b6","text":"Text Only<pre><code>Thought Template:\n1. \u7576\u524d\u72c0\u6cc1: [\u5df2\u77e5\u8cc7\u8a0a]\n2. \u76ee\u6a19: [\u8981\u9054\u6210\u4ec0\u9ebc]\n3. \u7f3a\u5c11\u8cc7\u8a0a: [\u9084\u9700\u8981\u4ec0\u9ebc]\n4. \u4e0b\u4e00\u6b65: [\u5177\u9ad4\u884c\u52d5]\n</code></pre> <p>\u7bc4\u4f8b: Text Only<pre><code>Thought:\n1. \u7576\u524d\u72c0\u6cc1: \u4f7f\u7528\u8005\u8a62\u554f\u53f0\u5317\u5929\u6c23\n2. \u76ee\u6a19: \u63d0\u4f9b\u6e96\u78ba\u7684\u5929\u6c23\u8cc7\u8a0a\n3. \u7f3a\u5c11\u8cc7\u8a0a: \u5373\u6642\u6eab\u5ea6\u3001\u5929\u6c23\u72c0\u6cc1\n4. \u4e0b\u4e00\u6b65: \u547c\u53eb weather_api \u67e5\u8a62\n</code></pre></p>"},{"location":"react-pattern/02-react-components/#2_10","title":"\u6280\u5de7 2: \u52a0\u5165\u63a8\u7406\u93c8","text":"Text Only<pre><code>Thought: \u56e0\u70ba [\u539f\u56e0A],\u6240\u4ee5 [\u7d50\u8ad6B],\n        \u56e0\u6b64\u6211\u61c9\u8a72 [\u884c\u52d5C]\n</code></pre> <p>\u7bc4\u4f8b: Text Only<pre><code>Thought: \u56e0\u70ba\u4f7f\u7528\u8005\u7279\u5225\u63d0\u5230\u300c\u4eca\u5929\u300d,\n        \u6240\u4ee5\u9700\u8981\u5373\u6642\u8cc7\u6599\u800c\u975e\u6b77\u53f2\u8cc7\u6599,\n        \u56e0\u6b64\u6211\u61c9\u8a72\u4f7f\u7528 realtime_weather_api \u800c\u975e historical_weather_api\n</code></pre></p>"},{"location":"react-pattern/02-react-components/#action_5","title":"\u512a\u5316 Action \u8a2d\u8a08","text":""},{"location":"react-pattern/02-react-components/#1_13","title":"\u6280\u5de7 1: \u53c3\u6578\u9a57\u8b49","text":"<p>\u5728 Action \u524d\u9a57\u8b49\u53c3\u6578:</p> Text Only<pre><code>Thought: \u5728\u547c\u53eb API \u524d,\u6211\u5148\u78ba\u8a8d\u53c3\u6578:\n        - location: \"\u53f0\u5317\" \u2713 (\u6709\u6548\u57ce\u5e02)\n        - date: \"today\" \u2713 (\u6709\u6548\u65e5\u671f)\n        - format: \"json\" \u2713 (\u652f\u63f4\u683c\u5f0f)\n        \u53c3\u6578\u90fd\u6b63\u78ba,\u53ef\u4ee5\u57f7\u884c\n\nAction: weather_search\nAction Input: {\"location\": \"\u53f0\u5317\", \"date\": \"today\", \"format\": \"json\"}\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_11","title":"\u6280\u5de7 2: \u932f\u8aa4\u9810\u9632","text":"Text Only<pre><code>Thought: \u6211\u5c07\u4f7f\u7528 try-catch \u6a21\u5f0f,\u5982\u679c\u4e3b\u8981 API \u5931\u6557,\n        \u6703\u81ea\u52d5\u5207\u63db\u5230\u5099\u7528 API\n\nAction: weather_search_with_fallback\nAction Input: {\n    \"primary\": {\"api\": \"main_weather\", \"location\": \"\u53f0\u5317\"},\n    \"fallback\": {\"api\": \"backup_weather\", \"location\": \"\u53f0\u5317\"}\n}\n</code></pre>"},{"location":"react-pattern/02-react-components/#observation_7","title":"\u512a\u5316 Observation \u8655\u7406","text":""},{"location":"react-pattern/02-react-components/#1_14","title":"\u6280\u5de7 1: \u7d50\u69cb\u5316\u89e3\u6790","text":"Text Only<pre><code>Observation: {\n    \"status\": \"success\",\n    \"data\": {\n        \"temperature\": 28,\n        \"weather\": \"\u6674\u5929\"\n    }\n}\n\nThought: \u89e3\u6790 Observation:\n        - \u72c0\u614b: success \u2713\n        - \u6eab\u5ea6: 28\u00b0C\n        - \u5929\u6c23: \u6674\u5929\n        \u8cc7\u8a0a\u5b8c\u6574,\u7b26\u5408\u9810\u671f\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_12","title":"\u6280\u5de7 2: \u932f\u8aa4\u5206\u985e\u8655\u7406","text":"Text Only<pre><code>Observation: {\n    \"status\": \"error\",\n    \"error_type\": \"RATE_LIMIT\",\n    \"retry_after\": 60\n}\n\nThought: \u932f\u8aa4\u985e\u578b\u5206\u6790:\n        - RATE_LIMIT: \u9700\u8981\u7b49\u5f85\n        - retry_after: 60 \u79d2\n        \u7b56\u7565: \u4f7f\u7528\u5feb\u53d6\u8cc7\u6599\u6216\u5099\u7528 API\n</code></pre>"},{"location":"react-pattern/02-react-components/#_19","title":"\u8a2d\u7f6e\u5faa\u74b0\u9650\u5236","text":""},{"location":"react-pattern/02-react-components/#1_15","title":"\u65b9\u6cd5 1: \u6700\u5927\u8fed\u4ee3\u6b21\u6578","text":"Python<pre><code>max_iterations = 5  # \u6700\u591a 5 \u8f2a\n\nif current_iteration &gt; max_iterations:\n    return \"\u9054\u5230\u6700\u5927\u8fed\u4ee3\u6b21\u6578,\u7d42\u6b62\u57f7\u884c\"\n</code></pre>"},{"location":"react-pattern/02-react-components/#2_13","title":"\u65b9\u6cd5 2: \u6642\u9593\u9650\u5236","text":"Python<pre><code>max_execution_time = 30  # 30 \u79d2\n\nif elapsed_time &gt; max_execution_time:\n    return \"\u57f7\u884c\u8d85\u6642,\u7d42\u6b62\u57f7\u884c\"\n</code></pre>"},{"location":"react-pattern/02-react-components/#3_10","title":"\u65b9\u6cd5 3: \u667a\u80fd\u7d42\u6b62","text":"Text Only<pre><code>Thought: \u6211\u5df2\u7d93\u5617\u8a66\u4e86 3 \u6b21,\u90fd\u5f97\u5230\u76f8\u540c\u7684\u932f\u8aa4,\n        \u7e7c\u7e8c\u5617\u8a66\u53ef\u80fd\u7121\u6548,\u61c9\u8a72\u5411\u4f7f\u7528\u8005\u8aaa\u660e\u60c5\u6cc1\n\nAction: Final Answer\nFinal Answer: \u5f88\u62b1\u6b49,\u76ee\u524d\u7121\u6cd5\u53d6\u5f97\u5929\u6c23\u8cc7\u8a0a,\n             \u8acb\u7a0d\u5f8c\u518d\u8a66\u6216\u806f\u7e6b\u6280\u8853\u652f\u63f4\n</code></pre>"},{"location":"react-pattern/02-react-components/#_20","title":"\u7d44\u4ef6\u7279\u6027\u7e3d\u7d50\u8868","text":""},{"location":"react-pattern/02-react-components/#thought_7","title":"Thought (\u601d\u8003)","text":"\u7279\u6027 \u8aaa\u660e \u7bc4\u4f8b \u8f38\u5165 \u4f7f\u7528\u8005\u554f\u984c + \u6b77\u53f2 Observations \"\u53f0\u5317\u5929\u6c23\u5982\u4f55?\" + \u5148\u524d\u7684\u7d50\u679c \u8f38\u51fa \u63a8\u7406\u904e\u7a0b\u7684\u6587\u5b57\u63cf\u8ff0 \"\u6211\u9700\u8981\u67e5\u8a62\u5373\u6642\u5929\u6c23\u8cc7\u8a0a\" \u76ee\u7684 \u5206\u6790\u3001\u898f\u5283\u3001\u6c7a\u7b56 \u6c7a\u5b9a\u4e0b\u4e00\u6b65\u8981\u505a\u4ec0\u9ebc \u8a55\u4f30\u6a19\u6e96 \u908f\u8f2f\u6e05\u6670\u3001\u8003\u616e\u5468\u5168 \u662f\u5426\u8003\u616e\u4e86\u6240\u6709\u53ef\u80fd\u6027"},{"location":"react-pattern/02-react-components/#action_6","title":"Action (\u884c\u52d5)","text":"\u7279\u6027 \u8aaa\u660e \u7bc4\u4f8b \u8f38\u5165 Thought \u7684\u6c7a\u7b56 \"\u4f7f\u7528 weather_api\" \u8f38\u51fa \u5de5\u5177\u540d\u7a31 + JSON \u53c3\u6578 <code>{\"location\": \"\u53f0\u5317\"}</code> \u76ee\u7684 \u57f7\u884c\u5177\u9ad4\u64cd\u4f5c \u5be6\u969b\u547c\u53eb API \u8a55\u4f30\u6a19\u6e96 \u53c3\u6578\u6b63\u78ba\u3001\u683c\u5f0f\u898f\u7bc4 JSON \u683c\u5f0f\u662f\u5426\u6b63\u78ba"},{"location":"react-pattern/02-react-components/#observation_8","title":"Observation (\u89c0\u5bdf)","text":"\u7279\u6027 \u8aaa\u660e \u7bc4\u4f8b \u8f38\u5165 Action \u7684\u57f7\u884c\u7d50\u679c API \u56de\u50b3\u7684\u8cc7\u6599 \u8f38\u51fa \u7d50\u69cb\u5316\u7684\u7d50\u679c\u8cc7\u6599 <code>{\"temp\": 28, \"weather\": \"\u6674\"}</code> \u76ee\u7684 \u63d0\u4f9b\u8cc7\u8a0a\u7d66\u4e0b\u4e00\u8f2a Thought \u8b93 AI \u77e5\u9053\u884c\u52d5\u7684\u7d50\u679c \u8a55\u4f30\u6a19\u6e96 \u8cc7\u8a0a\u5b8c\u6574\u3001\u683c\u5f0f\u6e05\u6670 \u662f\u5426\u5305\u542b\u6240\u6709\u5fc5\u8981\u8cc7\u8a0a"},{"location":"react-pattern/02-react-components/#_21","title":"\u91cd\u9ede\u6574\u7406","text":""},{"location":"react-pattern/02-react-components/#_22","title":"\u4e09\u5927\u7d44\u4ef6\u7684\u672c\u8cea","text":"<ul> <li>Thought: Agent \u7684\u300c\u5927\u8166\u300d,\u8ca0\u8cac**\u601d\u8003**</li> <li>Action: Agent \u7684\u300c\u624b\u300d,\u8ca0\u8cac**\u57f7\u884c**</li> <li>Observation: Agent \u7684\u300c\u773c\u775b\u300d,\u8ca0\u8cac**\u89c0\u5bdf**</li> </ul>"},{"location":"react-pattern/02-react-components/#_23","title":"\u8a2d\u8a08\u9ec3\u91d1\u6cd5\u5247","text":"<ol> <li>Thought \u8981\u8a73\u7d30: \u5145\u5206\u63a8\u7406,\u8aaa\u660e\u7406\u7531</li> <li>Action \u8981\u7cbe\u78ba: \u6b63\u78ba\u683c\u5f0f,\u5b8c\u6574\u53c3\u6578</li> <li>Observation \u8981\u7d50\u69cb\u5316: \u6e05\u6670\u8cc7\u8a0a,\u6613\u65bc\u89e3\u6790</li> </ol>"},{"location":"react-pattern/02-react-components/#_24","title":"\u5e38\u898b\u9677\u9631","text":"<ul> <li>\u274c Thought \u592a\u7c21\u77ed</li> <li>\u274c Action \u53c3\u6578\u932f\u8aa4</li> <li>\u274c \u5ffd\u7565 Observation</li> <li>\u274c \u7121\u9650\u5faa\u74b0</li> </ul>"},{"location":"react-pattern/02-react-components/#_25","title":"\u512a\u5316\u65b9\u5411","text":"<ul> <li>\u2705 \u4f7f\u7528\u601d\u8003\u6846\u67b6</li> <li>\u2705 \u53c3\u6578\u9a57\u8b49\u6a5f\u5236</li> <li>\u2705 \u932f\u8aa4\u5206\u985e\u8655\u7406</li> <li>\u2705 \u8a2d\u5b9a\u5faa\u74b0\u9650\u5236</li> </ul>"},{"location":"react-pattern/02-react-components/#_26","title":"\u4e0b\u4e00\u6b65","text":"<p>\u73fe\u5728\u4f60\u5df2\u7d93\u6df1\u5165\u7406\u89e3 ReAct \u7684\u4e09\u5927\u6838\u5fc3\u7d44\u4ef6,\u63a5\u4e0b\u4f86\u6211\u5011\u5c07\u5b78\u7fd2\u5982\u4f55\u8a2d\u8a08\u9ad8\u54c1\u8cea\u7684 ReAct Prompt:</p> <p>\ud83d\udc49 03. Prompt Engineering</p> <p>\u5728\u4e0b\u4e00\u7bc7\u4e2d,\u4f60\u5c07\u5b78\u5230: - ReAct Prompt \u7684\u7d50\u69cb\u8a2d\u8a08 - \u5982\u4f55\u5f15\u5c0e\u6a21\u578b\u6b63\u78ba\u601d\u8003 - \u5e38\u7528\u7684 Prompt \u6a21\u677f - Prompt \u512a\u5316\u6280\u5de7</p> <p>\ud83d\udca1 \u5be6\u8e10\u5efa\u8b70: \u8a66\u8457\u5728\u7d19\u4e0a\u756b\u51fa\u4e00\u500b\u554f\u984c\u7684 Thought \u2192 Action \u2192 Observation \u6d41\u7a0b\u5716,\u9019\u6703\u5e6b\u52a9\u4f60\u66f4\u6df1\u5165\u7406\u89e3\u4e09\u8005\u7684\u4e92\u52d5\u95dc\u4fc2!</p>"}]}